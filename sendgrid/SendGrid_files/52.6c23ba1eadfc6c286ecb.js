(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[52],{"./src/analytics/login/events.ts":
/*!***************************************************!*\
  !*** ./src/analytics/login/events.ts + 1 modules ***!
  \***************************************************/
/*! exports provided: AnalyticsEvents */
/*! all exports used */function(e,n,s){"use strict";s.r(n);var a;(function(e){e["Login"]="login"})(a||(a={}));var o;(function(e){e["Login"]="login"})(o||(o={}));s.d(n,"AnalyticsEvents",function(){return r});var r={invalidUserPass:{event:"invalid username or password entered",properties:{page:a.Login,section:o.Login}}}},"./src/routes/login.js":
/*!*****************************!*\
  !*** ./src/routes/login.js ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,n,s){var a=s(/*! ../views/login_view */"./src/views/login_view.js");var o=s(/*! qs */"./node_modules/qs/index.js");var r=s(/*! apiconfig */"apiconfig");e.exports=function e(n){var s=n.authController,i=n.region,t=n.queryParams;if(s.checkAuthToken()){parent.location.href=r.mako_host;return}var l=o.parse(t);var d=new a({auth:s,reset_password_success:"success"===l.reset_password});i.show(d)}},"./src/templates/login.hbs":
/*!*********************************!*\
  !*** ./src/templates/login.hbs ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,n,s){var a=s(/*! ./node_modules/handlebars/runtime.js */"./node_modules/handlebars/runtime.js");function o(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(a["default"]||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,a,o,r){var i,t=e.lambda,l=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];return};return'<div data-role="login-error-alert-container" class="hidden alert alert-danger">\n  <p>\n    <i class="sg-icon sg-icon-warning"></i>\n    Your login was unsuccessful, please review the errors below.\n  </p>\n</div>\n\n<div data-role="login-success-alert-container" class="hidden alert alert-success">\n  <p>\n    <i class="sg-icon sg-icon-check-circle"></i>\n    Your password was successfully changed. Please log in.\n  </p>\n</div>\n\n<div class="login-container">\n  <div data-role="login-modals" class="login-modals hidden">\n    <div class="login-modal">\n      <div class="login-modal-table">\n        <div class="login-modal-table-row">\n          <div class="login-modal-body">\n            <div class="login-logo">\n              <img src="'+l(t(null!=n?d(n,"SGLogo"):n,n))+'" alt="'+l(t(null!=n?d(n,"LogoAlt"):n,n))+'"/>\n            </div>\n\n            <form data-role="login-form" class="login-form">\n\n              <div data-role="login-form-error-container" class="hidden login-form-errors">\n                <div class="row">\n                  <div class="col-8 col-start-3">\n                    <span class="login-form-error" data-role="login-form-error-text"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-8 col-start-3">\n'+(null!=(i=e.invokePartial(s(/*! ./src/templates/partials/input.hbs */"./src/templates/partials/input.hbs"),n,{name:"input",hash:{is_full_width:"true",autofocus:"true",label:"Username",container_role:"usernameContainer"},data:r,indent:"                  ",helpers:a,partials:o,decorators:e.decorators}))?i:"")+'                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-8 col-start-3">\n'+(null!=(i=e.invokePartial(s(/*! ./src/templates/partials/input.hbs */"./src/templates/partials/input.hbs"),n,{name:"input",hash:{container_style:"margin-bottom: 0",is_full_width:"true",input_type:"password",label:"Password",container_role:"passwordContainer"},data:r,indent:"                  ",helpers:a,partials:o,decorators:e.decorators}))?i:"")+'                </div>\n              </div>\n              <div class="row login-password-options">\n                <div class="col-10">\n                  <a class="login-link" href="#forgot_password">Forgot your password?</a>\n                </div>\n              </div>\n\n              <div class="login-btn">\n                <button data-role="login-btn" class="btn btn-primary" type="submit">\n                  Log In\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div class="login-modal-table-row">\n          <div class="login-modal-footer" data-role="pricing-container">\n            Don\'t have a Twilio SendGrid account?\n            <a href="'+l(t(null!=n?d(n,"signup_url"):n,n))+'">Sign up now!</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div data-role="login-ad-modal" class="login-ad-modal">\n      <iframe data-role="login-ad-iframe"></iframe>\n    </div>\n  </div>\n</div>\n'},usePartial:true,useData:true})},"./src/views/login_view.js":
/*!*********************************!*\
  !*** ./src/views/login_view.js ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,n,s){var a=s(/*! backbone.marionette */"./node_modules/backbone.marionette/lib/core/backbone.marionette.js");var o=s(/*! jquery */"./node_modules/jquery/dist/jquery.js");var r=s(/*! underscore */"./node_modules/underscore/underscore.js");var i=s(/*! @sendgrid/bloodhound */"./node_modules/@sendgrid/bloodhound/dist/index.es.js").analytics;var t=s(/*! ../analytics/login/events */"./src/analytics/login/events.ts").AnalyticsEvents;var l=s(/*! ../helpers/dom_events */"./src/helpers/dom_events.js");var d=s(/*! apiconfig */"apiconfig");var c=s(/*! ../constants */"./src/constants.ts");e.exports=a.ItemView.extend({template:s(/*! templates/login.hbs */"./src/templates/login.hbs"),tagName:"main",className:"login",events:{"submit @ui.loginForm":"onLogin"},ui:{modals:"[data-role=login-modals]",adPanelModal:"[data-role=login-ad-modal]",adPanelIframe:"[data-role=login-ad-iframe]",loginForm:"[data-role=login-form]",username:"[role=usernameContainer] input",password:"[role=passwordContainer] input",loginBtn:"[data-role=login-btn]",alertErrorContainer:"[data-role=login-error-alert-container]",alertSuccessContainer:"[data-role=login-success-alert-container]",formErrorContainer:"[data-role=login-form-error-container]",formErrorText:"[data-role=login-form-error-text]"},onShow:function(){setTimeout(l.checkInputFields,1e3);setTimeout(l.checkInputFields,2e3);setTimeout(l.checkInputFields,3e3);this.attemptToRenderAdPanel();this.getOption("reset_password_success")&&this.ui.alertSuccessContainer.removeClass("hidden")},serializeData:function(){return{signup_url:d.sendgrid_com+"/pricing",SGLogo:c.TWILIO_SENDGRID_LOGO,LogoAlt:c.LOGO_ALT}},attemptToRenderAdPanel:function(){var e=this;var n=false;window.loadAdPanel=function(s){if(!n){"success"===s.success&&s.body&&s.body.length>0?e.insertHtmlIntoAdModal(s.body):e.ui.adPanelModal.addClass("hidden");e.ui.modals.removeClass("hidden");n=true}};o.getScript("https://sendgrid.com/shares/login/?string&callback=loadAdPanel");setTimeout(function(){if(!n){e.ui.adPanelModal.addClass("hidden");e.ui.modals.removeClass("hidden");n=true}},1e3)},insertHtmlIntoAdModal:function(e){this.ui.adPanelIframe.contents().find("body").html(e)},onLogin:function(e){e.preventDefault();this.ui.loginBtn.text("Loading...").addClass("is-disabled");this.getOption("auth").authenticate(this.ui.username.val(),this.ui.password.val()).fail(r.bind(this.showError,this))},showError:function(e){this.$("[role=password]").val("");this.ui.loginBtn.text("Log In").removeClass("is-disabled");var n="Your username or password is invalid.";var s=n;if(500===e.status)s="Our system is currently offline. Please try again in a few minutes.";else if(406===e.status||429===e.status||0===e.status)s="You have exceeded the maximum number of login attempts. Please try again later.";else if(403===e.status){s='You are not authorized to access SendGrid, please contact <a href="https://support.sendgrid.com">Support</a>.';if(e.responseJSON.errors&&e.responseJSON.errors.length>0){var a=e.responseJSON.errors[0];"exceeds max number of login attempts"===a.message?s="You have exceeded the maximum number of login attempts. Please try again later.":"http://send.gd/1PemvHz"===a.help&&(s='Your IP address is not whitelisted. See <a target="_blank" href="http://send.gd/1PemvHz">http://send.gd/1PemvHz</a> for more details.')}}this.ui.formErrorText.html(s);this.ui.formErrorContainer.removeClass("hidden");this.ui.alertErrorContainer.removeClass("hidden");this.ui.alertSuccessContainer.addClass("hidden");s===n&&i.track(t.invalidUserPass)}})}}]);
//# sourceMappingURL=52.6c23ba1eadfc6c286ecb.js.map