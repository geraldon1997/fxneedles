!function(e){function t(t){for(var a,o,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)o=r[u],i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={1:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([7,0]),n()}([,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.CommonModule=a.module("ds.common",["ds.olive","lodash","moment"]),t.GUID_EMPTY="00000000-0000-0000-0000-000000000000",t.PAGE_SIZE=50,t.BLANK_PAGE={startPosition:-1,endPosition:-1,resultSetSize:0,totalSetSize:0,previousUri:void 0,nextUri:void 0},t.FIRST_PAGE={count:t.PAGE_SIZE,start_position:0},t.SITE={1:"NA1",2:"NA2",3:"NA3",4:"EU",5:"AU",6:"CA"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.OrganizationModule=a.module("radmin.Organization",[]),t.EXPORT_TYPE={users:{key:"organization_memberships_export",name:"Users and Memberships DS_CONTEXT=(export)",description:"Export a CSV of user and membership data for all accounts within your organization."},domainUsers:{key:"organization_domain_users_export",name:"Domain Users DS_CONTEXT=(export)",description:"Export a CSV of domain users and their profile details, including default account and security settings."},externalUsers:{key:"organization_external_memberships_export",name:"External Domain Users DS_CONTEXT=(export)",description:"Export a CSV of domain user memberships in external accounts."},accountSettings:{key:"organization_account_settings_export",name:"Account Settings DS_CONTEXT=(export)",description:"Export a CSV of account settings for the accounts in your organization."}},t.AUTHENTICATED_STATE={Organization:{Main:"authenticated.organization-main",Dashboard:"authenticated.organization-dashboard",Users:"authenticated.organization-manage-users"},Account:{Admin:"authenticated.account-admin"}},t.STATUS_DISPLAY_NAMES={UNKNOWN:"Unknown DS_CONTEXT=(status)",PROCESSING:"In Progress",COMPLETED:{PROCESSED_WITH_ERROR_PLURAL:"Processed with errors",PROCESSED_WITH_ERROR_SINGULAR:"Processed with an error",PROCESSED_SUCCESS:"Processed successfully"},FAILED:"Failed"},t.BULK_ACTIVITY_STATUS={QUEUED:"queued",IN_PROGRESS:"in_process",COMPLETED:"completed",FAILED:"failed",PROCESSED_WITH_ERRORS:"processed_with_errors"},t.TILE_KEYS={ORG_BULK_ACTION:"org_bulkaction"},t.BULK_ACTION_NOTIFICATION="Visit the [[linkStart]]Bulk Actions[[linkEnd]] section to download user data in CSV format.",t.ORGANIZATION_ADMIN_GUID_LINK="https://support.docusign.com/en/guides/org-admin-guide-bulk-actions"},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),i=n(2),s=n(279),o=n(0);i.module("templates",[]),i.module("radmin.Configuration",[]).constant("configuration",JSON.parse(window.ANGULAR_APPLICATION_CONFIG)),t.RADminControllers=i.module("radmin.controllers",[]);var r=n(278),l=n(84),c=n(82),d=n(109),u=n(83),p=n(4);t.RADMIN_LIMITED_VIEW="_ltdvw_";var m=window.OLIVE_ANGULAR_URL,g=window.OLIVE_MIGRATE_URL,h=window.COOKIE_WRAPPER_SCRIPT,f=window.BOARD_JS_SCRIPT,v=window.COOKIE_HOSTNAME_STRING;s([m,g,h,f],function(){!function(e){e.keys().forEach(function(t){return e(t)})}(n(1204)),i.module("radmin",["accounting","angular translate customizations","angularFileUpload","ds.common","ds.olive","dsi18nlayer","DocuSign.AccountServer.Api","DocuSign API","lodash","moment","ngCookies","ngFileSaver","ngSanitize","ngStorage","pascalprecht.translate","naif.base64","radmin.Api","radmin.ApiConversion","radmin.APIIntegratorKey","radmin.AppliancePool","radmin.AuditLog","radmin.Authentication","radmin.Authorization","radmin.BillingAndUsage","radmin.Brands","radmin.BulkActions","radmin.ClassicPreferences","radmin.Configuration","radmin.Connect","radmin.CustodyTransfer","radmin.CustomFields","radmin.Comments","radmin.DocumentLabels","radmin.DocumentSending","radmin.DocumentSigning","radmin.Domains","radmin.EmailArchiveConfiguration","radmin.EmailPreferences","radmin.Envelopes","radmin.ExternalIntegration","radmin.Groups","radmin.IdentityProviders","radmin.ErrorLogger","radmin.SecurityLogger","radmin.Navigation","radmin.Organization","radmin.Payments","radmin.LimitedCanvas","radmin.Roles","radmin.SecuritySettings","radmin.Mapping","radmin.SigningGroups","radmin.Users","radmin.ENoteConfiguration","radmin.Templates","radmin.SystemUpdates","radmin.Stamps","templates","ui.router","ui.sortable","uuid","radmin.controllers","httpInterceptors.SessionId","httpInterceptors.NetworkOffline","AppUserModule","UserPermissionsModule","SessionIdleTimerModule","DestinationsModule"]).config(["$compileProvider","configuration",function(e,t){e.debugInfoEnabled(t.debugInfoEnabled)}]).config(["$httpProvider",function(e){e.interceptors.push("SessionIdInterceptor"),e.interceptors.push("NetworkOfflineInterceptor"),e.interceptors.push("ApiConversionInterceptor")}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","NavigationServiceProvider",function(e,t,n,a){var i=l.ROLE_FILTER_OPTION,s=l.GROUP_FILTER_OPTION,o=c.SENDER_FILTER_OPTION,r=d.STATUS_FILTER_OPTION,m=d.ACCOUNT_FILTER_OPTION,g=d.DOMAIN_FILTER_OPTION,h=u.OWNER_FILTER_OPTION;e.state("login",{title:"Login",abstract:!0,templateUrl:"site/templates/empty-parent.html"}).state("login.account server token",{title:"DocuSign",url:"/dsAccountServerAuth?code&state&error&error_description",templateUrl:"login/loading.html",controller:"AccountServerTokenLoginController"}).state("login.production-account-server-token",{title:"DocuSign",url:"/dsProdAccountServerAuth?code&state&error&error_description",templateUrl:"login/loading.html",controller:"ProductionAccountServerTokenLoginController"}).state("login.transfer token",{title:"DocuSign",url:"/dsAuth?t&goTo&returnText&returnUri",templateUrl:"login/loading.html",controller:"TransferTokenLoginController"}).state("login.no accounts available",{title:"DocuSign",url:"/no-accounts-available",templateUrl:"login/no-accounts-available.html"}).state("logout",{title:"Logout",url:"/logout",templateUrl:"login/loading.html",controller:"LogoutController"}).state("requesting authentication",{title:"DocuSign",templateUrl:"login/loading.html",controller:"AuthenticationRequest"}).state("authenticated",{url:"",templateUrl:"site/templates/home.html"}).state("authenticated.account-admin",{url:"",templateUrl:"site/templates/home.html"}).state("authenticated.account-profile",{url:"/account-profile",title:"Account Profile | DocuSign",templateUrl:"account-profile/account-profile.html",requiresPermission:"canManageAccountSettings",helpLink:"account-profile"}).state("authenticated.add-box-configuration",{title:"Connect | DocuSign",url:"/connect/add-box",templateUrl:"connect/cloud-storage/cloud-storage-configuration.html",requiresPermission:"isSuperAdmin",data:{configurationType:"box.net",configurationTitle:"Box Configuration Settings"},helpLink:"connect"}).state("authenticated.add-custom-configuration",{title:"Connect | DocuSign",url:"/connect/add-custom",templateUrl:"connect/add-custom-configuration.html",requiresPermission:"isSuperAdmin",helpLink:"connect"}).state("authenticated.add-eoriginal-configuration",{title:"Connect | DocuSign",url:"/connect/add-eoriginal",templateUrl:"connect/cloud-storage/e-original-configuration.html",requiresPermission:"isSuperAdmin",data:{configurationType:"eoriginal",configurationTitle:"eOriginal Configuration Settings"},helpLink:"connect"}).state("authenticated.add-onedrive-configuration",{title:"Connect | DocuSign",url:"/connect/add-onedrive",templateUrl:"connect/cloud-storage/cloud-storage-configuration.html",requiresPermission:"isSuperAdmin",data:{configurationType:"skydrive",configurationTitle:"OneDrive Configuration Settings"},helpLink:"connect"}).state("authenticated.api-integrator-key",{url:"/api-integrator-key",title:"API and Keys | DocuSign",templateUrl:"integrations/api-integrator-key/api-integrator-key.html",helpLink:"api-keys",requiresPermission:"canAccessApiAndKeys"}).state("authenticated.audit-log",{url:"/audit-log",title:"Audit Log | DocuSign",templateUrl:"audit-log/audit-log-list.html",requiresPermission:"canAccessAuditLog",helpLink:"audit-logs"}).state("authenticated.email-archive-configuration",{url:"/email-archive-configuration",title:"Email Archive Configuration | DocuSign",templateUrl:"email-archive-configuration/email-archive-configuration.html",requiresPermission:"canManageEmailArchiveConfiguration"}).state("authenticated.billing usage",{url:"/billing",title:"Billing and Usage | DocuSign",templateUrl:"billing-and-usage/billing-and-usage.html",requiresPermission:"canAccessBilling",helpLink:"billing-usage"}).state("authenticated.brands",{title:"Branding | DocuSign",url:"/brands",templateUrl:"branding/brand-list.html",requiresPermission:"canManageBranding",helpLink:"branding-admin"}).state("authenticated.brand-details",{title:"Branding | DocuSign",url:"/brands/:brandId",templateUrl:"branding/templates/branding.html",requiresPermission:"canManageBranding",helpLink:"branding-admin"}).state("authenticated.brand-advanced-settings",{title:"Branding | DocuSign",url:"/brands/:brandId/advanced-settings?sending",templateUrl:"branding/brand-advanced-settings.html",requiresPermission:"allowResourceFileBranding",helpLink:"branding-admin"}).state("authenticated.brand-links",{title:"Branding Links | DocuSign",url:"/brands/:brandId/links?isSendingBrand",templateUrl:"branding/brand-links.html",helpLink:"branding-admin"}).state("authenticated.branding-upsell",{title:"Branding | DocuSign",url:"/branding-upsell",templateUrl:"branding/templates/branding.html",requiresPermission:"canUpsellBranding"}).state("authenticated.bulk-actions",{title:"Bulk Actions | DocuSign",url:"/bulk-actions/:bulkType",templateUrl:"user management/bulk-actions/bulk-actions.html",requiresPermission:"canAccessBulkActions",helpLink:"bulk-actions"}).state("authenticated.classic-preferences",{title:"Classic Preferences | DocuSign",url:"/classic-preferences",templateUrl:"classic-preferences/classic-preferences.html",requiresPermission:"canAccessClassicPreferences"}).state("authenticated.cloud-redirect",{url:"/connect/cloud-redirect",templateUrl:"connect/cloud-storage/cloud-redirect.html"}).state("authenticated.connect",{title:"Connect | DocuSign",url:"/connect",templateUrl:"connect/connect-configuration-list.html",helpLink:"connect",requiresPermission:"envelopeIntegrationAllowed"}).state("authenticated.connect-failures",{title:"Connect Failures",url:"/connect-failures",templateUrl:"connect/connect-failures.html",requiresPermission:"isSuperAdmin",helpLink:"connect",specificClass:"full-screen"}).state("authenticated.connect-logs",{title:"Connect | DocuSign",url:"/connect-logs",templateUrl:"connect/connect-logs.html",requiresPermission:"isSuperAdmin",helpLink:"connect",specificClass:"full-screen"}).state("authenticated.connected-apps",{url:"/connected-apps",title:"Connected Apps | DocuSign",templateUrl:"connected-apps/connected-apps.html",requiresPermission:"canManageConnectedApps",helpLink:"connected-apps"}).state("authenticated.custom-field-details",{title:"Custom Fields | DocuSign",url:"/custom-fields/detail/:customFieldId",templateUrl:"custom-fields/custom-field-detail.html",requiresPermission:"canManageCustomFields",helpLink:"custom-fields-admin"}).state("authenticated.comments-settings",{title:"Comments | DocuSign",url:"/comments-settings",templateUrl:"comments/comments.html",requiresPermission:"allowSigningExtension",helpLink:"comments"}).state("authenticated.custom-fields",{title:"Custom Fields | DocuSign",url:"/custom-fields",templateUrl:"custom-fields/custom-field-list.html",requiresPermission:"canManageCustomFields",helpLink:"custom-fields-admin"}).state("authenticated.document labels",{url:"/envelope-custom-fields",title:"Envelope Custom Fields | DocuSign",templateUrl:"document labels/document-labels-list.html",requiresPermission:"canManageDocumentLabels",helpLink:"document-labels"}).state("authenticated.document sending settings",{url:"/sending-settings",title:"Sending Settings | DocuSign",templateUrl:"document-sending/document-sending.html",requiresPermission:"canManageAccountSettings",helpLink:"sending-settings"}).state("authenticated.document signing settings",{url:"/signing-settings",title:"Signing Settings | DocuSign",templateUrl:"document-signing/signing.html",requiresPermission:"canManageAccountSettings",helpLink:"signing-settings"}).state("authenticated.edit-box-configuration",{title:"Connect | DocuSign",url:"/connect/edit-box",requiresPermission:"isSuperAdmin",data:{configurationType:"box.net",configurationTitle:"Box Configuration Settings"},templateUrl:"connect/cloud-storage/cloud-storage-configuration.html"}).state("authenticated.edit-custom-configuration",{title:"Connect | DocuSign",url:"/connect/edit-custom",templateUrl:"connect/edit-custom-configuration.html",requiresPermission:"isSuperAdmin",helpLink:"connect",specificClass:"full-screen"}).state("authenticated.edit-eoriginal-configuration",{title:"Connect | DocuSign",url:"/connect/edit-eoriginal",templateUrl:"connect/cloud-storage/e-original-configuration.html",requiresPermission:"isSuperAdmin",data:{configurationType:"eoriginal",configurationTitle:"eOriginal Configuration Settings"},helpLink:"connect"}).state("authenticated.edit-onedrive-configuration",{title:"Connect | DocuSign",url:"/connect/edit-onedrive",templateUrl:"connect/cloud-storage/cloud-storage-configuration.html",requiresPermission:"isSuperAdmin",data:{configurationType:"skydrive",configurationTitle:"OneDrive Configuration Settings"},helpLink:"connect"}).state("authenticated.edit-salesforce-configuration",{title:"Connect | DocuSign",url:"/connect/edit-salesforce-configuration",templateUrl:"connect/edit-salesforce-configuration.html",requiresPermission:"isSuperAdmin",helpLink:"connect",specificClass:"full-screen"}).state("authenticated.custody-transfer",{url:"/custody-transfer",title:"Custody Transfer | DocuSign",templateUrl:"custody-transfer/custody-transfer.html",requiresPermission:"allowEnvelopeCustodyTransfer",helpLink:"custody-transfer"}).state("authenticated.add-custody-transfer-rule",{url:"/custody-transfer/add-custody-transfer-rule",title:"Custody Transfer | DocuSign",templateUrl:"custody-transfer/add-custody-transfer-rule.html",requiresPermission:"allowEnvelopeCustodyTransfer",helpLink:"custody-transfer"}).state("authenticated.custody-transfer-rule-details",{url:"/custody-transfer/custody-transfer-rule-details",title:"Custody Transfer | DocuSign",templateUrl:"custody-transfer/custody-transfer-rule-details.html",requiresPermission:"allowEnvelopeCustodyTransfer",helpLink:"custody-transfer"}).state("authenticated.groups",{url:"/groups",title:"Groups | DocuSign",templateUrl:"user management/groups/group-list.html",requiresPermission:"canManageUsers",helpLink:"groups"}).state("authenticated.group-details",{url:"/group-detail",title:"Group | DocuSign",templateUrl:"user management/groups/group-details.html",requiresPermission:"canManageUsers",helpLink:"groups"}).state("authenticated.group-assign-users-brands",{url:"/group-assign",title:"Groups | DocuSign",templateUrl:"user management/groups/group-assign-users-brands.html",requiresPermission:"canManageUsers",helpLink:"groups"}).state("authenticated.signing-groups",{url:"/signing-groups",title:"Signing Groups | DocuSign",templateUrl:"user management/signing-groups/signing-group-list.html",requiresPermission:"allowSigningGroups",helpLink:"signing-groups"}).state("authenticated.email-preferences",{url:"/email-preferences",title:"Email Preferences | DocuSign",templateUrl:"user management/email-preferences/email-preferences.html",requiresPermission:"canAccessEmailPreferences",helpLink:"https://support.docusign.com/en/guides/ndse-admin-guide-default-email-notification-preferences"}).state("authenticated.legal-disclosure",{url:"/legal-disclosure",title:"Legal Disclosure | DocuSign",templateUrl:"legal-disclosure/legal-disclosure.html",requiresPermission:"canAccessLegalDisclosure",helpLink:"legal-disclosure"}).state("authenticated.regional-settings",{url:"/regional-settings",title:"Regional Settings | DocuSign",templateUrl:"regional-settings/regional-settings.html",requiresPermission:"canManageRegionalSettings",helpLink:"regional-settings"}).state("authenticated.reminders expirations",{url:"/reminders-expirations",title:"Reminders and Expiration | DocuSign",templateUrl:"reminders and expirations/reminders.html",requiresPermission:"canManageReminders",helpLink:"remind-expire-defaults"}).state("authenticated.roles",{url:"/permission-sets",title:"Permission Sets | DocuSign",templateUrl:"user management/roles/role-list.html",requiresPermission:"canManageRoles",helpLink:"permission-sets"}).state("authenticated.salesforce-object",{url:"/connect/salesforce-object",title:"Salesforce Connect Object | DocuSign",templateUrl:"connect/salesforce-object.html",requiresPermission:"isSuperAdmin",helpLink:"connect",specificClass:"full-screen"}).state("authenticated.security information",{url:"/security-settings",title:"Security Settings | DocuSign",templateUrl:"security-settings/security-settings.html",requiresPermission:"canManageAccountSecuritySettings",helpLink:"security-settings"}).state("authenticated.payments",{url:"/payments",title:"Payments | DocuSign",templateUrl:"integrations/payments/payment-gateways.html",requiresPermission:"allowPaymentProcessing",helpLink:"payments",reloadOnSearch:!1}).state("authenticated.limited-canvas",{url:"/limited-canvas/:destination_target?source_origin&source_locale&state&code&scope&merchantId&error&turn_off_boardjs",templateUrl:"limited-canvas/limited-canvas-container.html",controller:"LimitedCanvasController",specificClass:"full-screen canvas-only",reloadOnSearch:!1}).state("authenticated.shared-envelopes-to",{url:"/shared-envelopes-to/:userId",title:"Shared Envelopes | DocuSign",templateUrl:"user management/users/shared-documents.html",requiresPermission:"canManageSharing",helpLink:"users"}).state("authenticated.shared-envelopes-from",{url:"/shared-envelopes-from/:userId",title:"Shared Envelopes | DocuSign",templateUrl:"user management/users/shared-documents.html",requiresPermission:"canManageSharing",helpLink:"users"}).state("authenticated.shared-envelopes-to-add-users",{url:"/shared-envelopes-to/:userId/add-users",title:"Shared Envelopes | DocuSign",templateUrl:"user management/users/shared-envelopes-add-users.html",requiresPermission:"canManageSharing",helpLink:"users"}).state("authenticated.shared-envelopes-from-add-users",{url:"/shared-envelopes-from/:userId/add-users",title:"Shared Envelopes | DocuSign",templateUrl:"user management/users/shared-envelopes-add-users.html",requiresPermission:"canManageSharing",helpLink:"users"}).state("authenticated.in-session-landing-pages",{url:"/signing-settings/in-session-landing-pages",title:"In-session Landing Pages | DocuSign",templateUrl:"document-signing/session-landing-pages.html",requiresPermission:"canManageAccountSettings",helpLink:"signing-settings",reloadOnSearch:!1}).state("authenticated.users",{url:"/users?"+s+"&"+i,title:"Users | DocuSign",templateUrl:"user management/users/user-list.html",requiresPermission:"canManageUsers",helpLink:"users",reloadOnSearch:!1}).state("authenticated.add-user",{url:"/add-user",title:"Add User | DocuSign",templateUrl:"user management/users/add-user.html",requiresPermission:"canManageUsers",helpLink:"users",reloadOnSearch:!1}).state("authenticated.edit-user",{url:"/edit-user/:userId",title:"Edit User | DocuSign",templateUrl:"user management/users/edit-user.html",requiresPermission:"canManageUsers",helpLink:"users"}).state("authenticated.signature-adoption-configuration",{url:"/document-signing/signature-adoption-configuration",title:"Signature Adoption Configuration | DocuSign",templateUrl:"document-signing/signature-adoption-configuration.html",requiresPermission:"canManageAccountSettings",helpLink:"signing-settings"}).state("authenticated.watermark",{url:"/signing-settings/watermark",title:"Watermark | DocuSign",templateUrl:"document-signing/watermark.html",requiresPermission:"canManageAccountSettings",helpLink:"signing-settings"}).state("authenticated.envelopes-purge",{url:"/envelopes/purge-envelopes/",title:"Envelopes | DocuSign",templateUrl:"envelopes/envelope-list.html",requiresPermission:"isSuperAdmin",reloadOnSearch:!1}).state("authenticated.envelopes",{url:"/envelopes/:action?"+o,title:"Envelopes | DocuSign",templateUrl:"envelopes/envelope-list.html",requiresPermission:"canAccessEnvelopes",reloadOnSearch:!1}).state("authenticated.enote",{title:"eNote | DocuSign",url:"/enote-configuration",templateUrl:"enote/enote-configuration.html",requiresPermission:"canAccessENoteConfiguration",helpLink:"https://www.docusign.com/supportdocs/ndse-admin-guide/Content/enote.htm"}).state("authenticated.system-updates",{url:"/system-updates",title:"System Updates | DocuSign",templateUrl:"system-updates/system-update-list.html",requiresPermission:"canManageAccountSettings"}).state("authenticated.organization-main",{title:"Organization | DocuSign",url:"/organization",templateUrl:"organization/main.html",requiresPermission:"canAccessOrganizationOverview"}).state("authenticated.organization-main-dashboard",{title:"Organization | DocuSign",url:"/organization-dashboard",templateUrl:"organization/main.html"}).state("authenticated.organization-review-invitation",{title:"Organization | DocuSign",url:"/organization-invitation?organization_id&org_admin_id",templateUrl:"organization/review-invitation.html",specificClass:"full-screen"}).state("authenticated.organization-create",{title:"Organization | DocuSign",url:"/create-organization",requiresPermission:"canAccessOrganization",templateUrl:"organization/create-organization.html",specificClass:"full-screen"}).state("authenticated.organization-dashboard",{title:"Organization | DocuSign",url:"/organization/{organization_id}/dashboard",templateUrl:"organization/dashboard.html",requiresPermission:"canAccessOrganizationDashboard",specificClass:"full-screen"}).state("authenticated.organization-accounts",{title:"Organization | DocuSign",url:"/organization/{organization_id}/accounts",templateUrl:"organization/accounts.html",requiresPermission:"canManageOrganizationUsers",specificClass:"full-screen"}).state("authenticated.organization-connected-applications",{title:"Organization | DocuSign",url:"/organization/{organization_id}/connected-applications",templateUrl:"organization/connected-applications.html",requiresPermission:"isSuperOrganizationAdmin",specificClass:"full-screen"}).state("authenticated.organization-manage-users",{title:"Organization | DocuSign",url:"/organization/{organization_id}/filtered-users?"+m+"&"+g+"&"+r,templateUrl:"organization/manage-users.html",requiresPermission:"canManageOrganizationUsers",specificClass:"full-screen",reloadOnSearch:!1}).state("authenticated.organization-users",{title:"Organization | DocuSign",url:"/organization/{organization_id}/users?error_code?error_params",templateUrl:"organization/users.html",requiresPermission:"canManageOrganizationUsers",specificClass:"full-screen"}).state("authenticated.organization-manage-admins",{title:"Organization | DocuSign",url:"/organization/{organization_id}/admins",templateUrl:"organization/organization-admins.html",requiresPermission:"isSuperOrganizationAdmin",specificClass:"full-screen"}).state("authenticated.organization-create-user",{title:"Organization | DocuSign",url:"/organization/{organization_id}/create-user",templateUrl:"organization/organization-add-user.html",requiresPermission:"canManageOrganizationUsers",specificClass:"full-screen"}).state("authenticated.organization-user-profile",{title:"Organization | DocuSign",url:"/organization/{organization_id}/user-profile?email&section",templateUrl:"organization/user-detail.html",requiresPermission:"canManageOrganizationUsers",specificClass:"full-screen"}).state("authenticated.organization-admin-landing",{title:"Organization | DocuSign",url:"/admin",templateUrl:"organization/admin-landing.html",specificClass:"full-screen"}).state("authenticated.organization-domains",{url:"/organization/{organization_id}/domains",title:"Domains | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"domains/domain-list.html",specificClass:"full-screen"}).state("authenticated.organization-add-identity-provider",{url:"/organization/{organization_id}/add-identity-provider",title:"Identity Provider | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"identity-providers/add-identity-provider.html",specificClass:"full-screen"}).state("authenticated.organization-edit-identity-provider",{url:"/organization/{organization_id}/identity-providers/edit",title:"Identity Provider | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"identity-providers/edit-identity-provider.html",specificClass:"full-screen"}).state("authenticated.organization-identity-providers",{url:"/organization/{organization_id}/identity-providers",title:"Identity Provider | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"identity-providers/identity-provider-list.html",specificClass:"full-screen"}).state("authenticated.organization-appliance-pools-dashboard",{url:"/organization/{organization_id}/appliance-pools/dashboard",title:"Appliance Pools | DocuSign",requiresPermission:"canManageAppliances",templateUrl:"appliance-pools/appliance-pool-dashboard.html",specificClass:"full-screen"}).state("authenticated.organization-appliance-pools",{url:"/organization/{organization_id}/appliance-pools/{appliance_type}",title:"Appliance Pools | DocuSign",requiresPermission:"canManageAppliances",templateUrl:"appliance-pools/appliance-pool-list.html",specificClass:"full-screen"}).state("authenticated.organization-edit-appliance-pool",{url:"/organization/{organization_id}/appliance-pools/{appliance_pool_id}/{appliance_type}/edit",title:"Appliance Pools | DocuSign",templateUrl:"appliance-pools/edit-appliance-pool.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-add-appliance-pool",{url:"/organization/{organization_id}/appliance-pools/{appliance_type}/add",title:"Appliance Pools | DocuSign",templateUrl:"appliance-pools/add-appliance-pool.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-appliances",{url:"/organization/{organization_id}/appliance-pools/{appliance_pool_id}/appliances/{appliance_type}",title:"Appliance Pools | DocuSign",templateUrl:"appliance-pools/appliance-pool-manage-appliances.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-appliance-pool-manage-accounts",{url:"/organization/{organization_id}/appliance-pools/{appliance_pool_id}/{appliance_type}/accounts",title:"Appliance Pool Accounts | DocuSign",templateUrl:"appliance-pools/appliance-pool-manage-accounts.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-edit-appliance",{url:"/organization/{organization_id}/appliance-pools/{appliance_pool_id}/appliance/{appliance_id}/{appliance_type}/edit",title:"Appliance | DocuSign",templateUrl:"appliance-pools/appliances/edit-appliance.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-add-appliance",{url:"/organization/{organization_id}/appliance-pools/{appliance_pool_id}/appliance/{appliance_type}/add",title:"Appliance | DocuSign",templateUrl:"appliance-pools/appliances/add-appliance.html",requiresPermission:"canManageAppliances",specificClass:"full-screen"}).state("authenticated.organization-audit-log",{url:"/organization/{organization_id}/audit-log",title:"Audit Log | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"organization/audit-log-list.html",specificClass:"full-screen"}).state("organization-directory-providers-waiting",{url:"/organization/{organization_id}/directory-providers/waiting",title:"Directory Providers | DocuSign",templateUrl:"directory-providers/directory-provider-waiting.html",specificClass:"full-screen"}).state("authenticated.organization-directory-providers",{url:"/organization/{organization_id}/directory-providers",title:"Directory Providers | DocuSign",requiresPermission:"canManageProviders",templateUrl:"directory-providers/directory-provider-list.html",specificClass:"full-screen"}).state("authenticated.organization-details",{url:"/organization/{organization_id}/organization-details",title:"Organization Details | DocuSign",requiresPermission:"isSuperOrganizationAdmin",templateUrl:"organization/organization-details.html",specificClass:"full-screen"}).state("authenticated.organization-envelope-transfer",{url:"/organization/{organization_id}/envelope-transfer",title:"Envelopes | DocuSign",templateUrl:"organization/envelope-transfer.html",requiresPermission:"canAccessOrganizationEnvelopeTransfer",specificClass:"full-screen",reloadOnSearch:!1}).state("authenticated.organization-envelopes",{url:"/organization/{organization_id}/accounts/{account_id}/envelopes/:action?"+o,title:"Envelopes | DocuSign",templateUrl:"envelopes/envelope-list.html",requiresPermission:"canAccessOrganizationEnvelopeTransfer",specificClass:"full-screen",reloadOnSearch:!1}).state("authenticated.organization-envelope-transfer-logs",{title:"Bulk Actions | DocuSign",url:"/organization/{organization_id}/envelope-transfer/{account_id}/bulk-actions/:bulkType",templateUrl:"user management/bulk-actions/bulk-actions.html",requiresPermission:"canAccessOrganizationEnvelopeTransfer",specificClass:"full-screen",helpLink:"bulk-actions"}).state("authenticated.organization-bulk-actions",{title:"Bulk Actions | DocuSign",url:"/organization/{organization_id}/bulk-actions/:bulkType",templateUrl:"organization/bulk-actions/organization-bulk-actions.html",requiresPermission:"canAccessOrganizationBulkAction",specificClass:"full-screen",helpLink:p.ORGANIZATION_ADMIN_GUID_LINK}).state("authenticated.templates",{title:"Templates | DocuSign",url:"/templates/:action?"+h,templateUrl:"templates/template-list.html",requiresPermission:"canAccessTemplates",helpLink:"https://support.docusign.com/en/guides/ndse-user-guide-working-with-templates",reloadOnSearch:!1}).state("authenticated.stamps",{url:"/stamps",title:"Stamps | DocuSign",templateUrl:"stamps/stamp-list.html",requiresPermission:"canManageStamps",helpLink:"https://support.docusign.com/en/guides/ndse-admin-guide-managed-stamps"}).state("authenticated.stamp-assignments",{url:"/stamp-assignment",title:"Stamp Assignments | DocuSign",templateUrl:"stamps/stamp-assignment.html",requiresPermission:"canManageStamps",helpLink:"https://support.docusign.com/en/guides/ndse-admin-guide-managed-stamps",reloadOnSearch:!1}).state("authenticated.stamp-assign-users-groups",{url:"/stamp-assign",title:"Assign Stamps | DocuSign",templateUrl:"stamps/stamp-assign-users-groups.html",requiresPermission:"canManageStamps",helpLink:"https://support.docusign.com/en/guides/ndse-admin-guide-managed-stamps"}),a.setPermissionFailureDestinationState("authenticated"),t.otherwise("/billing"),n.html5Mode(!0)}]).config(["$translateProvider","Locales","lodash","configuration",function(e,t,n,a){e.addInterpolation("bracketInterpolation"),e.useSanitizeValueStrategy(null),e.useMissingTranslationHandler("htmlEscapeTranslationId"),e.useStaticFilesLoader({prefix:"languages/",suffix:".json"});var i=t.sending.map(function(e){return e.key});a.pseudoLocaleEnabled&&i.push(r.PSEUDO_LOCALE_KEY),e.registerAvailableLanguageKeys(i,{en_US:"en",en:"en",en_UK:"en","pt-BR":"pt_BR","pt-PT":"pt",pt_PT:"pt","zh-CN":"zh_CN",zh:"zh_CN","zh-TW":"zh_TW","en-PS":"en_PS"}),e.fallbackLanguage("en"),e.determinePreferredLanguage()}]).run(["$state","configuration",function(e,t){_.forEach(t.underConstructionStates,function(t){var n=e.get(t);n&&(n.templateUrl="site/under-construction/under-construction.html")})}]).run(["$rootScope","$state","$stateParams","$location","$translate","appUser","dsModals","userPermissions","SessionIdleTimer",function(e,n,i,s,o,r,l,c,d){e.$on("$stateChangeStart",function(e,a,i){if("authenticated.limited-canvas"===a.name&&i.source_locale&&(o.useFallbackLanguage("en"),o.use(i.source_locale),"payments"===i.destination_target&&(a.title=o.instant("Payments | DocuSign"))),"authenticated.payments"===a.name){var r=_.clone(s.search());if(r.state&&r.state.indexOf(t.RADMIN_LIMITED_VIEW)>-1){e.preventDefault();var l=r.state.substring(r.state.indexOf(t.RADMIN_LIMITED_VIEW)+t.RADMIN_LIMITED_VIEW.length),c=l.substring(0,l.indexOf("_")).replace(/-/,"_"),d=_.extend({destination_target:"payments",source_locale:c},r);return n.go("authenticated.limited-canvas",d)}}}),e.$on("$stateChangeSuccess",function(){return n.is("organization-directory-providers-waiting")?n.go("organization-directory-providers-waiting"):r.isLoggedIn()||n.includes("login")?n.is("authenticated.account-admin")?c.canAccessBilling()?n.go("authenticated.billing usage"):c.isSuperAdmin()?n.go("authenticated.account-profile"):c.canManageUsers()?n.go("authenticated.users"):c.isAccountSecuritySettingsAdmin()?n.go("authenticated.security information"):c.isSigningGroupsAdmin()?n.go("authenticated.signing-groups"):n.go("logout"):n.is("authenticated")?c.canAccessOrganizationDashboard()||c.canAccessOrganization()&&c.isAccountAdmin()?n.go("authenticated.organization-main-dashboard"):n.go("authenticated.account-admin"):void 0:n.go("requesting authentication")}),e.$on("$stateChangeSuccess",function(){_.isEmpty(l.openedModals)||l.closeAllModals()}),e.$on("$stateChangeSuccess",function(){var e=a("html, body");e.animate({scrollTop:e.offset().top},200)}),e.$on("$stateChangeSuccess",function(){r.isLoggedIn()&&d.start()})}]).run(["$rootScope","$translate",function(e,t){function n(){var e=t.use();_.isEmpty(e)||o.locale(e.toLowerCase().replace("_","-"))}e.$on("$translateChangeSuccess",n),n()}]).run(["RADminAuthorizationManager","$state",function(e,t){e.addAuthorizationFailureHandler(function(){if(!e.hasAuthorization()&&!t.includes("login")&&!t.is("logout"))return t.go("logout")})}]),i.bootstrap("html",["radmin"]);var e=window.location&&window.location.href,s=!window.opener&&(e.indexOf(t.RADMIN_LIMITED_VIEW)>-1||e.indexOf("limited-canvas")>-1);window.opener||s||window.DS_oneTrust_wrapper.init({1:function(){},2:function(){},3:function(){},4:function(){}},{serviceHostnameString:v,navigatorLanguageString:navigator&&navigator.language})})},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.ConnectModule=a.module("radmin.Connect",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(102);t.DocuSignApiModule=a.module("DocuSign API",["radmin.Authorization"]),t.DocuSignApiModule.service("dsPayments",["dsApiClient","RADminApiClient","configuration",i.Payments])},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.UsersModule=a.module("radmin.Users",[]),t.ADMINISTRATORS="Administrators",t.PERMISSION_ID_OR_NAME_ERROR_CODE="PERMISSION_PROFILE_ID_DOES_NOT_MATCH_PERMISSION_PROFILE_NAME",t.PERMISSION_ID_OR_NAME_ERROR="Either permission profile Id or permission profile name is invalid.",t.accessCodePattern="^([^&<]|&(?!#)|<(?!.*>))*$",t.USER_NOT_ACCOUNT_ADMIN_ERROR_CODE="USER_NOT_ACCOUNT_ADMIN",t.USER_NOT_ACCOUNT_ADMIN_ERROR="User is not an account administrator.",t.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR_CODE="USER_ALREADY_EXISTS_IN_ACCOUNT",t.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR="User name and Email combination already exists for this account.",t.USER_CREATE_SUCCESS="You successfully created the user {{email}}.",t.USER_AWAITING_ACTIVATION_ERROR_CODE="USER_AWAITING_ACTIVATION",t.USER_AWAITING_ACTIVATION_ERROR="This user name and email are awaiting activation",t.USER_ADDING_ERROR="An error occurred while adding a new user. Please try again.",t.INVALID_EMAIL_DOMAIN_RESERVED_ERROR_CODE="invalid_email_change_domain_reserved",t.EMAIL_RESERVED_ERRORCODE="EMAIL_IS_RESERVED",t.INVALID_EMAIL_DOMAIN_RESERVED_ERROR="Cannot add email address to this account. The address is part of a reserved domain that does not permit account memberships outside of the Organization.",t.SEND_INVITATION_ERROR="An invitation could not be sent to {{email}}.",t.SEND_INVITATION_SUCCESS="An invitation has been sent to {{email}}."},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.APIIntegratorKeyModule=a.module("radmin.APIIntegratorKey",[]),t.NEW_KEY_MODAL_NAME="new-integrator-key",t.EDIT_KEY_MODAL_NAME="edit-integrator-key",t.REVIEW_KEY_MODAL_NAME="review-integrator-key",t.REVIEW_RESULTS_KEY_MODAL_NAME="review-results-integrator-key",t.PROMOTE_KEY_MODAL_NAME="promote-integrator-key",t.RESUME_APP_REVIEW_PROCESS_MODAL_NAME="resume-app-review-process",t.PRODUCTION_LOGGEDIN_WARNING_MODAL_NAME="production-loggedin-warning",t.APP_REVIEW_STATUS_DEMO="Demo",t.APP_REVIEW_STATUS_REVIEWING="UnderReview",t.APP_REVIEW_STATUS_PASS="ReviewPassed",t.APP_REVIEW_STATUS_FAIL="ReviewFailed",t.APP_REVIEW_STATUS_ERROR="Error",t.APP_REVIEW_STATUS_PENDING="PendingApproval",t.APP_REVIEW_STATUS_DECLINED="Declined",t.APP_REVIEW_STATUS_PRODUCTION="Live",t.UPDATED_KEY_EVENT_NAME="IntegratorKeyUpdated",t.HTTP_URI_PATTERN=/^https?:\/\/[^ "]+$/i,t.REDIRECT_URI_PATTERN=/^[a-zA-Z][a-zA-Z\+\.\-\d]*:\/\/[^ "]+$/i},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.AppliancePoolModule=a.module("radmin.AppliancePool",[])},,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e){var t=e||{};this.startIndex=+t.startPosition||0,this.endIndex=+t.endPosition||0,this.totalCount=+t.totalSetSize||0,this.hasPreviousPage=!!t.previousUri,this.hasNextPage=!!t.nextUri}}();t.CurrentPageFromApiPage=i;var s=function(){function e(e,t){var n=e||{};this.startIndex=+n.startIndex||0,this.endIndex=this._getEndIndex(n,t),this.totalCount=n.totalCount||0,this.hasPreviousPage=n.startIndex>0,this.hasNextPage=this.endIndex<this.totalCount-1}return e.prototype._getEndIndex=function(e,t){var n=(+e.startIndex||0)+t;return Math.min(n,e.totalCount)-1},e}();t.CurrentPageFromClientPage=s;var o=function(e){function t(t,n){void 0===n&&(n=1);return t.startIndex=0,e.call(this,t,n)||this}return a(t,e),t}(s);t.FirstPageOptions=o;var r=function(e){function t(t,n){void 0===n&&(n=1);var a=(Math.ceil(t.totalCount/n)-1)*n;return t.startIndex=a,e.call(this,t,n)||this}return a(t,e),t}(s);t.LastPageOptions=r;var l=function(e){function t(t,n){void 0===n&&(n=1);var a=Math.max(t.startIndex-n,0);return t.startIndex=a,e.call(this,t,n)||this}return a(t,e),t}(s);t.PreviousPageOptions=l;var c=function(e){function t(t,n){void 0===n&&(n=1);var a=t.totalCount-1,i=Math.min(t.startIndex+n,a);return t.startIndex=i,e.call(this,t,n)||this}return a(t,e),t}(s);t.NextPageOptions=c;var d=function(e){function t(){return e.call(this,null)||this}return a(t,e),t}(i);t.BlankPage=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.RolesModule=a.module("radmin.Roles",[])},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.DocumentSigningModule=a.module("radmin.DocumentSigning",[])},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.StampsModule=a.module("radmin.Stamps",[])},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.GroupsModule=a.module("radmin.Groups",[])},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.IdentityProvidersModule=a.module("radmin.IdentityProviders",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.CustomFieldsModule=a.module("radmin.CustomFields",[]).directive("repeatDone",function(){return{link:function(e,t,n){e.$last&&setTimeout(function(){e.customFieldList[n.repeatDone]()})}}})},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.BrandsModule=a.module("radmin.Brands",[]),t.BRANDS_MAIN_TITLE="Brands"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(44);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BRAND=1]="BRAND",e[e.USER=2]="USER"}(a=t.GROUP_ASSIGN_OPTIONS||(t.GROUP_ASSIGN_OPTIONS={}));var s=function(){function e(e,t,n,i){this._$state=e,this._dsGroups=t,this._userPermissions=n,this._=i,this.activateUsersTab=!0,this.activateBrandsTab=!1,this.canManageMultipleBrands=!1,this.canManageMultipleBrands=this._userPermissions.canManageMultipleBrands(),this.loading=this._initGroup(),this.activateBrandsTab=this._activeAction===a.BRAND,this.activateUsersTab=this._activeAction===a.USER}return e.prototype._initGroup=function(){this.group=this._dsGroups.activeGroup,this._activeAction=this._dsGroups.assignAction,this._dsGroups.assignAction=a.UNKNOWN,this._.isUndefined(this.group)&&this._$state.go("authenticated.groups")},e}();t.GroupDetailsController=s,i.GroupsModule.controller("GroupDetailsController",["$state","dsGroups","userPermissions","lodash",s])},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.BillingAndUsageModule=a.module("radmin.BillingAndUsage",[])},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=0,s=function(){return function(e,t){void 0===t&&(t=1),this.start_position=e,this.count=t}}();t.PageOptions=s;var o=function(e){function t(t){return void 0===t&&(t=1),e.call(this,i,t)||this}return a(t,e),t}(s);t.FirstPageOptions=o;var r=function(e){function t(t,n){void 0===n&&(n=1);var a=(Math.ceil(t/n)-1)*n;return e.call(this,a,n)||this}return a(t,e),t}(s);t.LastPageOptions=r;var l=function(e){function t(t,n){void 0===n&&(n=1);var a=Math.max(t-n,0);return e.call(this,a,n)||this}return a(t,e),t}(s);t.PreviousPageOptions=l;var c=function(e){function t(t,n,a){void 0===a&&(a=1);var i=n-1,s=Math.min(t+a,i);return e.call(this,s,a)||this}return a(t,e),t}(s);t.NextPageOptions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.BulkActionsModule=a.module("radmin.BulkActions",[]),t.BULKACTIONS_LOG_TYPES_USERS="users",t.BULKACTIONS_LOG_TYPES_ENVELOPES="envelopes",t.BULKACTIONS_LOG_TYPES_TEMPLATES="templates",t.BULKACTIONS_LOG_TYPES_ENVELOPE_PUBLISH="publish"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.DomainsModule=a.module("radmin.Domains",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.CustodyTransferModule=a.module("radmin.CustodyTransfer",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.SigningGroupsModule=a.module("radmin.SigningGroups",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.SecuritySettingsModule=a.module("radmin.SecuritySettings",[])},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.ENoteConfigurationModule=a.module("radmin.ENoteConfiguration",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.EmailArchiveConfigurationModule=a.module("radmin.EmailArchiveConfiguration",[])},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(111),s=n(3),o=function(e){function t(t,n){var a=e.call(this,n)||this;return a.$q=t,a._=n,a.loadList=a.setLoadList(),a}return a(t,e),t.prototype.setGetPage=function(){var e=this;return function(t){var n=e.filterList(e.originalList),a=e._.slice(n,t.start_position,t.start_position+t.count),i=t.start_position,s=i+t.count-1,o=n.length,r={list:a,page:{startPosition:e._.isEmpty(a)?-1:i,endPosition:s>o-1?o-1:s,resultSetSize:a.length,totalSetSize:o,previousUri:i>0,nextUri:s<n.length-1}};return e.setPage(r),e.$q.when()}},t.prototype.setSetPage=function(){var e=this;return function(t){e.page=t.page,e._.defaults(e.page,s.BLANK_PAGE),e.list=t.list}},t.prototype.setGetSearchOptions=function(){var e=this;return function(){return{search_text:e.search.phrase}}},t}(i.SearchablePagingController);t.SearchableClientPagingController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(30),s=n(66),o=n(110);t.SENDER_FILTER_OPTION="sender_id",t.ENVELOPES_TRANSFER_NOW="transfer-now",t.PUBLISH="publish",t.BULK_ACTIONS_ORGANIZATION="organization";var r,l="Envelopes",c="All Sent / Delivered / Completed",d="All Completed / Declined / Voided",u="Delivered",p="Completed",m="Sent",g="Voided",h="Deleted",f="Declined",v="Sent,Delivered,Completed",b="Completed,Declined,Voided",y="Delivered",A="Completed",S="Sent",w="Voided",C="Deleted",P="Declined",E="active,activationsent,activationrequired,closed,disabled",T="Name",M="Email",k="Sender",I="Status",D="Date Range",N="Recipient / Subject";!function(e){e[e.Name=0]="Name",e[e.Email=1]="Email"}(r||(r={}));var x=10,O=2e3,U=function(){function e(e,t,n,a,i,s,o,_,k,I,D,N,O,U,L){this._$scope=e,this._$state=t,this._$stateParams=n,this._$location=a,this._$translate=i,this._$q=s,this._envelopeService=o,this._dateTimeService=_,this._userService=k,this._userPermissions=I,this._=D,this._message=N,this._oliveModal=O,this._appUser=U,this._organizationService=L,this.selectedEnvelopeList=[],this.pageItemType=this._$translate.instant(l),this.searchPhrase="",this.searchTypes=[{label:T,value:r.Name},{label:M,value:r.Email}],this.envelopeStatusTypes=[{label:d,value:b,allowPurge:!0},{label:c,value:v,allowPurge:!1},{label:u,value:y,allowPurge:!1},{label:p,value:A,allowPurge:!0},{label:f,value:P,allowPurge:!0},{label:h,value:C,allowPurge:!1},{label:m,value:S,allowPurge:!1},{label:g,value:w,allowPurge:!0}],this.filter={status:null,dateRange:{from:null,to:null},searchPhrase:null,sender:null},this.senderSearch={searchPhrase:"",pendingPhrase:"",selectedSearchType:r.Name,list:[]},this.showUsersDropDown=null,this.userSearchOptions={include_groups:!1,count:x,start_position:0,status:E},this.maxSelectEnvelopes=99999,this._initCurrentState(),this._initDateTimeProperties(_),this._initFilter(),this.loading=this._initialize()}return e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new s.PreviousPageOptions(this.currentPage.startIndex,10);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new s.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,10);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new s.LastPageOptions(this.currentPage.totalCount,10);this.loading=this._getPage(e)},e.prototype.applyFilters=function(){this.loading=this._getFirstPage(!0)},e.prototype.validateFilter=function(){var e=a(this.filter.dateRange.from,"L"),t=a(this.filter.dateRange.to,"L");return e.isValid()&&t.isValid()&&e<=t},e.prototype.resetFilters=function(){this._initFilter(),this.applyFilters()},e.prototype.submitSearch=function(e){13===e.keyCode&&(this.loading=this._getFirstPage())},e.prototype.submitToUserSearchPhrase=function(){return this._message.closeBy("type","warning"),this.senderSearch.selectedSearchType===r.Name?(this.userSearchOptions.user_name_substring=this.senderSearch.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"email_substring")):(this.userSearchOptions.email_substring=this.senderSearch.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"user_name_substring")),this.senderSearch.searchPhrase="",this._getUsers()},e.prototype.senderSelected=function(e,t){this.filter.sender=e,this.clearUsersSearch(),t.stopImmediatePropagation()},e.prototype.clearUsersSearch=function(){this.senderSearch.pendingPhrase="",this.senderSearch.searchPhrase="",this.senderSearch.list=[]},e.prototype.updateSelectedList=function(e){this._.find(this.selectedEnvelopeList,{envelopeId:e.envelopeId})?(this._.remove(this.selectedEnvelopeList,{envelopeId:e.envelopeId}),this.selectAll&&(this.selectAll=!1)):this.selectedEnvelopeList.length<this.maxSelectEnvelopes&&this.selectedEnvelopeList.push(e)},e.prototype.isChecked=function(e){return!!this._.find(this.selectedEnvelopeList,{envelopeId:e})},e.prototype.checkAll=function(){var e=this;this.selectAll=!this.selectAll,this.selectAll?this.list.forEach(function(t){e.isEnvelopeSelectable(t)&&e.selectedEnvelopeList.push(t)}):this.list.forEach(function(t){e._.remove(e.selectedEnvelopeList,{envelopeId:t.envelopeId})})},e.prototype.isEnvelopeSelectable=function(e){if(this.isPurgeEnvelope){var t=this.isChecked(e.envelopeId)||this.selectedEnvelopeList.length<this.maxSelectEnvelopes;return(!e.purgeState||"unpurged"===e.purgeState)&&t}return!0},e.prototype.transferNow=function(e){var t=this._$scope.$new();t.isUpload=e||!1,t.isUpload||(t.envelopeList=this._.map(this.selectedEnvelopeList,"envelopeId"),t.senders=this._.uniq(this._.map(this.selectedEnvelopeList,"sender.userId"))),this.isFromOrganization&&(t.transferFromOrganizationAccountId=this._accountId,t.organizationId=this._organizationId),this._oliveModal.openModal({scope:t,size:"lg",templateUrl:"custody-transfer/transfer-now.html",showClose:!1})},e.prototype.showDownloadCsvModal=function(){var e=this._$scope.$new();e.includeCustomFields=!1,e.includeRecipientInfo=!1,e.maxRowsLimit=O,e.uri=this.exportToCsvUri,e.updateDownloadUri=this._updateDownloadUri,this._oliveModal.openModal({scope:e,size:"lg",templateUrl:function(){return this.currentPage.totalCount<=O?"envelopes/download-csv.html":"envelopes/download-csv-error.html"}.call(this),showClose:!1})},e.prototype.purgeEnvelopes=function(){var e=this._$scope.$new();e.purgeEnvelopes=this._purgeEnvelopes.bind(this),this._oliveModal.openModal({scope:e,size:"lg",templateUrl:"envelopes/purge-envelopes.html",showClose:!1})},e.prototype.goBack=function(){this.isFromCustodyTransfer?this._$state.go("authenticated.custody-transfer"):this.isFromUsers?this._$state.go("authenticated.users"):this.isFromPublish?this._$state.go("authenticated.connect"):this.isFromOrganization&&this._$state.go("authenticated.organization-dashboard",{organization_id:this._organizationId})},e.prototype._updateDownloadUri=function(e,t,n){var a=[];return e&&a.push("custom_fields"),t&&a.push("recipients"),a.length>0&&(n+="&include="+a.join(",")),n},e.prototype.publish=function(e){var t=this._$scope.$new();t.isUpload=e||!1,t.isUpload||(t.envelopeList=this._.map(this.selectedEnvelopeList,"envelopeId")),this._oliveModal.openModal({scope:t,size:"lg",templateUrl:"connect/envelope-publish.html",showClose:!1})},e.prototype._initialize=function(){var e=this,n=this.isPurgeEnvelope?"":this._$stateParams[t.SENDER_FILTER_OPTION];return this._.isEmpty(n)||"all"===n.toLowerCase()?this._$q.all([this._getFirstPage(),this._getUsers()]):this._senderFilterFromQueryParams.call(this,n).then(function(t){t?(e.filter.sender=t,e._getFirstPage()):e._getUserById(n).then(function(t){t&&(e.filter.sender=t,e._getFirstPage())})})},e.prototype._senderFilterFromQueryParams=function(e){var t=this;return this._getUsers().then(function(){if(t.showUsersDropDown&&t.senderSearch.list.length>0)return t._.find(t.senderSearch.list,{id:e})})},e.prototype._getUserById=function(e){var t=this;return this._userService.by(e).then(function(e){return e}).catch(function(n){t._errorMessage(n.data,e,"error")})},e.prototype._errorMessage=function(e,t,n){var a="";switch(e&&e.errorCode&&e.errorCode.toUpperCase()){case"USER_NOT_FOUND":a=this._$translate.instant("No users found based on your search: {{search}}.",{search:t});break;case"ACCOUNT_DOES_NOT_EXIST_IN_SYSTEM":a=this._$translate.instant("Invalid user ID: {{userId}}.",{userId:t});break;default:a=this._$translate.instant("We had trouble loading your envelopes. Go ahead and try that again.")}_.isEmpty(a)||this._message.show(a,"EnvelopeListError","error")},e.prototype._getExportToCsvUri=function(e){var t=this._.cloneDeep(e);return t=this._.omit(t,["count","start_position"]),this._envelopeService.getExportToCsvUri(this._accountId,t)},e.prototype._getUsers=function(){var e=this;return this._userService.getPage(this.userSearchOptions).then(function(t){e.senderSearch.list=t.users,e.showUsersDropDown=t.page.totalSetSize<=x&&_.isNull(e.showUsersDropDown),_.isEmpty(e.senderSearch.pendingPhrase)||(e.senderSearch.searchPhrase=e.senderSearch.pendingPhrase,e.showUsersDropDown=!1)},function(t){e._errorMessage(t.data,e.senderSearch.pendingPhrase,"warning")})},e.prototype._initDateTimeProperties=function(e){this._locale=this._appUser.currentAccountInfo.userInformation.userSettings.locale,this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._initCurrentState=function(){if(this.isFromCustodyTransfer=!1,this.isFromPublish=!1,this.isFromUsers=!1,this.isFromOrganization=!1,this.isPurgeEnvelope=!1,this._accountId=this._appUser.getCurrentAccountId(),this._.isEmpty(this._$stateParams.action))(this._$state.current.name="authenticated.envelopes-purge")?this.isPurgeEnvelope=!0:this._$state.go("authenticated.billing usage");else if(this._$stateParams.action.toLowerCase()===t.ENVELOPES_TRANSFER_NOW.toLowerCase()){if(this._$stateParams.organization_id&&this._$stateParams.account_id){if(this._accountId=this._$stateParams.account_id,this._organizationId=this._$stateParams.organization_id,this.isFromOrganization=!0,!this._.isEmpty(this._organizationService.currentOrg)&&this._organizationService.currentOrg.id===this._organizationId)return this.organization=this._organizationService.currentOrg.organization,void(this.organizationAccount=this._.find(this._organizationService.currentOrg.adminAccountsInOrganization,{id:this._accountId}));this.goBack()}this.isFromCustodyTransfer=!0,this._userPermissions.allowEnvelopeCustodyTransfer()||this.goBack(),this._.isEmpty(this._$stateParams[t.SENDER_FILTER_OPTION])||"all"===this._$stateParams[t.SENDER_FILTER_OPTION].toLowerCase()||(this.isFromUsers=!0,this.isFromCustodyTransfer=!1)}else this._$stateParams.action.toLowerCase()===t.PUBLISH.toLowerCase()?(this.isFromPublish=!0,this._userPermissions.allowEnvelopePublishReporting()||this.goBack()):this._$state.go("authenticated.billing usage");this.isPurgeEnvelope?(this._.remove(this.envelopeStatusTypes,{allowPurge:!1}),this.maxSelectEnvelopes=100):this._.remove(this.envelopeStatusTypes,{label:d})},e.prototype._initFilter=function(){this.filter.status=this.isPurgeEnvelope?b:v,this.filter.dateRange.from=a().locale(this._locale).utc().subtract("day",1).format("L"),this.filter.dateRange.to=a().locale(this._locale).utc().format("L"),this.filter.sender=null,this.filter.searchPhrase=""},e.prototype._getFirstPage=function(e){return void 0===e&&(e=!1),this._getPage(new s.FirstPageOptions(10),e).finally(this._updateUrlParams.bind(this))},e.prototype._getPage=function(e,t){var n=this;return void 0===e&&(e={}),void 0===t&&(t=!1),this.list=[],this.selectAll=!1,t&&(this.selectedEnvelopeList=[]),this._message.closeAll(),this.isPurgeEnvelope&&(e.include_purge_information=!0),e=this._includeFilters(e),this._envelopeService.getEnvelopes(this._accountId,e).then(function(e){n.list=e.envelopes||[],n.currentPage=new i.CurrentPageFromApiPage(e.page),n._isSelectAll(n.list)}).catch(function(){n._message.show(n._$translate.instant("An error occurred while loading envelopes. Please try again."),"envelopeLoadingError","error"),n.list=[]})},e.prototype._isSelectAll=function(e){var t=this,n=this._.clone(e),a=this._.filter(n,function(e){return!t._.find(t.selectedEnvelopeList,{envelopeId:e.envelopeId})});this.selectAll=0===a.length&&e.length>0},e.prototype._includeFilters=function(e){return e=this._setAppliedFilters(e)},e.prototype._setAppliedFilters=function(e){return void 0===e&&(e={}),this.appliedFilters=[],this.selectAll=!1,function(){this._.isEmpty(this.filter.sender)?e=this._.omit(e,"user_id"):(e.user_id=this.filter.sender.id,this.appliedFilters.push({name:k,options:[this.filter.sender]}))}.call(this),function(){this._.isEmpty(this.filter.dateRange.from)&&(this.filter.dateRange.from=a().locale(this._locale).utc().subtract("day",1).format("L"));e.from_date=a(this.filter.dateRange.from,"L",this._locale).utc().format("YYYY/MM/DD HH:mm:ss"),this._.isEmpty(this.filter.dateRange.to)||(e.to_date=a(this.filter.dateRange.to,"L",this._locale).add("day",1).utc().format("YYYY/MM/DD HH:mm:ss"));this.appliedFilters.push({name:D,options:[{name:a(this.filter.dateRange.from,"L",this._locale).format("L")+" \n            - "+a(this.filter.dateRange.to,"L",this._locale).format("L")}]})}.call(this),function(){if(this._.isEmpty(this.filter.status))this._.isEmpty(e.status)||(e=this._.omit(e,"status"));else{var t=this._.find(this.envelopeStatusTypes,{value:this.filter.status});e.status=this.filter.status,this.appliedFilters.push({name:I,options:[{name:this._$translate.instant(t.label)}]})}}.call(this),function(){this._.isEmpty(this.filter.searchPhrase)?this._.isEmpty(e.search_text)||(e=this._.omit(e,"search_text")):(e.search_text=this.filter.searchPhrase,this.appliedFilters.push({name:N,options:[{name:this.filter.searchPhrase}]}))}.call(this),this.exportToCsvUri=this._getExportToCsvUri(e),this.submittedSearch=this.filter.searchPhrase,e},e.prototype._updateUrlParams=function(){var e={},n="all";this._.isEmpty(this.filter.sender)||(n=this.filter.sender.id),e[t.SENDER_FILTER_OPTION]=n,this.isPurgeEnvelope||this._$location.search(e)},e.prototype._purgeEnvelopes=function(e){var t=this,n=e?"documents_and_metadata_queued":"documents_queued",a=[];this.selectedEnvelopeList.forEach(function(e){var i={envelopeId:e.envelopeId,purgeState:n};a.push(t._envelopeService.updateEnvelope(t._appUser.getCurrentAccountId(),i))}),this._$q.all(a).then(function(e){var n=1===a.length?"Selected Envelope added to purge queue":"Selected Envelopes added to purge queue";t._message.show(t._$translate.instant(n),"purgeEnvelopes","success"),t.selectedEnvelopeList=[],t.loading=t._initialize()}).catch(function(){t._message.show(t._$translate.instant("An error occurred while adding Envelopes to the purge queue"),"purgeEnvelopes","error")})},e}();t.EnvelopeListController=U,o.EnvelopesModule.controller("EnvelopeListController",["$scope","$state","$stateParams","$location","$translate","$q","EnvelopeService","DateTimeService","Users","userPermissions","lodash","oliveMessage","oliveModal","appUser","OrganizationService",U])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(30),s=n(66),o=n(277);t.OWNER_FILTER_OPTION="owner_id",t.TEMPLATES_TRANSFER_NOW="template-transfer-now";var r,l="Templates",c="Owner",d="Email",u="Date Created Range",p="Owner",m="Template Name",g="active,activationsent,activationrequired,closed,disabled";!function(e){e[e.Name=0]="Name",e[e.Email=1]="Email"}(r||(r={}));var h=10,f=function(){function e(e,t,n,a,i,s,o,u,p,m,f,v,_,b,y){this._$scope=e,this._$state=t,this._$stateParams=n,this._$location=a,this._$translate=i,this._$q=s,this._templateService=o,this._dateTimeService=u,this._userService=p,this._userPermissions=m,this._=f,this._message=v,this._oliveModal=_,this._appUser=b,this._configuration=y,this.selectedTemplateList=[],this.pageItemType=this._$translate.instant(l),this.searchPhrase="",this.searchTypes=[{label:c,value:r.Name},{label:d,value:r.Email}],this.ownerSearch={searchPhrase:"",pendingPhrase:"",selectedSearchType:r.Name,list:[]},this.showUsersDropDown=null,this.userSearchOptions={include_groups:!1,count:h,start_position:0,status:g},this.filter={dateRange:{from:null,to:null},searchPhrase:null,owner:null},this.currentOptions={},this._initReferrer(),this._initDateTimeProperties(u),this._initFilter(),this.loading=this._initialize()}return e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new s.PreviousPageOptions(this.currentPage.startIndex,10);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new s.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,10);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new s.LastPageOptions(this.currentPage.totalCount,10);this.loading=this._getPage(e)},e.prototype.applyFilters=function(){this.loading=this._getFirstPage(!0)},e.prototype.resetFilters=function(){this._initFilter(),this.applyFilters()},e.prototype.submitSearch=function(e){13===e.keyCode&&(this.loading=this._getFirstPage())},e.prototype.submitToUserSearchPhrase=function(){return this._message.closeBy("type","warning"),this.ownerSearch.selectedSearchType===r.Name?(this.userSearchOptions.user_name_substring=this.ownerSearch.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"email_substring")):(this.userSearchOptions.email_substring=this.ownerSearch.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"user_name_substring")),this.ownerSearch.searchPhrase="",this._getUsers()},e.prototype.ownerSelected=function(e,t){this.filter.owner=e,this.clearUsersSearch(),t.stopImmediatePropagation()},e.prototype.clearUsersSearch=function(){this.ownerSearch.pendingPhrase="",this.ownerSearch.searchPhrase="",this.ownerSearch.list=[]},e.prototype.updateSelectedList=function(e){this._.find(this.selectedTemplateList,{templateId:e.templateId})?(this._.remove(this.selectedTemplateList,{templateId:e.templateId}),this.selectAll&&(this.selectAll=!1)):this.selectedTemplateList.push(e)},e.prototype.isChecked=function(e){return!!this._.find(this.selectedTemplateList,{templateId:e})},e.prototype.checkAll=function(){var e=this;this.selectAll=!this.selectAll,this.selectAll?this.list.forEach(function(t){e.isChecked(t.templateId)||e.selectedTemplateList.push(t)}):this.list.forEach(function(t){e._.remove(e.selectedTemplateList,{templateId:t.templateId})})},e.prototype.transferNow=function(e){var t=this._$scope.$new();t.isUpload=e||!1,t.transferType="template",t.isUpload||(t.envelopeList=this._.map(this.selectedTemplateList,"templateId"),t.senders=this._.uniq(this._.map(this.selectedTemplateList,"owner.userId"))),this._oliveModal.openModal({scope:t,size:"lg",templateUrl:"custody-transfer/transfer-now.html",showClose:!1})},e.prototype.goBack=function(){this.isFromCustodyTransfer?this._$state.go("authenticated.custody-transfer"):this.isFromUsers&&this._$state.go("authenticated.users")},e.prototype.exportLinkUri=function(){return delete this.currentOptions.start_position,delete this.currentOptions.count,this._templateService.createCsvExportUri(this.currentOptions)},e.prototype._initFilter=function(){this.filter.dateRange.from=a().locale(this._locale).utc().subtract("month",3).format("L"),this.filter.dateRange.to=a().locale(this._locale).utc().format("L"),this.filter.owner=null,this.filter.searchPhrase=""},e.prototype._initialize=function(){var e=this,n=this._$stateParams[t.OWNER_FILTER_OPTION];return this._.isEmpty(n)||"all"===n.toLowerCase()?this._$q.all([this._getFirstPage(),this._getUsers()]):this._ownerFilterFromQueryParams.call(this,n).then(function(t){return t?(e.filter.owner=t,e._getFirstPage()):e._getUserById(n).then(function(t){if(t)return e.filter.owner=t,e._getFirstPage()})})},e.prototype._initDateTimeProperties=function(e){this._locale=this._appUser.currentAccountInfo.userInformation.userSettings.locale,this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._initReferrer=function(){this.isFromCustodyTransfer=!1,this.isFromUsers=!1,function(e){return e&&"transfer-now"===e.toLowerCase()}(this._$stateParams.action)||this._$state.go("authenticated.billing usage"),this._userPermissions.allowEnvelopeCustodyTransfer()||this.goBack(),this.isFromCustodyTransfer=function(e){return this._.isUndefined(e)||e&&"all"===e.toLowerCase()}.call(this,this._$stateParams[t.OWNER_FILTER_OPTION]),this.isFromUsers=!this.isFromCustodyTransfer},e.prototype._ownerFilterFromQueryParams=function(e){var t=this;return this._getUsers().then(function(){return t.showUsersDropDown&&t.ownerSearch.list.length>0?t._.find(t.ownerSearch.list,{id:e}):t._$q.when()})},e.prototype._getFirstPage=function(e){return void 0===e&&(e=!1),this._getPage(new s.FirstPageOptions(10),e).finally(this._updateUrlParams.bind(this))},e.prototype._getPage=function(e,t){var n=this;return void 0===e&&(e={}),void 0===t&&(t=!1),this.list=[],this.selectAll=!1,t&&(this.selectedTemplateList=[]),e=this._includeFilters(e),this._templateService.getTemplates(e).then(function(e){n.list=e.templates||[],n.currentPage=new i.CurrentPageFromApiPage(e.page),n._isSelectAll(n.list)})},e.prototype._getUsers=function(){var e=this;return this._userService.getPage(this.userSearchOptions).then(function(t){e.ownerSearch.list=t.users,e.showUsersDropDown=t.page.totalSetSize<=h&&e._.isNull(e.showUsersDropDown),e._.isEmpty(e.ownerSearch.pendingPhrase)||(e.ownerSearch.searchPhrase=e.ownerSearch.pendingPhrase,e.showUsersDropDown=!1)},function(t){e._errorMessage(t.data,e.ownerSearch.pendingPhrase,"warning")})},e.prototype._getUserById=function(e){var t=this;return this._userService.by(e).then(function(e){return e}).catch(function(n){t._errorMessage(n.data,e,"error")})},e.prototype._isSelectAll=function(e){var t=this,n=this._.clone(e),a=this._.filter(n,function(e){return!t._.find(t.selectedTemplateList,{templateId:e.templateId})});this.selectAll=0===a.length&&e.length>0},e.prototype._updateUrlParams=function(){var e={},n="all";this._.isEmpty(this.filter.owner)||(n=this.filter.owner.id),e[t.OWNER_FILTER_OPTION]=n,this._$location.search(e)},e.prototype._setAppliedFilters=function(e){return void 0===e&&(e={}),this.appliedFilters=[],this.selectAll=!1,function(){this._.isEmpty(this.filter.owner)?(this.filter.user_filter="all",e=this._.omit(e,["user_id","user_filter"])):(e.user_id=this.filter.owner.id,this.appliedFilters.push({name:p,options:[this.filter.owner]}),this.filter.user_filter="owned_by_me");e.user_filter=this.filter.user_filter}.call(this),function(){this._.isEmpty(this.filter.dateRange.from)&&(this.filter.dateRange.from=a().locale(this._locale).utc().subtract("month",3).format("L"));e.from_date=a(this.filter.dateRange.from,"L",this._locale).utc().format("YYYY/MM/DD"),this._.isEmpty(this.filter.dateRange.to)||(e.to_date=a(this.filter.dateRange.to,"L",this._locale).add("day",1).utc().format("YYYY/MM/DD"));this.appliedFilters.push({name:u,options:[{name:a(this.filter.dateRange.from,"L",this._locale).format("L")+" \n            - "+a(this.filter.dateRange.to,"L",this._locale).format("L")}]})}.call(this),function(){this._.isEmpty(this.filter.searchPhrase)?this._.isEmpty(e.search_text)||(e=this._.omit(e,"search_text")):(e.search_text=this.filter.searchPhrase,this.appliedFilters.push({name:m,options:[{name:this.filter.searchPhrase}]}))}.call(this),this.submittedSearch=this.filter.searchPhrase,this.currentOptions=e,e},e.prototype._includeFilters=function(e){return e=this._setAppliedFilters(e)},e.prototype._errorMessage=function(e,t,n){var a="";switch(e&&e.errorCode&&e.errorCode.toUpperCase()){case"USER_NOT_FOUND":a=this._$translate.instant("No users found based on your search: {{search}}.",{search:t});break;case"ACCOUNT_DOES_NOT_EXIST_IN_SYSTEM":a=this._$translate.instant("Invalid user ID: {{userId}}.",{userId:t});break;default:a=this._$translate.instant("We had trouble loading your templates. Go ahead and try that again.")}this._.isEmpty(a)||this._message.show(a,"TemplateListError","error")},e}();o.TemplatesModule.controller("TemplateListController",["$scope","$state","$stateParams","$location","$translate","$q","TemplateService","DateTimeService","Users","userPermissions","lodash","oliveMessage","oliveModal","appUser","configuration",f])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(369),i=n(14),s=n(53),o=n(66),r=n(30),l=n(368),c=n(83),d=n(82);t.USER_UPDATED_EVENT="UserUpdated",t.REMOVE_GROUP_USER_SUCCESS="The user {{userName}} was removed from the group.",t.REMOVE_GROUP_USER_ERROR="User removal failed. Please try again.";t.USERS_ITEM_TYPE="users";var u=1e4,p="Permission Set",m="Group",g="Status",h="Active",f="Pending",v="Closed";t.ROLE_FILTER_OPTION="permission_profile_id",t.GROUP_FILTER_OPTION="group_id",t.USER_ID="user_id";var _,b="status",y="(Any)",A={name:y,isSystemRole:function(){return!0}},S=/custom/i,w=[{name:h,value:!0},{name:f,value:!0},{name:v,value:!1}],C=[{name:h,value:!0},{name:f,value:!0}],P={name:"None"},E=/no user was found/i;!function(e){e[e.Name=0]="Name",e[e.Email=1]="Email"}(_||(_={}));var T=d.SENDER_FILTER_OPTION,M=c.OWNER_FILTER_OPTION,k={Inactive:"inactive",NotViewable:"notViewable",Viewable:"viewable"},I=function(){function e(e,n,a,i,s,o,r,l,c,d,u,p,m,g,h,f,v,_,b,y,A){var S=this;this._$scope=e,this._$q=n,this._appUser=a,this._Users=i,this._dsNotification=s,this._dsModals=o,this._oliveModal=r,this._oliveMessage=l,this._$translate=c,this._$location=d,this._$state=u,this._$stateParams=p,this._=m,this._userPermissions=g,this._configuration=h,this.dsGroups=f,this.Billing=v,this.RolesService=_,this.DateTimeService=b,this.StampService=y,this._editUserCacheService=A,this.pageItemType="",this.searchPhrase="",this.viewUsersByGroupSearch=!1,this._isSelectAll=!1,this._groupId="",this._canAddNewUsers=!1,this._requireExternalUserManagement=this._appUser.currentAccountInfo.settings.requireExternalUserManagement||!1,this._initByState(),this._initGroupFilter(),this._initStatusFilter(),this._initSearch(),this._initDateTimeProperties(),this._$scope.$on(t.USER_UPDATED_EVENT,this.jumpToFirstPage.bind(this));var w=[this._initPermissionProfiles(),this._appUser.currentAccountInfo.settingsRetrieved];this.loading=this._$q.all(w).then(function(){return S._initRoleFilter(),S.viewUsersByGroupSearch=!S._.isUndefined(S.group),S._getFirstPage()}),this.pageItemType=this._$translate.instant(t.USERS_ITEM_TYPE),this._editSelectedUser()}return e.prototype.canManageBulkUsers=function(){return this.permissionProfilesLoaded&&this._userPermissions.canManageBulkUsers()},e.prototype.uploadBulkAddUsers=function(){this._canAddNewUsers||!this._showMarketing?this._uploadBulkAddUsers():this._displayRelevantMarketingModal()},e.prototype.uploadBulkUpdateUsers=function(){var e=this,t=this._$scope.$new();t.uploadType=a.USERS_UPLOAD_TYPE.Update,this._oliveModal.openModal({name:"upload-update-users-modal",scope:t,templateUrl:"user management/bulk-actions/bulk-update-users.html",showClose:!0,size:"md",onComplete:function(){e._$state.go("authenticated.bulk-actions",{bulkType:"upload-users"})}}).then(function(t){return e._$scope.uploadUsersModal=t})},e.prototype.addUser=function(){this._canAddNewUsers||!this._showMarketing?this._$state.go("authenticated.add-user"):this._displayRelevantMarketingModal()},e.prototype.edit=function(e){"Active"===e.status&&e.isEnabled&&!this.showSelect&&this._displayEditUser(e)},e.prototype.groupListSummary=function(e){var t=e.slice(0,2).map(function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)}.bind(this));return e.length>2&&t.push(this._$translate.instant("{{remainingNumberOfGroups}} more",{remainingNumberOfGroups:e.length-2})),t.join(", ")},e.prototype.resetPassword=function(e){var t=this;e.userSettings(e.id).then(function(n){n.allowPasswordChange?t._doResetPassword(e):t._displayPasswordResetNotAllowed()})},e.prototype.isLoggedInUser=function(e){return e.id===this._appUser.currentAccount.userId},e.prototype.closeUser=function(e){this._$scope.activeUser=e,this._oliveModal.openModal({size:"sm",showClose:!0,templateUrl:"user management/users/confirm-close.html",scope:this._$scope})},e.prototype.resendInvitation=function(e){this._$scope.activeUser=e,this._oliveModal.openModal({templateUrl:"user management/users/resend-invitation.html",scope:this._$scope,size:"sm",showClose:!1})},e.prototype.reactivate=function(e){this._planRequiresUpgrade?this._displayUpgradePlan():this._addingUsersIsBlocked?this._displayUserLimitReached():this._displayReactivateUser(e)},e.prototype.manageSharedEnvelopesTo=function(e){this._$state.go("authenticated.shared-envelopes-to",{userId:e.id})},e.prototype.manageSharedEnvelopesFrom=function(e){this._$state.go("authenticated.shared-envelopes-from",{userId:e.id})},e.prototype.transferEnvelopes=function(e){var t={action:d.ENVELOPES_TRANSFER_NOW};t[T]=e.id,this._$state.go("authenticated.envelopes",t)},e.prototype.transferTemplates=function(e){var t={action:d.ENVELOPES_TRANSFER_NOW};t[M]=e.id,this._$state.go("authenticated.templates",t)},e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new o.PreviousPageOptions(this.currentPage.startIndex,50);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new o.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new o.LastPageOptions(this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.applyFilters=function(){this.loading=this._getFirstPage()},e.prototype.resetFilters=function(){this.selectedRoleFilterOption=this._defaultRoleFilterOption(),this.selectedGroupFilterOption=this._defaultGroupFilterOption(),this.statusFilterOptions=this._defaultStatusFilterOptions(),this.applyFilters()},e.prototype.showTransferNowMethodsModal=function(){this._oliveModal.openModal({scope:this._$scope,size:"sm",templateUrl:"envelopes/upload-search-modal.html",showClose:!0,name:"transferNowModal"})},e.prototype.submitSearch=function(e){13===e.keyCode&&(this.loading=this._getFirstPage())},e.prototype.resetSearch=function(){this.searchPhrase="",this.loading=this._getFirstPage()},e.prototype.showDownloadCsvModal=function(){var e=this._$scope.$new();e.downloadOptions={count:this.currentPage.totalCount},e.downloadCsvUri=this.downloadCsvUri.bind(this),e.maxRowsLimit=u,this._oliveModal.openModal({scope:e,size:"md",templateUrl:function(){return this.currentPage.totalCount<=u?"user management/users/download-csv.html":"user management/users/download-csv-error.html"}.call(this),showClose:!1})},e.prototype.downloadCsvUri=function(e){var t=this._includeSearch(this._includeFilters(this._includeGroups(e)));return this._Users.getDownloadUri(t)},e.prototype.toggleUser=function(e){this._.some(this._$scope.selectedList,{id:e.id})?this._.remove(this._$scope.selectedList,function(t){return t.id===e.id}):this._$scope.selectedList.length+1<=this._getMaxSelected()&&this._$scope.selectedList.push(e),this._$scope.$emit("selectedUsersChanged")},e.prototype.isUserSelected=function(e){return e&&this._.some(this._$scope.selectedList,{id:e.id})},e.prototype.toggleSelectAll=function(){var e=this;this._isSelectAll?this.list.forEach(function(t){e._.remove(e._$scope.selectedList,function(e){return e.id===t.id})}):this.list.forEach(function(t){e.isUserSelected(t)||e._$scope.selectedList.push(t)}),this._$scope.$emit("selectedUsersChanged")},e.prototype.isSelectAll=function(){var e=this;return this._isSelectAll=!this._.isEmpty(this._$scope.selectedList)&&!this._.isEmpty(this.list),this._isSelectAll&&this.list.forEach(function(t){e.isUserSelected(t)||(e._isSelectAll=!1)}),this._isSelectAll},e.prototype.disableSelectAll=function(){if(this._.isEmpty(this.list))return!0;var e=this._getMaxSelected(),t=this._getUnselected();return this._$scope.selectedList.length+t.length>e&&!this._isSelectAll},e.prototype.disableSelect=function(e){if(!this._.isEmpty(this.list)){var t=this._getMaxSelected();return this._$scope.selectedList.length>=t&&!this.isUserSelected(e)}return!1},e.prototype.goToAssign=function(){this.dsGroups.assignAction=s.GROUP_ASSIGN_OPTIONS.USER,this._$state.go("authenticated.group-assign-users-brands")},e.prototype.isFilterByGroupOnly=function(){return this.usersByGroupOnly&&!this._.isUndefined(this.group)},e.prototype.removeGroupUser=function(e){var n=this;this.dsGroups.removeUsers(this._appUser.getCurrentAccountId(),this.group.groupId,[{userId:e.id}]).then(function(e){n._oliveMessage.show(n._$translate.instant(t.REMOVE_GROUP_USER_SUCCESS,{userName:e.userName}),"removeGroupUserSuccess","success"),n._getFirstPage()}).catch(function(e){n._oliveMessage.show(n._$translate.instant(t.REMOVE_GROUP_USER_ERROR),"removeGroupUserError","error")})},e.prototype.isDefaultSearchOptionsAssignUsersToGroup=function(){var e=this,t=this.isFilterByGroupOnly()&&!this.submittedSearch&&this.selectedRoleFilterOption&&this.selectedRoleFilterOption.isDefault;return!!t&&(!this.statusFilterOptions.some(function(t){var n=!1;return e._defaultStatusFilterOptions().forEach(function(e){n||e.name!==t.name||e.value===t.value||(n=!0)}),n})&&t)},e.prototype.isCustomGroupSelected=function(){return"customGroup"===this.group.groupType},e.prototype._getUnselected=function(){var e=this,t=[];return this._.isEmpty(this.list)||this.list.forEach(function(n){e.isUserSelected(n)||t.push(n)}),t},e.prototype._getMaxSelected=function(){var e=this._$scope.maxSelected;return this._.isNumber(e)||(e=100),e},e.prototype._initStatusFilter=function(){this.statusFilterOptions=this._defaultStatusFilterOptions()},e.prototype._defaultStatusFilterOptions=function(){return this.hideClosedStatus?this._.cloneDeep(C):this._.cloneDeep(w)},e.prototype._initSearch=function(){var e=this;this.searchPhrase=this.submittedSearch="",this.searchTypes=[{label:"Name",value:_.Name},{label:"Email",value:_.Email}],this.selectedSearchType=_.Name,this._$scope.$watch(function(){return e.selectedSearchType},function(e,t){e!==t&&(this.searchPhrase="")}.bind(this))},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this.DateTimeService.getDateTimeFormat(),this.timeZone=this.DateTimeService.getTimeZone()},e.prototype._initPermissionProfiles=function(){var e=this;this.permissionProfilesLoaded=!1;return this.RolesService.all({returnOnlyEditableRoles:!1,includeUserCount:!1,includeAccountManagement:!0}).then(function(t){e._permissionSets=t,e._initPermissionsPredicates(e._userPermissions,e._appUser.currentAccountInfo.settings),e.templateTransferEnabled=e._appUser.currentAccountInfo.settings.allowServerTemplates,e.permissionProfilesLoaded=!0})},e.prototype._initPermissionsPredicates=function(e,t){this.canManageSharing=e.canManageSharing()&&!t.disableUserSharing,this._canEditAllUsers=e.canManageAdmins(),this.allowEnvelopeCustodyTransfer=e.allowEnvelopeCustodyTransfer()},e.prototype._initRoleFilter=function(){var e=[A].concat(this._permissionSets);return this.roleFilterOptions=e.map(function(e){return{name:e.isSystemRole()?this._$translate.instant(e.name):e.name,value:e.id,isDefault:e.name===y}}.bind(this)),void(this.selectedRoleFilterOption=function(){var e=this._$stateParams[t.ROLE_FILTER_OPTION];return this._.find(this.roleFilterOptions,{value:e})}.call(this)||this._defaultRoleFilterOption.call(this))},e.prototype._defaultRoleFilterOption=function(){return this._.find(this.roleFilterOptions,"isDefault")},e.prototype._initGroupFilter=function(){var e=this;(this.isFilterByGroupOnly()?this._$q.when({groups:[this.group]}):this.dsGroups.getAllGroupsForAccount()).then(function(t){return e._originalGroups=t.groups,e.groupFilterOptions=t.groups.map(function(e){return{name:S.test(e.groupType)?e.groupName:this._$translate.instant(e.groupName),value:e.groupId,isDefault:e.groupName===l.DEFAULT_GROUP_NAME}}.bind(e)),e.selectedGroupFilterOption=function(){return this._.find(this.groupFilterOptions,{value:this._groupId})}.call(e)||e._defaultGroupFilterOption.call(e),void(e._groupId="")})},e.prototype._defaultGroupFilterOption=function(){return this.isFilterByGroupOnly()?this._.find(this.groupFilterOptions,{value:this.group.groupId}):this._.find(this.groupFilterOptions,"isDefault")},e.prototype._initPricing=function(){var e=this;if(!this._requireExternalUserManagement)return this.pricingLoaded=!1,this.Billing.userPricing().then(function(t){e._initBillingPredicates(t),e.pricingLoaded=!0});this.pricingLoaded=!0,this._initBillingPredicates()},e.prototype._initBillingPredicates=function(e){this._showMarketing=!!e&&e.showMarketing(),this._planRequiresUpgrade=!!e&&e.requiresUpgrade(),this._addingUsersIsBlocked=!e||e.addIsBlocked(),this._canAddNewUsers=!this._planRequiresUpgrade&&!this._addingUsersIsBlocked&&!this._requireExternalUserManagement,this.showAddOrCloseUser=!this._requireExternalUserManagement},e.prototype._displayUpgradePlan=function(){this._dsModals.openModal("user management/users/upgrade-plan.html",this._$scope,"sm",!1,!0)},e.prototype._displayUserLimitReached=function(){this._dsModals.openModal("user management/users/user-limit-reached.html",this._$scope,"sm",!1,!0)},e.prototype._displayEditUser=function(e){this._editUserCacheService.activeUser=e,this._editUserCacheService.permissionSets=this.RolesService.filterRolesOnUserPermission(this._permissionSets),this._editUserCacheService.groups=this._originalGroups,this._$state.go("authenticated.edit-user",{userId:e.id})},e.prototype._doResetPassword=function(e){e.resetPassword().then(this._resetPasswordSuccess.bind(this,e),this._resetPasswordError.bind(this,e))},e.prototype._resetPasswordSuccess=function(e){this._dsNotification.show({msg:this._$translate.instant("A reset password email has been sent to {{email}}.",{email:e.email}),type:"success"})},e.prototype._resetPasswordError=function(e){this._dsNotification.show({msg:this._$translate.instant("A reset password email could not be sent to {{email}}.",{email:e.email}),type:"alert"})},e.prototype._displayPasswordResetNotAllowed=function(){this._dsNotification.show({msg:this._$translate.instant("Due to SSO management rules you cannot reset the password for this user"),type:"warn"})},e.prototype._displayReactivateUser=function(e){var t=this,n={email:e.email,status:"active,activationSent,activationRequired"};function a(t){var n=this,a=t&&t.users[0];this._$scope.existingUserStatus=a&&"Active"===a.status?function(e){var t=this._.find(this._permissionSets,{id:e.permissionProfileId});return this._userPermissions.canManageAdmins()||!function(e,t){var n=t&&(t.isSuperAdminProfile||t.isGranularAdminProfile),a=e.groupList&&e.groupList.some(function(e){return"adminGroup"===e.groupType});return n||a}.call(this,e,t)?k.Viewable:k.NotViewable}.call(this,a):k.Inactive,a?this._oliveModal.openModal({name:"existing-active-user-modal",scope:this._$scope,templateUrl:"user management/users/existing-active-user-modal.html",showClose:!0,size:"md",onComplete:function(){n._Users.setSelectedUser(a),n._editSelectedUser()}}):(this._Users.setSelectedUser(e),this._$state.go("authenticated.add-user"))}this._Users.getPage(n).then(a.bind(this)).catch(function(e){e.data&&"USER_LACKS_MEMBERSHIP"!==e.data.errorCode&&"USER_NOT_FOUND"!==e.data.errorCode?t._oliveMessage.show(t._$translate.instant("An error occurred while search user by email. Please try again."),"userSearchError","error"):a.call(t)})},e.prototype._getFirstPage=function(){return this._getPage(new o.FirstPageOptions(50))},e.prototype._getPage=function(e){return void 0===e&&(e={}),this._setAppliedFilters(),function(e){return e&&e[b]}(e=this._includeSearch(this._includeFilters(this._includeGroups(e))))?this._Users.getPage(e).then(this._getPageSuccess.bind(this)).catch(this._getPageError.bind(this)).finally(this._updateUrlParams.bind(this)):(this._setNoResults(),this._$q.when())},e.prototype._includeGroups=function(e){return e.include_groups=!0,e},e.prototype._setAppliedFilters=function(){return this.appliedFilters=[],function(){this.selectedRoleFilterOption&&!this.selectedRoleFilterOption.isDefault&&this.appliedFilters.push({name:p,options:[this.selectedRoleFilterOption]})}.call(this),function(){this.isFilterByGroupOnly()||!this.selectedGroupFilterOption||this.selectedGroupFilterOption.isDefault||this.appliedFilters.push({name:m,options:[this.selectedGroupFilterOption]})}.call(this),function(){if(!this.statusFilterOptions)return;if(this.statusFilterOptions.some(function(e){return e.value})){if(!this.statusFilterOptions.every(function(e){var t=this._.find(this._defaultStatusFilterOptions(),{name:e.name});return e.value===t.value}.bind(this))){var e=this.statusFilterOptions.reduce(function(e,t){if(t.value){var n={};n[h]="Active",n[f]="ActivationSent,ActivationRequired",n[v]="Closed",e.push({name:t.name,value:n[t.name]})}return e},[]);this.appliedFilters.push({name:g,options:e})}}else this.appliedFilters.push({name:g,options:[P]});return}.call(this),void(this.submittedSearch=this.searchPhrase)},e.prototype._includeSearch=function(e){if(this.searchPhrase)switch(this.selectedSearchType){case _.Name:return e.user_name_substring=this.searchPhrase,e;case _.Email:return e.email_substring=this.searchPhrase,e;default:return e}return e},e.prototype._includeFilters=function(e){return this._includeStatusFilterOptions(this._includeSelectedGroupFilterOption(this._includeSelectedRoleFilterOption(e)))},e.prototype._includeStatusFilterOptions=function(e){return this.statusFilterOptions&&(e[b]=this.statusFilterOptions.reduce(function(e,t){return t.value?e.concat(","+function(e){switch(e){case h:return"Active";case f:return"ActivationSent,ActivationRequired";case v:return"Closed";default:return""}}(t.name)):e},"")),e},e.prototype._includeSelectedGroupFilterOption=function(e){return this.selectedGroupFilterOption&&!this.selectedGroupFilterOption.isDefault?e[t.GROUP_FILTER_OPTION]=this.selectedGroupFilterOption.value:this._groupId&&(this.group&&this.group.groupName===l.DEFAULT_GROUP_NAME||(e[t.GROUP_FILTER_OPTION]=this._groupId)),e},e.prototype._includeSelectedRoleFilterOption=function(e){return this.selectedRoleFilterOption&&!this.selectedRoleFilterOption.isDefault&&(e[t.ROLE_FILTER_OPTION]=this.selectedRoleFilterOption.value),e},e.prototype._setNoResults=function(){this.currentPage=new r.BlankPage,this.list=[]},e.prototype._getPageSuccess=function(e){this.currentPage=new r.CurrentPageFromApiPage(e.page),this.list=this._.map(e.users,this._applyGranularAdminConstraints.bind(this))},e.prototype._applyGranularAdminConstraints=function(e){var t=this._.find(this._permissionSets,function(e){return function(t){return t.id===e.permissionProfileId}}(e));return e.isEnabled=function(e,t){return this._canEditAllUsers||function(e){return this._appUser.currentAccount.userId===e.id}.call(this,e)||!function(e,t){var n=t&&(t.isSuperAdminProfile||t.isGranularAdminProfile),a=e.groupList.some(function(e){return"adminGroup"===e.groupType});return n||a}(e,t)}.call(this,e,t),e},e.prototype._getPageError=function(e){var t=this.currentPage&&this.currentPage.hasPreviousPage&&new o.PreviousPageOptions(this.currentPage.startIndex,50);return this._setNoResults(),function(e){return e.data&&e.data.message&&e.data.message.match(E)}(e)?t?this._getPage(t):this._$q.when():this._$q.reject(e)},e.prototype._updateUrlParams=function(){var e=this._includeSelectedGroupFilterOption(this._includeSelectedRoleFilterOption({}));this._$location.search(e),this.viewUsersByGroupSearch=!1},e.prototype._editSelectedUser=function(){var e=this._Users.getSelectedUser();e&&this.edit(e)},e.prototype._uploadBulkAddUsers=function(){var e=this,t=this._$scope.$new();t.uploadType=a.USERS_UPLOAD_TYPE.Add,this._oliveModal.openModal({name:"upload-add-users-modal",scope:t,templateUrl:"user management/bulk-actions/bulk-add-users.html",showClose:!0,size:"md",onComplete:function(){e._$state.go("authenticated.bulk-actions",{bulkType:"upload-users"})}}).then(function(t){return e._$scope.uploadUsersModal=t})},e.prototype._displayRelevantMarketingModal=function(){this._planRequiresUpgrade?this._displayUpgradePlan():this._addingUsersIsBlocked&&this._displayUserLimitReached()},e.prototype._initByState=function(){switch(this._$state.current.name){case"authenticated.shared-envelopes-to-add-users":case"authenticated.shared-envelopes-from-add-users":this.showActions=!1,this.showSelect=!0;break;case"authenticated.group-assign-users-brands":this.group=this.dsGroups.activeGroup,this.showActions=!1,this.showSelect=!0,this.hideClosedStatus=!0;break;case"authenticated.group-details":this.group=this.dsGroups.activeGroup,this._groupId=this.group.groupId,this.showActions=!0,this.showSelect=!1,this.usersByGroupOnly=!0;break;case"authenticated.stamp-assign-users-groups":this.activeStamp=this.StampService.activeStamp,this.showActions=!0,this.showSelect=!0;break;default:this._groupId=this._$stateParams[t.GROUP_FILTER_OPTION],this.showActions=!0,this.showSelect=!1,this._initPricing()}},e}();i.UsersModule.controller("UserListController",["$scope","$q","appUser","Users","dsNotification","dsModals","oliveModal","oliveMessage","$translate","$location","$state","$stateParams","lodash","userPermissions","configuration","dsGroups","Billing","RolesService","DateTimeService","StampService","EditUserCacheService",I])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.ApiConversionModule=a.module("radmin.ApiConversion",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.AuthenticationModule=a.module("radmin.Authentication",[])},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BRAIN_TREE="Braintree",t.PAYEEZY="Payeezy",t.CYBER_SOURCE="CyberSource",t.AUTHORIZE_DOT_NET="AuthorizeDotNet";var a=function(){function e(e,t,n){this.api=e,this.RADminApiClient=t,this.configuration=n}return e.prototype.createConfiguration=function(e,t){var n=this.api.endpoint().accounts(e).paymentGatewayAccounts();return n=t.isLegacy?n.uri({is_legacy:!0}):n.uri(),this.api.post(n,t)},e.prototype.getConfigurations=function(e){var t=this.api.endpoint().accounts(e).paymentGatewayAccounts().uri();return this.api.get(t).then(function(e){return e.data.paymentGatewayAccounts})},e.prototype.updateConfiguration=function(e,t){var n=this.api.endpoint().accounts(e).paymentGatewayAccounts(t.paymentGatewayAccountId);return n=t.isLegacy?n.uri({is_legacy:!0}):n.uri(),this.api.put(n,t)},e.prototype.delete=function(e,t){var n=this.api.endpoint().accounts(e).paymentGatewayAccounts(t.getAccountConnectionId());return n=t.isLegacyAccount()?n.uri({is_legacy:!0}):n.uri(),this.api.delete(n)},e.prototype.validate=function(e,t){var n=this.api.endpoint().accounts(e).paymentGatewayAccounts(t.getAccountConnectionId()).validation().uri();return this.api.get(n)},e.prototype.getPaymentGateways=function(e){var t=this.api.endpoint().accounts(e).paymentGateways().uri();return this.api.get(t).then(function(e){return e.data.paymentGateways})},e.prototype.logPaymentGatewayData=function(e){return this.RADminApiClient.logClientMessage(e)},e.prototype.logPaymentGatewayCounter=function(e,t){var n={type:"counter",eventName:e,message:{instanceName:t}};return this.RADminApiClient.logClientMessage(n)},e.prototype.getGatewayConnectUrl=function(e,t,n){var a=this,i=t.paymentGateway.toLowerCase(),s=this.api.endpoint().accounts(e).paymentGateways(i).oauth().start().uri(n);return this.api.get(s).then(function(e){return e&&e.data?e.data.connectUrl:null}).catch(function(){return!!(s=(a.configuration.paymentProvidersConnectUris||{})[i]||{stripe:"https://connect.stripe.com/oauth/authorize?stripe_landing=login&always_prompt=true&response_type=code&scope=read_write",authorizedotnet:"https://sandbox.authorize.net/oauth/authorize?sub=oauth&scope=read,write"}[i])&&s+"&state="+n.state+"&client_id="+t.oauthAuthentication.clientId+"&redirect_uri="+encodeURIComponent(n.redirectUrl)})},e.prototype.reconnect=function(e,t,n){var a=this.api.endpoint().accounts(e).paymentGatewayAccounts(t).reconnect().uri();return this.api.post(a,{config:n})},e}();t.Payments=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=function(){function e(){}return e.createFromApiResponse=function(t){return e.create(t.status,t.data.error)},e.create=function(t,n){var i=e.errors[t+"-"+n];return a.isUndefined(i)&&(i=e.defaultMessage),i},e.defaultMessage="DocuSign is temporarily unavailable. Please try again momentarily.",e.errors={"422-OrganizationInvalid":"Your organization has not been configured correctly. Please contact support.","400-OrganizationInvalid":"Your organization has not been configured correctly. Please contact support.","422-OrganizationReservedDomainInvalidHostName":"Invalid domain name. Please specify a proper domain.","400-OrganizationReservedDomainInvalidHostName":"Invalid domain name. Please specify a proper domain.","422-OrganizationReservedDomainInsertFailed":"This domain is already claimed by another organization.","400-OrganizationReservedDomainInsertFailed":"This domain is already claimed by another organization.","500-OrganizationReservedDomainInsertFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","422-OrganizationReservedDomainInvalid":"An error occurred. Please contact support.","400-OrganizationReservedDomainInvalid":"An error occurred. Please contact support.","404-OrganizationReservedDomainNotFound":"An error occurred. Please contact support.","422-OrganizationOrganizationReservedDomainMismatch":"An error occurred. Please contact support.","400-OrganizationOrganizationReservedDomainMismatch":"An error occurred. Please contact support.","422-OrganizationReservedDomainHostNameMismatch":"An error occurred. Please contact support.","400-OrganizationReservedDomainHostNameMismatch":"An error occurred. Please contact support.","500-OrganizationReservedDomainUpdateFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","500-OrganizationReservedDomainDeleteFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","403-OrganizationReservedDomainVerifyFailed":"We could not verify the TXT token in the DNS entry for this domain. Please update your DNS entry with the TXT token provided.","500-OrganizationReservedDomainVerifyFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","422-IdentityProviderInvalid":"An error occurred. Please contact support.","400-IdentityProviderInvalid":"An error occurred. Please contact support.","404-IdentityProviderNotFound":"An error occurred. Please contact support.","422-OrganizationIdentityProviderMismatch":"An error occurred. Please contact support.","400-OrganizationIdentityProviderMismatch":"An error occurred. Please contact support.","422-InvalidModel":"An error occurred. Please contact support.","400-InvalidModel":"An error occurred. Please contact support.","422-IdentityProviderFriendlyNameAlreadyInUse":"This friendly name is already being used within DocuSign. Please specify a unique friendly name.","400-IdentityProviderFriendlyNameAlreadyInUse":"This friendly name is already being used within DocuSign. Please specify a unique friendly name.","422-IdentityProviderIssuerAlreadyInUse":"This Identity Provider has already been configured in DocuSign. Please specify a different issuer to continue.","400-IdentityProviderIssuerAlreadyInUse":"This Identity Provider has already been configured in DocuSign. Please specify a different issuer to continue.","422-IdentityProviderInsertFailed":"An error occurred. Please contact support.","400-IdentityProviderInsertFailed":"An error occurred. Please contact support.","500-IdentityProviderInsertFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","500-IdentityProviderDeleteFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","500-IdentityProviderCertificateInfoInsertFailed":"DocuSign is temporarily unavailable. Please try again momentarily.","422-IdentityProviderCertificateInvalid":"The certificate is invalid.","400-IdentityProviderCertificateInvalid":"The certificate is invalid.","404-IdentityProviderCertificateMismatch":"The certificate does not belong to the specified Identity Provider. Please upload the proper certificate.","500-IdentityProviderCertificateInfoDeleteFailed":"DocuSign is temporarily unavailable. Please try again momentarily."},e}();t.ErrorResponseModel=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a,i,s,o,r){this.orgId=e,this.providerId=t,this.providerName=n,this.providerType=a,this.status=i,this.capabilities=s,this.features=o,this.settings=r,this.userProfiles=!1,this.emailAliasing=!1}return e.create=function(t){var n=new e(t.organization_id,t.directory_provider_id,t.provider_name,t.provider_type,t.status,t.capabilities,t.features,t.settings);return-1!==n.capabilities.indexOf("user_profiles")&&(n.userProfiles=!0),-1!==n.features.indexOf("email_aliasing")&&(n.emailAliasing=!0),n},e.toApiJson=function(e){return{provider_name:e.providerName,provider_type:e.providerType,status:e.status,user_profiles:e.userProfiles,email_aliasing:e.emailAliasing}},e.prototype.isActive=function(){return"active"===this.status},e}();t.DirectoryProviderModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(13),s=function(){function e(){this.authorizationFailureHandlers=[]}return e.prototype.addAuthorizationFailureHandler=function(e){this.authorizationFailureHandlers.push(e)},e.prototype.clearAuthorization=function(){this.token=null},e.prototype.setAuthorization=function(e){this.token=e},e.prototype.reportAuthorizationFailure=function(e,t){a.forEach(this.authorizationFailureHandlers,function(n){n(e,t)})},e.prototype.authorizeRequestOptions=function(e){if(!i.isEmpty(this.token)&&i.isString(this.token.acceptedHeaderName)){var t={};return t[this.token.acceptedHeaderName]=this.token.token,i.merge(e||{},{headers:t})}return e},e.prototype.authorizeUri=function(e){var t=e;if(!i.isEmpty(this.token)&&i.isString(this.token.acceptedQueryStringName)){var n=encodeURIComponent(this.token.acceptedQueryStringName)+"="+encodeURIComponent(this.token.token);t=/\?/.test(e)?e+"&"+n:e+"?"+n}return t},e}();t.ManagedClient=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,s=n(363),o=n(105);!function(e){e[e.upgrade=0]="upgrade",e[e.updateCard=1]="updateCard",e[e.closeAccount=2]="closeAccount"}(i=t.MagentoBillingAction||(t.MagentoBillingAction={}));var r=function(e){function t(t,n,a){var i=e.call(this)||this;return i.$http=t,i._=a,n.registerClient(i),i}return a(t,e),t.prototype.generateHomeUri=function(e){var t=this._.compact(this._.flatten([e,this._.keys(this.token.dsApiTokens),"default"])),n=this._.head(t),a=this._.head([this.token.dsApiTokens[n],this.token.token]);return"/redirectToConsole?accountId="+encodeURIComponent(n)+"&"+encodeURIComponent(this.token.acceptedQueryStringName)+"="+encodeURIComponent(a)},t.prototype.generateLogoutUri=function(){return this.authorizeUri("/logout")},t.prototype.generateAppPromotionDestinationUri=function(){var e=this,t=this.$http.get("/redirectForAppPromotionDestination");return this.monitorRequest(t),t.then(function(t){return e.authorizeUri(t.data.url)})},t.prototype.logClientMessage=function(e){var t=this.$http.post("/log",e,this.authorizeRequestOptions());return this.monitorRequest(t),t.then(function(){})},t.prototype.createMagentoUri=function(e,t,n,a){var s={action:i[t],accountId:e,returnUri:n,extra:a},o=this.$http.post("/magento",s,this.authorizeRequestOptions());return this.monitorRequest(o),o.then(function(e){return e.data.magentoUri})},t.prototype.ping=function(){return this.$http.get("/ping").then(function(){})},t.prototype.submitUserFeedback=function(e){var t=this.$http.post("/feedback",e,this.authorizeRequestOptions());return this.monitorRequest(t),t.then(function(){})},t.prototype.monitorRequest=function(e){var t=this;e.error(function(e,n,a,i){401===n&&t.reportAuthorizationFailure(i.url,e)})},t}(o.ManagedClient);t.Client=r,s.apiModule.service("RADminApiClient",["$http","RADminAuthorizationManager","lodash",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.name="",this.url="",this.applianceType="",this.settings={}}return e.create=function(t){var n=new e;return n.id=t.id,n.poolId=t.appliance_pool_id,n.name=t.name,n.url=t.url,n.settings=t.settings,n.applianceType=t.type,n},e.convertToModel=function(t){var n=new e;return n.id=t.id,n.poolId=t.poolId,n.name=t.name,n.url=t.url,n.applianceType=t.applianceType,n.settings=t.settings,n},e.prototype.toApiJson=function(){return{name:this.name,appliance_pool_id:this.poolId,id:this.id,url:this.url,settings:this.settings,type:this.applianceType}},e}();t.ApplianceModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(107),s=function(){function e(){this.name="",this.organizationId="",this.settings={},this.appliances=[],this.accounts=[],this.applianceType=""}return e.create=function(t){var n=new e;n.id=t.id,n.name=t.name,n.organizationId=t.organization_id,n.settings=t.settings;var s=t.appliances;return n.appliances=a.map(s,i.ApplianceModel.create),n.accounts=t.accounts,n.applianceType=t.type,n},e.convertToModel=function(t){var n=new e;return n.id=t.id,n.name=t.name,n.organizationId=t.organizationId,n.settings=t.settings,n.appliances=a.map(t.appliances,i.ApplianceModel.convertToModel),n.accounts=t.accounts,n.applianceType=t.applianceType,n},e.convertFromLegacy=function(t,n,a){var i=new e;for(var s in i.applianceType="Security",i.name=t.name,t)i.settings[s]=t[s];return i.organizationId=a,i.appliances=n,i},e.prototype.toApiJson=function(){return{name:this.name,id:this.id,organization_id:this.organizationId,settings:this.settings,appliances:this.appliances,accounts:this.accounts,type:this.applianceType}},e}();t.AppliancePoolModel=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(30),s=n(66),o="users",r="Domain",l="Account",c="Status";t.MEMBERSHIP_STATUS_FILTER_NAME="Membership Status";var d="Active",u="Pending",p="Closed";t.STATUS_FILTER_OPTION="status",t.ACCOUNT_FILTER_OPTION="account_id",t.DOMAIN_FILTER_OPTION="organization_reserved_domain_id",t.MEMBERSHIP_STATUS_FILTER_OPTION="membership_status";var m=/no user was found/i,g=function(){function e(e,t,n,i,s,r,l,c,m,g,h,f,v){var _=this;this._$scope=e,this._=t,this._organizationService=n,this._$stateParams=i,this._$state=s,this._oliveMessage=r,this._$translate=l,this._$q=c,this._dateTimeService=m,this._$location=g,this._oliveModal=h,this._featureNotificationService=f,this._userPermissions=v,this._filterAccountId="",this.organizationId="",this.list=[],this.pageItemType="",this.domainFilterOptions=[],this.accountFilterOptions=[],this.statusFilterOptions=[{name:d,value:"active"},{name:u,value:"pending"},{name:p,value:"closed"}],this.bulkActionNotificationText=this._userPermissions.canAccessOrganizationBulkAction()?a.BULK_ACTION_NOTIFICATION:"",this.showBulkActionNewIcon=!1,this._filterAccountId=this._$stateParams.account_id,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)?this._$state.go("authenticated"):this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this._initStatusFilter(),this._initDateTimeProperties(this._dateTimeService),this.loading=this._organizationService.getOrganizationAccounts(this.organizationId).then(function(e){return _._initDomains(_.organization.reserved_domains),_._initAccounts(e),_._getFirstPage()}),this.pageItemType=this._$translate.instant(o),this.showBulkActionNewIcon=this._featureNotificationService.isNotificationOn(this.organizationId,a.TILE_KEYS.ORG_BULK_ACTION)}return e.prototype.isAccountFilter=function(){return!this._.isEmpty(this._$stateParams[t.ACCOUNT_FILTER_OPTION])},e.prototype.isDomainFilter=function(){return this._.isEmpty(this._$stateParams[t.ACCOUNT_FILTER_OPTION])&&!this._.isEmpty(this._$stateParams[t.DOMAIN_FILTER_OPTION])},e.prototype.createUser=function(){this._$state.go("authenticated.organization-create-user",{organization_id:this.organizationId})},e.prototype.userProfile=function(e){this._$state.go("authenticated.organization-user-profile",{organization_id:this.organizationId,email:e.email})},e.prototype.isDomainUser=function(e){var t=this,n=!1;return!this._.isEmpty(this.domainFilterOptions)&&e&&this.domainFilterOptions.forEach(function(a){t._.endsWith(e.email,"@"+a.name.toLowerCase())&&(n=!0)}),n},e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new s.PreviousPageOptions(this.currentPage.startIndex,50);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new s.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new s.LastPageOptions(this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.applyFilters=function(){this.loading=this._getFirstPage()},e.prototype.resetFilters=function(){this.selectedStatusOption=this._defaultStatus,this.selectedAccountOption=this._defaultAccount,this.selectedDomainOption=this._defaultDomain,this.applyFilters()},e.prototype._initStatusFilter=function(){this.selectedStatusOption=function(){var e=this._$stateParams[t.STATUS_FILTER_OPTION];return this._.find(this.statusFilterOptions,{value:e})}.call(this),this._defaultStatus=this._.find(this.statusFilterOptions,{value:"active"})},e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getFirstPage=function(){return this._getPage(new s.FirstPageOptions(50))},e.prototype._toApiPage=function(e){return e.start=e.start_position,e.take=e.count,e=this._.omit(e,"start_position"),e=this._.omit(e,"count")},e.prototype._getPage=function(e){return void 0===e&&(e={}),this._setAppliedFilters(),function(e){return e&&e[t.STATUS_FILTER_OPTION]}(e=this._toApiPage(this._includeFilters(e)))?this._getUsers(e).then(this._getPageSuccess.bind(this)).catch(this._getPageError.bind(this)).finally(this._updateUrlParams.bind(this)):(this._setNoResults(),this._$q.when())},e.prototype._initDomains=function(e){e=this._.filter(e,function(e){return"active"===e.status.toString().toLowerCase()}),this.domainFilterOptions=e.map(function(e){return{name:e.host_name,value:e.id}}.bind(this)).sort(this._byName),this.selectedDomainOption=function(){var e=this._$stateParams[t.DOMAIN_FILTER_OPTION];return this._.find(this.domainFilterOptions,{value:e})}.call(this),this.isAccountFilter()?this._defaultDomain="":this._defaultDomain=this.selectedDomainOption},e.prototype._initAccounts=function(e){this.accountFilterOptions=e.map(function(e){return{name:e.account_name+" ("+e.external_account_id+")",value:e.account_id}}.bind(this)).sort(this._byName),this.selectedAccountOption=function(){var e=this._$stateParams[t.ACCOUNT_FILTER_OPTION];return this._.find(this.accountFilterOptions,{value:e})}.call(this),this._defaultAccount=this.selectedAccountOption},e.prototype._getUsers=function(e){return this.isAccountFilter()&&(e.membership_status=e.status),this._organizationService.getOrganizationUsers(this.organizationId,e)},e.prototype._setAppliedFilters=function(){return this.appliedFilters=[],function(){this.selectedDomainOption&&this.appliedFilters.push({name:r,options:[this.selectedDomainOption]})}.call(this),function(){this.selectedAccountOption&&this.appliedFilters.push({name:l,options:[this.selectedAccountOption]})}.call(this),void function(){this.selectedStatusOption&&(this.isAccountFilter()?this.appliedFilters.push({name:t.MEMBERSHIP_STATUS_FILTER_NAME,options:[this.selectedStatusOption]}):this.appliedFilters.push({name:c,options:[this.selectedStatusOption]}))}.call(this)},e.prototype._includeFilters=function(e){return this._includeStatusFilterOptions(this._includeSelectedAccountFilterOption(this._includeSelectedDomainFilterOption(e)))},e.prototype._includeStatusFilterOptions=function(e){return this.selectedStatusOption&&!this.selectedStatusOption.isDefault&&(e[t.STATUS_FILTER_OPTION]=this.selectedStatusOption.value),e},e.prototype._includeSelectedAccountFilterOption=function(e){return this.selectedAccountOption&&!this.selectedAccountOption.isDefault&&(e[t.ACCOUNT_FILTER_OPTION]=this.selectedAccountOption.value),e},e.prototype._includeSelectedDomainFilterOption=function(e){return this.selectedDomainOption&&!this.selectedDomainOption.isDefault&&(e[t.DOMAIN_FILTER_OPTION]=this.selectedDomainOption.value),e},e.prototype._setNoResults=function(){this.currentPage=new i.BlankPage,this.list=[]},e.prototype._toPage=function(e){return{startPosition:e.result_set_start_position,endPosition:e.result_set_end_position,totalSetSize:e.total_set_size,previousUri:e.previous,nextUri:e.next}},e.prototype._getPageSuccess=function(e){var t=this._toPage(e.paging);this.currentPage=new i.CurrentPageFromApiPage(t),this.list=e.users},e.prototype._getPageError=function(e){var t=this.currentPage&&this.currentPage.hasPreviousPage&&new s.PreviousPageOptions(this.currentPage.startIndex,50);return this._setNoResults(),function(e){return e.data&&e.data.message&&e.data.message.match(m)}(e)?t?this._getPage(t):this._$q.when():this._$q.reject(e)},e.prototype._updateUrlParams=function(){var e=this._includeStatusFilterOptions(this._includeSelectedAccountFilterOption(this._includeSelectedDomainFilterOption({})));this._$location.search(e)},e.prototype._byName=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1},e}();t.ManageOrganizationUsersController=g,a.OrganizationModule.controller("ManageOrganizationUsersController",["$scope","lodash","OrganizationService","$stateParams","$state","oliveMessage","$translate","$q","DateTimeService","$location","oliveModal","FeatureNotificationService","userPermissions",g])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.EnvelopesModule=a.module("radmin.Envelopes",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=function(){function e(e){var t=this;this._=e,this.refreshPage=function(){var e={count:a.PAGE_SIZE,start_position:0===t.page.totalSetSize?0:t.page.startPosition};t.loaded=t.getPage(e)},this.pageForward=function(){var e={count:a.PAGE_SIZE,start_position:+t.page.endPosition+1};t.loaded=t.getPage(e)},this.pageBackward=function(){var e={count:a.PAGE_SIZE,start_position:+t.page.startPosition-a.PAGE_SIZE};t.loaded=t.getPage(e)},this.jumpToFirstPage=function(){t.loaded=t.getPage(a.FIRST_PAGE)},this.jumpToLastPage=function(){var e=Math.floor((t.page.totalSetSize-1)/a.PAGE_SIZE),n={count:a.PAGE_SIZE,start_position:e*a.PAGE_SIZE};t.loaded=t.getPage(n)},this.setSearchMethod=function(){t.page.totalSetSize>a.PAGE_SIZE?t.search.method="api":(t.search.method="client",t.originalList=t._.cloneDeep(t.list))},this.submitSearchPhrase=function(e){e&&13!==e.keyCode||(t.search.phrase=t.search.pendingPhrase,"client"===t.search.method?t.getClientPage():"api"===t.search.method&&(t.loaded=t.getPage(a.FIRST_PAGE)))},this.getClientPage=function(){var e=t.filterList(t.originalList),n={list:e,page:{startPosition:e.length>0?0:-1,endPosition:e.length-1,resultSetSize:e.length,totalSetSize:e.length}};t.setPage(n)},this.resetSearch=function(){t.search.pendingPhrase="",t.search.phrase="",t.loaded=t.getPage(a.FIRST_PAGE)},this.hasItems=function(){return!t._.isEmpty(t.list)},this.pageControls={jumpToFirstPage:this.jumpToFirstPage,pageForward:this.pageForward,refreshPage:this.refreshPage,pageBackward:this.pageBackward,jumpToLastPage:this.jumpToLastPage},this.search={method:"api",pendingPhrase:"",phrase:""},this.getPage=this.setGetPage(),this.setPage=this.setSetPage(),this.filterList=this.setFilterList(),this.getSearchOptions=this.setGetSearchOptions()}return e.booleanUIMapping={true:"Yes",false:"No"},e}();t.SearchablePagingController=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.SystemUpdatesModule=a.module("radmin.SystemUpdates",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14);t.MAX_USER_SELECTED_EXCEEDED_MSG="Only {{maxCount}} users can be assigned at a time. Please assign the currently selected users, then select additional users as needed";var i=function(){function e(e,t,n,a,i,s,o,r){this._$scope=e,this._$state=t,this._$stateParams=n,this._$translate=a,this._=i,this._shareAccessService=s,this._userService=o,this._oliveMessage=r,this.isSaving=!1,this._$scope.selectedList=[],this._$scope.maxSelected=100,this._initialize(),this._$scope.$on("selectedUsersChanged",this._showMaxMessage.bind(this))}return e.prototype.save=function(){var e=this;this._oliveMessage.closeAll();var t=[];this._$scope.selectedList.forEach(function(n){var a={userId:n.id};"to"===e._shareDirection?a.sharedTo=!0:"from"===e._shareDirection&&(a.sharedFrom=!0),t.push(a)});var n={user:{userId:this._userId},envelopeSharedAccess:t};this.isSaving=!0,this._shareAccessService.share(n,{preserve_existing_shared_access:!0}).then(function(){var t=1===e._$scope.selectedList.length?"1 user shared successfully.":e._$translate.instant("{{count}} users shared successfully.",{count:e._$scope.selectedList.length});e._oliveMessage.show(t,"usersSharedAccess","success"),e.goBack()})},e.prototype.goBack=function(){"to"===this._shareDirection?this._$state.go("authenticated.shared-envelopes-to",{userId:this._userId}):"from"===this._shareDirection&&this._$state.go("authenticated.shared-envelopes-from",{userId:this._userId})},e.prototype._initialize=function(){var e=this;"authenticated.shared-envelopes-to-add-users"===this._$state.current.name?this._shareDirection="to":"authenticated.shared-envelopes-from-add-users"===this._$state.current.name&&(this._shareDirection="from"),this._.isEmpty(this._$stateParams.userId)||(this._userId=this._$stateParams.userId,this._userService.by(this._userId).then(function(t){e._user=t,e._setLabels()}))},e.prototype._setLabels=function(){"to"===this._shareDirection?this.headerTitle=this._$translate.instant("Select users to share envelopes with {{user}}",{user:this._user.name}):"from"===this._shareDirection&&(this.headerTitle=this._$translate.instant("Select users for {{user}} to share envelopes with",{user:this._user.name}))},e.prototype._showMaxMessage=function(){if(this._oliveMessage.closeAll(),this._$scope.selectedList.length===this._$scope.maxSelected){var e=this._$translate.instant(t.MAX_USER_SELECTED_EXCEEDED_MSG,{maxCount:this._$scope.maxSelected});this._oliveMessage.show(e,"maxSelectedReached","warning")}},e}();a.UsersModule.controller("SharedEnvelopesAddUsersController",["$scope","$state","$stateParams","$translate","lodash","ShareAccessService","Users","oliveMessage",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(38);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.USER=1]="USER",e[e.GROUP=2]="GROUP"}(a=t.STAMP_ASSIGN_OPTIONS||(t.STAMP_ASSIGN_OPTIONS={}));var s=function(){function e(e,t,n){this._$state=e,this._stampService=t,this._=n,this.activateUsersTab=!0,this.activateGroupsTab=!1,this._initStamps(),this.activateUsersTab=this._activeAction===a.USER,this.activateGroupsTab=this._activeAction===a.GROUP}return e.prototype._initStamps=function(){this.stamp=this._stampService.activeStamp,this._activeAction=this._stampService.assignAction,this._stampService.assignAction=a.UNKNOWN,this._.isUndefined(this.stamp)&&this._$state.go("authenticated.stamps")},e}();i.StampsModule.controller("StampAssignmentController",["$state","StampService","lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(3),s=n(30);t.RESEND_SUCCESSFUL_MESSAGE="Invitation has been resent.",t.RESEND_FAIL_MESSAGE="There is an issue resending the invitation, please try again later.",t.INVITATION_DELETE_SUCCESSFUL_MESSAGE="Invitation has been deleted.",t.ADMIN_DELETE_SUCCESSFUL_MESSAGE="Admin has been deleted.",t.ADMIN_DELETE_ERROR_MESSAGE="An error occurred while deleting Admin, please try again later.",t.REMOVE_ORGANIZATION_ADMIN_TEXT="Are you sure you want to remove this organization admin? The user will lose all access to this organization.",t.REMOVE_ORGANIZATION_ADMIN_TITLE="Remove Admin",t.DELETE_INVITATION_TEXT="This person will no longer be invited as Admin. Would you like to continue?",t.DELETE_INVITATION_TITLE="Confirm Delete Invitation";var o="Status",r="Active",l="Pending",c="Closed",d={name:"None"},u="Admins",p=[{name:r,value:!0},{name:l,value:!0}],m=function(){function e(e,t,n,a,i,s,o,r,l,c,d){var p=this;this._$scope=e,this._=t,this._organizationService=n,this._$stateParams=a,this._$state=i,this._oliveMessage=s,this._$translate=o,this._$q=r,this._oliveModal=l,this._$filter=c,this._appUser=d,this.admins=[],this.list=[],this.originalList=[],this.displayList=[],this.searchPhrase="",this.submittedSearch="",this.pageItemType="",this._filterSearch=function(){var e=p._.cloneDeep(p.displayList),t="";return p._setAppliedFilters(),p._.isEmpty(p.searchPhrase)||(t=p.searchPhrase.toLowerCase(),e=p._$filter("filter")(p.displayList,function(e){if(this._.includes(this._.trim(e.user_name).toLowerCase(),t))return e}.bind(p)),p._updateSearchOption(e)),p.appliedFilters.length>0&&(e=function(){var t=this,n=[];this.appliedFilters.length>0&&(n=this._.map(this.appliedFilters[0].options,"value"),e=this._.filter(e,function(e){return t._.includes(n,e.organization_admin_status)}));return e}.call(p),p._updateSearchOption(e)),e},this._search=function(){var e=p._filterSearch();p.currentPage.totalCount=e.length,p.jumpToFirstPage(),p.submittedSearch=p.searchPhrase},this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)?this._$state.go("authenticated"):this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this._initStatusFilter(),this.loading=this._initAdmins(),this.pageItemType=this._$translate.instant(u)}return e.prototype._initAdmins=function(){var e=this;return this.originalList=[],this.list=[],this._getInvitations().then(this._getAdmins.bind(this)).then(function(){e.currentPage={totalCount:e.originalList.length,startIndex:0,endIndex:e.originalList.length-1,hasPreviousPage:!1,hasNextPage:!1},e._search()})},e.prototype._getInvitations=function(){var e=this;return this._organizationService.getOrganizationInvitations(this.organizationId).then(function(t){e._.isEmpty(t.admins)||t.admins.forEach(function(t){t.organization_permission_name=e._setPermissionSetName(t),e._addToAdmins(t)})})},e.prototype._getAdmins=function(){var e=this;return this._organizationService.getOrganizationAdmins(this.organizationId).then(function(t){e._.isEmpty(t.admins)||(t.admins.forEach(function(e){this._.isEmpty(e.user_name)||this._.isEmpty(e.email)||(e.organization_permission_name=this._setPermissionSetName(e),this._addToAdmins(e))}.bind(e)),e._determineDefaultAdminProfile())})},e.prototype._setPermissionSetName=function(e){var t=this._.find(this._organizationService.currentOrg.permissionSets,{id:e.organization_permission_id});return this._$translate.instant(t?t.name:"None")},e.prototype._addToAdmins=function(e){this.originalList.push(e)},e.prototype._findAdminsByEmail=function(e){return this._.filter(this.originalList,{email:e})},e.prototype._determineDefaultAdminProfile=function(){var e=this;this.displayList=[],this._.sortBy(this.originalList,"created_on").forEach(function(t){e._.some(e.displayList,{email:t.email})||e.displayList.push(t)})},e.prototype._confirmDeleteInvitation=function(e){var n=this;this._organizationService.deleteOrganizationInvitation(this.organizationId,e.id).then(function(){n._removeFromList(e),n._oliveMessage.show(n._$translate.instant(t.INVITATION_DELETE_SUCCESSFUL_MESSAGE),"invitationDeleteSuccess","success")}).finally(function(){n.loading=n._initAdmins()})},e.prototype._confirmDeleteAdmin=function(e){var n=this,a=[];this._findAdminsByEmail(e.email).forEach(function(e){a.push(function(e){var t=this;return this._organizationService.deleteOrganizationAdmin(this.organizationId,e.id).then(function(){t._removeFromList(e)})}.call(n,e))}),this._$q.all(a).then(function(){n._oliveMessage.show(n._$translate.instant(t.ADMIN_DELETE_SUCCESSFUL_MESSAGE),"adminDeleteSuccess","success")}).catch(function(){n._oliveMessage.show(n._$translate.instant(t.ADMIN_DELETE_ERROR_MESSAGE),"remove-organization-admin-error","error")}).finally(function(){n.loading=n._initAdmins()})},e.prototype._removeFromList=function(e){this._.remove(this.list,function(t){return t.id===e.id}),this._.remove(this.originalList,function(t){return t.id===e.id}),this._search()},e.prototype._getPage=function(e){this.currentPage=e;var t=this._filterSearch();this.list=t.slice(e.startIndex,e.endIndex+1)},e.prototype._updateSearchOption=function(e){this.currentPage.totalCount=e.length||0},e.prototype._initStatusFilter=function(){this.statusFilterOptions=this._defaultStatusFilterOptions()},e.prototype.createAdmin=function(){var e=this._$scope.$new();e.organizationId=this.organizationId,e.refresh=this._initAdmins.bind(this),this._oliveModal.openModal({scope:e,templateUrl:"organization/invite-admin.html",showClose:!0})},e.prototype.isPending=function(e){return"active"!==e.organization_admin_status},e.prototype.hasMenuActions=function(e){return this.isPending(e)||this.canRemove(e)||this.canEditMembership(e)},e.prototype.canRemove=function(e){return!this.isPending(e)&&!this.isCurrentUser(e)},e.prototype.canEditMembership=function(e){return this.isPending(e)||!this.isCurrentUser(e)},e.prototype.deleteInvitation=function(e){var n={title:this._$translate.instant(t.DELETE_INVITATION_TITLE),text:this._$translate.instant(t.DELETE_INVITATION_TEXT),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this._confirmDeleteInvitation.bind(this,e)};this._oliveModal.confirmationModal(n)},e.prototype.deleteAdmin=function(e){var n={title:this._$translate.instant(t.REMOVE_ORGANIZATION_ADMIN_TITLE),text:this._$translate.instant(t.REMOVE_ORGANIZATION_ADMIN_TEXT),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this._confirmDeleteAdmin.bind(this,e)};this._oliveModal.confirmationModal(n)},e.prototype.isCurrentUser=function(e){return e&&this._appUser.currentAccountInfo.userInformation.userId===e.user_id},e.prototype.resend=function(e,n){var a=this;this._organizationService.updateOrganizationInvitation(this.organizationId,e.id,e).then(function(e){a.admins[n]=e,a._oliveMessage.show(a._$translate.instant(t.RESEND_SUCCESSFUL_MESSAGE),"resendSuccess","success")},function(){a._oliveMessage.show(a._$translate.instant(t.RESEND_FAIL_MESSAGE),"resendFail","error")})},e.prototype.jumpToFirstPage=function(){var e=new s.FirstPageOptions(this.currentPage,50);this._getPage(e)},e.prototype.pageBackward=function(){var e=new s.PreviousPageOptions(this.currentPage,50);this._getPage(e)},e.prototype.pageForward=function(){var e=new s.NextPageOptions(this.currentPage,50);this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new s.LastPageOptions(this.currentPage,50);this._getPage(e)},e.prototype.submitSearch=function(e){13===e.keyCode&&this._search()},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this._search()},e.prototype.resetFilters=function(){this._updateSearchOption(this.originalList),this.statusFilterOptions=this._defaultStatusFilterOptions(),this.applyFilters()},e.prototype.applyFilters=function(){this._search()},e.prototype.edit=function(e){var t=this._$scope.$new();t.userInfo={email:e.email,user_name:e.user_name,organization_permission_id:this._setOrganizationPermissionId(e.organization_permission_id),organization_admin_status:e.organization_admin_status},t.organizationId=this.organizationId,t.invitationId=e.id,t.refresh=this._initAdmins.bind(this),this._oliveModal.openModal({name:"make-organization-admin",scope:t,templateUrl:"organization/invite-admin.html",showClose:!0,size:"md"})},e.prototype._setOrganizationPermissionId=function(e){return e!==i.GUID_EMPTY?e:""},e.prototype._defaultStatusFilterOptions=function(){return this._.cloneDeep(p)},e.prototype._setAppliedFilters=function(){return this.appliedFilters=[],function(){if(!this.statusFilterOptions)return;if(this.statusFilterOptions.some(function(e){return e.value})){if(!this.statusFilterOptions.every(function(e){var t=this._.find(p,{name:e.name});return e.value===t.value}.bind(this))){var e=this.statusFilterOptions.reduce(function(e,t){if(t.value){var n={};n[r]="active",n[l]="invitation_sent",n[c]="closed",e.push({name:t.name,value:n[t.name]})}return e},[]);this.appliedFilters.push({name:o,options:e})}}else this.appliedFilters.push({name:o,options:[d]});return}.call(this),void(this.submittedSearch=this.searchPhrase)},e}();t.OrganizationAdminsController=m,a.OrganizationModule.controller("OrganizationAdminsController",["$scope","lodash","OrganizationService","$stateParams","$state","oliveMessage","$translate","$q","oliveModal","$filter","appUser",m])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.AngularTranslateCustomizationsModule=a.module("angular translate customizations",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.authorizationModule=a.module("radmin.Authorization",["ngStorage"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalIntegrationModule=angular.module("radmin.ExternalIntegration",["ngStorage","ui.router"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.DocuSignAccountServerApiModule=a.module("DocuSign.AccountServer.Api",["radmin.Authorization"])},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(3);function s(e,t,n){function i(t,n){return!(e.isEqual(t,n)||e.includes([t,n],void 0)&&e.includes([t,n],null))}function s(t,n,a){e.includes(e.keys(n),a)||((t=t||{})[a]=null)}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:function(e){return 3&e|8}(t)).toString(16)})}this.updatedSettings=function t(n,a,o){var r=null;if(![n,a].every(e.isPlainObject))return function(e,t){if(!t)return null;return void 0===e?null:e}(a,o);var l=e.clone(a);e.defaults(l,n);for(var c in l)for(var d in i(n[c],a[c])&&((r=r||{})[c]=t(n[c],a[c],!0)),n)s(r,a,d);return r},this.generateHttpUriPattern=function(e){void 0===e&&(e={});var t="[a-z\\d\\-\\.\\_\\~]|\\%[\\da-f]{2}|[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]|\\:|\\@",n=e.forceHttps?"https:\\/\\/":"https?:\\/\\/";return new RegExp("^"+n+"((\\d{1,3}(\\.\\d{1,3}){3})|((((([a-z\\d][a-z\\d\\-]*?[a-z\\d])|[a-z\\d])(\\.(([a-z\\d][a-z\\d\\-]*?[a-z\\d])|[a-z\\d]))*?\\.(([a-z][a-z\\d\\-]*?[a-z\\d])|[a-z])\\.?)|((([a-z][a-z\\d\\-]*?[a-z\\d])|[a-z])\\.?))))(:[\\d]*)?(\\/([a-z\\d\\-\\.\\_\\~]|\\%[\\da-f]{2}|[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]|\\:|\\@)*)*(\\?("+t+"|\\/|\\?)*)?(\\#("+t+"|\\/|\\?)*)?$","i")},this.generateMailtoUriPattern=function(e){void 0===e&&(e={});var t=e.allowHeaderFields?"(\\?(.*?=.*?)(&(.*?=.*?))*)":"";return new RegExp("^(mailto:)((((([A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+(\\.[A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+)*)|(\".*?\"))@(([A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+(\\.[A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+)*)|(\\[((?![\\[\\]\\\\])[!-~])*\\])))(,((([A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+(\\.[A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+)*)|(\".*?\"))@(([A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+(\\.[A-Za-z0-9_!#%&'-=`{}\\$\\*\\+\\/\\?\\^\\|]+)*)|(\\[((?![\\[\\]\\\\])[!-~])*\\]))))*)?)"+t+"$","i")},this.generateV4Guid=o,this.debounce=function(e,n,a){var i,s,o,r;function l(){t.cancel(i),(o=s)||(a.leading&&e(),r=a.maxWait?t(d,a.maxWait):null),s=!0,i=t(c,n)}function c(){t.cancel(r),s=!1,o&&a.trailing&&e()}function d(){s=!1,l()}return a=a||{leading:!0},l.cancel=function(){t.cancel(i),t.cancel(r),s=!1},l},this.isStorageTypeSupported=function(e){switch(e){case a.Local:return t("localStorage");case a.Session:return t("sessionStorage");case a.Cookie:return n.navigator.cookieEnabled;default:return!1}function t(e){try{var t=n[e],a=o();return t.setItem(a,a),t.removeItem(a),!0}catch(e){return!1}}}}!function(e){e[e.Local=0]="Local",e[e.Session=1]="Session",e[e.Cookie=2]="Cookie"}(a=t.BrowserStorage||(t.BrowserStorage={})),i.CommonModule.service("RADminUtil",["lodash","$timeout","$window",s]),t.RADminUtil=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.PaymentsModule=a.module("radmin.Payments",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(351),i=n(13),s=function(){function e(){this.name="",this.type="",this.issuer="",this.providerUrl="",this.providerMetadataUrl="",this.authRequired=!1,this.isCertificateValid=!1,this.sendAuthBy="GET",this.logoutUrl="",this.signLogoutRequest=!1,this.sendLogoutBy="GET",this.customAttributes=[]}return e.create=function(t){var n=new e;return n.id=t.id,n.name=t.friendly_name,n.type=t.type,n.issuer=t.saml_20.issuer,n.providerUrl=i.find(t.saml_20.settings,function(e){return"identity_provider_login_url"===e.key}).value,n.providerMetadataUrl=i.find(t.saml_20.settings,function(e){return"identity_provider_metadata_url"===e.key}).value,n.authRequired=i.find(t.saml_20.settings,function(e){return"sign_authn_request"===e.key}).value,n.logoutUrl=i.find(t.saml_20.settings,function(e){return"identity_provider_logout_url"===e.key}).value,n.signLogoutRequest=i.find(t.saml_20.settings,function(e){return"sign_logout_request"===e.key}).value,n.sendAuthBy=i.find(t.saml_20.settings,function(e){return"send_authn_request_by"===e.key}).value,n.sendLogoutBy=i.find(t.saml_20.settings,function(e){return"send_logout_request_by"===e.key}).value,n.customAttributes=i.map(t.saml_20.attribute_mappings,a.CustomAttribute.create),n.isCertificateValid=t.saml_20.has_valid_certificate,n.certificates=t.saml_20.certificates,n.links=t.links,n},e.prototype.addCustomAttribute=function(){this.customAttributes.push(new a.CustomAttribute)},e.prototype.removeCustomAttribute=function(e){i.remove(this.customAttributes,function(t){return t.id===e.id})},e.prototype.toApiJson=function(){return{friendly_name:this.name,type:"Saml_20",saml_20:{issuer:this.issuer,settings:[{key:"identity_provider_login_url",value:this.providerUrl},{key:"identity_provider_metadata_url",value:this.providerMetadataUrl},{key:"sign_authn_request",value:this.authRequired},{key:"identity_provider_logout_url",value:this.logoutUrl},{key:"sign_logout_request",value:this.signLogoutRequest},{key:"send_authn_request_by",value:this.sendAuthBy},{key:"send_logout_request_by",value:this.sendLogoutBy}],attribute_mappings:i.map(this.customAttributes,function(e){return e.toApiJson()})}}},e}();t.IdentityProviderModel=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURE_ADOPT_SETTING_SAVED_MESSAGE="Saved Successfully!",t.SIGNATURE_ADOPT_SETTING_ERROR_MESSAGE="An error occurred!",t.SIGNATURE_ADOPT_SETTING_DISABLED_ERROR_MESSAGE="The selected Signature Adoption Mode is disabled. Please select another mode.",t.MOBILE_SIGNATURE_ADOPT_SETTING_DISABLED_ERROR_MESSAGE="The selected Mobile Signature Adoption Mode is disabled. Please select another mode.",t.LANDING_PAGES_SAVED_MESSAGE="Saved Successfully!",t.LANDING_PAGES_ERROR_MESSAGE="An error occurred!"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSFER_RULE_ADD_ERROR_MSG_NAME="transferRuleAddErrorMsg",t.TRANSFER_RULE_FOLDER_ERROR_MSG_NAME="transferRuleFolderErrorMsg",t.TRANSFER_RULE_USERS_ERROR_MSG_NAME="transferRuleUsersErrorMsg",t.TRANSFER_RULE_GROUPS_ERROR_MSG_NAME="transferRuleGroupsErrorMsg",t.ENTER_KEY=13,t.EVENT_TYPE_BEFORE_SENT="beforeSent",t.EVENT_TYPE_SENT="sent",t.EVENT_TYPE_COMPLETED="completed",t.NAME_SEARCH_TYPE="Name",t.EMAIL_SEARCH_TYPE="Email",t.ACTIVE_USER_STATUS="active",t.OWNED_BY_ME_FOLDER_USER_FILTER="owned_by_me",t.NO_USER_FOUND_SERVER_ERROR="No User was found for given criteria."},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.AuditLogModule=a.module("radmin.AuditLog",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a,i,s,o){this._model=e,this._appliance=t,this._$scope=n,this._$translate=a,this._oliveModal=i,this._oliveMessage=s,this._=o,this.testResults={},this.allTestsPass=!1,this.anyTestsFailed=!1,this.errors={URL_SUCCESS:"Valid URL",URL_FAIL:"No IP address for given url",STATUS_SUCCESS:"Server Up",PROTOCOL_MATCH:"Protocol version matches",PROTOCOL_MISMATCH:"Protocol version does not match",THUMBPRINT_NO_CERT:"No certificate",THUMBPRINT_MATCHES:"Thumbprint matches",THUMBPRINT_MISMATCH:"Thumbprint does not match",PUBLIC_KEY_MISMATCH:"Public key does not match",PUBLIC_KEY_MATCHES:"Public key matches",PUBLIC_KEY_SERVER_POOL_INCONSISTENT:"Public key: Server pool inconsistent",PUBLIC_KEY_NO_HSM_SUPPORT:"HSM support is not enabled for this account",PUBLIC_KEY_HSM_NOT_AVAILABLE:"HSM support is not available for your appliance",HSM_NO_KEY:"No HSM key returned",CLIENT_CERTIFICATE_REQUIRED:"Client certificate required",CLIENT_CERTIFICATE_NOT_REQUIRED:"Warning: Client certificate not required",GET_CERTIFICATE_ERROR:"Failed to find DocuSign Certificate. Please contact DocuSign for assistance.",DERIVED_KEYS_OFF:"No Hsm configured"},this.applianceId=e.id}return e.createTests=function(){return{url:new i,status:new i,thumbprint:new i,protocol:new i,public_key:new i,hsm:new i,client_cert:new i}},e.prototype.runAllTests=function(e){return this.resetTestResults(e),this.allTestsPass=!1,this.runTest(e,"url")},e.prototype.resetTestResults=function(e){for(var t in e)e[t].loadingTest=!1,e[t].passedMessage="",e[t].errorMessage="",e[t].errorDetails=void 0},e.prototype.setTestStatus=function(e){this.testResults[e.name]=e},e.prototype.runTest=function(e,t){var n=e[t];return n.loadingTest=!0,this._appliance.healthCheck(this._model,t).then(function(a){if(n.loadingTest=!1,!a.data.status)return n.errorMessage=this.translateIfKnown(a.data),void(n.errorDetails=a.data.details);n.passedMessage=this.translateIfKnown(a.data);var i=this.nextTestName(e,t);if(i)return this.runTest(e,i);this.allTestsPass=!0}.bind(this),function(e){n.loadingTest=!1;var t=this._$translate.instant(e);n.errorMessage=t,this._oliveMessage.show({msg:t,type:"alert"})}.bind(this))},e.prototype.translateIfKnown=function(e){return this.errors[e.statusCode]?this._$translate.instant(this.errors[e.statusCode]):e.message},e.prototype.nextTestName=function(e,t){var n;for(var a in e){if(n)return a;a===t&&(n=!0)}},e}();t.HealthCheckSecurity=a;var i=function(){return function(){}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.toApiJson=function(){return{key:this.key}},e}();t.HsmKey=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.TemplatesModule=a.module("radmin.Templates",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);t.ENGLISH_LOCALE_KEY="en",t.PSEUDO_LOCALE_KEY="en_PS";var i=function(){return function(){this.sending=[{key:"en",englishLanguageName:"English",nativeLanguageName:"English"},{key:"zh_CN",englishLanguageName:"Chinese Simplified",nativeLanguageName:"中文(简体)"},{key:"zh_TW",englishLanguageName:"Chinese Traditional",nativeLanguageName:"中文(繁体)"},{key:"nl",englishLanguageName:"Dutch",nativeLanguageName:"Nederlands"},{key:"fr",englishLanguageName:"French",nativeLanguageName:"Français"},{key:"de",englishLanguageName:"German",nativeLanguageName:"Deutsch"},{key:"it",englishLanguageName:"Italian",nativeLanguageName:"Italiano"},{key:"ja",englishLanguageName:"Japanese",nativeLanguageName:"日本語"},{key:"ko",englishLanguageName:"Korean",nativeLanguageName:"한국어"},{key:"pt_BR",englishLanguageName:"Portuguese (Brazil)",nativeLanguageName:"Português (Brasil)"},{key:"pt",englishLanguageName:"Portuguese (Portuguese)",nativeLanguageName:"Português (Portugal)"},{key:"ru",englishLanguageName:"Russian",nativeLanguageName:"Русский"},{key:"es",englishLanguageName:"Spanish",nativeLanguageName:"Español"}],this.signing=[{key:"ar",englishLanguageName:"Arabic",nativeLanguageName:"العربية‏"},{key:"bg",englishLanguageName:"Bulgarian",nativeLanguageName:"Български"},{key:"cs",englishLanguageName:"Czech",nativeLanguageName:"Čeština"},{key:"zh-CN",englishLanguageName:"Simplified Chinese",nativeLanguageName:"中文 (简体)"},{key:"zh-TW",englishLanguageName:"Traditional Chinese",nativeLanguageName:"中文 (繁体)"},{key:"hr",englishLanguageName:"Croatian",nativeLanguageName:"Hrvatski"},{key:"da",englishLanguageName:"Danish",nativeLanguageName:"Dansk"},{key:"nl",englishLanguageName:"Dutch",nativeLanguageName:"Nederlandse"},{key:"en",englishLanguageName:"English (US)",nativeLanguageName:"English (US)"},{key:"en-GB",englishLanguageName:"English (UK)",nativeLanguageName:"English (UK)"},{key:"et",englishLanguageName:"Estonian",nativeLanguageName:"Eesti"},{key:"fa",englishLanguageName:"Farsi",nativeLanguageName:"فارسی"},{key:"fi",englishLanguageName:"Finnish",nativeLanguageName:"Suomi"},{key:"fr",englishLanguageName:"French (France)",nativeLanguageName:"Français (France)"},{key:"fr-CA",englishLanguageName:"French (Canada)",nativeLanguageName:"Français (Canada)"},{key:"de",englishLanguageName:"German",nativeLanguageName:"Deutsch"},{key:"el",englishLanguageName:"Greek",nativeLanguageName:"Ελληνικά"},{key:"he",englishLanguageName:"Hebrew",nativeLanguageName:"עברית‏"},{key:"hi",englishLanguageName:"Hindi",nativeLanguageName:"हिन्दी"},{key:"hu",englishLanguageName:"Hungarian",nativeLanguageName:"Magyar"},{key:"id",englishLanguageName:"Bahasa Indonesia",nativeLanguageName:"Bahasa Indonesia"},{key:"it",englishLanguageName:"Italian",nativeLanguageName:"Italiano"},{key:"ja",englishLanguageName:"Japanese",nativeLanguageName:"日本語"},{key:"ko",englishLanguageName:"Korean",nativeLanguageName:"한국어"},{key:"lv",englishLanguageName:"Latvian",nativeLanguageName:"Latviešu"},{key:"lt",englishLanguageName:"Lithuanian",nativeLanguageName:"Lietuvių"},{key:"ms",englishLanguageName:"Bahasa Malay",nativeLanguageName:"Bahasa Melayu"},{key:"no",englishLanguageName:"Norwegian",nativeLanguageName:"Norsk"},{key:"pl",englishLanguageName:"Polish",nativeLanguageName:"Polski"},{key:"pt",englishLanguageName:"Portuguese (Portugal)",nativeLanguageName:"Português (Portugal)"},{key:"pt-BR",englishLanguageName:"Portuguese (Brasil)",nativeLanguageName:"Português (Brasil)"},{key:"ro",englishLanguageName:"Romanian",nativeLanguageName:"Română"},{key:"ru",englishLanguageName:"Russian",nativeLanguageName:"Русский"},{key:"sr",englishLanguageName:"Serbian",nativeLanguageName:"Српски"},{key:"sk",englishLanguageName:"Slovak",nativeLanguageName:"Slovenčina"},{key:"sl",englishLanguageName:"Slovenian",nativeLanguageName:"Slovenščina"},{key:"es",englishLanguageName:"Spanish",nativeLanguageName:"Español"},{key:"es-MX",englishLanguageName:"Spanish (Latin America)",nativeLanguageName:"Español (América Latina)"},{key:"sv",englishLanguageName:"Swedish",nativeLanguageName:"Svenska"},{key:"th",englishLanguageName:"Thai",nativeLanguageName:"ภาษาไทย"},{key:"tr",englishLanguageName:"Turkish",nativeLanguageName:"Türkçe"},{key:"uk",englishLanguageName:"Ukrainian",nativeLanguageName:"Українська"},{key:"vi",englishLanguageName:"Vietnamese",nativeLanguageName:"Việt"}],this.pseudoLocale={key:"en_PS",englishLanguageName:"Pseudo",nativeLanguageName:"［～Þƨèúδô～］"}}}();t.default=i,a.CommonModule.constant("Locales",new i)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.EmailPreferencesModule=a.module("radmin.EmailPreferences",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(75);t.AUTH_CHECK_INITIAL_ACCESS="initial_access",a.SecuritySettingsModule.constant("SecuritySettingsDefaults",{authenticationCheck:null,authenticationCheckMetadata:{options:[{text:"The first time a recipient accesses an envelope per device",value:t.AUTH_CHECK_INITIAL_ACCESS},{text:"Every time a recipient accesses an envelope",value:"each_access"}]},skipAuthCompletedEnvelopes:!1,skipAuthCompletedEnvelopesMetadata:null,idCheckConfigurations:[],idCheckExpire:null,idCheckExpireMetadata:{options:[{text:"Recipients cannot skip authentication when accessing subsequent envelopes from the same sender",value:"always"},{text:"Recipients can skip authentication when accessing any subsequent envelope after authenticating successfully on an envelope from the same sender for the first time",value:"never"},{text:"Recipients can skip authentication when accessing subsequent envelopes from the same sender when using the same browser, on a device, for the following duration:",value:"variable"}],intervals:["Minutes","Hours","Days"]},idCheckExpireDays:null,idCheckExpireDaysMetadata:null,idCheckExpireMinutes:null,idCheckRequired:null,idCheckRequiredMetadata:{options:[{text:"Any recipient must authenticate on every envelope sent from this account",value:"always"},{text:"Disable recipient authentication for this account",value:"never"},{text:"The sender can require that a recipient must authenticate on any envelope sent from this account",value:"optional"}]},mobileSessionTimeout:null,mobileSessionTimeoutMetadata:null,sessionTimeout:null,sessionTimeoutMetadata:null,signerLoginRequirements:null,signerLoginRequirementsMetadata:{options:[{text:"Not Required to Login",value:"login_not_required"},{text:"Login Required if Signer Has an Account",value:"login_required_if_account_holder"},{text:"Account Required – Login Once Per Session",value:"login_required_per_session"},{text:"Account Required – Login for Each New Envelope",value:"login_required_per_envelope"}]},autoProvisionSignerAccount:!1,autoProvisionSignerAccountMetadata:null,signingSessionTimeout:null,signingSessionTimeoutMetadata:null,allowAccessCodeFormat:null,allowAccessCodeFormatMetadata:null,enableAccessCodeGenerator:null,enableAccessCodeGeneratorMetadata:null,accessCodeFormat:{},suppressCertificateEnforcement:null,suppressCertificateEnforcementMetadata:null,senderMustAuthenticateSigning:null,senderMustAuthenticateSigningMetadata:null,captureVoiceRecording:null,captureVoiceRecordingMetadata:null,allowPhoneAuthentication:null,allowPhoneAuthenticationMetadata:null,allowAccountMemberNameChange:null,allowAccountMemberNameChangeMetadata:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RULES_SAVED_MESSAGE="Saved Successfully!",t.RULES_ERROR_MESSAGE="An error occurred!",t.RULES_ERROR_MSG_ID="rulesErrorMessageId",t.RULES_CUSTOM_TYPE="custom",t.RULES_BASIC_TYPE="basic"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),s=n(3),o=n(238),r=n(285),l=n(109),c="Profile",d="Security",u="Applications",p="Memberships",m="Activity",g="Organization",h=[{name:"Active",paramValue:["active"],value:!1,disabled:!0},{name:"Pending",paramValue:["activationSent","activationRequired"],value:!1,disabled:!0},{name:"Closed",paramValue:["closed"],value:!1,disabled:!0}];!function(e){e[e.invalid_user_email=0]="invalid_user_email"}(a=t.ERROR_TYPES||(t.ERROR_TYPES={}));var f=function(){function e(e,t,n,a,i,s,o,r,l,h,f,v,_,b,y,A,S,w,C){var P=this;this._$scope=e,this._=t,this._organizationService=n,this._clientApplicationService=a,this._$q=i,this._$translate=s,this._$state=o,this._$stateParams=r,this._locales=l,this._oliveMessage=h,this._oliveModal=f,this._dateTimeService=v,this._appUserService=_,this._$timeout=b,this._dsUtilities=y,this._userPermissionsService=A,this._$window=S,this.configuration=w,this._log=C,this.nav={title:"userMenu",items:[{display:this._$translate.instant(c),id:"profile",allowed:!0},{display:this._$translate.instant(p),id:"membership",allowed:!0},{display:this._$translate.instant(d),id:"security",allowed:!1},{display:this._$translate.instant(m),id:"activity",allowed:!1},{display:this._$translate.instant(g),id:"organization",allowed:!0},{display:this._$translate.instant(u),id:"application",allowed:!0}],selectedId:"membership",defaultNavigation:"membership"},this.loginPolicies={RemoveStatus:"Default",FedAuthRequired:"Identity Provider only",FedAuthBypass:"Identity Provider or Username / Password"},this.saved=!0,this.applications=[],this.connectedApplicationDictionary={},this.availableApplicationDictionary={},this.pendingFullNameError=!1,this.statusFilterOptions=[],this.workingList=[],this.userIdentities=[],this.organizationPermissionId="",this.originalOrgPermissionId="",this.tabs=this._$window.Olive.tabs,this.disableUpdateProfile=!1,this.isSuperOrgAdmin=this._userPermissionsService.isSuperOrganizationAdmin(),this.submittedUserSearch="",this.userSearchPhrase="",this.isUserSearching=!1,this.loadUpdateUsersToOrgAdmins=!1,this._availableStatusForUser=[],this.organizationId=this._$stateParams.organization_id,this.email=this._$stateParams.email,this._.isEmpty(this.organizationId)?this._$state.go("authenticated"):this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId?this._.isEmpty(this.email)&&this._$state.go("authenticated.organization-users",{organization_id:this.organizationId}):this.organization=this._organizationService.currentOrg.organization,this.orgAdminPermissions=this._organizationService.currentOrg.permissionSets,this._originalEmail=this.email,this._availableAccounts=null,this.loading=this._initialize(),this._initDateTimeProperties(this._dateTimeService),this.locales=this._.sortBy(this._locales.sending,"englishLanguageName"),this.loading.then(function(){P._$timeout(function(){if(P.canApplyUsersAsOrganizationAdmin()){var e=P._$window.Olive.callouts.instances.callout_extend_org_admin_rights;P.loadUpdateUsersToOrgAdmins||e&&e.open()}},1e3)})}return e.prototype.cancelProfile=function(e){this.defaultProfile=this._.cloneDeep(this._originalDefaultProfile),this.email=this._originalEmail,this.domain=this._originalDomain,this._parseEmail(),e.$setPristine()},e.prototype.cancelOrganizationAdmin=function(e){this._initializeOrganizationPermissionId(),e.$setPristine()},e.prototype.isDefaultAccount=function(e,t){return e.default_account_id===t.account_id},e.prototype.closeMembership=function(e,t){this.confirmCloseUser(e,t)},e.prototype.forceActivateMembership=function(e,t){var n=this,a={site_id:e.site_id};this._organizationService.forceActivateMembership(this.organizationId,e.id,t.id,a).then(function(){n._oliveMessage.show(n._$translate.instant("Membership activated successfully"),"activateMembershipSuccess","success"),n.loading=n._initializeWithDelay(2e3)},function(e){n._oliveMessage.show(n._$translate.instant("An error occurred while activating the membership."),"membershipError","error")}).finally(function(){n._computeStatus()})},e.prototype.canCloseUser=function(){if(!this._.isEmpty(this.users)){var e=this._.flatten(this._.map(this.users,"memberships")),t=this._.filter(e,function(e){return!e.is_external_account&&"closed"!==e.membership_status});return this._userPermissionsService.isSuperOrganizationAdmin()&&!this._.isEmpty(t)&&this.isDomainUser&&this._appUserService.currentAccountInfo.userInformation.email!==this.email}return!1},e.prototype.confirmCloseUser=function(e,t){var n=this._$scope.$new();n.organizationId=this.organizationId,n.membership=t,e?(n.warningText=this._$translate.instant(t?"Closing the user will remove their access to DocuSign account on this site using the email address {{email}}.":"Closing the user will remove their access to all DocuSign accounts on this site using the email address {{email}}."),n.user=e,n.email=this.email,n.users=[e]):(n.user=this.defaultProfile,n.email=this.email,n.users=this.users),n.close=this._closeUser.bind(this),this._oliveModal.openModal({name:"close-organization-users-modal",scope:n,templateUrl:"organization/close-user-modal.html",showClose:!0,size:"lg"})},e.prototype.addMembership=function(e,t){var n=this._$scope.$new();n.accounts=this._.cloneDeep(this._availableAccounts),n.addMembership=this._addMembership.bind(this),n.user=e,n.organizationId=this.organizationId,n.isExistingUser=!0,n.userEmail=this.email,this._.isEmpty(t)||(n.updateMembership=this._mapToOrganizationMembership(t),n.accounts.push({id:t.id,account_id:t.account_id,account_name:t.account_name,account_name_with_id:t.account_name+" ("+t.external_account_id+")",site_id:e.site_id})),this._membershipModal=this._oliveModal.openModal({scope:n,templateUrl:"organization/organization-user-new-membership.html",showClose:!1,size:"xl"})},e.prototype.canShowAuthorizeApplication=function(){if(!this.isSuperOrgAdmin)return!1;for(var e in this.availableApplicationDictionary)if(this.availableApplicationDictionary[e].length)return!0;return!1},e.prototype.addApplication=function(){var e=this,t=this._$scope.$new();t.users=this.users,t.organizationId=this.organizationId,t.isAddingNewConnectedApplication=!0,t.connectedApplicationsPerUser=this.connectedApplicationDictionary,t.availableApplicationsPerUser=this.availableApplicationDictionary,this._oliveModal.openModal({name:"edit-user-connected-application",scope:t,templateUrl:"organization/organization-user-new-application.html",showClose:!0,size:"md",onComplete:function(){e._$timeout(function(){return e._getApplications(e.users)},2e3)}})},e.prototype.isConnectedToAnyApplications=function(){for(var e in this.connectedApplicationDictionary){if(this.connectedApplicationDictionary[e].length)return!0}return!1},e.prototype.isMutipleUserConnectedToAnyApplications=function(){var e=0;for(var t in this.connectedApplicationDictionary){this.connectedApplicationDictionary[t].length>0&&e++}return e>=2},e.prototype.isUserConnectedToAnyApplications=function(e){var t=e.id;return!!this.connectedApplicationDictionary.hasOwnProperty(t)&&this.connectedApplicationDictionary[t].length>0},e.prototype.editApplication=function(e,t){var n=this,a=this._$scope.$new();a.user=e,a.organizationId=this.organizationId,this._.isEmpty(t)||(a.updatedApplication=t),this._applicationModal=this._oliveModal.openModal({name:"edit-user-connected-application",scope:a,templateUrl:"organization/organization-user-new-application.html",showClose:!0,size:"md",onComplete:function(){n._$timeout(function(){return n._getApplications(n.users)},2e3)}})},e.prototype.removeApplication=function(e){var t=this;e.scopes=null;var n=e.client_id,a=e.scopes&&e.scopes.replace(/\s*/," ").trim();return this._clientApplicationService.updateUserClientApplication(e.user_id,n,a).then(function(e){var n,a;switch(200===e.status){case!0:n="Your application was successfully removed.",a="success";break;default:n="There was a problem removing your application.",a="error"}t._oliveMessage.show({content:t._$translate.instant(n),name:"remove-connected-app-message",type:a}),t._$timeout(function(){return t._getApplications(t.users)},2e3)})},e.prototype.canAddMembership=function(){var e=this;if(this.canManageUser()){if(null!==this._availableAccounts)return this._availableAccounts.length>0;this._availableAccounts=[],this._getAvailableAccounts().then(function(){return e._availableAccounts.length>0})}return!1},e.prototype.isCurrentUser=function(e){return e&&this._appUserService.currentAccountInfo.userInformation.userId===e},e.prototype.setDefaultAccount=function(e,t){var n=this,a={users:[]},i={id:e.id,site_id:e.site_id,default_account_id:t.account_id};a.users.push(i),this._organizationService.postUserProfiles(this.organizationId,a).then(function(){e.default_account_id=t.account_id,n._oliveMessage.show(n._$translate.instant("Default account saved successfully"),"defaultAccountSaveSuccess","success")})},e.prototype.canChangeEmail=function(){return!this._.isEmpty(this.domain)&&(this.email1+"@"+this.domain.host_name).toLowerCase()!==this.email.toLowerCase()},e.prototype.showChangeConfirmation=function(){var e=this,t=this._$scope.$new();if(t.changeEmail=this._isEmailChanged(),t.changeName=this._isNameChanged(),t.changeEmail){var n=this.email1+"@"+this.domain.host_name;this._organizationService.getUserDetail(this.organizationId,n).then(function(a){a&&!e._.isEmpty(a.users)?e._showExistingUserModal(a.users,n):e._showChangeModal(t)})}else this._showChangeModal(t)},e.prototype.updateProfile=function(e){this.isDomainUser&&this.canChangeEmail()||this._isNameChanged()?this.showChangeConfirmation():this._updateMembershipProfile()},e.prototype.updateOrganizationAdmin=function(e){if(this.saved=!1,"active"===this.orgAdminProfile.organization_admin_status)this._updateOrganizationAdmin();else{var t={email:this.orgAdminProfile.email,user_name:this.orgAdminProfile.user_name,organization_permission_id:this.organizationPermissionId};this.originalOrgPermissionId?this._updateOrganizationAdminInvitation(t):this._deleteAndInviteOrganizationAdminInvitation(t)}},e.prototype.canUpdateProfile=function(){return this.pendingFullNameError=!1,this.defaultProfile&&this.defaultProfile.user_name&&"pending"===this.userStatus&&this.isDomainUser&&this.profileForm.$dirty&&this.defaultProfile.user_name.toString().toLowerCase()===this._originalDefaultProfile.user_name.toString().toLowerCase()&&this.defaultProfile.user_name!==this._originalDefaultProfile.user_name&&(this.pendingFullNameError=!0),this.profileForm.$dirty&&!this.pendingFullNameError},e.prototype.disableUpdateOrganizationAdminProfile=function(e){return this.isCurrentUser(e)||!this.isSuperOrgAdmin||this.originalOrgPermissionId===this.organizationPermissionId},e.prototype.updateSecurity=function(e){var t=this,n={users:[]};return this.users.forEach(function(e){var a={id:e.id,site_id:e.site_id,federated_status:t.defaultProfile.federated_status};n.users.push(a)}),this.saved=!1,this._organizationService.postUserProfiles(this.organizationId,n).then(function(){t._resetForm(e),t._oliveMessage.show(t._$translate.instant("Login policy saved successfully"),"defaultAccountSaveSuccess","success")},function(e){}).finally(function(){t.saved=!0})},e.prototype.cancelSecurity=function(e){this.defaultProfile=this._.cloneDeep(this._originalDefaultProfile),e.$setPristine()},e.prototype.resetPassword=function(){var e=this,t={users:[]};return this.users.forEach(function(e){var n={id:e.id,site_id:e.site_id,force_password_change:!0};t.users.push(n)}),this.saved=!1,this._organizationService.postUserProfiles(this.organizationId,t).then(function(){e._oliveMessage.show(e._$translate.instant("Password reset successfully"),"defaultAccountSaveSuccess","success")},function(e){}).finally(function(){e.saved=!0})},e.prototype.differentPolicy=function(){return!!this._requireIdentityProvider&&("RemoveStatus"!==this.defaultProfile.federated_status&&"FedAuthRequired"!==this.defaultProfile.federated_status)},e.prototype.showResend=function(e,t){return!t.is_external_account&&this.canManageUser()&&this.canManageUserMembership(t)&&("activationSent"===t.membership_status||"activationrequired"===t.membership_status||"closed"===t.membership_status&&!function(){var e=this;return this._.find(this.users,function(n){return e._.find(n.memberships,function(e){return e.account_id===t.account_id&&"closed"!==e.membership_status})})}.call(this))},e.prototype.showActivateMembershipLink=function(e,t){return!t.is_external_account&&this.canManageUser()&&this.canManageUserMembership(t)&&("activationSent"===t.membership_status||"activationrequired"===t.membership_status)&&this.isDomainUser&&this._requireIdentityProvider},e.prototype.showEditLink=function(e,t){return function(e,t){switch(e){case"closed":return!1;case"activationSent":case"activationrequired":return t;case"active":return!0}return!1}(t.membership_status,this.isDomainUser)&&!t.is_external_account&&!this.isCurrentUser(e.id)&&this.canManageUser()&&this.canManageUserMembership(t)},e.prototype.showCloseLink=function(e,t){var n=!t.is_external_account&&this.canManageUser()&&this.canManageUserMembership(t)&&i.call(this,e,t),a=t.is_external_account&&this.isSuperOrgAdmin&&t.is_external_membership_closeable&&i.call(this,e,t);return"closed"!==t.membership_status&&(n||a);function i(e,t){return 1===function(e){return e&&e.memberships?e.memberships.filter(function(e){return"closed"!==e.membership_status}).length:0}(e)?!this.isCurrentUser(e.id):!this.isDefaultAccount(e,t)}},e.prototype.showSetDefaultLink=function(e,t){return"active"===t.membership_status&&!t.is_external_account&&this.isDomainUser&&!this.isDefaultAccount(e,t)&&this.canManageUser()&&this.canManageUserMembership(t)},e.prototype.showActionsLink=function(e,t){return t&&(this.showResend(e,t)||this.showEditLink(e,t)||this.showSetDefaultLink(e,t)||this.showCloseLink(e,t))},e.prototype.canManageUserMembership=function(e){return this.isSuperOrgAdmin||!e.is_admin},e.prototype.canManageUser=function(){return this.isSuperOrgAdmin||!(this.isOrganizationAdmin||this.isOrganizationAdminInvited)},e.prototype.canUpdateOrganizationAdmin=function(e){return this.isSuperOrgAdmin&&!this.isCurrentUser(e)},e.prototype.canMakeOrganizationAdmin=function(){return this.isSuperOrgAdmin&&"closed"!==this.userStatus&&!this.isOrganizationAdmin&&!this.isOrganizationAdminInvited},e.prototype.selectNavItem=function(e){this.profileForm&&this.profileForm.$dirty&&this.cancelProfile(this.profileForm),this.securityForm&&this.securityForm.$dirty&&this.cancelSecurity(this.securityForm),this.organizationAdminForm&&this.organizationAdminForm.$dirty&&this.cancelOrganizationAdmin(this.organizationAdminForm),this.nav.selectedId=e,this.tabs.instances[this.nav.title].switchTo(e)},e.prototype.isValidEmail=function(){var e=this;return function(){if(!e._.isEmpty(e.domain)){var t=(e.email1||"")+"@"+(e.domain.host_name||"");return e._dsUtilities.isValidEmail(t)}return!0}},e.prototype.isValidSearchEmail=function(){var e=this;return function(t){return t!==e.email&&e._dsUtilities.isValidEmail(t)}},e.prototype.invitationText=function(e){return"closed"===e.membership_status?this._$translate.instant("Reactivate"):this._$translate.instant("Resend Invitation")},e.prototype.resend=function(e,t){if("closed"!==t.membership_status){var n=this._$scope.$new();n.organizationId=this.organizationId,n.user=e,n.membership=t,this._oliveModal.openModal({name:"please-work",scope:n,templateUrl:"organization/organization-resend-invitation.html",showClose:!0,size:"sm"})}else(function(){this._.forEach(e.memberships,function(e){e.id!==t.id||(e.reactivating=!0)}),this._organizationService.setSelectedUser(e),this._$state.go("authenticated.organization-create-user",{organization_id:this.organizationId})}).call(this)},e.prototype.applyFilters=function(){this._.find(this.statusFilterOptions,{value:!0})?this.workingList=this._filterMembership(this.users):this._oliveMessage.show(this._$translate.instant("Please select status to search."),"selectStatus","error")},e.prototype.resetFilters=function(){this.statusFilterOptions=this._.cloneDeep(this._availableStatusForUser),this.applyFilters()},e.prototype.remove=function(e){var t=e.organization_admin_status&&"invitation_sent"===e.organization_admin_status.toLowerCase()?this._deleteInvitation(e):this._removeAdmin(e);this._oliveModal.confirmationModal(t)},e.prototype.canResendOrgAdminInvitation=function(){return this.isOrganizationAdminInvited&&this.isSuperOrgAdmin},e.prototype.resendOrgAdminInvitation=function(e){var t=this;this._organizationService.updateOrganizationInvitation(this.organizationId,this.orgAdminProfile.id,e).then(function(){t._oliveMessage.show(t._$translate.instant(o.RESEND_SUCCESSFUL_MESSAGE),"invitation_sent_success","success")},function(e){t._oliveMessage.show(t._$translate.instant(o.RESEND_FAIL_MESSAGE),"invitation_sent_fail","error")}).finally(function(){t._oliveModal.closeAllModals()})},e.prototype.sendOrgAdminInvitation=function(){var e=this._$scope.$new();e.userInfo={user_name:this.defaultProfile.user_name,email:this.email},e.organizationId=this.organizationId,e.refresh=this._addOrgAdmin.bind(this),this._oliveModal.openModal({name:"make-organization-admin",scope:e,templateUrl:"organization/invite-admin.html",showClose:!0,size:"md"})},e.prototype.showUserActionsButton=function(){return this.canMakeOrganizationAdmin()||this.canCloseUser()},e.prototype.showNavItem=function(e){switch(e.id){case"organization":return"closed"!==this.userStatus&&(this.isOrganizationAdmin||this.isOrganizationAdminInvited);case"security":case"application":return this.isDomainUser;default:return e.allowed}},e.prototype.showEmptyState=function(){return this.users.length&&!this.workingList.length},e.prototype.statusSearchQuery=function(){var e=this._.find(this.appliedFilters,{name:l.MEMBERSHIP_STATUS_FILTER_NAME});return e?this._.map(e.options,"value").join(","):""},e.prototype.clearIdentity=function(e,t){this._oliveModal.openModal({scope:this._$scope,templateUrl:"organization/clear-identity-modal.html",size:"md",showClose:!0,name:"clear-user-federatedid",onComplete:this._clearIdentity.bind(this,e,t)})},e.prototype.showFederatedIds=function(){return this.isDomainUser&&!this._.isEmpty(this.organization.identity_providers)},e.prototype.canCloseMemberships=function(e){return t(e.user_status)&&this.canManageUser()&&e.memberships&&this._.find(e.memberships,function(e){return!e.is_external_account&&t(e.membership_status)})&&!this._.some(e.memberships,function(e){return!this.canManageUserMembership(e)}.bind(this));function t(e){return"closed"!==e}},e.prototype.canApplyUsersAsOrganizationAdmin=function(){var e=this,t=!1;return this.orgAdminProfile&&!this.isOrganizationAdminInvited&&this.users.forEach(function(n){"active"!==n.user_status||e._.some(e._organizationAdmins,{user_id:n.id})||(t=!0)}),t},e.prototype.applyUsersAsOrganizationAdmin=function(){var e=this;this.canApplyUsersAsOrganizationAdmin()&&(this.loadUpdateUsersToOrgAdmins=!0,this._organizationService.updateUsersToOrgAdmins(this.organizationId,this.orgAdminProfile.id).then(function(t){e._organizationAdmins=t.admins,e._oliveMessage.show(e._$translate.instant("This user's rights have been successfully extended across all memberships."),"extend_rights_success","success")}).finally(function(){e.loadUpdateUsersToOrgAdmins=!1;var t=e._$window.Olive.callouts.instances.callout_extend_org_admin_rights;t&&t.simpleClose()}))},e.prototype.resetUserSearch=function(){this.userSearchPhrase="",this.submittedUserSearch=""},e.prototype.submitUserSearch=function(e){var t=this;(!e||13===e.keyCode&&this.isValidSearchEmail()(this.userSearchPhrase))&&(this.submittedUserSearch=this.userSearchPhrase,this.isUserSearching=!0,this._organizationService.getUserDetail(this.organizationId,this.submittedUserSearch).then(function(e){t._.isEmpty(e.users)?t._oliveMessage.show(t._$translate.instant("No results for '{{email}}'.",{email:t.submittedUserSearch}),"usernotfounderror","error"):t._$state.go("authenticated.organization-user-profile",{organization_id:t.organizationId,email:t.submittedUserSearch})}).finally(function(){t.isUserSearching=!1}))},e.prototype.showExternalAccountTooltip=function(e){return e.is_external_account&&!(this._organizationService.currentOrg.entitlements&&this._organizationService.currentOrg.entitlements.allow_external_membership_management)},e.prototype.getLanguageName=function(){var e=this._.find(this.locales,{key:this.defaultProfile.language_culture});return e?e.nativeLanguageName:"English"},e.prototype._addOrgAdmin=function(){var e=this;this._initialize().then(function(){return e.selectNavItem("organization")}).catch(function(){return e.selectNavItem("profile")})},e.prototype._deleteInvitation=function(e){return{title:this._$translate.instant(o.DELETE_INVITATION_TITLE),text:this._$translate.instant(o.DELETE_INVITATION_TEXT),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this._confirmDeleteInvitation.bind(this,e)}},e.prototype._removeAdmin=function(e){return{title:this._$translate.instant(o.REMOVE_ORGANIZATION_ADMIN_TITLE),text:this._$translate.instant(o.REMOVE_ORGANIZATION_ADMIN_TEXT),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this._removeOrgAdmin.bind(this,e)}},e.prototype._removeOrgAdmin=function(e){var t=this;if(!this.isCurrentUser(e.user_id)){var n=[];return(this._.filter(this._organizationAdmins,{email:e.email})||[]).forEach(function(e){n.push(t._organizationService.deleteOrganizationAdmin(t.organizationId,e.id))}),this._$q.all(n).then(function(){t._oliveMessage.show(t._$translate.instant(o.ADMIN_DELETE_SUCCESSFUL_MESSAGE),"remove-organization-admin-success","success"),t.isOrganizationAdmin=!1,t.isOrganizationAdminInvited=!1,t.defaultProfile.is_organization_admin=!1,t.orgAdminProfile=null}).catch(function(){t._oliveMessage.show(t._$translate.instant(o.ADMIN_DELETE_ERROR_MESSAGE),"remove-organization-admin-error","error")}).finally(function(){t.loading=t._initializeWithDelay(2e3).then(t._computeStatus.bind(t))})}},e.prototype._showExistingUserModal=function(e,t){var n=this._$scope.$new(),a=this._.find(e,function(e){return"closed"!==e.user_status});n.organizationId=this.organizationId,n.activeMembership=a,n.closedMemberships=this._.isUndefined(a)?function(){return this._.isEmpty(e)?[]:this._.filter(e[0].memberships,{email:t})}.call(this):[],this._oliveModal.openModal({scope:n,templateUrl:"organization/existing-user.html",showClose:!1,onComplete:function(){this._$state.go("authenticated.organization-create-user",{organization_id:this.organizationId})}.bind(this)})},e.prototype._addMembership=function(e,t){var n,a=this,i={users:[],auto_activate_memberships:t},s={email:this.email,id:"",site_id:null,memberships:[]},o={account_id:e.account.account_id,permission_profile_id:e.permissionSet.id,job_title:e.job_title||"",company_name:e.company_name||""};if(o.group_ids=this._.isEmpty(e.groups)?[]:this._.map(e.groups,"group_id"),e.id)n=this._.find(this.users,function(t){return a._.find(t.memberships,{id:e.id})}),s.id=n.id,s.site_id=n.site_id;else{var r=function(e){return this.defaultProfile.site_id!==e.account.site_id?this._.find(this.users,{site_id:e.account.site_id}):this.defaultProfile}.call(this,e);s.id=r?r.id:this.defaultProfile.id,s.site_id=r?e.account.site_id:this.defaultProfile.site_id}return s.memberships.push(o),i.users.push(s),this.saved=!1,this._organizationService.postUserProfiles(this.organizationId,i).then(function(e,t){var n=this;return this._$timeout(function(){return e?n._$q.when(e):n._organizationService.getUserDetail(n.organizationId,n.email).then(function(e){var a=null;return n._.forEach(e.users,function(e){var i=n._.find(e.memberships,{account_id:t});if(i)return a=e,!1}),a})},2e3)}.bind(this,n,e.account.account_id)).then(function(e,t,n){return this._organizationService.postOrganizationMembershipAddress(this.organizationId,e,n.id,t)}.bind(this,o.account_id,e.address)).then(function(){a._.remove(a._availableAccounts,function(e){return e.account_id===o.account_id}),a._oliveMessage.show(a._$translate.instant("Membership saved successfully"),"defaultAccountSaveSuccess","success")}).catch(function(e){a._log.sendLog("An error occurred when saving the membership.",e);a._oliveMessage.show(a._$translate.instant("We have trouble saving the membership, please try again."),"membershipError","error")}).finally(function(){a.saved=!0,a._oliveModal.closeAllModals(),a.loading=a._initializeWithDelay(2e3)})},e.prototype._getAvailableAccounts=function(){var e=this;return this._organizationService.getOrganizationAccounts(this.organizationId).then(function(t){var n=t;e._.flatten(e._.map(e.users,"memberships")).forEach(function(t){e._.remove(n,function(e){return e.account_id===t.account_id})}),e._availableAccounts=e._.map(n,e._appendExternalAccountId.bind(e))})},e.prototype._appendExternalAccountId=function(e){var t=e.account_name+" ("+e.external_account_id+")";return e.account_name_with_id=t,e},e.prototype._mapToOrganizationMembership=function(e){var t={account:{account_id:e.account_id},permissionSet:{id:e.permission_profile_id},groups:[]};if(!this._.isEmpty(e.groups)){var n=this._.filter(e.groups,function(e){return"customGroup"===e.group_type});n.length>0&&(t.groups=n)}return this._.assign(e,t)},e.prototype._resetForm=function(e){if(void 0===e&&(e=null),this._.isEmpty(e))switch(this.nav.selectedId){case"profile":e=this.profileForm;break;case"membership":e=this.membershipForm}this._.isEmpty(e)||(e.$setPristine(),this.saved=!0,this._originalDefaultProfile=this._.cloneDeep(this.defaultProfile))},e.prototype._closeUser=function(e,t,n){var a=this,i=[];return e.forEach(function(e){var s={accounts:[],remove_signing_groups_email:n};t?s.accounts.push({account_id:t.account_id}):e.memberships.forEach(function(e){e.is_external_account||s.accounts.push({account_id:e.account_id})});var o=a._organizationService.closeMemberships(a.organizationId,e.id,s);i.push(o)}),this.isOrganizationAdmin&&this.orgAdminProfile&&i.push(this._removeOrgAdmin(this.orgAdminProfile)),this._$q.all(i).then(function(){e.forEach(function(e){e.memberships.forEach(function(e){e.is_external_account?!0:e.membership_status="closed"}),a._resetForm()}),a._oliveMessage.show(a._$translate.instant("Membership closed successfully"),"membershipClosedSuccess","success")}).catch(function(){a._oliveMessage.show(a._$translate.instant("An error occurred while closing a membership, please try again."),"membershipClosedError","error")}).finally(function(){a.loading=a._initializeWithDelay(2e3).then(a._computeStatus.bind(a))})},e.prototype._initialize=function(){var e=this;return this.users=[],this._organizationService.getUserDetail(this.organizationId,this.email).then(function(t){var n,i;if(e.users=e._.sortBy(t.users,"site_id"),e.userIdentities=function(e){var t=this,n=[];return this._.forEach(e,function(e){if("closed"!==e.user_status){var a=t._.map(e.identities,function(e){return{IdentityProviderId:e.IdentityProviderId,IdentityProviderName:function(e){var t=this._.find(this.organization.identity_providers,{id:e});return t&&t.friendly_name||""}.call(t,e.IdentityProviderId),ImmutableId:e.ImmutableId,UserId:e.UserId,UserIdentityId:e.UserIdentityId}});n.push(a)}}),this._.flattenDeep(n)}.call(e,e.users),!e._.isEmpty(e.users))return e.statusFilterOptions=e._availableStatusForUser=[],e.workingList=e._filterMembership(e.users),e._getGroupNames(e.workingList),e._getDefaultProfile(e.workingList),n=e._.find(e.workingList,{is_organization_admin:!0}),e.isOrganizationAdmin=!e._.isEmpty(n),i=e.isOrganizationAdmin?e._organizationService.getOrganizationAdmins(e.organizationId):e._organizationService.getOrganizationInvitations(e.organizationId),e.isDomainUser&&e._getApplications(e.users),i.then(function(t){e.isOrganizationAdmin?e._.isEmpty(t.admins)||(e._organizationAdmins=e._.cloneDeep(t.admins),e.orgAdminProfile=e._.find(t.admins,{user_id:n.id})):e.users.forEach(function(n){var a=e._.map(n.memberships,"email");e._.forEach(t.admins,function(t){if(e.isOrganizationAdminInvited=e._.some(a,function(e){return e===t.email}),e.isOrganizationAdminInvited)return e.orgAdminProfile=t,!1})}),e._initializeOrganizationPermissionId(),e.disableUpdateProfile=function(e,t,n){return!e||("closed"===n||"pending"===n&&!t)}(e.canManageUser(),e.isDomainUser,e.userStatus)});e.returnWithError(a.invalid_user_email,e.email)},function(){e.returnWithError(a.invalid_user_email,e.email)})},e.prototype._filterMembership=function(e){var t=this,n=[],a=this.statusFilterOptions.length?this._getParamValues(this.statusFilterOptions):[],i=this.statusFilterOptions.length&&(this.statusFilterOptions[0].value!==this._availableStatusForUser[0].value||this.statusFilterOptions[1].value!==this._availableStatusForUser[1].value||this.statusFilterOptions[2].value!==this._availableStatusForUser[2].value);return this._setDefaultStatusFilter(e),this._setAppliedFilters(i),i?(this.users.forEach(function(e){var i=t._.cloneDeep(e);i.memberships=[],t._.forEach(e.memberships,function(e){this._.includes(a,e.membership_status)&&i.memberships.push(e)}.bind(t)),i.memberships.length&&n.push(i)}),n):e},e.prototype._setDefaultStatusFilter=function(e){var t=this;if(!this.statusFilterOptions.length){var n=this._.flatten(this._.map(e,"memberships"));this.statusFilterOptions=this._.cloneDeep(h),n.forEach(function(e){switch(e.membership_status){case"active":t.statusFilterOptions[0].disabled=!1,t.statusFilterOptions[0].value=!0;break;case"activationSent":case"activationRequired":t.statusFilterOptions[1].disabled=!1,t.statusFilterOptions[1].value=!0;break;case"closed":t.statusFilterOptions[2].disabled=!1,t.statusFilterOptions[2].value=!0}}),this._availableStatusForUser.length||(this._availableStatusForUser=this._.cloneDeep(this.statusFilterOptions))}},e.prototype._setAppliedFilters=function(e){var t=this._.map(this._.filter(this.statusFilterOptions,{value:!0}),function(e){return{name:e.name,value:e.name}});this.appliedFilters=[],e&&function(e){this.statusFilterOptions&&this.appliedFilters.push({name:l.MEMBERSHIP_STATUS_FILTER_NAME,options:e})}.call(this,t)},e.prototype._initializeWithDelay=function(e){return this._$timeout(this._initialize.bind(this),e)},e.prototype.returnWithError=function(e,t){this._$state.go("authenticated.organization-users",{organization_id:this.organizationId,error_code:e,error_params:t})},e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getGroupNames=function(e){var t=this;e.forEach(function(e){e.memberships.forEach(function(e){e=t._getMembershipGroupNames(e)})})},e.prototype._getMembershipGroupNames=function(e){if(this._.isEmpty(e.groups))e.group_names=this._$translate.instant("None");else{var t=this._.filter(e.groups,function(e){return"everyoneGroup"!==e.group_type});e.group_names=this._.map(t,function(e){return"customGroup"===e.group_type?e.group_name:this._$translate.instant(e.group_name)}.bind(this)).join(", ")}return e},e.prototype._getApplications=function(e){var t=this,n=(e.filter(function(e){return"closed"!==e.user_status})||[]).length;this._.forEach(e,function(e){"closed"!==e.user_status&&(t.connectedApplicationDictionary[e.id]=[],t.availableApplicationDictionary[e.id]=[],t._clientApplicationService.getUserClientApplications(e.id).then(function(a){n--,a.forEach(function(n){if(n.scope){var a={user_id:n.user_id,name:n.client_application_name,client_id:n.client_id,scopes:n.scope,privacy_policy:n.privacy_policy,terms_of_use:n.terms_of_use};t.connectedApplicationDictionary[e.id].push(a)}}),0===n&&t._getOrganizationApplications()}))})},e.prototype._getOrganizationApplications=function(){var e=this;this._organizationService.getClientApplications(this.organizationId).then(function(t){e._.forEach(t.organization_applications,function(t){e.users.forEach(function(n){"closed"!==n.user_status&&(t.scopes="",function(e,t){if(!e.organization_id)return!1;for(var n=0,a=t;n<a.length;n++){var i=a[n];if(i.client_id===e.client_id)return!1}return!0}(t,e.connectedApplicationDictionary[n.id])&&e.availableApplicationDictionary[n.id].push(t))})})})},e.prototype._getDefaultProfile=function(e){var t=this;this.defaultProfile=this._.find(e,function(e){return e.account_id===t.organization.default_account_id}),this._.isEmpty(this.defaultProfile)&&(this.defaultProfile=this._.head(e)),this._originalDefaultProfile=this._.cloneDeep(this.defaultProfile),this._.isEmpty(this.organization.reserved_domains)||(this.domains=this.organization.reserved_domains.filter(function(e){return"active"===e.status.toString().toLowerCase()}).map(function(e){return e.host_name=e.host_name.toLowerCase(),e}),this._checkDomainUser(this.domains)),this._parseEmail(),this._computeStatus()},e.prototype._parseEmail=function(){if(this.isDomainUser){var e=this.email.toString().toLowerCase().indexOf("@"+this.domain.host_name.toString().toLowerCase());this.email1=this.email.substring(0,e)}else this.email1=this.email},e.prototype._checkDomainUser=function(e){var t=this;this._.isEmpty(e)||e.forEach(function(e){if(t._.endsWith(t.email.toLowerCase(),"@"+e.host_name.toLowerCase()))return t.isDomainUser=!0,t.domain=t._originalDomain=e,t._requireIdentityProvider=_.find(e.settings,function(e){return"require_identity_provider_auth"===e.key}).value,void(t.domainPolicy=t._getDomainPolicy(e))})},e.prototype._getDomainPolicy=function(e){if(!this._.isEmpty(e.settings)){var t=this._.find(e.settings,{key:"require_identity_provider_auth"});if(!this._.isEmpty(t))return!0===t.value?r.DOMAIN_POLICY_REQUIRES_AUTH:r.DOMAIN_POLICY_NO_AUTH}},e.prototype._changeEmail=function(){var e=this,t={users:[]},n=this.email1+"@"+this.domain.host_name;return this.users.forEach(function(e){var a={id:e.id,site_id:e.site_id,email:n};t.users.push(a)}),this._organizationService.changeEmail(this.organizationId,t).then(function(){e._originalEmail=e.email=n,e._$state.go("authenticated.organization-user-profile",{organization_id:e.organizationId,email:e.email},{notify:!1})},function(t){throw e._.get(t,"data.error")})},e.prototype._updateOrganizationAdmin=function(){var e=this,t={organization_permission_id:this.organizationPermissionId};this._organizationService.updateOrganizationAdmin(this.organizationId,this.orgAdminProfile.id,t).then(function(t){e._resetForm(e.organizationAdminForm),e.orgAdminProfile.organization_permission_id=e.originalOrgPermissionId=t.organization_permission_id,e._oliveMessage.show(e._$translate.instant("Permission Set saved successfully"),"updatePermissionSetSuccess","success")}).catch(function(t){var n=e._.get(t,"data.error");e._showError(n)}).finally(function(){e.saved=!0})},e.prototype._updateOrganizationAdminInvitation=function(e){var t=this;this._organizationService.updateOrganizationInvitation(this.organizationId,this.orgAdminProfile.id,e).then(function(){t.originalOrgPermissionId=e.organization_permission_id,t._oliveMessage.show(t._$translate.instant("Invitation was updated successfully."),"invitationUpdateSuccess","success")}).catch(function(e){t._oliveMessage.show(t._$translate.instant("There is an error updating invitation. Please try again later"),"invitationUpdateError","error")}).finally(function(){t.saved=!0})},e.prototype._deleteAndInviteOrganizationAdminInvitation=function(e){var t=this,n=this._organizationService.deleteOrganizationInvitation(this.organizationId,this.orgAdminProfile.id);this._$timeout(function(){return n},2e3).then(function(){return t._organizationService.sendOrganizationInvitation(t.organizationId,e)}).then(function(e){t.orgAdminProfile=e,t.originalOrgPermissionId=t.organizationPermissionId=t.orgAdminProfile.organization_permission_id,t._oliveMessage.show(t._$translate.instant("Invitation was updated successfully."),"invitationUpdateSuccess","success")}).catch(function(){t._oliveMessage.show(t._$translate.instant("There is an error updating invitation. Please try again later"),"invitationUpdateError","error")}).finally(function(){t.saved=!0})},e.prototype._updateMembershipProfile=function(){var e=this;this.saved=!1,(this._isEmailChanged()&&(this._isNameChanged()||this._isLanguageChanged())?this._updateProfile().then(this._updateEmail.bind(this,2e3)):this._isEmailChanged()?this._updateEmail(0):this._updateProfile()).then(function(){e.defaultProfile.user_name=e.defaultProfile.user_name,e._resetForm(e.profileForm),e._oliveMessage.show(e._$translate.instant("Profile saved successfully"),"defaultAccountSaveSuccess","success")}).catch(function(t){var n=e._.get(t,"data.error");e._showError(n)}),this.saved=!0},e.prototype._updateEmail=function(e){var t=this;return this.isDomainUser&&this.canChangeEmail()?e>0?this._$timeout(function(){return t._changeEmail()},e):this._changeEmail():this._$q.reject({data:{error:"You cannot update email address"}})},e.prototype._updateProfile=function(){var e=this,t={users:[]};return this.users.forEach(function(n){var a={id:n.id,site_id:n.site_id,user_name:e.defaultProfile.user_name,language_culture:e.defaultProfile.language_culture};t.users.push(a)}),this._organizationService.postUserProfiles(this.organizationId,t).then(function(){var e=this;t.users.forEach(function(t){var n=e._.find(e.users,{site_id:t.site_id});e._.isEmpty(n)||e._.assign(n,t)})}.bind(this))},e.prototype._showError=function(e){var t="There is an error saving user profile. Please try again later.";if(!this._.isEmpty(e))switch(e.toString().toLowerCase()){case"username_email_awaiting_activation":t="User is in pending activation. Please try again once user is activated.";break;case"invalid_email_change_federated_user":t="Email address for a federated user cannot be changed.";break;case"invalid_email_change_already_in_use":t="Email address is already being used. Please try a different email address.";break;case"invalid_email_change_domain_reserved":t="Email address domain is reserved by other organization."}this._oliveMessage.show(this._$translate.instant(t),"updateUserError","error"),this.saved=!0},e.prototype._isNameChanged=function(){return this.defaultProfile.user_name!==this._originalDefaultProfile.user_name},e.prototype._isEmailChanged=function(){return!!this.isDomainUser&&this.email1+"@"+this.domain.host_name!==this.email},e.prototype._isLanguageChanged=function(){return this.defaultProfile.language_culture!==this._originalDefaultProfile.language_culture},e.prototype._showChangeModal=function(e){this._oliveModal.openModal({scope:e,templateUrl:"organization/confirm-change-email.html",showClose:!0,size:"lg",onComplete:this._updateMembershipProfile.bind(this)})},e.prototype._computeStatus=function(){var e=this._.flatten(this._.map(this.users,"memberships")),t=this._.filter(e,function(e){return"closed"!==e.membership_status&&"disabled"!==e.membership_status});if(t=this._.filter(t,function(e){return!1===e.is_external_account}),!this._.isEmpty(t)){if(this._.some(t,{membership_status:"active"}))return void(this.userStatus="active");if(this._.some(t,{membership_status:"activationSent"})||this._.some(t,{membership_status:"activationRequired"}))return void(this.userStatus="pending")}this.userStatus="closed"},e.prototype._getParamValues=function(e){return this._.flatten(this._.map(this._.filter(e,function(e){return e.value}),"paramValue"))},e.prototype._confirmDeleteInvitation=function(e){var t=this;this._organizationService.deleteOrganizationInvitation(this.organizationId,e.id).then(function(){t._oliveMessage.show(t._$translate.instant(o.INVITATION_DELETE_SUCCESSFUL_MESSAGE),"invitationDeleteSuccess","success"),t.isOrganizationAdmin=t.isOrganizationAdminInvited=!1,t.defaultProfile.is_organization_admin=!1,t.orgAdminProfile=null,t._initialize().then(function(){t.selectNavItem(t.nav.defaultNavigation)})})},e.prototype._clearIdentity=function(e,t){var n=this,a={identity_provider_ids:[e],organization_id:this.organizationId,user_id:t};this._organizationService.clearUserIdentities(a).then(function(){n._oliveMessage.show(n._$translate.instant("Federated ID was successfully cleared"),"clear-federatedid-success","success"),n.orgAdminProfile=null,n._.remove(n.userIdentities,{IdentityProviderId:e})},function(){n._oliveMessage.show(n._$translate.instant("An error occurred while clearing Federated ID. Please try again."),"clear-federatedid-error","error")})},e.prototype._initializeOrganizationPermissionId=function(){this.originalOrgPermissionId=this.orgAdminProfile&&this.orgAdminProfile.organization_permission_id!==s.GUID_EMPTY?this.orgAdminProfile.organization_permission_id:"",this.organizationPermissionId=this.originalOrgPermissionId},e}();i.OrganizationModule.controller("OrganizationUserProfileController",["$scope","lodash","OrganizationService","DocuSignAccountServerApiClientApplication","$q","$translate","$state","$stateParams","Locales","oliveMessage","oliveModal","DateTimeService","appUser","$timeout","dsUtilities","userPermissions","$window","configuration","RADminErrorLogger",f])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14);t.DOMAIN_POLICY_REQUIRES_AUTH="The default login policy for this email domain requires all users to log in via SSO",t.DOMAIN_POLICY_NO_AUTH="The default login policy for this email domain does not require all users to log in via SSO",t.MEMBERSHIP_REACTIVATED_SUCCESS="Membership for {{email}} reactivated.",t.MEMBERSHIP_REACTIVATED_ERROR="Reactivate membership for {{email}} has failed. Please try again.",t.CANCEL_ADD_TITLE="Cancel Add User?",t.CANCEL_ADD_WARNING="Your changes are unsaved and will be discarded. Are you sure you want to cancel adding this user?",t.CANCEL_REACTIVATE_TITLE="Cancel Reactivate User?",t.CANCEL_REACTIVATE_WARNING="Your changes are unsaved and will be discarded. Are you sure you want to cancel reactivating this user?";var i="require_identity_provider_auth",s=/custom/i,o=function(){function e(e,t,n,i,s,o,r,l,c,d,u,p,m,g,h,f,v,_,b){this._$q=e,this._$state=t,this._$scope=n,this._Users=i,this._roleService=s,this._=o,this._appUser=r,this._oliveMessage=l,this._oliveModal=c,this._$translate=d,this._locales=u,this._organizationService=p,this.userPermissions=m,this._Billing=g,this._GroupService=h,this._dsGroups=f,this._i18nLayer=v,this._countryStatePicker=_,this._log=b,this.USER_NOT_FOUND_CODE="USER_NOT_FOUND",this.USER_SEARCHBY_EMAIL_ERROR="An error occurred while search user by email. Please try again.",this.SECURITY_ACCESSCODE="Access Code - {{code}}",this.SECURITY_ACCESSCODE_NOCODE="No Access Code",this.userStatus="Active,ActivationSent,ActivationRequired,Closed",this.step=1,this.emailError=!1,this.canManageOrganization=!1,this.federatedStatus="none",this.loginPolicies={none:"Default",fedauthrequired:"Identity Provider only",fedauthbypass:"Identity Provider or Username / Password"},this.groups=[],this.isSearchingUser=!1,this.accessCodePattern=a.accessCodePattern,this.saving=!1,this.showStateList=!1,this.groupLoaded=!1,this.originalGroups=[],this._initialize()}return e.prototype.nextStep=function(){switch(this.step){case 1:this._checkExistingUser(),this._domainPolicySetting(),this.emailError=!1;break;case 3:this.groupLoaded||this._initializeGroups();default:++this.step}},e.prototype.cancel=function(){var e=this,n={title:this._$translate.instant(this.existingUser?t.CANCEL_REACTIVATE_TITLE:t.CANCEL_ADD_TITLE),text:this._$translate.instant(this.existingUser?t.CANCEL_REACTIVATE_WARNING:t.CANCEL_ADD_WARNING),completeLabel:this._$translate.instant("Confirm"),completeFunction:function(){e._$state.go("authenticated.users")},escapeLabel:this._$translate.instant("Cancel")};this._oliveModal.confirmationModal(n)},e.prototype.goBack=function(){--this.step},e.prototype.getGroupNames=function(){var e="";return this.groups.forEach(function(t){e+=(e.length?", ":"")+t.groupName}),e},e.prototype.securitySummaryMessage=function(){if(this.canManageOrganization){var e=this.loginPolicies[this.federatedStatus];return this._$translate.instant(e)}return this.accessCode?this._$translate.instant(this.SECURITY_ACCESSCODE,{code:this.accessCode}):this._$translate.instant(this.SECURITY_ACCESSCODE_NOCODE)},e.prototype.displaySummary=function(e){return this._.isEmpty(e)?"":", "+e},e.prototype.displayAddressSummary=function(e){var t="";if(!this._.isEmpty(e))switch(this.addressFormat){case"ja_jp":t=this._.trim((e.postalCode||"")+" "+(e.stateOrProvince||"")+" "+(e.city||"")+" "+(e.address1||"")+" "+(e.address2||""));break;default:if(t=this._.trim((e.address1||"")+" "+(e.address2||"")),t+=this.displaySummary(this._.trim((e.city||"")+" "+(e.stateOrProvince||"")+" "+(e.postalCode||""))),!this._.isEmpty(this.countries)&&!this._.isEmpty(e.country)){var n=this._.find(this.countries,{value:e.country});t+=this.displaySummary(this._.trim(this._$translate.instant(n.name)))}}return this.displaySummary(t)},e.prototype.displayLanguageName=function(e){var t=this._$translate.instant(e);return this.displaySummary(t)},e.prototype.showGroupModal=function(){var e=this._$scope.$new();e.groups=this.groups,e.updateGroups=this._updateGroups.bind(this),e.originalGroups=this.originalGroups,this._oliveModal.openModal({scope:e,templateUrl:"user management/users/add-user-groups.html",showClose:!1,size:"sm"})},e.prototype.differentPolicy=function(){return!!this._requireIdentityProvider&&"fedauthrequired"!==this.federatedStatus},e.prototype.processUser=function(){this._userInfo={id:"",fullName:this.fullName,accessCode:this.accessCode,company:this.company,email:this.email,jobTitle:this.jobTitle,locale:this.language.key,groupList:[],federatedStatus:this.federatedStatus,role:{id:this.selectedRole.id,name:this.selectedRole.name},workAddress:{address1:this.userAddress.address1,address2:this.userAddress.address2,city:this.userAddress.city,stateOrProvince:this.userAddress.stateOrProvince,country:this.userAddress.country,phone:this.userAddress.phone,postalCode:this.userAddress.postalCode}},this.saving=!0,this.existingUser?this._reactivate():this._create()},e.prototype.changeCountry=function(){this.states=this._countryStatePicker.getStateList(this.userAddress.country),this.stateLabel=this._countryStatePicker.getStateLabel(this.userAddress.country),this.stateSelectLabel=this._countryStatePicker.getStateSelectLabel(this.userAddress.country),this.showStateList=this._countryStatePicker.countryHasEnumeratedRegions(this.userAddress.country)},e.prototype._reactivate=function(){var e=this.existingUser.name!==this._userInfo.fullName;this._userInfo.id=this.existingUser.id,this._userInfo.groupList=this.existingUser.groupList,this._Users.save(this._userInfo,e).then(this._updateUserGroups.bind(this)).then(function(){return this.existingUser.reactivate(this.accessCode)}.bind(this)).then(function(){this._appUser.refreshAccountInformation(),this._oliveMessage.show(this._$translate.instant(t.MEMBERSHIP_REACTIVATED_SUCCESS,{email:this.email}),"","success"),this._$state.go("authenticated.users")}.bind(this)).catch(function(){this._oliveMessage.show(this._$translate.instant(t.MEMBERSHIP_REACTIVATED_ERROR,{email:this.email}),"","error"),this.saving=!1}.bind(this))},e.prototype._create=function(){var e;this._Users.add(this._userInfo).then(function(t){var n={id:t.id,federatedStatus:this.federatedStatus,email:t.email};return e=t,"none"===this.federatedStatus?this._$q.when(t):this._Users.save(n,!1)}.bind(this)).then(this._updateUserGroups.bind(this)).then(function(){this._appUser.refreshAccountInformation(),this._oliveMessage.show(this._$translate.instant(a.USER_CREATE_SUCCESS,{email:e.email}),"create-user-success","success",{autoClose:!0}),this._$state.go("authenticated.users")}.bind(this)).catch(function(e){var t="";switch((e.data?e.data.errorCode:e.errorCode)||""){case a.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR_CODE:t=a.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR;break;case a.PERMISSION_ID_OR_NAME_ERROR_CODE:t=a.PERMISSION_ID_OR_NAME_ERROR;break;case a.USER_NOT_ACCOUNT_ADMIN_ERROR_CODE:t=a.USER_NOT_ACCOUNT_ADMIN_ERROR;break;case a.USER_AWAITING_ACTIVATION_ERROR_CODE:t=a.USER_AWAITING_ACTIVATION_ERROR;break;case a.EMAIL_RESERVED_ERRORCODE:t=a.INVALID_EMAIL_DOMAIN_RESERVED_ERROR;break;default:t=a.USER_ADDING_ERROR}t.length&&this._oliveMessage.show(this._$translate.instant(t),"create-user-fail","error");this.saving=!1}.bind(this))},e.prototype._initialize=function(){var e=this,t=this._Users.getSelectedUser(),n=[this._roleService.all({returnOnlyEditableRoles:!0,includeUserCount:!1,includeAccountManagement:!0}),this._Billing.userPricing()];this._.isUndefined(t)||(this.email=t.email,this._domainPolicySetting().then(function(){return e._reactivateUser(t)}).then(function(){++e.step}).catch(function(){return e._$state.go("authenticated.users")})),this.locales=this._.sortBy(this._locales.sending,"englishLanguageName"),this.language=this._.find(this.locales,{key:"en"}),this.userAddress={address1:null,address2:null,city:null,postalCode:null,stateOrProvince:null,phone:null,country:null},this._$q.all(n).then(function(t){e.roles=t[0];var n,a=t[1],i=a.requiresUpgrade(),s=a.addIsBlocked();a.showMarketing()&&(i?n="You have reached the number of users included in your plan. If you choose to add new users, you will need to upgrade your plan.":s&&(n="The maximum number of users for the account has been reached.")),n&&(e._oliveMessage.show({content:e._$translate.instant(n),name:"overLimitMessage",type:"info"}),e._$state.go("authenticated.users")),e.addressFormat=e._i18nLayer.getAddressFormat(),e.countries=e._countryStatePicker.getCountries(),e.stateLabel=e._countryStatePicker.getStateLabel()})},e.prototype._domainPolicySetting=function(){return this.userPermissions.canManageOrganizationUsers()?this._getReservedDomainSetting():this._$q.when()},e.prototype._getReservedDomainSetting=function(){var e=this;return this._organizationService.getOrganizationsByOrgAdmin().then(function(n){var a=e._.find(n,function(e){return this._.find(e.reserved_domains,function(e){return"active"===e.status.toLowerCase()&&this._.endsWith(this.email.toLowerCase(),e.host_name.toLowerCase())}.bind(this))}.bind(e));e.canManageOrganization=!e._.isUndefined(a),a&&a.reserved_domains.forEach(function(n){if("active"===n.status.toLowerCase()&&e._.endsWith(e.email.toLowerCase(),n.host_name.toLowerCase()))return e._requireIdentityProvider=e._.find(n.settings,{key:i}).value,void(e.domainPolicy=function(e){if(!this._.isEmpty(e.settings)){var n=this._.find(e.settings,{key:i});if(!this._.isEmpty(n))return n.value?t.DOMAIN_POLICY_REQUIRES_AUTH:t.DOMAIN_POLICY_NO_AUTH}}.call(e,n))})})},e.prototype._checkExistingUser=function(){var e=this,t={email:this.email,status:this.userStatus};this.isSearchingUser=!0,this._oliveMessage.closeAll(),this.existingUser=null,this._initForm(),this._Users.getPage(t).then(function(t){var n=e._.filter(t.users,function(e){return e.email.toLowerCase()===this.email.toLowerCase()}.bind(e));e._.isEmpty(n)?++e.step:e._showExistingUserModal(n)},function(t){switch(t.data.errorCode){case e.USER_NOT_FOUND_CODE:++e.step;break;default:e._oliveMessage.show(e.USER_SEARCHBY_EMAIL_ERROR)}}).finally(function(){e.isSearchingUser=!1})},e.prototype._updateGroups=function(e){var t=this;this.groups=[],e.forEach(function(e){t._.find(t.groups,{groupId:e.groupId})||t.groups.push(e)})},e.prototype._showExistingUserModal=function(e){var t=this,n=this._.find(e,function(e){return"Closed"!==e.status}),a=n&&"Pending"===n.status||!1;this._$scope.activeUser=n,this._$scope.closedUsers=this._.isUndefined(n)?e:[],this._$scope.reactivateUser=this._reactivateUser.bind(this),this._$scope.hasEnoughPermission=n&&this._.find(this.roles,{id:n.permissionProfileId}),this._oliveModal.openModal({scope:this._$scope,templateUrl:"user management/users/existing-user.html",showClose:!1,size:this._.isUndefined(n)?"lg":"sm",onComplete:function(){a||++t.step}})},e.prototype._reactivateUser=function(e){var t=this;return this._Users.by(e.id).then(function(e){t.existingUser=e,t._initForm()}).catch(function(n){t._log.sendLog("An error occurred reactivating a user when getting the user's email "+e.email,n),t._oliveMessage.show(t._$translate.instant("An Error occurred while getting user's information with email {{email}}. Please try again.",{email:e.email}),"reactivateError","error")})},e.prototype._initForm=function(){this.existingUser?(this.email=this.existingUser.email,this.fullName=this.existingUser.name,this.jobTitle=this.existingUser.jobTitle,this.company=this.existingUser.company,this.language=this._.find(this.locales,{key:this.existingUser.locale||"en"})):(this.fullName=this.jobTitle=this.company="",this.language=this._.find(this.locales,{key:"en"})),this.selectedRole=void 0,this.groups=[]},e.prototype._updateUserGroups=function(e){var t=this,n=[];return this._.isEmpty(e.groupList)||e.groupList.forEach(function(a){(function(e){return s.test(e.groupType)&&!this._.find(this.groups,{groupId:e.groupId})}).call(t,a)&&n.push(t._GroupService.removeSingleUser(a,e))}),this.groups.forEach(function(a){t._.find(e.groupList,{groupId:a.groupId})||n.push(t._GroupService.addSingleUser(a,e))}),n.length?this._$q.all(n):this._$q.when(e)},e.prototype._initializeGroups=function(){var e=this;function t(e){return s.test(e.groupType)}this._dsGroups.getAllGroupsForAccount().then(function(n){e.originalGroups=n.groups.filter(t),e.groupLoaded=!0})},e}();t.AddUserController=o,a.UsersModule.controller("AddUserController",["$q","$state","$scope","Users","RolesService","lodash","appUser","oliveMessage","oliveModal","$translate","Locales","OrganizationService","userPermissions","Billing","GroupService","dsGroups","dsi18nlayer","countryStatePicker","RADminErrorLogger",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(14),s=n(284);t.DOMAIN_POLICY_REQUIRES_AUTH="The default login policy for this email domain requires all users to log in via SSO",t.DOMAIN_POLICY_NO_AUTH="The default login policy for this email domain does not require all users to log in via SSO";var o=function(){function e(e,t,n,a,s,o,r,l,c,d,u,p){this._$scope=e,this._=t,this._organizationService=n,this._$state=a,this._$stateParams=s,this._oliveMessage=o,this._$translate=r,this._oliveModal=l,this._locales=c,this._$q=d,this._$timeout=u,this.configuration=p,this.loginPolicies={RemoveStatus:"Default",FedAuthRequired:"Identity Provider only",FedAuthBypass:"Identity Provider or Username / Password"},this.step=1,this.emailError=!1,this.isDomainUser=!1,this.accessCodePattern=i.accessCodePattern,this._organizationId=this._$stateParams.organization_id,this._.isEmpty(this._organizationId)&&this._$state.go("authenticated.organization-users",{organization_id:this._organizationId}),this._organizationService.currentOrg.id===this._organizationId&&(this.organization=this._organizationService.currentOrg.organization),this.existingUser=this._organizationService.getSelectedUser(),this.existingUser&&this._initForm(),this.loading=this._loadOrgAccounts(),this.locales=this._.sortBy(this._locales.sending,"englishLanguageName"),this.language=this._.find(this.locales,{key:"en"})}return e.prototype.checkRequirements=function(){var e=this._.find(this.selectedMemberships,{isDefault:!0}),t=function(){return this._.some(this.selectedMemberships,function(e){return!e.permissionSet})}.call(this);return this.saving||t||!this.selectedMemberships.length||this._.isEmpty(e)},e.prototype.nextStep=function(){switch(this.step){case 1:this._checkDomainUser(this.email),this._checkExistingUser(),this.emailError=!1;break;case 3:if(this.existingUser){var e=this._.find(this.selectedMemberships,function(e){return!e.permissionSet});!this._.isUndefined(e)&&this.showAddMembershipModal(e)}this.showAutoActivateCheckbox=this.isDomainUser&&this.requireIdentityProvider;default:++this.step}},e.prototype.goBack=function(){--this.step},e.prototype.showAddMembershipModal=function(e){var t=this._$scope.$new();t.accounts=this._getUnselectedAccounts(),t.addMembership=this._addMembership.bind(this),t.organizationId=this._organizationId,this.existingUser&&(t.user=this.existingUser,t.isReactivate=!0),this._.isEmpty(e)||(t.updateMembership=e,t.accounts.push(e.account),t.address=e.address||void 0),this._oliveModal.openModal({scope:t,templateUrl:"organization/organization-user-new-membership.html",showClose:!1,size:"xl"})},e.prototype.processMemberships=function(){this.existingUser?this._reactivate():this._create()},e.prototype.setAsDefault=function(e){var t=this._.find(this.selectedMemberships,{isDefault:!0});t&&(t.isDefault=!1),e.isDefault=!0},e.prototype.deleteAccount=function(e){if(this._.remove(this.selectedMemberships,function(t){return t.account.account_id===e.account.account_id}),!0===e.isDefault){var t=this._$translate.instant("Default account is required.");this._oliveMessage.show(t,"requireDefaultAccountError","error")}},e.prototype.differentPolicy=function(){return!!this.requireIdentityProvider&&("RemoveStatus"!==this.federatedStatus&&"FedAuthRequired"!==this.federatedStatus)},e.prototype.cancel=function(){var e=this,t={title:this._$translate.instant(this.existingUser?s.CANCEL_REACTIVATE_TITLE:s.CANCEL_ADD_TITLE),text:this._$translate.instant(this.existingUser?s.CANCEL_REACTIVATE_WARNING:s.CANCEL_ADD_WARNING),completeLabel:this._$translate.instant("Confirm"),completeFunction:function(){e._$state.go("authenticated.organization-users",{organization_id:e._organizationId})},escapeLabel:this._$translate.instant("Cancel")};this._oliveModal.confirmationModal(t)},e.prototype._reactivate=function(){var e=this,t={users:[]},n=this.selectedMemberships[0],a=this._.map(n.groups,"group_id")||[],i={id:this.existingUser.id,email:this.email,site_id:this.existingUser.site_id,federated_status:this.federatedStatus,user_name:this.userName,language_culture:this.language.key,memberships:[{account_id:n.account.account_id,access_code:this.accessCode,group_ids:a,permission_profile_id:n.permissionSet.id,company_name:n.company_name,job_title:n.job_title}]};return t.users.push(i),this.saving=!0,this._organizationService.postUserProfiles(this._organizationId,t).then(function(e){return this._organizationService.postOrganizationMembershipAddress(this._organizationId,e.account.account_id,this.existingUser.id,e.address)}.bind(this,n)).then(function(){var e={auto_activate_memberships:this.autoActivateMemberships,users:[{id:this.existingUser.id,email:this.email,site_id:this.existingUser.site_id,memberships:[{account_id:this.selectedMemberships[0].account.account_id,send_activation:!0,access_code:this.accessCode}]}]};return this._organizationService.resendInvitation(this._organizationId,e)}.bind(this)).then(function(){e._oliveMessage.show(e._$translate.instant(s.MEMBERSHIP_REACTIVATED_SUCCESS,{email:e.email}),"membershipReactivateSuccess","success"),e._$state.go("authenticated.organization-users",{organization_id:e._organizationId})}).catch(function(){e.saving=!1,e._oliveMessage.show(e._$translate.instant(s.MEMBERSHIP_REACTIVATED_ERROR,{email:e.email}),"membershipReactivateError","error")})},e.prototype._create=function(){var e=this,t={user_name:this.userName,email:this.email,language_culture:this.language.key,accounts:[],default_account_id:"",auto_activate_memberships:this.autoActivateMemberships};this.isDomainUser?t.federated_status=this.federatedStatus:this._.isEmpty(this.accessCode)||(t.access_code=this.accessCode),this.selectedMemberships.forEach(function(n){var a={account_id:n.account.account_id,permission_profile_id:n.permissionSet.id,group_ids:[],job_title:n.job_title||"",company_name:n.company_name||""};e._.isEmpty(n.groups)||(a.group_ids=e._.map(n.groups,"group_id")),t.accounts.push(a),n.isDefault&&(t.default_account_id=a.account_id)}),this.saving=!0,this._organizationService.postOrganizationUsers(this._organizationId,t).then(function(n){e._$timeout(function(){(function(e){var t,n=this,a=[];if(this._.uniq(e.accounts.map(function(e){return e.site_id})).length>1){var i=[];t=this._organizationService.getUserDetail(this._organizationId,this.email).then(function(e){return e.users.forEach(function(e){e.memberships.forEach(function(t){i.push({userId:e.id,accountId:t.account_id})})}),i})}else{var s=e.accounts.map(function(t){return{userId:e.id,accountId:t.account_id}});t=this._$q.when(s)}return t.then(function(t){return e.accounts.forEach(function(e){var i=function(e){return this._.find(this.selectedMemberships,function(t){return t.account.account_id===e})}.call(n,e.account_id);if(i){var s=n._.find(t,{accountId:i.account.account_id});a.push(n._organizationService.postOrganizationMembershipAddress(n._organizationId,e.account_id,s.userId,i.address))}}),a})}).call(e,n).then(function(n){e._$q.all(n).then(function(){e.saving=!1,e._oliveMessage.show({content:e._$translate.instant("You have successfully added user {{name}}",{name:t.user_name}),name:"addUserSuccess",type:"success"}),e._$state.go("authenticated.organization-users",{organization_id:e._organizationId})})})},2e3)}).catch(function(e){var t="";switch(e.data&&e.data.errorCode||e.data&&e.data.error||e.errorCode||""){case i.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR_CODE:t=i.USER_ALREADY_EXISTS_IN_ACCOUNT_ERROR;break;case i.PERMISSION_ID_OR_NAME_ERROR_CODE:t=i.PERMISSION_ID_OR_NAME_ERROR;break;case i.USER_AWAITING_ACTIVATION_ERROR_CODE:t=i.USER_AWAITING_ACTIVATION_ERROR;break;case i.INVALID_EMAIL_DOMAIN_RESERVED_ERROR_CODE:t=i.INVALID_EMAIL_DOMAIN_RESERVED_ERROR;break;default:t=i.USER_ADDING_ERROR}this._oliveMessage.show(this._$translate.instant(t),"create-user-fail","error"),this.saving=!1}.bind(this))},e.prototype._loadOrgAccounts=function(){var e=this;return this._organizationService.getOrganizationAccounts(this._organizationId).then(function(t){t=e._.map(t,e._appendExternalAccountId.bind(e)),e.cachedAccounts=e._.cloneDeep(t),e.selectedMemberships=[],e.existingUser&&e._initSelectedMemberships(e.existingUser.memberships)})},e.prototype._appendExternalAccountId=function(e){var t=e.account_name+" ("+e.external_account_id+")";return e.account_name_with_id=t,e},e.prototype._addMembership=function(e){this._.isEmpty(e.groups)?e.groupNames=this._$translate.instant("None"):e.groupNames=this._.map(e.groups,function(e){return"customGroup"===e.group_type?e.group_name:this._$translate.instant(e.group_name)}.bind(this)).join(", ");var t=this._.findIndex(this.selectedMemberships,function(t){return t.account.account_id===e.account.account_id});t>-1?this.selectedMemberships[t]=e:(0===this.selectedMemberships.length&&(e.isDefault=!0),this.selectedMemberships.push(e)),this._oliveModal.closeAllModals()},e.prototype._getUnselectedAccounts=function(){var e=this,t=this._.cloneDeep(this.cachedAccounts);return this.selectedMemberships.forEach(function(n){e._.remove(t,function(e){return e.account_id===n.account.account_id})}),t},e.prototype._checkExistingUser=function(){var e=this;return this.existingUser=null,this.selectedMemberships=[],this._initForm(),this._organizationService.getUserDetail(this._organizationId,this.email).then(function(t){var n=[],a=t.users;e._.isEmpty(a)?++e.step:(a.forEach(function(t){e._.some(t.memberships,function(t){return t.email.toLowerCase()===e.email.toLowerCase()})&&n.push(t)}),e._.isEmpty(n)?++e.step:e._showExistingUserModal(n))})},e.prototype._showExistingUserModal=function(e){var t=this,n=this._$scope.$new(),a=this._.find(e,function(e){return"closed"!==e.user_status});n.organizationId=this._organizationId,n.activeMembership=a,n.closedMemberships=this._.isUndefined(a)?function(){var t=this,n=[];return this._.forEach(e,function(e){t._.forEach(e.memberships,function(e){e.email===t.email&&n.push(e)})}),n}.call(this):[],this._oliveModal.openModal({scope:n,templateUrl:"organization/existing-user.html",showClose:!1,size:a?"sm":"md",onComplete:function(){t._initForm(),++t.step}})},e.prototype._checkDomainUser=function(e){var t=this;this.isDomainUser=!1,this._.isEmpty(this.organization.reserved_domains)||this.organization.reserved_domains.forEach(function(n){if("active"===n.status.toLowerCase()&&t._.endsWith(e.toLowerCase(),n.host_name.toLowerCase())){t.isDomainUser=!0;var a=t._.find(n.settings,function(e){return"require_identity_provider_auth"===e.key});t.requireIdentityProvider=a&&a.value;var i=t._.find(n.settings,function(e){return"auto_activate_memberships"===e.key});return t.autoActivateMemberships=i&&i.value,void(t.domainPolicy=t._getDomainPolicy(n))}}),this._initUserDefaults()},e.prototype._initUserDefaults=function(){this.federatedStatus=this.isDomainUser?"RemoveStatus":null,this.accessCode=""},e.prototype._getDomainPolicy=function(e){if(!this._.isEmpty(e.settings)){var n=this._.find(e.settings,{key:"require_identity_provider_auth"});if(!this._.isEmpty(n))return!0===n.value?t.DOMAIN_POLICY_REQUIRES_AUTH:t.DOMAIN_POLICY_NO_AUTH}},e.prototype._initForm=function(){if(this.existingUser&&!this._.isEmpty(this.existingUser.memberships)){var e=this._.head(this.existingUser.memberships);this.email=e.email,this.userName=this.existingUser.user_name,this._checkDomainUser(this.email),++this.step}else this.userName=""},e.prototype._initSelectedMemberships=function(e){this._.forEach(e,function(e){if(e.reactivating){var t=function(e){return{permissionSet:null,groups:[],account:this._.find(this.cachedAccounts,{account_id:e.account_id}),isDefault:e.isDefault||!1,job_title:e.job_title,company_name:e.company_name}}.call(this,e);this._addMembership(t)}}.bind(this))},e}();a.OrganizationModule.controller("OrganizationAddUserController",["$scope","lodash","OrganizationService","$state","$stateParams","oliveMessage","$translate","oliveModal","Locales","$q","$timeout","configuration",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);!function(e){e[e.Default=0]="Default",e[e["Identity Provider only"]=1]="Identity Provider only",e[e["Identity Provider or Username / Password"]=2]="Identity Provider or Username / Password"}(t.FederatedStatus||(t.FederatedStatus={})),t.AuditTypes={unknown:"Unknown",user:"User",organization:"Organization",organization_account:"Organization Account",organization_admin:"Organization admin",organization_admin_invitation:"Organization admin invitation",organization_reserved_domain:"Organization reserved domain",identity_provider:"Identity Provider",account:"Account"},t.AuditEvents=[{key:"unknown",displayName:"Unknown"},{key:"view_audit_logs",displayName:"View Audit Logs"},{key:"add_organization",displayName:"Add Organization"},{key:"update_organization",displayName:"Update Organization"},{key:"delete_organization",displayName:"delete Organization"},{key:"add_organization_account",displayName:"Link Organization Account"},{key:"delete_organization_account",displayName:"Unlink Organization Account"},{key:"add_organization_admin",displayName:"Add Organization Admin"},{key:"delete_organization_admin",displayName:"Delete Organization Admin"},{key:"add_organization_admin_invitation",displayName:"Add Organization Admin Invitation"},{key:"decline_organization_admin_invitation",displayName:"Decline Organization Admin Invitation"},{key:"update_organization_admin_invitation",displayName:"Update Organization Admin Invitation"},{key:"delete_organization_admin_invitation",displayName:"Delete Organization Admin Invitation"},{key:"add_membership",displayName:"Add Membership"},{key:"update_membership",displayName:"Update Membership"},{key:"close_membership",displayName:"Close Membership"},{key:"add_organization_reserved_domain",displayName:"Add Organization Reserved Domain"},{key:"update_organization_reserved_domain",displayName:"Update Organization Reserved Domain"},{key:"delete_organization_reserved_domain",displayName:"Delete Organization Reserved Domain"},{key:"close_organization_admin_invitation",displayName:"Close Organization Admin Invitation"},{key:"resend_organization_admin_invitation",displayName:"Resend Organization Admin Invitation"},{key:"verify_organization_reserved_domain",displayName:"Verify Organization Reserved Domain"},{key:"add_identity_provider",displayName:"Add Identity Provider"},{key:"update_identity_provider",displayName:"Update Identity Provider"},{key:"delete_identity_provider",displayName:"Delete Identity Provider"},{key:"delete_user_identity",displayName:"Delete User Identity"},{key:"insert_user_identity",displayName:"Insert User Identity"},{key:"add_identity_provider_certificate_info",displayName:"Add identity Provider Certificate Information"},{key:"delete_identity_provider_certificate_info",displayName:"Delete Identity Provider Certificate Information"},{key:"add_organization_permission",displayName:"Add Organization Permission"},{key:"update_organization_permission",displayName:"Update Organization Permission"},{key:"delete_organization_permission",displayName:"Delete Organization Permission"},{key:"add_organization_delegated_admin",displayName:"Add Organization Delegated Permission"},{key:"delete_organization_delegated_admin",displayName:"Delete Organization Delegated Permission"},{key:"update_organization_delegated_admin",displayName:"Update Organization Delegated Permission"},{key:"update_organization_admin",displayName:"Update Organization Admin"},{key:"send_activation",displayName:"Send Activation"},{key:"add_user",displayName:"Add User"},{key:"update_user",displayName:"Update User"},{key:"update_organization",displayName:"Update Organization"},{key:"update_work_address",displayName:"Update Address"},{key:"insert_organization_export",displayName:"Create Organization Export"},{key:"delete_organization_export",displayName:"Delete Organization Export"}],t.SubjectChangedTypes=[{type:"account_id",displayName:"Account Id"},{type:"account_name",displayName:"Account name"},{type:"address_information",displayName:"Address Information"},{type:"closed_date",displayName:"Closed Date"},{type:"default_region_code",displayName:"Default Region"},{type:"last_modified_date",displayName:"Last Modified Date"},{type:"properties",displayName:"Properties"},{type:"status",displayName:"Status"},{type:"user_email",displayName:"User Email"},{type:"user_name",displayName:"User Name"},{type:"organization_id",displayName:"Organization ID"},{type:"organization_name",displayName:"Organization Name"},{type:"organization_description",displayName:"Organization Description"},{type:"organization_default_account_id",displayName:"Organization Default Account ID"},{type:"organization_default_permission_profile_id",displayName:"Organization Default Permission Profile ID"},{type:"organization_permission_id",displayName:"Organization Permission ID"},{type:"site_id",displayName:"Site ID"},{type:"reserved_domain_status",displayName:"Reserved Domain Status"},{type:"reserved_domain_verified_on",displayName:"Reserved Domain Verified"},{type:"reserved_domain_settings",displayName:"Reserved Domain Settings"},{type:"identity_provider_id",displayName:"Identity Provider ID"},{type:"identity_provider_type",displayName:"Identity Provider Type"},{type:"identity_provider_friendly_name",displayName:"Identity Provider Name"},{type:"identity_provider_issuer",displayName:"Identity Provider Issuer"},{type:"identity_provider_autoprovision_users",displayName:"Identity Provider Auto Provision Users"},{type:"identity_provider_login_url",displayName:"Identity Provider Login URL"},{type:"identity_provider_metadata_url",displayName:"Identity Provider Metadata URL"},{type:"sign_authn_request",displayName:"Sign AuthN Request"},{type:"send_authn_request_by",displayName:"Send AuthN Request By"},{type:"identity_provider_logout_url",displayName:"Identity Provider Logout URL"},{type:"sign_logout_request",displayName:"Sign Logout Request"},{type:"send_logout_request_by",displayName:"Send Logout Request By"},{type:"name_id_format",displayName:"Name ID Format"},{type:"sign_request_using",displayName:"Sign Request Using"},{type:"requested_authn_context",displayName:"Requested AuthN Context"},{type:"requested_authn_context_comparison",displayName:"Requested AuthN Context Comparison"},{type:"requested_authn_context_only_with_force_authn",displayName:"Requested AuthN Context Only With Force AuthN"},{type:"claim_validation_mode",displayName:"Claim Validation Mode"},{type:"enable_name_id_custom_mapping",displayName:"Enable Name ID Custom Mapping"},{type:"ignore_audience_restrictions",displayName:"Ignore Audience Restrictions"},{type:"require_recipient_auth",displayName:"Always require login when opening envelopes"},{type:"restrict_new_sign_ups",displayName:"Prevent unmanaged signups"},{type:"require_identity_provider_auth",displayName:"Require all users to authenticate with Identity Provider"},{type:"require_two_step_verification",hide:!0},{type:"disable_persistent_username",hide:!0},{type:"close_external_org_memberships",hide:!0},{type:"close_external_org_users",hide:!0},{type:"merge_internal_org_users",hide:!0},{type:"maximum_bearer_token_lifetime_in_seconds",hide:!0},{type:"maximum_tgt_lifetime_in_seconds",hide:!0},{type:"max_failed_logon_attempts",hide:!0},{type:"show_federal_government_prompt",hide:!0},{type:"permission_name",displayName:"Permission Name"},{type:"organization_admin",displayName:"Organization"},{type:"delegated_organization_user_admin",displayName:"User"},{type:"user_first_name",displayName:"First Name"},{type:"user_last_name",displayName:"Last Name"},{type:"user_status",displayName:"User Status"},{type:"user_federated_status",displayName:"Federated Status"},{type:"user_locale",displayName:"Language"},{type:"user_default_account_id",displayName:"User Default Account ID"},{type:"permission_profile_id",displayName:"Permission Profile "},{type:"groups",displayName:"Groups"},{type:"address_address1",displayName:"Address 1"},{type:"address_address2",displayName:"Address 2"},{type:"address_city",displayName:"City"},{type:"address_state_province",displayName:"State"},{type:"address_country",displayName:"Country"},{type:"address_postal_code",displayName:"Postal Code"},{type:"address_phone",displayName:"Phone Number"},{type:"membership_job_title",displayName:"Job Title"},{type:"membership_company_name",displayName:"Company Name"},{type:"auto_activate_memberships",displayName:"Auto-activate memberships on Organization accounts"}],t.EventPropertyNames=[{keyName:"organization_id",displayName:"Organization ID"},{keyName:"account_id",displayName:"Account ID"},{keyName:"admin_user_id",displayName:"Admin User ID"},{keyName:"admin_user_invitation_email",displayName:"Admin User Invitation Email"},{keyName:"organization_reserved_domain_id",displayName:"Organization Reserved Domain ID"},{keyName:"identity_provider_id",displayName:"Identity Provider ID"},{keyName:"organization_default_account_id",displayName:"Organization Default account ID"},{keyName:"organization_default_account_name",displayName:"Organization Default account Name"},{keyName:"organization_default_permission_profile_id",displayName:"Organization Default permission profile ID"},{keyName:"organization_default_permission_profile_name",displayName:"Organization Default permission profile Name"},{keyName:"user_id",displayName:"User ID"},{keyName:"organization_name",displayName:"Organization Name"},{keyName:"identity_provider_certificate_info_id",displayName:"Identity Provider Certificate Information ID"},{keyName:"account_name",displayName:"Account Name"},{keyName:"admin_user_email",displayName:"Admin User Email"},{keyName:"identity_provider_issuer",displayName:"Identity Provider issuer"},{keyName:"identity_provider_friendly_name",displayName:"Identity Provider Name"},{keyName:"organization_reserved_domain",displayName:"Organization Reserved Domain"},{keyName:"user_email",displayName:"User Email"},{keyName:"last_modified_date",displayName:"Last Modified Date"},{keyName:"user_name",displayName:"User Name"},{keyName:"plan_name",displayName:"Plan Name"},{keyName:"user_identity_immutable_id",displayName:"User Identity Immutable ID"},{keyName:"organization_permission_id",displayName:"Organization Permission ID"},{keyName:"organization_permission_name",displayName:"Organization Permission Name"},{keyName:"identity_provider_certificate_issuer",displayName:"Identity Provider Certificate Issuer"},{keyName:"identity_provider_certificate_thumbprint",displayName:"Identity Provider Certificate Thumbprint"},{keyName:"organization_admin_id",displayName:"Organization Admin ID"},{keyName:"organization_delegated_admin_id",displayName:"Organization Delegated Admin ID"},{keyName:"auto_activate_memberships",displayName:"Auto-Activate Memberships"},{keyName:"organization_export_type",displayName:"Organization Export Type"},{keyName:"organization_export_id",displayName:"Organization Export ID"}],t.EventPropertyValues=[{keyName:a.EXPORT_TYPE.users.key,displayName:a.EXPORT_TYPE.users.name},{keyName:a.EXPORT_TYPE.domainUsers.key,displayName:a.EXPORT_TYPE.domainUsers.name},{keyName:a.EXPORT_TYPE.externalUsers.key,displayName:a.EXPORT_TYPE.externalUsers.name}],a.OrganizationModule.constant("AuditEvents",t.AuditEvents).constant("AuditTypes",t.AuditTypes).constant("SubjectChangedTypes",t.SubjectChangedTypes).constant("EventPropertyValues",t.EventPropertyValues).constant("EventPropertyNames",t.EventPropertyNames)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.ConfigurationModule=a.module("radmin.Configuration")},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),s=n(105);t.ENDPOINT_VER1="v1",t.ENDPOINT_VER2="v2";var o=function(e){function n(n,a,i,s){var o=e.call(this)||this;return o._=n,o.$http=a,o.accoundIdMapper=function(e){return e},o.defaultAccountResolver=function(){return null},o.endpoint=i.endpoint,o.extended=i.extended,o.organizationEndPoint=function(e){return i.endpoint(null,"organizationApi").management(e||t.ENDPOINT_VER1)},o.authorizationManager={authorizeRequest:function(e){return o.authorizeRequestOptions(e)},authorizeUri:function(e){return o.authorizeUri(e)}},s.registerClient(o),o}return a(n,e),n.prototype.get=function(e){var t=this.$http.get(e,this.authorizeRequestOptions(null,this.extractAccountId(e)));return this.monitorRequest(t),t},n.prototype.delete=function(e,t){var n=this.authorizeRequestOptions({data:t},this.extractAccountId(e));n.headers["Content-Type"]="application/json; charset=utf-8";var a=this.$http.delete(e,n);return this.monitorRequest(a),a},n.prototype.post=function(e,t){var n=this.$http.post(e,t,this.authorizeRequestOptions(null,this.extractAccountId(e)));return this.monitorRequest(n),n},n.prototype.postRaw=function(e,t,n){var a=this.authorizeRequestOptions(null,this.extractAccountId(e));a=this._.merge(a||{},{headers:n,transformRequest:[]});var i=this.$http.post(e,t,a);return this.monitorRequest(i),i},n.prototype.put=function(e,t,n){var a=this.authorizeRequestOptions(null,this.extractAccountId(e));a=this._.merge(a||{},{headers:n});var i=this.$http.put(e,t,a);return this.monitorRequest(i),i},n.prototype.authorizeUri=function(e){return this.token&&this.token.acceptedQueryStringName?this.authorizedUri(e):e},n.prototype.authorizedUri=function(e){var t=this.extractAccountId(e),n=this.token.acceptedQueryStringName+"="+this.authorizationTokenForAccount(t);return/\?/.test(e)?e+"&"+n:e+"?"+n},n.prototype.authorizationTokenForAccount=function(e){var t=this,n=this._.compact([e,this.accoundIdMapper(e),this.defaultAccountResolver()]),a=this._.find(n,function(e){return t._.has(t.token.dsApiTokens,e)});return this.token.dsApiTokens[a]},n.prototype.authorizeRequestOptions=function(e,t){return this.token&&this.token.acceptedHeaderName?this.authorizedRequestOptions(e,t):e},n.prototype.authorizedRequestOptions=function(e,t){var n={};return n[this.token.acceptedHeaderName]=this.authorizationTokenForAccount(t),this._.merge(e||{},{headers:n})},n.prototype.setAccountIdentifierMapper=function(e){this.accoundIdMapper=e},n.prototype.setDefaultAccountResolver=function(e){this.defaultAccountResolver=e},n.prototype.extractAccountId=function(e){var t=/accounts\/([a-fA-F0-9]{8}\-[a-fA-F0-9]{4}\-[a-fA-F0-9]{4}\-[a-fA-F0-9]{4}\-[a-fA-F0-9]{12})/,n=/accounts\/(\d+)/;return t.test(e)?this._.last(e.match(t)):n.test(e)?this._.last(e.match(n)):void 0},n.prototype.monitorRequest=function(e){var t=this;e.error(function(e,n,a,i){401===n&&t.reportAuthorizationFailure(i.url,e)})},n}(s.ManagedClient);t.DsClient=o,i.DocuSignApiModule.service("dsApiClient",["lodash","$http","ApiUriBuilder","RADminAuthorizationManager",o])},,function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(3),o=function(e){function t(){var t=e.call(this,"There are no accounts available for management via RADmin.")||this;return t.name="NoAccountsAvailableError",t}return a(t,e),t}(Error);t.NoAccountsAvailableError=o;var r=function(e){function t(t,n){var a=e.call(this,"An attempt to determine whether an account can be managed via RADmin was unsuccessful.")||this;return a.userId=t,a.accountId=n,a.name="AccountAvailabilityCheckError",a}return a(t,e),t}(Error);t.AccountAvailabilityCheckError=r;var l=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u,p,m){var g=this;this.storage=e,this.api=t,this.authorizationManager=n,this.user=a,this.dsAccount=i,this.$q=s,this.imageConverter=o,this.$translate=r,this.$window=l,this._organizationService=c,this._rfc4122=d,this._=u,this._$state=p,this._featureNotificationService=m,this.defaultAccount=null,this.currentAccount=null,this.organizationAdminStatus="",this.organizationAdmins={organizationAdminUsers:[]},this.SSO_v1=!1,this._organizationId="",this._organizationAdminId="",this._canAccessOrganizationDashboard=!1,this.currentAccountInfo={information:null,informationRetrieved:null,settings:null,settingsRetrieved:null,userCustomSettings:null,userCustomSettingsRetrieved:null,userProfile:null,userProfileRetrieved:null,userInformation:null,userInformationRetrieved:null},this.accounts=[],this._initializeCurrentAccountInfoRetrievedPredicates(),t.setAccountIdentifierMapper(function(e){var t=u.find(g.accounts,{accountId:e});return u.isEmpty(t)?void 0:t.accountIdGuid}),t.setDefaultAccountResolver(function(){if(!u.isEmpty(g.currentAccount))return g.currentAccount.accountIdGuid}),this.restoreState()}return e.prototype._initializeCurrentAccountInfoRetrievedPredicates=function(){this.currentAccountInfo.informationRetrieved=this.$q.reject(),this.currentAccountInfo.settingsRetrieved=this.$q.reject(),this.currentAccountInfo.userCustomSettingsRetrieved=this.$q.reject(),this.currentAccountInfo.userProfileRetrieved=this.$q.reject(),this.currentAccountInfo.userInformationRetrieved=this.$q.reject()},e.prototype.getAvailableAccounts=function(){return this._.cloneDeep(this.accounts)},e.prototype.setAssociatedAccounts=function(e){var t=this;this.accounts=e.associatedAccounts||[];var n={org:null,orgInvitation:null,accounts:this._getAccountUserInformation(this.accounts)};return this._.isObject(e.loginPreferences.options)&&!this._.isEmpty(e.loginPreferences.options)?(this._.isEmpty(e.loginPreferences.options.organization_id)||(this._organizationId=e.loginPreferences.options.organization_id),this._.isEmpty(e.loginPreferences.options.org_admin_id)||(this._organizationAdminId=e.loginPreferences.options.org_admin_id),this._.isEmpty(this._organizationId)||this._.isEmpty(this._organizationAdminId)||(n.orgInvitation=this._organizationService.getOrganizationInvitation(this._organizationId,this._organizationAdminId))):n.org=this._organizationService.initialize(),this.$q.all(n).then(function(e){var n=t._organizationService.organizations,a=e.orgInvitation;t._.isArray(n)&&!t._.isEmpty(n)?(t.organizationAdminStatus="active",n.forEach(function(e){(e.organization.account_ids||[]).forEach(function(n){var a=t._.find(t.accounts,{accountIdGuid:n});if(!t._.isEmpty(a)){var i={organization:{organization_id:e.id}};t._.defaults(a,i)}})})):t._.isObject(a)&&(t.organizationAdminStatus=a.organization_admin_status)}).finally(function(){return t.SSO_v1=401===t._organizationService.initializationError,t.$q.when()})},e.prototype._getAccountUserInformation=function(e){var t=this;return this.$q.all(e.map(function(e){return t.user.getAccountUserInformation(e.accountIdGuid,e.userId,!0).then(function(n){e.isAccountAdmin=function(e){return e.isAdmin||e.userSettings&&e.userSettings.accountManagementGranular&&(e.userSettings.accountManagementGranular.canManageUsers||e.userSettings.accountManagementGranular.canManageAdmins||e.userSettings.accountManagementGranular.canManageSharing||e.userSettings.accountManagementGranular.canManageAccountSettings||e.userSettings.accountManagementGranular.canManageAccountSecuritySettings||e.userSettings.accountManagementGranular.canManageSigningGroups)}(n),t._canAccessOrganizationDashboard||(t._canAccessOrganizationDashboard=n.userSettings.canManageOrganization||!1)}).catch(function(){return t.$q.reject(new r(e.userId,e.accountIdGuid))})})).then(function(){})},e.prototype.setCurrentAccount=function(e){var t=this._.head(this._.compact([this._.find(this.accounts,{accountId:e}),this._.find(this.accounts,{accountIdGuid:e}),this._.find(this.accounts,{isDefault:"true"}),this._.find(this.accounts,{isAccountAdmin:!0})]));if("active"!==this.organizationAdminStatus&&"pending"!==this.organizationAdminStatus||!this._.isUndefined(t)||(t=this._.head(this._.compact([this._.find(this.accounts,{accountId:e}),this._.find(this.accounts,{accountIdGuid:e}),this._.find(this.accounts,{isDefault:"true"}),this._.head(this.accounts)]))),this._.isUndefined(t))return this.$q.reject(new o);var n=!(this.currentAccount&&this.currentAccount.accountIdGuid===t.accountIdGuid);this.currentAccount=t;var a=this._organizationService.setCurrentAccount(this.currentAccount.accountIdGuid);return this._.isEmpty(a)&&(this._organizationService.currentAccount=i.call(this,this.currentAccount),this._organizationService.crossSiteAccounts=this._.map(this._.filter(this.accounts,{isAccountAdmin:!0}),i.bind(this)),this._organizationService.saveState()),n?(this.saveState(),this.loadCurrentAccountInfo()):this.$q.when();function i(e){var t=this._.get(e,"organization.organization_id","");return{id:e.accountIdGuid,account_name:e.name,site_id:1,site_name:"",organization_id:t,organization_name:function(e){if(!this._.isEmpty(this._organizationService.organizations)&&!this._.isEmpty(e)){var t=this._.find(this._organizationService.organizations,{id:e});if(t&&t.organization)return t.organization.name}return""}.call(this,t)}}},e.prototype.isLoggedIn=function(){return this.authorizationManager.hasAuthorization()},e.prototype.getCurrentAccountId=function(){var e;return this._.isEmpty(this.currentAccount)||(e=this.currentAccount.accountIdGuid),e},e.prototype.getCurrentExternalAccountId=function(){var e;return this._.isEmpty(this.currentAccount)||(e=this.currentAccount.accountId),e},e.prototype.loadOrganizationPermissions=function(){var e=this,t=this._organizationService.currentOrg?this._organizationService.currentOrg.id:this.currentAccount&&this.currentAccount.organization&&this.currentAccount.organization.organization_id||"";if(t&&"active"===this.organizationAdminStatus){var n=void 0;if(this.organizationAdmins&&!this._.isEmpty(this.organizationAdmins.organizationAdminUsers)&&(n=this._.find(this.organizationAdmins.organizationAdminUsers,{organizationId:t})),this._.isUndefined(n)||this._.isUndefined(n.permissionProfile))return this._organizationService.loadOrganizationPermissionsAndAdminsByOrgId(t).then(function(n){var a=n[0],i=e._.find(n[1].admins,{user_id:e.currentAccount.userId});if(!e._.isUndefined(i)){var o=function(e){return e.organization_permission_id&&0!==e.organization_permission_id.length&&e.organization_permission_id!==s.GUID_EMPTY}(i),r={adminStatus:i.organization_admin_status,organizationId:i.organization_id,permissionProfile:function(e,t,n){return t?this._.find(n,{id:e.organization_permission_id}):this._.find(n,function(e){return e.settings&&e.settings.organization_admin})}.call(e,i,o,a)};return(o?e.$q.when(r):function(e){var n={organization_permission_id:e.permissionProfile?e.permissionProfile.id:""};return this._organizationService.updateOrganizationAdmin(t,i.id,n).then(function(t){return e})}.call(e,r)).then(function(e){this.organizationAdmins.organizationAdminUsers.push(e),this.currentOrganizationAdminUser=e,this.saveState()}.bind(e))}});this.currentOrganizationAdminUser=n}return this.$q.when()},e.prototype.setIdentity=function(e){var t=this;return this.storage.sessionId=this._rfc4122.v4(),this.authorizationManager.setAuthorization(e.accessToken),this.setAssociatedAccounts(e).then(function(){var n;return t._.isEmpty(e.loginPreferences.selectedAccountId)||(n=e.loginPreferences.selectedAccountId),t.setCurrentAccount(n)})},e.prototype.logout=function(){this.authorizationManager.clearAuthorization(),this.storage.$reset(),!this._.isUndefined(this.$window.localStorage)&&this._.isFunction(this.$window.localStorage.clear)&&this.$window.localStorage.clear(),!this._.isUndefined(this.$window.sessionStorage)&&this._.isFunction(this.$window.sessionStorage.clear)&&this.$window.sessionStorage.clear()},e.prototype.loadCurrentAccountInfo=function(){var e=this;return this.refreshUserProfile(),this.refreshUserInformation(),this.refreshAccountSettings(),this.refreshUserCustomSettings(),this.refreshAccountInformation(),this.loadOrganizationPermissions(),this.$q.all([this.currentAccountInfo.userProfileRetrieved,this.currentAccountInfo.userInformationRetrieved,this.currentAccountInfo.settingsRetrieved,this.currentAccountInfo.userCustomSettingsRetrieved]).then(function(){var t=e._.find(e._organizationService.crossSiteAccounts,{id:e.getCurrentAccountId()});e._.isEmpty(t)||(e.currentAccount.organization=e.currentAccount.organization||{},e.currentAccount.organization.organization_id=t.organization_id,e._featureNotificationService.initFeatureNotification(e.currentAccount.organization.organization_id))})},e.prototype.refreshAccountInformation=function(){var e=this;return this.currentAccountInfo.informationRetrieved=this.dsAccount.getInformation(this.getCurrentAccountId()).then(function(t){e.currentAccountInfo.information=t,e.saveState()})},e.prototype.refreshAccountSettings=function(){var e=this;return this.currentAccountInfo.settingsRetrieved=this.dsAccount.getSettings(this.getCurrentAccountId()).then(function(t){e.currentAccountInfo.settings=t,e.saveState()})},e.prototype.refreshUserCustomSettings=function(){var e=this;return this.currentAccountInfo.userCustomSettingsRetrieved=this.user.getAccountUserCustomSettings(this.getCurrentAccountId(),this.currentAccount.userId).then(function(t){e.currentAccountInfo.userCustomSettings=t,e.saveState()})},e.prototype.refreshUserInformation=function(){var e=this;return this.currentAccountInfo.userInformationRetrieved=this.user.getAccountUserInformation(this.getCurrentAccountId(),this.currentAccount.userId,!0).then(function(t){e.currentAccountInfo.userInformation=t,e.saveState(),e.$translate.use(e.currentAccountInfo.userInformation.userSettings.locale)})},e.prototype.refreshUserProfile=function(){var t=this,n=this;return this.currentAccountInfo.userProfileRetrieved=this.user.getAccountUserProfile(this.getCurrentAccountId(),this.currentAccount.userId).then(function(a){if(t._.isObject(a.userDetails)){var i=n.getCurrentAccountId(),s=n.currentAccount.userId,o=n.api.endpoint().accounts(i).users(s).profile().image().uri();return a.userDetails.avatarImageUri=n.api.authorizationManager.authorizeUri(o),n.imageConverter.tryConvertUriToDataUrlAsync(a.userDetails.avatarImageUri,e.defaultUserProfileImage).catch(function(){return e.defaultUserProfileImage}).then(function(e){return a.userDetails.avatarImage=e,a})}return a}).then(function(e){n.currentAccountInfo.userProfile=e,n.saveState()})},e.prototype.saveState=function(){this.storage.appUser=this._.pick(this,["accounts","defaultAccount","currentAccount","organizationAdminStatus","organizationAdmins","currentOrganizationAdminUser","SSO_v1"]),this.storage.appUser.currentAccountInfo=this._.pick(this.currentAccountInfo,["settings","userCustomSettings","userInformation"]),this.currentAccountInfo&&this.currentAccountInfo.userProfile&&this.currentAccountInfo.userProfile.userDetails&&(this.storage.appUser.currentAccountInfo.userProfile={userDetails:this._.pick(this.currentAccountInfo.userProfile.userDetails,["avatarImageUri"])})},e.prototype.restoreState=function(){var e=this.storage.appUser;this._.isObject(e)&&(this._.assign(this,e),this.loadCurrentAccountInfo())},e.defaultUserProfileImage="/images/user.svg",e}();t.default=l,t.appUserModule=i.module("AppUserModule",[]),t.appUserModule.service("appUser",["$sessionStorage","dsApiClient","RADminAuthorizationManager","dsUser","dsAccount","$q","ImageToDataUrlConverter","$translate","$window","OrganizationService","rfc4122","lodash","$state","FeatureNotificationService",l])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.LimitedCanvasModule=a.module("radmin.LimitedCanvas",[])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(345),n(279),n(13),n(0),n(29),n(37),n(2),n(310),n(309),n(308),n(307),n(306),n(305),n(304),n(303),n(302),n(301),n(300),n(299),n(298),n(296),n(294),n(293),n(292)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);t.WindowEventMessages={MESSAGE:"message"},t.validateCORSWhiteList=function(e){if(!e)return!1;var t=!1;return[/^https?:\/\/([a-zA-Z\d_-]+\.){0,}docusign\.com$/i,/^https?:\/\/([a-zA-Z\d_-]+\.){0,}docusign\.net$/i,/^https?:\/\/([a-zA-Z\d_-]+\.){0,}docusignhq\.com(:\d{2,5})?$/i,/^https?:\/\/([a-zA-Z\d_-]+\.){0,}docusigntest\.com(:\d{2,5})?$/i,/^https?:\/\/([a-zA-Z\d_-]+\.){0,}hqtest\.tst(:\d{2,5})?$/i].forEach(function(n){t=t||n.test(e)}),t};var i=function(){function e(e){this.messageHandlers={},this.handleMessage=this.handleMessage.bind(this),e.addEventListener(t.WindowEventMessages.MESSAGE,this.handleMessage)}return e.prototype.sendMessage=function(e,n,a){e&&t.validateCORSWhiteList(n)&&e.postMessage(a,n)},e.prototype.addMessageHandler=function(e,n){"function"==typeof n&&e&&t.validateCORSWhiteList(e)&&(this.messageHandlers[e]=n)},e.prototype.handleMessage=function(e){if(t.validateCORSWhiteList(e.origin)){var n=this.messageHandlers[e.origin];"function"==typeof n&&n(e)}},e.prototype.stopHandlingMessages=function(e){this.messageHandlers[e]&&delete this.messageHandlers[e]},e}();a.CommonModule.service("CORSMessenger",["$window",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(270);t.PaymentCORSMessages={RADMIN_INIT:"RADmin:init",RADMIN_REDIRECTED_TO_PROVIDER:"RADmin:redirectedToProvider",RADMIN_CLOSE:"RADmin:close"};var i=function(){function e(e){this.corsMessageService=e,this.handlers={}}return e.prototype.init=function(e){this.targetDomain=e,this.eventHandler=this.eventHandler.bind(this),this.corsMessageService.addMessageHandler(e,this.eventHandler)},e.prototype.setTargetWindow=function(e){this.targetWindow=e},e.prototype.addMessageHandler=function(e,t){("function"==typeof t||e)&&(this.handlers[e]=t)},e.prototype.sendMessage=function(e){e&&this.targetWindow&&this.targetDomain&&this.corsMessageService.sendMessage(this.targetWindow,this.targetDomain,e)},e.prototype.stopHandlingMessages=function(){this.targetDomain&&this.corsMessageService.stopHandlingMessages(this.targetDomain)},e.prototype.eventHandler=function(e){if(e.origin===this.targetDomain)switch(e.data.type){case t.PaymentCORSMessages.RADMIN_CLOSE:var n=this.handlers[e.data.type];"function"==typeof n&&(e.data.payload?n(e.data.payload):n())}},e}();a.PaymentsModule.service("PaymentsCORSMessenger",["CORSMessenger",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(102),i=n(13),s=function(){function e(e,t){this.accountConfig=e,this.$translate=t}return e.prototype.isActive=function(){return!this.accountConfig.config||!this.accountConfig.config.credentialStatus||"Created"===this.accountConfig.config.credentialStatus},e.prototype.getGatewayProviderName=function(){return this.accountConfig.paymentGateway},e.prototype.getAccountDisplayName=function(){var e=this.accountConfig.displayName;return"Legacy Pay Pal"===e?"PayPal":e},e.prototype.getAccountConnectionId=function(){return this.accountConfig.paymentGatewayAccountId},e.prototype.getManageAccountUri=function(e){var t=this,n=i.find(e,function(e){return e.paymentGateway===t.getGatewayProviderName()});return n.manageAccountUrl||{stripe:"https://dashboard.stripe.com/",paypal:"https://www.paypal.com",braintree:"https://braintreegateway.com",authorizedotnet:"https://account.authorize.net",payeezy:"https://globalgatewaye4.firstdata.com/",cybersource:"https://ebc.cybersource.com/ebc/login/Login.do"}[n.paymentGateway.toLowerCase()]},e.prototype.getAccountConnectionErrorMsg=function(){return this.$translate.instant("Your {{name}} account is no longer connected to your DocuSign account. Re-connect the payment gateway account.",{name:this.accountConfig.displayName})},e.prototype.getAccountConnectionSuccessMsg=function(){return this.$translate.instant("Your {{name}} account is connected to your DocuSign account.",{name:this.accountConfig.displayName})},e.prototype.getAccountLastModifiedTime=function(){return this.accountConfig.lastModified},e.prototype.isAccountConnectionEnabled=function(){return this.accountConfig.isEnabled},e.prototype.isLegacyAccount=function(){return this.accountConfig.isLegacy},e.prototype.isFormAccount=function(){return this.accountConfig.config&&this.accountConfig.config.apiFields},e.prototype.getAccountConnectionConfig=function(){return this.accountConfig},e.prototype.hasToHideTestConnection=function(){return this.accountConfig.paymentGateway===a.BRAIN_TREE},e}();t.PaymentGatewayAccount=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this._id=e,this._name=t}return e.create=function(t){return new e(t.required_attribute_id,t.required_attribute_friendly_name)},e.prototype.id=function(){return this._id},e.prototype.name=function(){return this._name},e}();t.Attribute=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.create=function(t){var n=new e;return n.id=t.required_attribute_id,n.alias=t.substitute_attribute_name,n},e.prototype.toApiJson=function(){return{required_attribute_id:this.id,substitute_attribute_name:this.alias}},e}();t.CustomAttribute=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.id=e,this.name=t,this.status=n,this.token=a,this.requireAuthentication=!1,this.restrictNewSignUps=!1,this.requireIdentityProvider=!1,this.claimAllSubDomains=!1,this.verifiedByWildcardDomain=!1,this.verifiedWildcardDomainId="",this.autoActivateMemberships=!1}return e.create=function(t){var n=new e(t.id,t.host_name,t.status,t.txt_token);return t.settings.forEach(function(e){switch(e.key){case"require_recipient_auth":n.requireAuthentication=e&&e.value;break;case"restrict_new_sign_ups":n.restrictNewSignUps=e&&e.value;break;case"require_identity_provider_auth":n.requireIdentityProvider=e&&e.value;break;case"claim_all_sub_domains":n.claimAllSubDomains=e&&e.value;break;case"verified_by_wildcard_domain":n.verifiedByWildcardDomain=e&&e.value;break;case"verified_wildcard_domain_id":n.verifiedWildcardDomainId=e&&e.value?e.value:"";break;case"auto_activate_memberships":n.autoActivateMemberships=e&&e.value}}),n},e.prototype.isPending=function(){return!!this.status&&"pending"===this.status.toLowerCase()},e.prototype.toApiJson=function(){var e={host_name:this.name,settings:[{key:"require_recipient_auth",value:this.requireAuthentication},{key:"restrict_new_sign_ups",value:this.restrictNewSignUps},{key:"require_identity_provider_auth",value:this.requireIdentityProvider},{key:"auto_activate_memberships",value:this.autoActivateMemberships}]};return this.verifiedByWildcardDomain||e.settings.push({key:"claim_all_sub_domains",value:this.claimAllSubDomains}),e},e}();t.DomainModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.name=""}return e.prototype.toApiJson=function(){return{host_name:this.name}},e}();t.ClaimRequestModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.DocumentSendingModule=a.module("radmin.DocumentSending",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOCUMENT_SENDING_SUCCESS_MESSAGE="Saved Successfully!"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.DocumentLabelsModule=a.module("radmin.DocumentLabels",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n){this.providerType=e,this.capabilities=t,this.features=n}return e.create=function(t){return new e(t.provider_type,t.capabilities,t.features)},e}();t.DirectoryProviderAvailableModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.CommentsModule=a.module("radmin.Comments",[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.ClassicPreferencesModule=a.module("radmin.ClassicPreferences",[])},function(e,t,n){e.exports=n.p+"images/Logo-DS-White.svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),i=function(){return function(e){this.linkType=e,this.linkText="",this.showLink=!1,this.urlOrMailTo=""}}();t.DefaultBrandLink=i;var s=function(){return function(){this.aboutDocusign=new i("aboutDocusign"),this.closeButton=new i("closeButton"),this.headerLinkSystemOverview=new i("headerLinkSystemOverview"),this.headerLinkSupport=new i("headerLinkSupport"),this.headerLinkOrientation=new i("headerLinkOrientation"),this.headerLinkCustom1=new i("headerLinkCustom1"),this.headerLinkCustom2=new i("headerLinkCustom2")}}();t.DefaultBrandLinks=s;var o=function(){return function(e,t,n,a,i,o){var r=this;this.api=e,this._apiUriBuilder=t,this._appUser=n,this._=a,this.$q=i,this._dsTransformer=o,this._setLogoUri=function(e){return r._.forEach(e.logos,function(t,n){var a=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).concat(t).uri();e.logos[n]=r.api.authorizationManager.authorizeUri(a),e.logos.lastLogoUpdate=(new Date).getTime()}),e},this._transformFromApi=function(e){return r._.isObject(e)&&(e=function(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){var a="externalid"===n.toLowerCase()?"brandId":n[0].toLowerCase()+n.slice(1);t[a]=e[n]}),t}(e),r._.isArray(e.colors)&&(e.colors=r._dsTransformer.convertApiNameValueArrayToObject(e.colors)),r._.isArray(e.landingPages)?e.landingPages=r._dsTransformer.convertApiNameValueArrayToObject(e.landingPages):e.landingPages={},r._.isArray(e.links)?(e.links.forEach(function(e){e.showLink=!e.showLink}),e.links=r._dsTransformer.convertApiArrayToObject(e.links,"linkType"),e.links=r._.defaults(e.links,new s)):e.links={},r._.isObject(e.logos)&&r._setLogoUri(e),r._.defaults(e.landingPages,{signingComplete:"",viewingComplete:"",finishLater:"",decline:"",sessionTimeout:"",failedAuthorization:""}),e.isSendingDefault=e.isSendingDefault||!1,e.isSigningDefault=e.isSigningDefault||!1),e},this._transformForApi=function(e){return r._.isObject(e)&&(e=r._.cloneDeep(e),r._.isObject(e.colors)&&(e.colors=r._dsTransformer.convertObjectToApiNameValueArray(e.colors)),r._.isObject(e.landingPages)&&(e.landingPages=r._dsTransformer.convertObjectToApiNameValueArray(e.landingPages)),r._.isObject(e.links)&&(e.links=r._dsTransformer.convertObjectToApiArray(e.links),e.links.forEach(function(e){e.showLink=!e.showLink}))),e},this.viewPreference="block",this.uploadFileUrl=function(){var e=r._apiUriBuilder.endpoint("POST").accounts(r._appUser.getCurrentAccountId()).brands().uri();return r.api.authorizeUri(e)},this.getResourceDownloadUri=function(e,t,n){void 0===n&&(n={}),n=r._.merge(n,{acceptHeader:"application/xml"});var a=r.api.extended().accounts(r._appUser.getCurrentAccountId()).brands(e).resources(t).uri(n);return r.api.authorizationManager.authorizeUri(a)},this.exportFileUrl=function(e){var t=r.api.extended().accounts(r._appUser.getCurrentAccountId()).brands(e).file().uri({acceptHeader:"application/xml"});return r.api.authorizationManager.authorizeUri(t)},this.getBrands=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands().uri(e);return r.api.get(t).then(r.createBrandListModel)},this.remove=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e).uri();return r.api.delete(t)},this.create=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands().uri();return r.api.post(t,e).then(function(e){var t=r._.head(e.data.brands);return t=r._transformFromApi(t)})},this.getBrandById=function(e,t,n){var a={};t&&(a.include_logos="true"),n&&(a.include_external_references="true");var i=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e).uri(a);return r.api.get(i).then(function(e){return r._transformFromApi(e.data)})},this.removeLogo=function(e,t){var n=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e).logos(t).uri();return r.api.delete(n)},this.generateLogoUploadUri=function(e,t){r._.isEmpty(t)&&(t="primary");var n=r._apiUriBuilder.endpoint("PUT").accounts(r._appUser.getCurrentAccountId()).brands(e).logos(t).uri();return r.api.authorizeUri(n)},this.updateBrand=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e.brandId).uri();return e=r._transformForApi(e),r.api.put(t,e).then(function(e){return r._transformFromApi(e.data)})},this.getResourceFiles=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e).resources().uri();return r.api.get(t).then(function(t){var n=t.data;return n.resourcesContentTypes.forEach(function(t){t.resourcesContentUri=r.getResourceDownloadUri(e,t.resourcesContentType,{return_master:!1})}),n})},this.getResourceFileByType=function(e,t,n){void 0===n&&(n=null);var a=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).brands(e).resources(t).uri(n);return r.api.get(a).then(function(e){return e.data})},this.getResourceUploadUri=function(e,t){var n=r._apiUriBuilder.endpoint("PUT").accounts(r._appUser.getCurrentAccountId()).brands(e).resources(t).uri();return r.api.authorizeUri(n)},this.getBrandsByGroupId=function(e){var t=r.api.endpoint().accounts(r._appUser.getCurrentAccountId()).groups(e).brands().uri();return r.api.get(t).then(r.createBrandListModel)},this.createBrandListModel=function(e){var t=r._.omit(e.data,"brands"),n=e.data.brands?e.data.brands:e.data.BrandOptions;return t.brands=[],t.sendingBrand={},r._.isEmpty(n)||(n.forEach(function(e){t.brands.push(r._transformFromApi(e))}),t.sendingBrand=r._.find(t.brands,{isSendingDefault:!0,isSigningDefault:!1})||{},r._.remove(t.brands,function(e){return e.isSendingDefault&&!e.isSigningDefault})),t.sendingBrand&&!t.sendingBrand.brandName&&(t.sendingBrand.brandName="Sending_"+Date.now().toString()),t.page={totalCount:t.brands.length,startIndex:0,endIndex:t.brands.length-1,hasPreviousPage:!1,hasNextPage:!1},t}}}();t.BrandService=o,a.BrandsModule.service("BrandService",["dsApiClient","ApiUriBuilder","appUser","lodash","$q","DataTransformationService",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(52);t.RESOURCE_TYPE_SIGNING="signing",t.RESOURCE_TYPE_SENDING="sending",t.RESOURCE_TYPE_CAPTIVE_SIGNING="signing_captive",t.RESOURCE_TYPE_EMAIL="email";var i=function(){function e(e,n,i,s,o,r,l,c,d,u,p){var m=this;this._$translate=e,this._$state=n,this._$scope=i,this._$stateParams=s,this._$filter=o,this._$q=r,this._brandService=l,this._dateTimeService=c,this._oliveModal=d,this._=u,this._locales=p,this.sendingResourceTypes=[{label:"Sending",value:t.RESOURCE_TYPE_SENDING},{label:"Email",value:t.RESOURCE_TYPE_EMAIL}],this.signingResourceTypes=[{label:"Signing",value:t.RESOURCE_TYPE_SIGNING},{label:"Email",value:t.RESOURCE_TYPE_EMAIL}],this.resourceFileType="",this.isSendingBrand=!1,this._initialize=function(){m.resources=[{resourcesContentType:t.RESOURCE_TYPE_SENDING},{resourcesContentType:t.RESOURCE_TYPE_SIGNING},{resourcesContentType:t.RESOURCE_TYPE_CAPTIVE_SIGNING},{resourcesContentType:t.RESOURCE_TYPE_EMAIL}];var e={brand:m._brandService.getBrandById(m._brandId,!1,!0),resources:m._getResourceFiles()};m.loading=m._$q.all(e).then(function(e){m.brand=e.brand,m.locales=m._.sortBy(m._locales.signing,"englishLanguageName")})},this._getResourceFiles=function(){m.loading=m._brandService.getResourceFiles(m._brandId).then(function(e){m._.isEmpty(e.resourcesContentTypes)||(m.resources.forEach(function(t){m._.merge(t,m._.find(e.resourcesContentTypes,{resourcesContentType:t.resourcesContentType}))}),m.resources.forEach(function(e){m._.isEmpty(e.modifiedDate)||(e.modifiedDate=m._$filter("moment")(e.modifiedDate,m.dateTimeFormat,m.timezone))}))})},this.generateDownloadMasterUri=function(e){var t={return_master:!0};return m._.isEmpty(m.resourceLocale)||(t.langcode=m.resourceLocale),m._brandService.getResourceDownloadUri(m._brandId,e,t)},this.confirmUpload=function(e){var t=m._$scope.$new();t.brandId=m._brandId,t.type=e.resourcesContentType,m._oliveModal.openModal({scope:t,templateUrl:"branding/resource-file-upload.html",showClose:!1,onComplete:m._getResourceFiles.bind(m)})},this.brandMainTitle=a.BRANDS_MAIN_TITLE,this._brandId=this._$stateParams.brandId,this.isSendingBrand=this._$stateParams.sending,this.resourceFileType=this.isSendingBrand?t.RESOURCE_TYPE_SENDING:t.RESOURCE_TYPE_SIGNING,this._.isEmpty(this._brandId)?this.goToBrand():(this.dateTimeFormat=this._dateTimeService.getDateTimeFormat(),this.timezone=this._dateTimeService.getTimeZone(),this._initialize())}return e.prototype.goToBrandMain=function(){this._$state.go("authenticated.brands")},e.prototype.goToBrand=function(){if(this.isSendingBrand)this.goToBrandMain();else{var e=this._brandId||this.brand&&this.brand.brandId;this._$state.go("authenticated.brand-details",{brandId:e})}},e.prototype.fileTitle=function(e){var n="";switch(e.resourcesContentType){case t.RESOURCE_TYPE_SENDING:n="Sending Resource File";break;case t.RESOURCE_TYPE_SIGNING:n="Signing Resource File";break;case t.RESOURCE_TYPE_CAPTIVE_SIGNING:n="Captive Signing Resource File";break;case t.RESOURCE_TYPE_EMAIL:n="Email Resource File"}return this._$translate.instant(n)},e.prototype.filterResourceFileType=function(e){switch(e.resourcesContentType){case t.RESOURCE_TYPE_EMAIL:return!0;case t.RESOURCE_TYPE_SIGNING:case t.RESOURCE_TYPE_CAPTIVE_SIGNING:return!this.isSendingBrand;case t.RESOURCE_TYPE_SENDING:return this.isSendingBrand}},e}();a.BrandsModule.controller("BrandAdvancedSettingsController",["$translate","$state","$scope","$stateParams","$filter","$q","BrandService","DateTimeService","oliveModal","lodash","Locales",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.apiModule=a.module("radmin.Api",["radmin.Authorization"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.current_hsm_key="",this.hsm_keys_in_use=[],this.used_key_count="",this.new_key_per_envelope="",this.name="",this.request_timeout="",this.use_derived_keys=""}return e.create=function(t){var n=new e;return n.cache_timeout=t.CacheTimeout,n.current_hsm_key=t.CurrentHSMKeyLabel,n.hsm_keys_in_use=""!==t.HSMKeyLabels?JSON.parse(t.HSMKeyLabels):"",n.used_key_count=t.KeyCount,n.new_key_per_envelope=t.NewKeyPerEnvelope,n.request_timeout=t.RequestTimeout,n.use_derived_keys=t.UseDerivedKeys,n},e.createFromApiModel=function(t){var n=new e;return n.cache_timeout=t.cache_timeout,n.current_hsm_key=t.current_hsm_key,n.hsm_keys_in_use=t.hsm_keys_in_use?t.hsm_keys_in_use:"",n.used_key_count=t.used_key_count,n.new_key_per_envelope=t.new_key_per_envelope,n.request_timeout=t.request_timeout,n.use_derived_keys=t.use_derived_keys,n},e}();t.LegacyPoolSettingsModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(364),s=n(107),o=function(){function e(){this.settings=[],this.appliances=[],this.applianceType="",this.accounts=[]}return e.create=function(t){var n=new e;for(var o in t.settings)n.settings.push(i.LegacyPoolSettingsModel.create(t.settings[o]));var r=t.appliances;return n.appliances=a.map(r,s.ApplianceModel.create),n.applianceType="Security",n.accounts=t.settings.keys,n},e.createPoolFromResponse=function(t){var n=new e;return n.settings=t,n.applianceType="Security",n},e}();t.LegacyPoolModel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.isCompatible=e.isCompatible,this.accountId=e.accountId,this.oldPoolId=e.oldPoolId,this.newPoolId=e.newPoolId,this.organizationId=e.organizationId,this.referenceId=e.referenceId,this.oldHsmChecksumForPoolConsisteny=s.create(e.oldHsmChecksumForPoolConsisteny),this.oldNumberedChecksumForPoolConsistency=s.create(e.oldNumberedChecksumForPoolConsistency),this.newHsmChecksumForPoolConsistency=s.create(e.newHsmChecksumForPoolConsistency),this.newNumberedChecksumForPoolConsistency=s.create(e.newNumberedChecksumForPoolConsistency),this.maxKeyMatch=i.create(e.maxKeyMatch),this.hsmChecksumMatch=i.create(e.hsmChecksumMatch),this.numberedChecksumMatch=i.create(e.numberedChecksumMatch),this.hsmKeysInUseMatch=i.create(e.hsmKeysInUseMatch),this.fixedHsmKeysInUseForPool=e.fixedHsmKeysInUseForPool}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}();t.AppliancePoolAccountCompatibilityV2=a;var i=function(){function e(e){this.isMatch=e.isMatch,this.oldPoolData=e.oldPoolData,this.newPoolData=e.newPoolData}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}(),s=function(){function e(e){this.isConsistent=e.isConsistent,this.checksumList=e.checksumList.map(function(e){return o.create(e)})}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}(),o=function(){function e(e){this.applianceId=e.applianceId,this.checksum=e.checksum}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.isCompatible=e.isCompatible,this.isClassicAccount=e.isClassicAccount,this.accountId=e.accountId,this.poolId=e.poolId,this.organizationId=e.organizationId,this.referenceId=e.referenceId,this.sqlHsmChecksumForPoolConsisteny=s.create(e.sqlHsmChecksumForPoolConsisteny),this.sqlNumberedChecksumForPoolConsistency=s.create(e.sqlNumberedChecksumForPoolConsistency),this.sauceHsmChecksumForPoolConsistency=s.create(e.sauceHsmChecksumForPoolConsistency),this.sauceNumberedChecksumForPoolConsistency=s.create(e.sauceNumberedChecksumForPoolConsistency),this.maxKeyMatch=i.create(e.maxKeyMatch),this.hsmChecksumMatch=i.create(e.hsmChecksumMatch),this.numberedChecksumMatch=i.create(e.numberedChecksumMatch),this.hsmKeysInUseMatch=i.create(e.hsmKeysInUseMatch)}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}();t.AppliancePoolAccountCompatibility=a;var i=function(){function e(e){this.isMatch=e.isMatch,this.sqlData=e.sqlData,this.sauceData=e.sauceData}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}(),s=function(){function e(e){this.isConsistent=e.isConsistent,this.checksumList=e.checksumList.map(function(e){return o.create(e)})}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}(),o=function(){function e(e){this.applianceId=e.applianceId,this.checksum=e.checksum}return e.create=function(t){return _.isNil(t)?null:new e(t)},e}()},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(111),s=n(3),o=n(53),r=n(44);t.GROUPS="groups",t.DEFAULT_GROUP_NAME="Everyone";var l="Users",c="Users and Brands",d=function(e){function t(t,n,a,i,r,d,u,p,m){var g=e.call(this,i)||this;return g.$scope=t,g.groups=n,g.$filter=a,g.modal=r,g.oliveModal=d,g.$state=u,g._userPermissions=p,g._$translate=m,g.userBrandButtonText="",g.editGroup=function(e){g.groups.activeGroup=e,g.$state.go("authenticated.group-details")},g.add=function(){g.$scope.activeGroup=void 0,g._openGroupModal()},g.deleteGroup=function(e){g.$scope.activeGroup=e,g.modal.openModal("user management/groups/delete-group-modal.html",g.$scope,"",!1,!1)},g.viewUsers=function(e){g.$state.go("authenticated.users",{groups:e.groupId})},g.renameGroup=function(e){g.$scope.activeGroup=e,g._openGroupModal()},g._openGroupModal=function(){g.oliveModal.openModal({name:"groupAddRenameModal",scope:g.$scope,templateUrl:"user management/groups/group-add-rename.html",showClose:!0,size:"sm"})},g.refreshClientListAfterChange=function(){var e=g.search;return g.search.phrase="",g.search.method="api",g.loaded=g.getPage(s.FIRST_PAGE),g.search=e,g.loaded.then(function(){g.setSearchMethod(),g.submitSearchPhrase()})},g.groupDeleted=function(e){e.stopPropagation(),g.$scope.activeGroup=null;var t=g.page;g.refreshClientListAfterChange().then(function(){"api"===g.search.method&&(g.page=t,g.page.startPosition===g.page.endPosition&&g.page.endPosition>=g.page.totalSetSize-1&&g.page.totalSetSize>s.PAGE_SIZE?g.pageBackward():g.refreshPage())})},g.newGroupAdded=function(e,t){e.stopPropagation(),g.editGroup(t)},g.groupUpdated=function(e,t){e.stopPropagation(),g.$scope.activeGroup=g.$scope.activeGroup||t,g.$scope.activeGroup.groupName=t.groupName,g.$scope.activeGroup.usersCount=t.usersCount,"client"===g.search.method?g.refreshClientListAfterChange():"api"===g.search.method&&(g.page.startPosition===g.page.endPosition&&g.page.endPosition===g.page.totalSetSize-1&&g._.isEmpty(g.filterList([t]))&&g.page.totalSetSize>s.PAGE_SIZE?g.pageBackward():g.refreshPage())},t.$on("GroupDeleted",g.groupDeleted),t.$on("NewGroupAdded",g.newGroupAdded),t.$on("GroupUpdated",g.groupUpdated),g.userBrandButtonText=g._userPermissions.canManageMultipleBrands()?c:l,g.loaded=g.getPage(s.FIRST_PAGE).then(function(){g.setSearchMethod(),n.activeGroup&&(n.activeGroup=void 0,n.assignAction=o.GROUP_ASSIGN_OPTIONS.UNKNOWN)}),g}return a(t,e),t.prototype.setGetSearchOptions=function(){var e=this;return function(){return{search_text:e.search.phrase,include_usercount:!0}}},t.prototype.setFilterList=function(){var e=this;return function(t){return e.$filter("filter")(t,{groupName:e.search.phrase})}},t.prototype.setGetPage=function(){var e=this;return function(t){var n=e._.merge(e.getSearchOptions(),t);return e.groups.getPage(n).then(function(t){e.setPage({page:t.page,list:t.groups})})}},t.prototype.setSetPage=function(){var e=this;return function(t){e.page=t.page,e._.defaults(e.page,s.BLANK_PAGE),e.list=t.list}},t.prototype.translateSystemGroups=function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)},t}(i.SearchablePagingController);r.GroupsModule.controller("GroupListController",["$scope","dsGroups","$filter","lodash","dsModals","oliveModal","$state","userPermissions","$translate",d])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(67);function s(e,t,n,i,s,o,r,l,c){var d="Change CSV File",u=1500,p="upload-error",m="BULK_USERS_TRANSACTIONS_PENDING",g="BULK_USERS_MAX_CSV_ROWS_EXCEEDED",h=/maximum number of rows is (\d+)\.$/i,f="Your .csv file could not be uploaded. Another transaction is pending.",v="Your .csv file could not be uploaded. The number of rows in the file exceeds the limit.",_="Your .csv file could not be uploaded. The number of rows in the file exceeds the limit of {{limit}}.",b="Your .csv file could not be uploaded. Please try again later.";function y(){A().allowClose(),A().complete()}function A(){return s.uploadUsersModal}this.uploader=function(n){var i=new t;return i.onAfterAddingFile=function(t,n){A().removeMessage(p),n.uploadType=t,function(t){(function(){this.selectedFile&&this.uploader.removeFromQueue(this.selectedFile)}).call(this),function(t){var n=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e)?c(Date.now()).format("HH_mm")+".csv":e}(t.file.name);t.headers={"Content-Disposition":'file; filename="'+n+'"'},t.url=t.uploadType===a.Update?e.uploadUpdateUsersFileUrl():e.uploadAddUsersFileUrl(),t.name=t.file.name===n?t.file.name:t.file.name+" ("+n+")"}(t),this.selectedFile=t}.call(this,n),this.selectFileAction=d}.bind(this,n),i}.call(this,s.uploadType),this.selectFileAction="Upload CSV File",this.submit=function(){s.displayConfirm=!0},this.backToUpload=function(){s.displayConfirm=!1},this.uploadCsv=function(){A().removeMessage(p),A().preventClose(),this.uploading=function(e){s.displayConfirm=!1;var t=o.defer();return e.onSuccess=t.resolve,e.onError=t.reject,this.uploader.uploadItem(e),r(function(){return t.promise},u)}.call(this,this.selectedFile),this.uploading.then(y,function(e){this.uploading=null,A().addMessage(function(e){var t=e&&e.errorCode&&e.errorCode.toUpperCase(),n=e&&e.message||"";switch(t){case m:return l.instant(f);case g:var a=n.match(h),i=a&&a.pop();return i?l.instant(_,{limit:i}):l.instant(v);default:return l.instant(b)}}(e),p,"error",{allowUnsafeHtml:!1}),A().allowClose()}.bind(this))},this.sampleAddUsersFileUrl=e.sampleAddUsersFileUrl()}!function(e){e[e.Add=0]="Add",e[e.Update=1]="Update"}(a=t.USERS_UPLOAD_TYPE||(t.USERS_UPLOAD_TYPE={})),i.BulkActionsModule.controller("UploadUsersController",["UploadUsers","FileUploader","oliveModal","oliveMessage","$scope","$q","$timeout","$translate","moment",s]),t.UploadUsersController=s},function(e,t,n){var a={"./af":234,"./af.js":234,"./ar":233,"./ar-dz":232,"./ar-dz.js":232,"./ar-kw":231,"./ar-kw.js":231,"./ar-ly":230,"./ar-ly.js":230,"./ar-ma":229,"./ar-ma.js":229,"./ar-sa":228,"./ar-sa.js":228,"./ar-tn":227,"./ar-tn.js":227,"./ar.js":233,"./az":226,"./az.js":226,"./be":225,"./be.js":225,"./bg":224,"./bg.js":224,"./bm":223,"./bm.js":223,"./bn":222,"./bn.js":222,"./bo":221,"./bo.js":221,"./br":220,"./br.js":220,"./bs":219,"./bs.js":219,"./ca":218,"./ca.js":218,"./cs":217,"./cs.js":217,"./cv":216,"./cv.js":216,"./cy":215,"./cy.js":215,"./da":214,"./da.js":214,"./de":213,"./de-at":212,"./de-at.js":212,"./de-ch":211,"./de-ch.js":211,"./de.js":213,"./dv":210,"./dv.js":210,"./el":209,"./el.js":209,"./en-au":208,"./en-au.js":208,"./en-ca":207,"./en-ca.js":207,"./en-gb":206,"./en-gb.js":206,"./en-ie":205,"./en-ie.js":205,"./en-il":204,"./en-il.js":204,"./en-nz":203,"./en-nz.js":203,"./eo":202,"./eo.js":202,"./es":201,"./es-do":200,"./es-do.js":200,"./es-us":199,"./es-us.js":199,"./es.js":201,"./et":198,"./et.js":198,"./eu":197,"./eu.js":197,"./fa":196,"./fa.js":196,"./fi":195,"./fi.js":195,"./fo":194,"./fo.js":194,"./fr":193,"./fr-ca":192,"./fr-ca.js":192,"./fr-ch":191,"./fr-ch.js":191,"./fr.js":193,"./fy":190,"./fy.js":190,"./gd":189,"./gd.js":189,"./gl":188,"./gl.js":188,"./gom-latn":187,"./gom-latn.js":187,"./gu":186,"./gu.js":186,"./he":185,"./he.js":185,"./hi":184,"./hi.js":184,"./hr":183,"./hr.js":183,"./hu":182,"./hu.js":182,"./hy-am":181,"./hy-am.js":181,"./id":180,"./id.js":180,"./is":179,"./is.js":179,"./it":178,"./it.js":178,"./ja":177,"./ja.js":177,"./jv":176,"./jv.js":176,"./ka":175,"./ka.js":175,"./kk":174,"./kk.js":174,"./km":173,"./km.js":173,"./kn":172,"./kn.js":172,"./ko":171,"./ko.js":171,"./ky":170,"./ky.js":170,"./lb":169,"./lb.js":169,"./lo":168,"./lo.js":168,"./lt":167,"./lt.js":167,"./lv":166,"./lv.js":166,"./me":165,"./me.js":165,"./mi":164,"./mi.js":164,"./mk":163,"./mk.js":163,"./ml":162,"./ml.js":162,"./mn":161,"./mn.js":161,"./mr":160,"./mr.js":160,"./ms":159,"./ms-my":158,"./ms-my.js":158,"./ms.js":159,"./mt":157,"./mt.js":157,"./my":156,"./my.js":156,"./nb":155,"./nb.js":155,"./ne":154,"./ne.js":154,"./nl":153,"./nl-be":152,"./nl-be.js":152,"./nl.js":153,"./nn":151,"./nn.js":151,"./pa-in":150,"./pa-in.js":150,"./pl":149,"./pl.js":149,"./pt":148,"./pt-br":147,"./pt-br.js":147,"./pt.js":148,"./ro":146,"./ro.js":146,"./ru":145,"./ru.js":145,"./sd":144,"./sd.js":144,"./se":143,"./se.js":143,"./si":142,"./si.js":142,"./sk":141,"./sk.js":141,"./sl":140,"./sl.js":140,"./sq":139,"./sq.js":139,"./sr":138,"./sr-cyrl":137,"./sr-cyrl.js":137,"./sr.js":138,"./ss":136,"./ss.js":136,"./sv":135,"./sv.js":135,"./sw":134,"./sw.js":134,"./ta":133,"./ta.js":133,"./te":132,"./te.js":132,"./tet":131,"./tet.js":131,"./tg":130,"./tg.js":130,"./th":129,"./th.js":129,"./tl-ph":128,"./tl-ph.js":128,"./tlh":127,"./tlh.js":127,"./tr":126,"./tr.js":126,"./tzl":125,"./tzl.js":125,"./tzm":124,"./tzm-latn":123,"./tzm-latn.js":123,"./tzm.js":124,"./ug-cn":122,"./ug-cn.js":122,"./uk":121,"./uk.js":121,"./ur":120,"./ur.js":120,"./uz":119,"./uz-latn":118,"./uz-latn.js":118,"./uz.js":119,"./vi":117,"./vi.js":117,"./x-pseudo":116,"./x-pseudo.js":116,"./yo":115,"./yo.js":115,"./zh-cn":114,"./zh-cn.js":114,"./zh-hk":113,"./zh-hk.js":113,"./zh-tw":112,"./zh-tw.js":112};function i(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id=370},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);var a=n(0);function i(e,t,n,i,s){function o(e){var t={"DS Viewer":"DocuSign Viewer","DS Sender":"DocuSign Sender","DS Admin":"Account Administrator"};return angular.isUndefined(t[e])?e:t[e]}function r(o){return{id:o.userId,name:o.userName,firstName:o.firstName||"",middleName:o.middleName||"",lastName:o.lastName||"",email:o.email,isEnabled:!0,role:function(e){var t={"DocuSign Viewer":"DS Viewer","DocuSign Sender":"DS Sender","Account Administrator":"DS Admin"};return angular.isUndefined(t[e])?e:t[e]}(o.permissionProfileName),permissionProfileId:o.permissionProfileId,status:{Active:"Active",Closed:"Closed",Disabled:"Closed",ActivationSent:"Pending",ActivationRequired:"Pending"}[o.userStatus],company:o.company,jobTitle:o.jobTitle,locale:function(e){return e&&e.locale?e.locale.replace(/(.*?)(_.*)|(.*)/,function(e,t,n,a){return(t||a).toLowerCase()+(n=(n||"").toUpperCase())}):""}(o.userSettings),created:a(o.createdDateTime).toDate(),added:a(o.userAddedToAccountDateTime).toDate(),groupList:o.groupList,workAddress:o.workAddress,userStatus:o.userStatus,federatedStatus:s.isObject(o.userSettings)?o.userSettings.federatedStatus:null,close:function(n){var a=this,o={delete:"Groups,PermissionSet"};return n&&(o.delete+=",SigningGroupsEmail"),t.removeUsersFromAccount(e.getCurrentAccountId(),[this.id],o).then(function(e){return s.isUndefined(e[0].errorDetails)?(a.status="Closed",e[0]):i.reject(e[0].errorDetails)})},resetPassword:function(){return t.resetUserPasswords(e.getCurrentAccountId(),[this.id]).then(function(e){return"password_reset_failed"===e[0].loginStatus?i.reject(e[0]):e[0]})},userSettings:function(t){return n.getUserSettings(e.getCurrentAccountId(),t,!1)},resendInvitation:function(n){var a=this,s={id:this.id,accessCode:n};return t.sendActivationMessages(e.getCurrentAccountId(),[s]).then(function(e){return"failed"===e[0].sendActivationEmail?i.reject(e[0]):(a.status="Pending",e[0])})},reactivate:function(e){return this.resendInvitation(e)}}}function l(t){var a=e.getCurrentAccountId(),s=t.id,o=function(e){return{title:e.jobTitle,companyName:e.company,userDetails:{userName:e.fullName},address:e.workAddress}}(t);return n.updateAccountUserProfile(a,s,o).then(function(o){return o&&o.errorCode?i.reject(o):function(t){return e.currentAccountInfo.userInformation.userSettings.locale!==t.locale}(t)?n.updateAccountUserSettings(a,s,{locale:t.locale}):o})}function c(n,a){var i=function(e,t){var n={company:e.company,jobTitle:e.jobTitle,permissionProfileId:void 0===e.role?"":e.role.id,permissionProfileName:void 0===e.role?"":o(e.role.name),userSettings:{locale:e.locale,federatedStatus:e.federatedStatus},workAddress:e.workAddress};return t&&(n.userName=e.fullName),n}(n,a);return t.updateUser(e.getCurrentAccountId(),n.id,i)}function d(e){var t=e.users.map(r);return delete e.users,{users:t,page:e}}return{get:function(n){return t.retrieveUsers(e.getCurrentAccountId(),n).then(function(e){return s.map(e,r)})},getPage:function(n){return t.retrievePage(e.getCurrentAccountId(),n).then(d)},allButClosed:function(){return t.retrieveUsers(e.getCurrentAccountId(),{status:"active,activationsent"}).then(function(e){return s.map(e,r)})},by:function(n){return t.retrieveUser(e.getCurrentAccountId(),n).then(function(e){return r(e)})},add:function(n){return t.addNewUsers(e.getCurrentAccountId(),[function(e){return{userName:e.fullName,email:e.email,permissionProfileId:e.role.id,permissionProfileName:o(e.role.name),jobTitle:e.jobTitle,company:e.company,activationAccessCode:e.accessCode,groupList:e.groupList,userSettings:{locale:e.locale,federatedStatus:e.federatedStatus},workAddress:e.workAddress}}(n)]).then(function(e){return s.isUndefined(e[0].errorDetails)?s.map(e,r)[0]:i.reject(e[0].errorDetails)})},save:function(t,n){return(function(t){return e.currentAccount.userId===t.id}(t)?l(t):c(t,n)).then(function(e){return e&&e.errorCode?i.reject(e):t})},getDownloadUri:function(n){return t.createDownloadUri(e.getCurrentAccountId(),n)},getSelectedUser:function(){var e;return s.isEmpty(this._user)||(e=this._user,this._user=void 0),e},setSelectedUser:function(e){this._user=e}}}n(14).UsersModule.service("Users",["appUser","dsAccountUsers","dsUser","$q","lodash",i]),t.UsersService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14).UsersModule.directive("userUsageNotifier",["appUser","Billing","dsNotification","lodash","$translate",function(e,t,n,a,i){function s(e){e.showMarketing()&&(e.hasOneUserLeft()?function(e){e.hasUnlimitedUsers()?e.isChargedPerSeat()&&o(r.LastUserAndCannotUpgrade,{price:e.pricePerSeat()}):e.canUpgrade()&&o(r.LastUserOnLimitedUpgradablePlan)}(e):e.hasMetUserLimit()&&e.hasUnlimitedUsers()&&e.isChargedPerSeat()&&o(r.UserLimitReached,{price:e.pricePerSeat()}))}function o(e,t){n.show({msg:i.instant(e,t),type:"info",modal:!0})}var r={LastUserOnLimitedUpgradablePlan:"You are adding the last user included in your plan. If you choose to add more users after this one, you will need to upgrade your plan.",LastUserOnLimitedNonUpgradablePlan:"What to do about the last user on a non-upgradable plan.",LastUserAndCannotUpgrade:"You are adding the last user included in your plan. If you choose to add more users after this one, your account will be subject to charges of up to {{price}} per user",UserLimitReached:"You have reached the number of users included in your plan. If you choose to add new users, your account will be subject to charges up to {{price}} per user."};return{restrict:"A",link:function(){t.userPricing(e.getCurrentAccountId()).then(function(e){s(e)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14).UsersModule.factory("UserPricingPlanModel",["lodash","ApiConverter",function(e,t){return function(n,a){var i={},s=t.propertiesToJsonTypes(a);return i.showMarketing=function(){return!e.isEmpty(s)&&!("direct"===(n.billingProfile||n.billing_profile)||(n.planName?e.some(["- PO","- CC"],function(e){return-1!==n.planName.indexOf(e)}):void 0))},i.hasOneUserLeft=function(){var e=s.usedQuantity||s.used_quantity||0,t=i.hasUnlimitedUsers()?s.includedQuantity||s.included_quantity||0:s.allowedQuantity||s.allowed_quantity||0;return t&&e===t-1},i.hasMetUserLimit=function(){var e=s.usedQuantity||s.used_quantity||0,t=i.hasUnlimitedUsers()?s.includedQuantity||s.included_quantity||0:s.allowedQuantity||s.allowed_quantity||0;return t&&e>=t},i.hasUnlimitedUsers=function(){return"unlimited"===(s.allowedQuantity||s.allowed_quantity)},i.pricePerSeat=function(){var t=e.find(s.prices,function(e){var t=s.usedQuantity||s.used_quantity||0,n=e.beginQuantity||e.begin_quantity||0,a="unlimited"===(e.endQuantity||e.end_quantity)?1/0:e.endQuantity||e.end_quantity||0;return n<=t&&t<=a});return t&&(t.unitPrice||t.unit_price)||"0"},i.isChargedPerSeat=function(){return parseInt(i.pricePerSeat().replace(/\D/g,""))>0},i.canUpgrade=function(){return n.canUpgrade||n.can_upgrade},i.requiresUpgrade=function(){return i.hasMetUserLimit()&&!i.hasUnlimitedUsers()&&i.canUpgrade()},i.addIsBlocked=function(){return i.hasMetUserLimit()&&!i.hasUnlimitedUsers()&&!i.canUpgrade()},i}}])},function(e,t){var n="user management/users/user-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="UserListController as userList">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Users"></h1>\n      </div>\n\n      <ds-filter-controls filterable="userList" searchable="userList">\n        \x3c!-- Permission Set --\x3e\n        <div class="form-group">\n          <label class="label" for="permission-set" translate="Permission Set"></label>\n          <div class="select-wrap">\n            <select id="permission-set"\n              data-qa="users_search_filter_perm_set_option"\n              ng-model="userList.selectedRoleFilterOption"\n              ng-options="role.name for role in userList.roleFilterOptions">\n            </select>\n          </div>\n        </div>\n\n        \x3c!-- Group --\x3e\n        <div class="form-group">\n          <label class="label" for="group" translate="Group"></label>\n          <div class="select-wrap">\n            <select id="group"\n              data-qa="users_search_filter_group_option"\n              ng-model="userList.selectedGroupFilterOption"\n              ng-options="group.name for group in userList.groupFilterOptions">\n            </select>\n          </div>\n        </div>\n\n        \x3c!-- Status --\x3e\n        <div class="form-group">\n          <label class="label" for="status" translate="Status"></label>\n          <div ng-repeat="option in userList.statusFilterOptions"\n            class="inline-input cb" id="status">\n            <input id="status-{{option.name}}" class="cb_input" type="checkbox"\n              ng-model="option.value"\n              data-qa="users_search_filter_status_cb">\n            <label class="cb_label" for="status-{{option.name}}"\n                   data-qa="users_search_filter_status_cb_lbl">\n              {{option.name | translate}}\n            </label>\n          </div>\n        </div>\n      </ds-filter-controls>\n    </div>\n\n    <div class="grid header-action u-float-left">\n      <div class="action-btns u-float-left" ng-if="userList.showActions">\n        <button ng-if=\'userList.showAddOrCloseUser\'\n                class=\'btn btn-secondary btn-md\'\n                data-qa="users_add_user_btn"\n                ds-size=\'lg\'\n                ng-disabled=\'!userList.pricingLoaded\'\n                ng-click=\'userList.addUser()\' ng-class="{\'btn-loading\': !userList.pricingLoaded}">\n          <span ng-if="!userList.pricingLoaded"><span translate="loading"></span>&hellip;</span>\n          <span translate="Add User" ng-if="userList.pricingLoaded"></span>\n        </button>\n        <button class=\'btn btn-secondary btn-md\'\n          id="user-list-export-csv-button"\n          data-qa="users_download_users_btn"\n          ds-size=\'lg\'\n          ng-click="userList.showDownloadCsvModal()"\n          ng-disabled="!userList.loaded || !userList.list.length"\n          translate="Download Users">\n        </button>\n\n        <button class="btn btn-secondary btn-trigger" type="button"\n          ng-if="userList.canManageBulkUsers()"\n          olive-menu="bulk-actions-menu"\n          olive-menu-position="below left"\n          data-qa="users_bulk_actions_btn"\n          translate="Bulk Actions">\n        </button>\n        <div class="menu invisible" id="bulk-actions-menu">\n          <ul class="menu_list" ng-if="userList.showAddOrCloseUser">\n            <li class="menu_listItem">\n              <a class="menu_item" ng-click="userList.uploadBulkAddUsers()"\n                  radmin-logging="Users > Bulk Actions > Add Users"\n                  data-qa="users_bulk_add_link">\n                <span translate="Add Users"></span>\n              </a>\n            </li>\n          </ul>\n          <ul class="menu_list">\n            <li class="menu_listItem">\n              <a class="menu_item" ng-click="userList.uploadBulkUpdateUsers()"\n                  radmin-logging="Users > Bulk Actions > Update Users"\n                  data-qa="users_bulk_update_link">\n                <span translate="Update Users"></span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <ds-page-controls pageable="userList"></ds-page-controls>\n    </div>\n  </div>\n\n  <ds-filter-applied filterable="userList"></ds-filter-applied>\n\n  <table class=\'mgnt-list list-tbl mtbl\' olive-table-select>\n    <thead>\n      <tr>\n        <th class="table_cell-checkbox" ng-if="userList.showSelect">\n            <span class="cb cb-noText" ng-if="userList.loaded">\n                <input class="cb_input" type="checkbox" id="selectAll" ng-click="userList.toggleSelectAll()"\n                       ng-checked="userList.isSelectAll()" ng-disabled="userList.disableSelectAll()" />\n                <label class="cb_label" for="selectAll" translate="Select All"></label>\n            </span>\n        </th>\n        <th name=\'name\'><span translate="Name"></span></th>\n        <th name=\'email\'><span translate="Email"></span></th>\n        <th name=\'added\'><span translate="Added"></span></th>\n        <th name=\'status\'><span translate="Status"></span></th>\n        <th name=\'role\' class="hidden-sm-down"><span translate="Permission Set"></span></th>\n        <th name=\'group\' class="hidden-sm-down"><span translate="Groups"></span></th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n\n    <tbody ng-if="userList.loaded">\n      <tr ng-repeat=\'user in userList.list\'\n          ng-class="{\'closed\': user.status !== \'Active\' && !userList.showSelect, \'clickable\': user.isEnabled && !userList.showSelect}">\n        <td ng-if="userList.showSelect">\n            <span class="cb cb-noText">\n                <input class="cb_input" type="checkbox" id="input_1a-{{$index}}"\n                       ng-disabled="userList.disableSelect(user)"\n                       ng-checked="userList.isUserSelected(user)" ng-click="userList.toggleUser(user)"/>\n                <label class="cb_label" for="input_1a-{{$index}}" translate="Select"></label>\n            </span>\n        </td>\n        <td data-title=\'Name\' ng-click=\'userList.edit(user)\'>\n          <span class="truncate u-ellipsis">{{user.name}}</span>\n        </td>\n\n        <td ng-click=\'userList.edit(user)\'>\n          <span class="truncate u-ellipsis">{{user.email}}</span>\n        </td>\n\n        <td ng-click=\'userList.edit(user)\'>{{user.added | moment:userList.dateTimeFormat:userList.timeZone}}</td>\n\n        <td ng-click=\'userList.edit(user)\'>\n          <i class=\'icon\'\n            ng-class="{\n              \'Active\':\'icon-circle text-success\',\n              \'Pending\':\'icon-circle icon-pending\',\n              \'Closed\':\'icon-circleclosed\'\n            }[user.status]"></i>\n          <span class="hidden-sm-down" translate="{{user.status}}"></span>\n        </td>\n\n        <td class="user-role-list hidden-sm-down" data-title="Role"\n          ng-click="userList.edit(user)">{{user.role}}\n        </td>\n\n        <td class="hidden-sm-down" ng-click="userList.edit(user)">\n          <span class="user-group-list">\n            {{userList.groupListSummary(user.groupList)}}\n          </span>\n        </td>\n        <td class="column-min" data-title=\'Actions\'>\n          <button type=\'button\' ng-if="!userList.showSelect"\n            ng-class=\'{"invisible" : !user.isEnabled}\'\n            class=\'btn btn-secondary btn-trigger u-float-right\'\n            olive-menu=\'userActions-{{user.id}}\'\n            olive-menu-position=\'below right\'\n            data-qa="users_actions_btn"\n            translate="Actions">\n          </button>\n          <div id=\'userActions-{{user.id}}\' ng-if="!userList.showSelect" class=\'menu invisible\' ng-switch=\'user.status\'>\n            <ul>\n              <li ng-if="user.status === \'Active\'">\n                <a name="edit-user" class="item"\n                  data-qa="users_actions_edit_user_li"\n                  ng-click="userList.edit(user)"\n                  translate="Edit">\n                </a>\n              </li>\n\n              <div ng-switch-when="Active">\n                <li>\n                  <a name=\'reset-password\' class=\'item\'\n                    data-qa="users_actions_reset_password_li"\n                    ng-click=\'userList.resetPassword(user)\'\n                    translate="Reset Password">\n                  </a>\n                </li>\n                <li ng-if="userList.showAddOrCloseUser">\n                  <a name=\'close-user\' class=\'item\'\n                    ng-if=\'!userList.isLoggedInUser(user)\'\n                    data-qa="users_actions_close_li"\n                    ng-click="userList.closeUser(user)"\n                    translate="DS_CONTEXT=(user) Close">\n                  </a>\n                </li>\n              </div>\n\n              <div ng-switch-when="Pending">\n                <li>\n                  <a name=\'resend-invitation\' class=\'item\'\n                    data-qa="users_actions_resend_invitation_li"\n                    ng-click=\'userList.resendInvitation(user)\'\n                    translate="Resend Invitation">\n                  </a>\n                </li>\n                <li ng-if="userList.showAddOrCloseUser">\n                  <a name=\'close-user\' class=\'item\'\n                    data-qa="users_actions_close_li"\n                    ng-click="userList.closeUser(user)"\n                    translate="DS_CONTEXT=(user) Close">\n                  </a>\n                </li>\n              </div>\n\n              <div ng-switch-when="Closed" ng-if="userList.showAddOrCloseUser">\n                <li>\n                  <a name=\'reactivate-user\' class=\'item\'\n                    data-qa="users_actions_reactivate_li"\n                    ng-click="userList.reactivate(user)"\n                    translate="Reactivate">\n                  </a>\n                </li>\n              </div>\n\n              <li ng-if="userList.canManageSharing && user.status !== \'Closed\'">\n                <a name="share-documents" class="item"\n                  data-qa="users_actions_share_docs_li"\n                  ng-click="userList.manageSharedEnvelopesTo(user)"\n                  translate="Share envelopes with user">\n                </a>\n              </li>\n\n              <li ng-if="userList.canManageSharing">\n                <a name="share-documents" class="item"\n                  data-qa="users_actions_share_docs_li"\n                  ng-click="userList.manageSharedEnvelopesFrom(user)"\n                  translate="Share user\'s envelopes">\n                </a>\n              </li>\n\n              <li ng-if="userList.allowEnvelopeCustodyTransfer">\n                <a name="transfer-envelopes" class="item"\n                  data-qa="users_actions_transfer_envelopes_li"\n                  ng-click="userList.transferEnvelopes(user)"\n                  translate="Transfer Envelopes">\n                </a>\n              </li>\n              <li ng-if="userList.allowEnvelopeCustodyTransfer && userList.templateTransferEnabled">\n                <a name="transfer-templates" class="item"\n                  data-qa="users_actions_transfer_template_li"\n                  ng-click="userList.transferTemplates(user)"\n                  translate="Transfer Templates"></a>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="userList.loaded && !userList.list.length">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="userList.submittedSearch && userList.appliedFilters.length"\n        translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n        translate-interpolation="bracket"\n        translate-values="{searchQuery: userList.submittedSearch}">\n      </p>\n      <p ng-if="userList.submittedSearch && !userList.appliedFilters.length"\n        translate="The selected search query \'[[searchQuery]]\' produced no results."\n        translate-interpolation="bracket"\n        translate-values="{searchQuery: userList.submittedSearch}">\n      </p>\n      <p ng-if="!userList.submittedSearch && userList.appliedFilters.length"\n        translate="The selected filters produced no results.">\n      </p>\n      <p ng-if="!userList.submittedSearch && userList.viewUsersByGroupSearch"\n         translate="The group filter produced no results."></p>\n    </div>\n  </div>\n\n  <div class="section" ng-if="userList.loaded">\n    <div class="grid action-row" >\n      <ds-page-controls pageable="userList"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="userList.loading"\n    ds-loading-succeeded="userList.loaded"\n    ds-loading-error="{{\'We had trouble loading your users. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/user-limit-reached.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div class='header'>\n  <h1 translate=\"User Limit Reached\"></h1>\n</div>\n\n<div class='content user-limit-reached'>\n  <p translate=\"The maximum number of users for the account has been reached.\">\n  </p>\n</div>\n\n<div class='footer'>\n  <button class='btn btn-xl btn-minor' ds-close-modal translate=\"Cancel\"></button>\n</div>\n")}]),e.exports=n},function(e,t){var n="user management/users/upgrade-plan.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div class='header'>\n  <h1 translate=\"Upgrade Plan\"></h1>\n</div>\n\n<div class='content upgrade-plan' ds-form='upgrade-plan'>\n  <p translate=\"You have reached the number of users included in your plan. If you choose to add new users, you will need to upgrade your plan.\">\n  </p>\n\n</div>\n\n<div class='footer'>\n  <upgrade-button></upgrade-button>\n  <button class='btn btn-xl btn-minor' ds-close-modal translate=\"Cancel\"></button>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=n(106);a.UsersModule.directive("upgradeButton",["appUser","RADminApiClient","$window",function(e,t,n){return{restrict:"E",template:'<a class="btn btn - main btn-lg" ng-click="navigate()">Upgrade</a>',controller:function(a){a.navigate=function(){e.currentAccountInfo.informationRetrieved.then(function(){var a="free_trial"===e.currentAccountInfo.information.paymentMethod?"tgr=m-billing":"";t.createMagentoUri(e.getCurrentAccountId(),i.MagentoBillingAction.upgrade,n.location.href,a).then(function(e){n.location.href=e})})}}}}])},function(e,t){var n="user management/users/shared-envelopes-add-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="SharedEnvelopesAddUsersController as addUsers">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Users" ui-sref="authenticated.users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ng-click="addUsers.goBack()" translate="Shared Envelopes"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Add Users"></span>\n      </li>\n    </ol>\n  </nav>\n\n  <div class="section">\n    <h1 class="header-title">{{ addUsers.headerTitle }}</h1>\n  </div>\n\n  <div class="tabs-wrap">\n    <ul class="tabs" olive-tabset="sharedTabs">\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="all" translate="DS_CONTEXT=(users) All"></a>\n      </li>\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="selected" translate="Selected ([[count]])" translate-interpolation="bracket"\n           translate-values="{count: selectedList.length}"></a>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div olive-tabset-parent="sharedTabs" olive-tab-id="all">\n      <div ng-include="\'user management/users/user-list.html\'"></div>\n    </div>\n    <div olive-tabset-parent="sharedTabs" olive-tab-id="selected">\n      <div ng-include="\'user management/users/shared-envelope-selected-users.html\'"></div>\n    </div>\n  </div>\n  <div class="shared-envelope-bottom-buttons sticky-buttons"\n       olive-sticky="shared-envelope-bottom-buttons"\n       olive-location="bottom">\n    <div class="section">\n      <button class="btn btn-primary"\n              ng-disabled="addUsers.isSaving || !selectedList.length"\n              ng-class="{\'btn-loading\': addUsers.isSaving}"\n              ng-click="addUsers.save()">\n        <span ng-if="!addUsers.isSaving" translate="Assign"></span>\n        <span ng-if="addUsers.isSaving"><span translate="Assigning"></span>&hellip;</span>\n      </button>\n      <button class="btn btn-minor"\n              ng-click="addUsers.goBack()"\n              ng-disabled="addUsers.isSaving"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/shared-envelope-selected-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="SharedEnvelopesSelectedUsersController as sharedEnvelopeUsers">\n  <table class="table">\n    <thead>\n    <tr>\n      <th class="table_cell-checkbox">\n            <span class="cb cb-noText" ng-if="selectedList.length > 0">\n                <input class="cb_input" type="checkbox" id="selectedUsers_selectAll"\n                       ng-checked="selectedList.length > 0"\n                       ng-click="sharedEnvelopeUsers.removeAll()" />\n                <label class="cb_label" for="selectedUsers_selectAll" translate="Select All"></label>\n            </span>\n      </th>\n      <th translate="Name"></th>\n      <th translate="Email"></th>\n      <th translate="Added"></th>\n      <th translate="Status"></th>\n      <th class="hidden-sm-down" translate="Permission Set"></th>\n      <th class="hidden-sm-down" translate="Groups"></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="user in selectedList">\n      <td>\n        <span class="cb cb-noText">\n          <input class="cb_input" type="checkbox" id="input_1a-{{user.id}}" olive-table-select-row\n                 ng-click="sharedEnvelopeUsers.remove(user)" ng-checked="true" />\n          <label class="cb_label" for="input_1a-{{user.id}}" translate="Select"></label>\n        </span>\n      </td>\n      <td class="truncate">{{user.name}}</td>\n      <td class="truncate">{{user.email}}</td>\n      <td>{{user.added | moment:sharedEnvelopeUsers.dateTimeFormat:sharedEnvelopeUsers.timeZone}}</td>\n      <td>\n        <i class="icon" ng-class="{\n              \'Active\':\'icon-circle text-success\',\n              \'Pending\':\'icon-circle icon-pending\',\n              \'Closed\':\'icon-circleclosed\'\n            }[user.status]"></i>\n        <span class="hidden-sm-down" translate="{{user.status}}"></span>\n      </td>\n      <td class="user-role-list hidden-sm-down" data-title="Role">{{user.role}}</td>\n      <td class="hidden-sm-down">\n          <span class="user-group-list">\n            {{sharedEnvelopeUsers.groupListSummary(user.groupList)}}\n          </span>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=function(){function e(e,t,n){this._$scope=e,this._=t,this._$translate=n}return e.prototype.remove=function(e){this._.some(this._$scope.selectedList,{id:e.id})&&(this._.remove(this._$scope.selectedList,function(t){return t.id===e.id}),this._$scope.$emit("selectedUsersChanged"))},e.prototype.removeAll=function(){for(;this._$scope.selectedList.length>0;)this._$scope.selectedList.pop();this._$scope.$emit("selectedUsersChanged")},e.prototype.groupListSummary=function(e){var t=e.slice(0,2).map(function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)}.bind(this));return e.length>2&&t.push(this._$translate.instant("{{remainingNumberOfGroups}} more",{remainingNumberOfGroups:e.length-2})),t.join(", ")},e}();a.UsersModule.controller("SharedEnvelopesSelectedUsersController",["$scope","lodash","$translate",i])},function(e,t){var n="user management/users/shared-documents.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="SharedDocumentsController as sharedAccess">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.users" translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Shared Envelopes"></span>\n      </li>\n    </ol>\n  </nav>\n\n  <div class="section" ng-show="sharedAccess.loaded">\n    <div class="grid">\n      <div class="col-1-2">\n        <h1 class="header-title">{{ sharedAccess.headerTitle }}</h1>\n      </div>\n      <ds-search-control searchable="sharedAccess" filterable="false"></ds-search-control>\n    </div>\n    <div class="grid header-action">\n      <div class="header-description"> {{ sharedAccess.headerDescription }}</div>\n    </div>\n    <div class="grid action-row u-float-left">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary btn-md" translate="Add Users" ng-click="sharedAccess.addUsers()"></button>\n      </div>\n      <ds-page-controls pageable="sharedAccess"></ds-page-controls>\n    </div>\n    <table class="table">\n      <thead>\n      <tr>\n        <th translate="Name"></th>\n        <th translate="Email"></th>\n        <th translate="Status"></th>\n        <th translate="Actions" class="table_cell-action"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="user in sharedAccess.list">\n        <td>{{ ::user.userName }}</td>\n        <td>{{ ::user.email }}</td>\n        <td>\n          <i class="icon" ng-class="{\n              \'Active\':\'icon-circle text-success\',\n              \'Pending\':\'icon-circle icon-pending\',\n              \'Closed\':\'icon-circleclosed\'\n            }[user.userStatus]"></i>\n          <span class="hidden-sm-down" translate="{{user.userStatus}}"></span>\n        </td>\n        <td class="table_cell-action">\n          <button class="btn btn-secondary" ng-class="{\'btn-loading\':user.saving}"\n                  ng-click="sharedAccess.remove(user)">\n            <span ng-if="!user.saving" translate="Remove"></span>\n            <span ng-if="user.saving"><span translate="Removing"></span>&hellip;</span>\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n      <div class="m-top-small">\n        <ds-page-controls pageable="sharedAccess" ng-if="sharedAccess.list.length > 0"></ds-page-controls>\n      </div>\n  </div>\n\n  <div class="text-center grid pad" ds-loading="sharedAccess.loading" ds-loading-succeeded="sharedAccess.loaded"\n       ds-loading-error="{{\'We had trouble loading your shared envelopes. Go ahead and try that again.\' | translate}}"></div>\n\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),i=n(84),s=n(14),o=n(66),r=function(){function e(e,t,n,a,s,o,r,l,c){var d=this;this._$scope=e,this._$stateParams=t,this._$state=n,this._=a,this._$translate=s,this._$q=o,this._shareDocumentsService=r,this._dateTimeService=l,this._oliveMessage=c,this.pageItemType=this._$translate.instant(i.USERS_ITEM_TYPE),this._initCurrentState(),this._initDateTimeProperties(),this.loading=this._initialize(),this.loading.then(function(){d._initHeaderTitle()})}return e.prototype.submitSearch=function(e){13===e.keyCode&&(this.submittedSearch=this.searchPhrase,this.loading=this._getFirstPage())},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this.loading=this._getFirstPage()},e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new o.PreviousPageOptions(this.currentPage.startIndex,50);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new o.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new o.LastPageOptions(this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.remove=function(e){var t=this;this.sharedFrom?e.sharedFrom=!1:this.sharedTo&&(e.sharedTo=!1);var n=[];n.push(e);var a={user:{userId:this.userId},envelopeSharedAccess:n};e.saving=!0,this._shareDocumentsService.share(a).then(function(){t.loading=t._getFirstPage(),t.loading.then(function(){t._oliveMessage.show(t._$translate.instant("{{userName}} removed successfully.",{userName:e.userName}),"userRemovedSuccess","success")})})},e.prototype.addUsers=function(){this.sharedTo?this._$state.go("authenticated.shared-envelopes-to-add-users",{userId:this.userId}):this.sharedFrom&&this._$state.go("authenticated.shared-envelopes-from-add-users",{userId:this.userId})},e.prototype._initialize=function(){return this._getFirstPage()},e.prototype._getFirstPage=function(){return this._getPage(new o.FirstPageOptions(50))},e.prototype._getPage=function(e){var t=this;this.list=[];var n={count:50,start_position:e.start_position,user_ids:this.userId,shared:this._getSharedOption()};return this._.isEmpty(this.submittedSearch)||(n.search_text="*"+this.submittedSearch+"*"),this._shareDocumentsService.getSharedAccessFor(n).then(function(e){t.list=e.envelopeSharedAccess,t.userName=e.user.userName,t.currentPage=new a.CurrentPageFromApiPage(e.page)})},e.prototype._getSharedOption=function(){return this.sharedTo?"shared_to,shared_to_and_from":this.sharedFrom?"shared_from,shared_to_and_from":void this._goToUsers()},e.prototype._initCurrentState=function(){this.sharedFrom="authenticated.shared-envelopes-from"===this._$state.current.name,this.sharedTo="authenticated.shared-envelopes-to"===this._$state.current.name,this._.isEmpty(this._$stateParams.userId)&&this._goToUsers(),this.userId=this._$stateParams.userId},e.prototype._initHeaderTitle=function(){this.sharedFrom?(this.headerTitle=this._$translate.instant("Envelopes shared by {{user}}",{user:this.userName}),this.headerDescription=this._$translate.instant("The following users can access the envelopes for this user. This access includes the ability to act on any envelopes sent by this user, and view the details of any envelopes awaiting this user's signature.")):this.sharedTo&&(this.headerTitle=this._$translate.instant("Envelopes shared with {{user}}",{user:this.userName}),this.headerDescription=this._$translate.instant("This user can access the envelopes for the following users. This access includes the ability to act on any envelopes sent by these users, and view the details of any envelopes awaiting their signature."))},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this._dateTimeService.getDateTimeFormat(),this.timeZone=this._dateTimeService.getTimeZone()},e.prototype._goToUsers=function(){this._$state.go("authenticated.users")},e}();s.UsersModule.controller("SharedDocumentsController",["$scope","$stateParams","$state","lodash","$translate","$q","ShareAccessService","DateTimeService","oliveMessage",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=function(){function e(e,t,n,a){this._api=e,this._appUser=t,this._=n,this._$q=a}return e.prototype._mapToViewModel=function(e){return{page:{resultSetSize:e.resultSetSize,totalSetSize:e.totalSetSize,startPosition:e.startPosition,endPosition:e.endPosition,previousUri:e.startPosition>0?"hasPreviousUri":"",nextUri:e.startPosition+e.resultSetSize<e.totalSetSize?"hasNextUri":""},user:this._mapUserStatusToViewModel(e.sharedAccess[0].user),envelopeSharedAccess:this._.sortBy(this._.map(e.sharedAccess[0].envelopes,this._mapUserToViewModel.bind(this)),"userName")}},e.prototype._mapUserToViewModel=function(e){var t={userName:e.user.userName||"",userId:e.user.userId,email:e.user.email||"",userStatus:e.user.userStatus||"",sharedFrom:"shared_from"===e.shared||"shared_to_and_from"===e.shared,sharedTo:"shared_to"===e.shared||"shared_to_and_from"===e.shared};return this._mapUserStatusToViewModel(t)},e.prototype._mapUserStatusToViewModel=function(e){if(!this._.isEmpty(e.userStatus))switch(e.userStatus.toLowerCase()){case"activationsent":case"activationrequired":e.userStatus="Pending";break;case"closed":case"disabled":e.userStatus="Closed"}return e},e.prototype._mapToApiModel=function(e){return{sharedAccess:[{user:e.user,envelopes:this._.map(e.envelopeSharedAccess,this._mapUserToApiModel.bind(this))}]}},e.prototype._mapSharedAccess=function(e){return e.sharedFrom&&e.sharedTo?"shared_to_and_from":e.sharedFrom?"shared_from":e.sharedTo?"shared_to":"not_shared"},e.prototype._mapUserToApiModel=function(e){return{user:{userId:e.userId},shared:this._mapSharedAccess.call(this,e)}},e.prototype.getSharedAccessFor=function(e){var t=this,n=this._appUser.getCurrentAccountId(),a=this._api.endpoint().accounts(n).sharedAccess().uri(e);return this._api.get(a).then(function(e){var n=e.data,a=n.sharedAccess[0];return a&&a.errorDetails&&"SUCCESS"!==a.errorDetails.errorCode?t._$q.reject({msg:n.sharedAccess[0].errorDetails.message,object:n}):t._mapToViewModel(n)})},e.prototype.share=function(e,t){var n=this;void 0===t&&(t={});var a=this._mapToApiModel(e),i=this._appUser.getCurrentAccountId(),s=this._api.endpoint().accounts(i).sharedAccess().uri(t);return this._api.put(s,a).then(function(e){var t=e.data,a=t.sharedAccess[0];return a&&a.errorDetails&&"SUCCESS"!==a.errorDetails.errorCode?n._$q.reject({msg:t.sharedAccess[0].errorDetails.message,object:t}):n._mapToViewModel(t)})},e}();a.UsersModule.service("ShareAccessService",["dsApiClient","appUser","lodash","$q",i])},function(e,t){var n="user management/users/resend-invitation.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ResendInvitationController" ds-form>\n  <div class="modal_header" olive-modal-header translate="Access Code"></div>\n  <div class="modal_content enter-access-code" olive-modal-content>\n    <p translate="If you want, add a new access code for this user. You will need to communicate the following access code with the user so they can activate their account."></p>\n    <input type="text" class="input-text input-sm" ng-model="info.accessCode" maxlength="50" ds-valid="regex"\n           ds-valid-regex="accessCodePattern" />\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ds-form-submit="ok()" translate="OK" olive-modal-complete></button>\n    <button class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14);a.UsersModule.controller("ResendInvitationController",["$scope","oliveMessage","dsModals","$translate","lodash",function(e,t,n,i,s){function o(o){var r=e.activeUser;function l(e){switch(e){case a.USER_NOT_ACCOUNT_ADMIN_ERROR_CODE:t.show(i.instant(a.USER_NOT_ACCOUNT_ADMIN_ERROR),"sendInvitationError","error");break;default:t.show(i.instant(a.SEND_INVITATION_ERROR,{email:r.email}),"sendInvitationError","error")}}r.resendInvitation(o).then(function(e){var n=e&&e.errorDetails&&e.errorDetails.errorCode||"";s.isEmpty(n)?t.show(i.instant(a.SEND_INVITATION_SUCCESS,{email:r.email}),"sendInvitationSuccess","success"):l(n)}).catch(function(){return l()}).finally(n.closeModal)}e.info={},e.info.accessCode="",e.ok=function(){o(e.info.accessCode)},e.accessCodePattern=a.accessCodePattern}])},function(e,t){var n="user management/users/existing-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ExistingUserController as existing">\n  <div class="modal_header" olive-modal-header translate="Existing User"></div>\n  <div class="modal_content" olive-modal-content>\n    <div ng-if="existing.activeUser">\n      <p ng-if="!existing.isPending && existing.canViewProfile"\n         translate="This user already exists. To edit the user, go to their user profile."></p>\n      <p ng-if="!existing.isPending && !existing.canViewProfile"\n         translate="This user already exists and has admin rights on this account. You do not have the necessary permissions to edit this user."></p>\n      <p ng-if="existing.isPending && existing.showResendInvitation"\n         translate="This user already exists and is currently pending activation. To resend the activation email, click RESEND INVITATION."></p>\n      <p ng-if="existing.isPending && !existing.showResendInvitation"\n         translate="This user already exists and is currently pending activation."></p>\n      <div class="grid">\n        <div class="col">\n          <dl class="def-list">\n            <dt translate="User Name"></dt>\n            <dd>{{ existing.userName }}</dd>\n            <dt translate="Email"></dt>\n            <dd>{{ existing.email }}</dd>\n          </dl>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="existing.closedUsers.length">\n      <p>{{existing.membershipText}}</p>\n\n      <h5 class="m-bottom-xx-small" translate="To reactivate a user"></h5>\n      <div translate="Click REACTIVATE. A reactivated membership grants access to all associated envelopes."></div>\n      <table class="table table-striped m-top-x-small">\n        <thead>\n        <th translate="Name"></th>\n        <th translate="Email"></th>\n        <th translate="Added"></th>\n        <th>&nbsp;</th>\n        </thead>\n        <tbody>\n        <tr ng-repeat="user in existing.closedUsers">\n          <td>{{ ::user.name }}</td>\n          <td>{{ ::user.email }}</td>\n          <td>{{ ::user.added | moment:existing.dateTimeFormat:existing.timeZone}}</td>\n          <td>\n            <button class="btn btn-secondary" translate="Reactivate" olive-modal-complete\n                    ng-click="existing.reactivateUser(user)"></button>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ng-if="existing.canResendInvitation"\n            ng-click="existing.resendInvitation()" translate="Resend Invitation"></button>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ng-if="existing.canViewProfile"\n            ng-click="existing.viewProfile()" translate="View Profile"></button>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ng-if="existing.closedUsers.length"\n            translate="Add new User"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i="This email address already exists for the user membership shown below. You can reactivate a closed membership or add a new user.",s="This email address already exists for the user memberships shown below. You can reactivate a closed membership or add a new user.",o=function(){function e(e,t,n,a,o,r){this._$scope=e,this._=t,this._$state=n,this._$translate=a,this.DateTimeService=o,this._oliveModal=r,this.closedUsers=[],this.isPending=!1,this.canResendInvitation=!1,this.canViewProfile=!1,this._initDateTimeProperties(),this.activeUser=this._$scope.activeUser,this.closedUsers=this._$scope.closedUsers,this.activeUser&&(this.email=this.activeUser.email,this.userName=this.activeUser.name,this.isPending="Pending"===this.activeUser.status,this.canResendInvitation=this.isPending&&this._$scope.hasEnoughPermission,this.canViewProfile=!this.isPending&&this._$scope.hasEnoughPermission),this.membershipText=this._$translate.instant(this.closedUsers&&1===this.closedUsers.length?i:s)}return e.prototype.viewProfile=function(){this._$state.go("authenticated.edit-user",{userId:this.activeUser.id})},e.prototype.createNewUser=function(){this._$scope.createNewUser()},e.prototype.reactivateUser=function(e){this._$scope.reactivateUser(e)},e.prototype.resendInvitation=function(){var e=this;this._oliveModal.openModal({templateUrl:"user management/users/resend-invitation.html",scope:this._$scope,size:"sm",showClose:!1,onComplete:function(){e._$state.go("authenticated.users")}})},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this.DateTimeService.getDateTimeFormat(),this.timeZone=this.DateTimeService.getTimeZone()},e}();a.UsersModule.controller("ExistingUserController",["$scope","lodash","$state","$translate","DateTimeService","oliveModal",o])},function(e,t){var n="user management/users/existing-active-user-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal">\n  <div class=\'modal_header\' olive-modal-header>\n    <h1 translate="Existing User"></h1>\n  </div>\n\n  <div class=\'modal_content\' olive-modal-content>\n    <div ng-switch="existingUserStatus">\n      <div ng-switch-when="inactive">\n        <p translate="This email address is currently in use."></p>\n        <p translate="To reactivate the closed membership, you must first close the pending user."></p>\n      </div>\n      <div ng-switch-when="notViewable">\n        <p translate="This user already exists and has admin rights on this account. You do not have the necessary permissions to edit this user"></p>\n        <p translate="To reactivate the closed membership, you must first close the active user."></p>\n      </div>\n      <div ng-switch-default>\n        <p translate="This email address is currently in use. Click VIEW PROFILE to review the active user\'s information."></p>\n        <p translate="To reactivate the closed membership, you must first close the active user."></p>\n      </div>\n    </div>\n  </div>\n\n  <div class=\'modal_footer\' olive-modal-footer>\n    <button ng-if="existingUserStatus === \'viewable\'" class=\'btn btn-lg btn-primary\' olive-modal-complete\n            translate="View Profile"></button>\n    <button class=\'btn btn-lg btn-minor\' translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/edit-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main" ng-controller="EditUserController as editUser" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.users" translate="Users"></a>\n      </li>\n\n      <li class="crumbs_listItem">\n        <span class="crumbs_item">{{ editUser.info.name }}</span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <h1 class="header-title" translate="Edit User"></h1>\n  </div>\n\n  <div class="section">\n    <form name="editUserForm" ng-show="userLoaded">\n      <div class="fgrid fgrid-lg">\n        <div class="fgrid_cell fgrid_cell-2-5">\n          <div class="form_unit">\n            <label class="label" translate="Email"></label>\n            <p>{{ editUser.info.email }}</p>\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="info.fullName" label-required="*" translate="Full Name"></label>\n            <input name="fullName" class="input-text input-md" id="info.fullName" ng-model="editUser.info.fullName"\n                   data-qa="edit_user_full_name_txb" ds-valid required>\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="info.jobTitle" translate="Job Title"></label>\n            <input class="input-text input-md" id="info.jobTitle" data-qa="edit_user_job_title_txb"\n                   ng-model="editUser.info.jobTitle" />\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="info.company" translate="Company"></label>\n            <input class="input-text input-md" id="info.company" data-qa="edit_user_company_txb"\n                   ng-model="editUser.info.company" />\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="info.locale" label-required="*" translate="Language"></label>\n            <div class="select-wrap input-md" ng-controller="LocalesController as locales">\n              <select id="info.locale" data-qa="edit_user_language_ddl"\n                      ng-options="locale.key as locale.englishLanguageName | translate for locale in locales.sending"\n                      ng-model="editUser.info.locale" ds-valid required>\n                <option value="" translate="Select Option"></option>\n              </select>\n            </div>\n          </div>\n\n          <div class="form_unit" ng-if="editUser.canManageFederatedStatus">\n            <label class="label" for="info.locale" label-required="*" translate="Login Policy"></label>\n            <div class="select-wrap input-md">\n              <select\n                ng-options="policyKey as policyName | translate for (policyKey, policyName) in editUser.loginPolicies"\n                ng-model="editUser.info.federatedStatus" ds-valid required> </select>\n            </div>\n          </div>\n\n          <div class="form_unit" ng-if="editUser.displayRoles()">\n            <label class="label" for="info-role" label-required="*" translate="Permission Set"></label>\n            <div class="select-wrap input-md">\n              <select id="info-role" ng-options="role.name for role in editUser.roles track by role.id"\n                      ng-model="editUser.info.role" ds-valid required data-qa="edit_user_permission_set_ddl"></select>\n            </div>\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="info.groups" translate="Groups"></label> &nbsp;\n            <div id="info.groups" class="input-md">\n              <div ng-if="editUser.groups.length">\n                <div class="form_group m-bottom-xx-small"\n                     ng-repeat="(i, group) in editUser.info.groupList track by $index">\n                  <div class="select-wrap input-md">\n                    <select id="groupList_{i}" ng-model="editUser.info.groupList[i]"\n                            ng-options="g as g.groupName for g in editUser.groups"> </select>\n                  </div>\n                  <div class="form_addon">\n                  <span class="icon icon-times u-cursor-pointer"\n                        ng-click="editUser.removeGroup(i, editUserForm)"></span>\n                  </div>\n                </div>\n                <div ng-disabled="editUser.canAddMoreGroups()" class="btn btn-lg btn-dashed btn-block btn-add-recipient"\n                     ng-click="editUser.addGroup(editUserForm)" data-qa="edit_user_add_group_btn">\n                  <span class="icon icon-plus"></span> <span translate="Add Group"></span>\n                </div>\n              </div>\n              <div ng-if="!editUser.groups.length">\n                <span class="text-muted" translate="Note: There are no groups available to assign."></span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="fgrid_cell fgrid_cell-3-5">\n          <div class="form_unit">\n            <label class="label" translate="API Username"></label>\n            <p>{{ editUser.info.id }}</p>\n          </div>\n\n          <div ng-switch on="editUser.addressFormat">\n            <div ng-switch-when="ja_jp">\n              <div ng-include="\'userAddress.postalCode\'"></div>\n              <div ng-include="\'userAddress.regionProvince\'"></div>\n              <div ng-include="\'userAddress.city\'"></div>\n              <div ng-include="\'userAddress.address\'"></div>\n              <div ng-include="\'userAddress.country\'"></div>\n            </div>\n            <div ng-switch-default>\n              <div ng-include="\'userAddress.address\'"></div>\n              <div ng-include="\'userAddress.city\'"></div>\n              <div ng-include="\'userAddress.country\'"></div>\n              <div ng-include="\'userAddress.regionProvince\'"></div>\n              <div ng-include="\'userAddress.postalCode\'"></div>\n            </div>\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="phone" translate="Phone"></label>\n            <input class="input-text input-md" id="phone" ng-model="editUser.info.workAddress.phone" data-qa="edit_user_phone"\n                   maxlength="20" />\n          </div>\n        </div>\n      </div>\n    </form>\n\n    <div class="text-center grid pad" ds-loading="editUser.userLoading" ds-loading-succeeded="userLoaded"></div>\n  </div>\n  <div class="section">\n    <button class="btn btn-lg btn-primary" olive-button="btnEditUserSave" olive-ng-button-is-loading="isSaving"\n            ng-disabled="editUserForm.$pristine"\n            olive-button-text-replace="{{\'Saving\' | translate }}&hellip;" data-qa="edit_user_save_btn"\n            name="edit-user-save" ds-form-submit="editUser.save()">{{ \'Save\' | translate}}\n    </button>\n    <button class="btn btn-lg btn-minor" data-qa="edit_user_cancel_btn" ng-click="editUser.reset(editUserForm)"\n            ng-disabled="editUserForm.$pristine" translate="Cancel"></button>\n  </div>\n</div>\n<script type="text/ng-template" id="userAddress.address">\n  <div class="form_unit">\n    <label class="label" for="address1" translate="Address 1"></label>\n    <input class="input-text input-md" id="address1" data-qa="edit_user_address1_txb" maxlength="100"\n           ng-model="editUser.info.workAddress.address1" />\n  </div>\n  <div class="form_unit">\n    <label class="label" for="address2" translate="Address 2"></label>\n    <input class="input-text input-md" id="address2" data-qa="edit_user_address2_txb" maxlength="100"\n           ng-model="editUser.info.workAddress.address2" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.city">\n  <div class="form_unit">\n    <label class="label" for="city" translate="City"></label>\n    <input class="input-text input-md" id="city" data-qa="edit_user_city_txb" ng-model="editUser.info.workAddress.city"\n           maxlength="100" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.regionProvince">\n  <div class="form_unit">\n    <label class="label" for="state" translate="{{editUser.stateLabel}}"></label>\n    <input class="input-text input-md" id="state" ng-show="!editUser.showStateList" data-qa="edit_user_state_txb" maxlength="100"\n           ng-model="editUser.info.workAddress.stateOrProvince" />\n\n    <div class="select-wrap input-md" ng-show="editUser.showStateList">\n      <select id="stateList" ng-options="k as v | translate for (k, v) in editUser.states"\n              data-qa="edit_user_state_option" ng-model="editUser.info.workAddress.stateOrProvince">\n        <option value="" translate="{{editUser.stateSelectLabel}}"></option>\n      </select>\n    </div>\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.postalCode">\n  <div class="form_unit">\n    <label class="label" for="postal-code" translate="Postal Code"></label>\n    <input class="input-text input-md" id="postal-code" data-qa="edit_user_postal_code_txb" maxlength="20"\n           ng-model="editUser.info.workAddress.postalCode" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.country">\n  <div class="form_unit">\n    <label class="label" for="userAddress.countries" translate="Country"></label>\n    <div class="select-wrap input-md">\n      <select id="userAddress.countries" ng-options="country.value as country.name for country in editUser.countries"\n              ng-model="editUser.info.workAddress.country" data-qa="edit_user_country_option"\n              ng-change="editUser.changeCountry()">\n        <option value="" translate="Select Country"></option>\n      </select>\n    </div>\n  </div>\n<\/script>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=/custom/i,s=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u,p,m,g,h,f){var v=this;this._$scope=e,this._$state=t,this._$stateParams=n,this._usersService=a,this._rolesService=i,this._dsGroups=s,this._groupService=o,this._oliveMessage=r,this._$q=l,this._appUser=c,this._$translate=d,this._=u,this._userPermissions=p,this._organizationService=m,this._countryStatePicker=g,this._i18nLayer=h,this._editUserCacheService=f,this.loginPolicies={none:"Default",fedauthrequired:"Identity Provider only",fedauthbypass:"Identity Provider or Username / Password"},this.info={};var _=this._userPermissions.canManageOrganizationUsers()?this._organizationService.getOrganizationsByOrgAdmin():this._$q.when([]),b=this._$stateParams.userId;this._.isEmpty(b)&&this._goToUsers(),this._.isEmpty(this._editUserCacheService.activeUser)||b===this._editUserCacheService.activeUser.id||this._editUserCacheService.clearCache();var y={roles:u.isEmpty(this._editUserCacheService.permissionSets)?this._rolesService.all({returnOnlyEditableRoles:!0,includeUserCount:!1,includeAccountManagement:!0}):this._$q.when(this._editUserCacheService.permissionSets),users:this._usersService.by(b),groups:u.isEmpty(this._editUserCacheService.groups)?this._dsGroups.getAllGroupsForAccount():this._$q.when({groups:this._editUserCacheService.groups}),orgAdmins:_};this.countries=this._countryStatePicker.getCountries(),this.addressFormat=this._i18nLayer.getAddressFormat(),this.stateLabel=this._countryStatePicker.getStateLabel(),this.userLoading=this._$q.all(y).then(function(e){var t=e.users;"Active"!==t.userStatus&&(v._oliveMessage.show(v._$translate.instant("The user {{emailAddress}} cannot be edited. User status must be Active for you to edit their information.",{emailAddress:t.email}),"editUserWarning","warning"),v._goToUsers()),v.roles=e.roles,v.userGroupList=t.groupList,v.info.id=t.id,v.info.fullName=t.name,v.info.email=t.email,v.info.role=v._.find(v.roles,function(e){return e.name===t.role}),v.info.jobTitle=t.jobTitle,v.info.company=t.company,v.info.locale=t.locale,v.info.federatedStatus=t.federatedStatus,v.info.groupList=[],v.info.workAddress=t.workAddress,v.changeCountry(),v.groups=v._getCustomGroups(e.groups.groups)||[],v._originalUserInfo=v._.cloneDeep(v.info),v.canManageFederatedStatus=v._canManageFederatedStatus(e.orgAdmins),v.canManageUsers=v._userPermissions.canManageUsers()})}return e.prototype.displayRoles=function(){return this.info.id!==this._appUser.currentAccountInfo.userInformation.userId},e.prototype.changeCountry=function(){this.states=this._countryStatePicker.getStateList(this.info.workAddress.country),this.stateLabel=this._countryStatePicker.getStateLabel(this.info.workAddress.country),this.stateSelectLabel=this._countryStatePicker.getStateSelectLabel(this.info.workAddress.country),this.showStateList=this._countryStatePicker.countryHasEnumeratedRegions(this.info.workAddress.country)},e.prototype.addGroup=function(e){var t=this,n=this._.find(this.groups,function(e){return!t._.find(t.info.groupList,{groupId:e.groupId})});this.info.groupList.push(n),e.$setDirty()},e.prototype.removeGroup=function(e,t){this._.pullAt(this.info.groupList,e),t.$setDirty()},e.prototype.canAddMoreGroups=function(){return this.info.groupList&&this.info.groupList.length>=this.groups.length},e.prototype.displayGroupNames=function(){var e="";return this.userGroupList.forEach(function(t){e+=e.length>0?", ":"",e+=i.test(t.groupType)?t.groupName:this._$translate.instant(t.groupName)}.bind(this)),e},e.prototype.goToGroups=function(e){this.canManageUsers&&(this._dsGroups.activeGroup=e,"everyoneGroup"!==e.groupType&&this._$state.go("authenticated.groups"))},e.prototype.save=function(){var e=this,t=null,n=this._originalUserInfo.fullName!==this.info.fullName;this._$scope.isSaving=!0,this._usersService.save(this.info,n).then(function(n){t=n;var a=function(e){var t=this,n=[];return this.userGroupList.forEach(function(a){(function(e){return i.test(e.groupType)&&!this._.find(this.info.groupList,{groupId:e.groupId})}).call(t,a)&&n.push(t._groupService.removeSingleUser(a,e))}),this.info.groupList.forEach(function(a){t._.find(t.userGroupList,{groupId:a.groupId})||n.push(t._groupService.addSingleUser(a,e))}),n}.call(e,n);return 0===a.length?e._$q.when():e._$q.all(a)}).then(function(){return e._appUser.currentAccountInfo.userInformationRetrieved}).then(function(){e._oliveMessage.show(e._$translate.instant("You successfully updated the user {{name}}.",{name:t.fullName}),"updateUserSuccess","success"),e._goToUsers()}).catch(function(e){var t="",n=this._.get(e,"data.errorCode");t=n&&n===a.PERMISSION_ID_OR_NAME_ERROR_CODE?this._$translate.instant(a.PERMISSION_ID_OR_NAME_ERROR):this._$translate.instant(e.data.message);this._oliveMessage.show(t,"editUserError","alert")}.bind(this)).finally(function(){e._$scope.isSaving=!1})},e.prototype.reset=function(e){this.info=this._.cloneDeep(this._originalUserInfo),e.$setPristine()},e.prototype._goToUsers=function(){this._$state.go("authenticated.users")},e.prototype._getCustomGroups=function(e){return this._.filter(e,function(e){var t=i.test(e.groupType);t&&this._.some(this.userGroupList,{groupId:e.groupId})&&this.info.groupList.push(e);return t}.bind(this))},e.prototype._canManageFederatedStatus=function(e){var t=this,n=[];return e.forEach(function(e){(function(e){return this._.filter(e.reserved_domains,function(e){return"active"===e.status.toLowerCase()&&this._.endsWith(this.info.email.toLowerCase(),e.host_name.toLowerCase())}.bind(this))}).call(t,e).forEach(function(e){n.push(e)})}),!this._.isEmpty(n)&&!this._.isUndefined(this.loginPolicies[this.info.federatedStatus])},e}();a.UsersModule.controller("EditUserController",["$scope","$state","$stateParams","Users","RolesService","dsGroups","GroupService","oliveMessage","$q","appUser","$translate","lodash","userPermissions","OrganizationService","countryStatePicker","dsi18nlayer","EditUserCacheService",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=function(){function e(){}return e.prototype.clearCache=function(){this.activeUser=null,this.permissionSets=null,this.groups=null},e}();t.EditUserCacheService=i,a.UsersModule.service("EditUserCacheService",[i])},function(e,t){var n="user management/users/download-csv.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="modal_title" translate="Download Users"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <p translate="Download data for the current selection of users to a CSV file."></p>\n  <div class="form-group">\n    <div class="cb inline-input">\n      <input class="cb_input" type="checkbox" id="include_user_settings"\n        data-qa="users_download_users_include_user_settings_cb"\n        ng-model="downloadOptions.include_usersettings_for_csv">\n      <label class="cb_label" for="include_user_settings"\n        data-qa="users_download_users_include_user_settings_cb_lbl"\n        translate="Include user permissions"></label>\n    </div>\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <a class="btn btn-lg btn-primary" olive-modal-complete download target="_self"\n    radmin-logging="Users > Download Users (include user permissions? {{downloadOptions.include_usersettings_for_csv ? \'YES\' : \'NO\'}})"\n    data-qa="users_download_users_download_btn"\n    translate="Download" ng-href="{{downloadCsvUri(downloadOptions)}}"> </a>\n  <button class="btn btn-lg btn-minor" olive-modal-escape\n    data-qa="users_download_users_cancel_btn"\n    translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/download-csv-error.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="modal_title" translate="Download Users Error"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <div>\n    <p\n      translate="You can only download [[maxRows]] users at a time. Please use the search and filter functions to limit the list of users, and then try again."\n       translate-interpolation="bracket" translate-values="{maxRows: maxRowsLimit}"></p>\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <button class="btn btn-lg btn-primary" olive-modal-complete\n    data-qa="users_download_users_error_ok_btn"\n    translate="OK"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/confirm-close.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal" ng-controller=\'CloseUserController as closeUser\' ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Close User"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="section" name=\'confirm-close\'\n         translate="Are you sure you want to close this user?">\n    </div>\n    <div class="form_group">\n      <input type="checkbox" class="cb_input" id="remove-from-signing-groups"\n             ng-model="closeUser.removeFromSignatureGroups">\n      <label class="cb_label" translate="Remove user from all signing groups"\n             for="remove-from-signing-groups"></label>\n    </div>\n  </div>\n  <div class=\'modal_footer\' olive-modal-footer>\n    <button class=\'btn btn-lg btn-primary\' ds-form-submit=\'closeUser.close()\'\n      data-qa="user_confirm_close_confirm_btn" translate="DS_CONTEXT=(user) Close">\n    </button>\n\n    <button class=\'btn btn-lg btn-minor\' olive-modal-escape\n      data-qa="user_confirm_close_cancel_btn" translate="Cancel">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/users/confirm-access-code.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ds-form>\n\n  <div class='header'>\n    <h1 translate=\"Access Code\"></h1>\n  </div>\n\n  <div class='content confirm-access-code'>\n    <p translate=\"You will need to communicate the following access code with the user so they can activate their account.\">     \n    </p>\n\n    <h3 translate=\"Code: [[ accessCode ]]\" translate-interpolation=\"bracket\" translate-values=\"{ accessCode: info.accessCode }\"></h3>\n  </div>\n\n  <div class='footer'>\n    <button class='btn btn-xl btn-primary' name='confirm-access-code' ds-form-submit='create()' translate=\"OK\"></button>\n    <button class='btn btn-xl btn-minor' ng-click='cancel()' translate=\"Cancel\"></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=n(84),s=function(){function e(e,t,n,a,i){this._$scope=e,this._oliveMessage=t,this._oliveModal=n,this._appUser=a,this._$translate=i,this.removeFromSignatureGroups=!1}return e.prototype.close=function(){var e=this,t=this._$scope.activeUser;t.close(this.removeFromSignatureGroups).then(function(){e._appUser.refreshAccountInformation(),e._oliveMessage.show(e._$translate.instant("The user {{email}} has been closed.",{email:t.email}),"closeUserSuccess","success"),e._$scope.$emit(i.USER_UPDATED_EVENT,t)}).catch(function(){e._oliveMessage.show(e._$translate.instant("Your request to close {{email}} could not be fulfilled.",{email:t.email}),"closeUserError","error")}).finally(this._oliveModal.closeAllModals)},e}();a.UsersModule.controller("CloseUserController",["$scope","oliveMessage","oliveModal","appUser","$translate",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14).UsersModule.factory("Billing",["appUser","dsBilling","UserPricingPlanModel","$q","lodash",function(e,t,n,a,i){return{userPricing:function(){return a.all([e.currentAccountInfo.informationRetrieved,t.seatUsageSummary(e.getCurrentAccountId())]).then(function(t){var a=e.currentAccountInfo.information,s={};return i.isEmpty(t[1])||(s=t[1].billingChargeItems[0]),n(a,s)})}}}])},function(e,t){var n="user management/users/add-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="multiStepWrapper" ng-controller="AddUserController as user" user-usage-notifier>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.users" translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" ng-if="!user.existingUser " translate="Add user"></span>\n        <span class="crumbs_item" ng-if="user.existingUser" translate="Reactivate User"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section-header">\n    <h1 class="header-title"\n        ng-if="!user.existingUser"\n        data-qa="add_user_header"\n        translate="Add User"></h1>\n    <h1 class="header-title"\n        ng-if="user.existingUser"\n        translate="Reactivate User"></h1>\n  </div>\n  <div class="multiStep">\n    <div class="multiStep_section" ds-form ng-class="{\'multiStep_section-isOpen\':user.step === 1,\n          \'multiStep_section-isComplete\': user.step > 1,\n          \'multiStep_section-isClosed\': user.step < 1}">\n      <span class="multiStep_order" data-multistep="1"></span>\n      <span class="multiStep_summary" ng-click="user.step = 1" data-qa="add_user_step_summary_1">\n        <strong translate="Email:"></strong>&nbsp;{{ user.email }}\n      </span>\n      <h2 class="multiStep_title" data-qa="add_user_enter_email_title" translate="Enter Email Address"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit">\n          <label for="textInput_helper" class="label" translate="Email Address" label-required="*"></label>\n          <input id="textInput_helper" type="text" class="input-text input-sm"\n                 aria-describedby="textInput_helper-description" ng-model="user.email" ds-valid="email" required />\n          <p ng-show="user.emailError" class="helper-text error-msg" id="textInput-error-description"\n             translate="Valid email address is required."></p>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary" ds-form-submit="user.nextStep()"\n                  ng-class="{\'btn-loading\': user.isSearchingUser}" ng-disabled="user.isSearchingUser"\n                  data-qa="add_user_step1_next_btn">\n            <span ng-if="user.isSearchingUser"><span translate="Checking Email"></span>&hellip;</span>\n            <span ng-if="!user.isSearchingUser" translate="Next"></span>\n          </button>\n          <button type="button" class="btn btn-lg btn-minor" ng-click="user.cancel()"\n                  data-qa="add_user_step1_cancel_btn" translate="Cancel"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section" ds-form ng-class="{\'multiStep_section-isOpen\':user.step === 2,\n           \'multiStep_section-isComplete\': user.step > 2,\n           \'multiStep_section-isClosed\': user.step < 2}">\n      <span class="multiStep_order" data-multistep="2"></span>\n      <span class="multiStep_summary" ng-click="user.step = 2" data-qa="add_user_step_summary_2">\n        <strong translate="Profile Information:"></strong>\n        <span>{{user.fullName}}{{user.displayLanguageName(user.language.englishLanguageName)}}</span>\n      </span>\n      <h2 class="multiStep_title" data-qa="add_user_profile_info_title" translate="Profile Information"></h2>\n      <div class="multiStep_content">\n        <div class="fgrid fgrid-lg">\n          <div class="fgrid_cell fgrid_cell-1-3">\n            <div class="form_unit">\n              <label for="textInput_FullName" class="label" translate="Full Name" label-required="*"></label>\n              <input id="textInput_FullName" ng-disabled="user.existingUser" type="text" class="input-text" aria-describedby="fullName"\n                     ng-model="user.fullName" ds-valid required />\n              <p class="helper-text error-msg" translate="Full name is required." ng-show="user.nameError"></p>\n            </div>\n            <div class="form_unit">\n                <label for="textInput_job_title" class="label" translate="Job Title"></label>\n                <input id="textInput_job_title" type="text" class="input-text" aria-describedby="jobTitle"\n                     ng-model="user.jobTitle">\n            </div>\n            <div class="form_unit">\n              <label for="textInput_job_company" class="label" translate="Company"></label>\n              <input id="textInput_job_company" type="text" class="input-text" aria-describedby="company"\n                     ng-model="user.company">\n            </div>\n            <div class="form_unit">\n              <label for="userLocale" class="label" translate="Language" label-required="*"></label>\n              <div class="select-wrap">\n                <select id="userLocale" ng-model="user.language" ds-valid required\n                  ng-options="locale as locale.englishLanguageName | translate for locale in user.locales">\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class="fgrid_cell fgrid_cell-1-3">\n            <div ng-switch on="user.addressFormat">\n              <div ng-switch-when="ja_jp">\n                <div ng-include="\'userAddress.postalCode\'"></div>\n                <div ng-include="\'userAddress.regionProvince\'"></div>\n                <div ng-include="\'userAddress.city\'"></div>\n                <div ng-include="\'userAddress.address\'"></div>\n                <div ng-include="\'userAddress.country\'"></div>\n              </div>\n              <div ng-switch-default>\n                <div ng-include="\'userAddress.address\'"></div>\n                <div ng-include="\'userAddress.city\'"></div>\n                <div ng-include="\'userAddress.country\'"></div>\n                <div ng-include="\'userAddress.regionProvince\'"></div>\n                <div ng-include="\'userAddress.postalCode\'"></div>\n              </div>\n            </div>\n            <div class="form_unit">\n              <label class="label" for="phone" translate="Phone"></label>\n              <input class="input-text input-md" id="phone" ng-model="user.userAddress.phone" data-qa="add_user_phone"\n                     maxlength="20" />\n            </div>\n          </div>\n        </div>\n\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary" ds-form-submit="user.nextStep()"\n                  data-qa="add_user_step2_next_btn" translate="Next"></button>\n          <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step2_back_btn" translate="Back"\n                  ng-click="user.goBack()"></button>\n          <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step2_cancel_btn" translate="Cancel"\n                  ng-click="user.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section" ds-form ng-class="{\'multiStep_section-isOpen\':user.step === 3,\n           \'multiStep_section-isComplete\': user.step > 3,\n           \'multiStep_section-isClosed\': user.step < 3}">\n      <span class="multiStep_order" data-multistep="3"></span>\n      <span class="multiStep_summary" ng-click="user.step = 3">\n        <strong translate="Security:"></strong>&nbsp;\n        <span>{{ user.securitySummaryMessage() }}</span>\n      </span>\n      <h2 class="multiStep_title" data-qa="add_user_security_title" translate="Security"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit" ng-if="!user.canManageOrganization">\n          <blockquote class="highlight highlight-attention"\n                      translate="For additional security, add an access code to the activation process and communicate the code to the user. The user must provide the code to activate the account membership."></blockquote>\n          <label for="textInput_accessCode" class="label" translate="Access Code"></label>\n          <input id="textInput_accessCode" type="text" class="input-text input-sm" aria-describedby="accessCode"\n                 ng-model="user.accessCode" maxlength="50" ds-valid="regex" ds-valid-regex="user.accessCodePattern" />\n        </div>\n        <div class="form_unit" ng-if="user.canManageOrganization">\n          <blockquote class="highlight highlight-attention" ng-if="user.domainPolicy.length">\n            {{ user.domainPolicy | translate }}\n          </blockquote>\n          <blockquote class="highlight highlight-attention" ng-if="user.differentPolicy()"\n                      translate="Warning! You are creating an exception to a domain wide policy. This should probably only be used for advanced administrators in the organization."></blockquote>\n          <label for="loginPolicies" class="label" translate="Login Policy" label-required="*"></label>\n          <div class="select-wrap input-md">\n            <select id="loginPolicies" ds-valid required\n                    ng-options="policyKey as policyName | translate for (policyKey, policyName) in user.loginPolicies"\n                    ng-model="user.federatedStatus"> </select>\n          </div>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary" ds-form-submit="user.nextStep()"\n                  data-qa="add_user_step3_next_btn" translate="Next"></button>\n          <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step3_back_btn" translate="Back"\n                  ng-click="user.goBack()"></button>\n          <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step3_cancel_btn" translate="Cancel"\n                  ng-click="user.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section" ds-form ng-class="{\'multiStep_section-isOpen\':user.step === 4,\n           \'multiStep_section-isComplete\': user.step > 4,\n           \'multiStep_section-isClosed\': user.step < 4}">\n      <span class="multiStep_order" data-multistep="4"></span>\n      <span class="multiStep_summary" ng-click="user.step = 4">\n          <strong translate="Permission Set and Groups:"></strong>&nbsp;{{ user.permissionSet.name }}</span>\n\n      <h2 class="multiStep_title" data-qa="add_user_perm_group_title" translate="Permission Set and Groups"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit">\n          <label class="label" for="user-role" label-required="*" translate="Permission Set"></label>\n          <div class="select-wrap input-md">\n            <select id="user-role" ng-model="user.selectedRole" ds-valid required\n                    ng-options="role as role.name | translate for role in user.roles" data-qa="add_user_ps_selector">\n              <option value="" translate="Select Permission Set"></option>\n            </select>\n          </div>\n        </div>\n        <div class="form_unit">\n          <label class="label" translate="Groups"></label>\n          <span class="m-left-x-small" ng-if="user.groups.length">\n            <a ng-click="user.showGroupModal()" translate="Edit"></a>\n          </span>\n          <div ng-if="!user.groupLoaded || user.originalGroups.length">\n            <div ng-if="!user.groups.length">\n              <button class="btn btn-secondary btn-md"\n                      ng-disabled=\'!user.groupLoaded\'\n                      ng-class="{\'btn-loading\': !user.groupLoaded}"\n                      ng-click="user.showGroupModal()"\n                      data-qa=" add_user_assign_group_btn">\n                <span ng-if="!user.originalGroups.length"><span translate="loading"></span>&hellip;</span>\n                <span translate="Assign Groups" ng-if="user.originalGroups.length"></span>\n              </button>\n            </div>\n            <div ng-if="user.groups.length">{{ user.getGroupNames() }}</div>\n          </div>\n          <div ng-if="user.groupLoaded && !user.originalGroups.length">\n            <span class="text-muted" translate="Note: There are no groups available to assign."></span>\n          </div>\n        </div>\n      </div>\n      <div class="multiStep_footer">\n        <button type="submit" class="btn btn-lg btn-primary" ng-class="{\'btn-loading\': user.saving}"\n                ng-disabled="user.checkRequirements() || user.saving" ds-form-submit="user.processUser()"\n                data-qa="add_user_step4_add_btn">\n          <span ng-if="!user.saving && !user.existingUser" translate="Add User"></span>\n          <span ng-if="!user.saving && user.existingUser" translate="Reactivate User"></span>\n          <span ng-if="user.saving"><span translate="Saving"></span>&hellip;</span>\n        </button>\n        <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step4_back_btn" translate="Back"\n                ng-click="user.goBack()"></button>\n        <button type="button" class="btn btn-lg btn-minor" data-qa="add_user_step4_cancel_btn" translate="Cancel"\n                ng-click="user.cancel()"></button>\n      </div>\n    </div>\n  </div>\n  <div ds-loading="user.loading" ds-loading-succeeded="loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your account. Go ahead and try that again.\' | translate}}"></div>\n</div>\n<script type="text/ng-template" id="userAddress.address">\n  <div class="form_unit">\n    <label class="label" for="address1" translate="Address 1"></label>\n    <input class="input-text input-md" id="address1" data-qa="add_user_address1_txb" maxlength="100"\n           ng-model="user.userAddress.address1" />\n  </div>\n  <div class="form_unit">\n    <label class="label" for="address2" translate="Address 2"></label>\n    <input class="input-text input-md" id="address2" data-qa="add_user_address2_txb" maxlength="100"\n           ng-model="user.userAddress.address2" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.city">\n  <div class="form_unit">\n    <label class="label" for="city" translate="City"></label>\n    <input class="input-text input-md" id="city" data-qa="add_user_city_txb" maxlength="100"\n           ng-model="user.userAddress.city" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.regionProvince">\n  <div class="form_unit">\n    <label class="label" for="state" translate="{{user.stateLabel}}"></label>\n    <input class="input-text input-md" id="state" ng-show="!user.showStateList" data-qa="add_user_state_txb"\n           maxlength="100" ng-model="user.userAddress.stateOrProvince" />\n\n    <div class="select-wrap input-md" ng-show="user.showStateList">\n      <select id="stateList" ng-options="k as v | translate for (k, v) in user.states" data-qa="add_user_state_option"\n              ng-model="user.userAddress.stateOrProvince">\n        <option value="" translate="{{user.stateSelectLabel}}"></option>\n      </select>\n    </div>\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.postalCode">\n  <div class="form_unit">\n    <label class="label" for="postal-code" translate="Postal Code"></label>\n    <input class="input-text input-md" id="postal-code" data-qa="add_user_postal_code_txb" maxlength="20"\n           ng-model="user.userAddress.postalCode" />\n  </div>\n<\/script>\n<script type="text/ng-template" id="userAddress.country">\n  <div class="form_unit">\n    <label class="label" for="user.userAddress.country" translate="Country"></label>\n    <div class="select-wrap input-md">\n      <select id="user.userAddress.country" ng-options="country.value as country.name for country in user.countries"\n              ng-model="user.userAddress.country" data-qa="add_user_country_option" ng-change="user.changeCountry()">\n        <option value="" translate="Select Country"></option>\n      </select>\n    </div>\n  </div>\n<\/script>\n')}]),e.exports=n},function(e,t){var n="user management/users/add-user-groups.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddUserGroupsController as addGroups">\n  <div class="modal_header">\n    <h1 class="modal_title" translate="Assign Groups"></h1>\n  </div>\n  <div class="modal_content">\n    <div ng-if="loaded">\n      <div ng-if="addGroups.list.length > 0">\n        <h4 class="m-bottom-medium" translate="Join Groups"></h4>\n        <div class="form_unit" ng-repeat="(i, group) in addGroups.selectedGroups track by $index">\n          <div class="form_group">\n            <div class="form_item">\n              <div class="select-wrap">\n                <select id="groupList_{i}" ng-model="addGroups.selectedGroups[i]"\n                        ng-options="g as g.groupName for g in addGroups.list"\n                        data-qa="assign_groups_options"> </select>\n              </div>\n            </div>\n            <div class="form_addon">\n              <span class="icon icon-times u-cursor-pointer" ng-click="addGroups.removeGroup(i)"></span>\n            </div>\n          </div>\n        </div>\n        <div ng-disabled="addGroups.canAddMoreGroups()" class="btn btn-lg btn-dashed btn-block btn-add-recipient"\n             ng-click="addGroups.addGroup()"\n             data-qa="assign_groups_add_group_btn">\n          <span class="icon icon-plus"></span>\n          <span translate="Add Group"></span>\n        </div>\n      </div>\n      <div ng-if="!addGroups.list.length" class="text-muted" translate="Note: There are no groups available"></div>\n    </div>\n    <div class="text-center">\n      <div ds-loading-succeeded="loaded" ds-loading="addGroups.loading"\n           ds-progress-message="{{\'Loading...\' | translate}}"></div>\n    </div>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete\n            ng-disabled="!addGroups.list.length"\n            ng-click="addGroups.add()"\n            data-qa="assign_groups_add_btn">{{ addGroups.saveButtonText}}\n    </button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="assign_groups_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=/custom/i,s="Add",o="Update",r=function(){function e(e,t,n,a,i){this._$scope=e,this.dsGroups=t,this._$translate=n,this._=a,this._$q=i,this.list=[],this.selectedGroups=[],this.originalGroups=[];var r=this._$scope.groups&&0===this._$scope.groups.length?s:o;this.saveButtonText=this._$translate.instant(r),this.originalGroups=this._$scope.originalGroups,this.loading=this._initGroups()}return e.prototype.addGroup=function(){var e=this,t=this._.find(this.list,function(t){return!e._.find(e.selectedGroups,{groupId:t.groupId})});this.selectedGroups.push(t)},e.prototype.removeGroup=function(e){this._.pullAt(this.selectedGroups,e)},e.prototype.add=function(){this._$scope.updateGroups&&this._$scope.updateGroups(this.selectedGroups)},e.prototype.canAddMoreGroups=function(){return this.selectedGroups.length>=this.list.length},e.prototype._initGroups=function(){var e={groups:this._.isEmpty(this.originalGroups)?[]:this.originalGroups};return(e.groups.length?this._$q.when(e):this.dsGroups.getAllGroupsForAccount()).then(function(e,t){t.groups.length?this.list=t.groups:this._.forEach(e.groups,function(e){i.test(e.groupType)&&this.list.push({groupName:e.groupName,groupId:e.groupId,groupType:e.groupType})}.bind(this));(function(){this.selectedGroups=this._.map(this._$scope.groups,function(e){return this._.find(this.list,{groupId:e.groupId})}.bind(this))}).call(this)}.bind(this,e))},e}();a.UsersModule.controller("AddUserGroupsController",["$scope","dsGroups","$translate","lodash","$q",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14).UsersModule.factory("Accounts",["dsAccount","appUser",function(e,t){return{by:function(e){return t.currentAccountInfo.informationRetrieved.then(function(){return function(e){return{isTrial:function(){return"free_trial"===e.paymentMethod}}}(t.currentAccountInfo.information)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(74).SigningGroupsModule.factory("SigningGroupService",["appUser","dsSigningGroups","$q","lodash",function(e,t,n,a){function i(e){return{signingGroupId:e.signingGroupId,groupName:e.groupName,users:e.members,groupType:e.groupType,groupEmail:e.groupEmail}}function s(a){return t.update(e.getCurrentAccountId(),i(a)).then(function(e){return e.errorDetails?n.reject(e.errorDetails):e})}function o(a,i){return t.removeUsers(e.getCurrentAccountId(),a.signingGroupId,i).then(function(e){return e&&e.errorDetails?n.reject(e.errorDetails):e})}return{sharedGroupCode:"sharedSigningGroup",maximumSigningGroups:e.currentAccountInfo.settings&&e.currentAccountInfo.settings.maximumSigningGroups||0,maximumUsersPerSigningGroup:e.currentAccountInfo.settings&&e.currentAccountInfo.settings.maximumUsersPerSigningGroup||0,add:function(a){return t.create(e.getCurrentAccountId(),i(a)).then(function(e){var t=e.groups[0];return t.errorDetails?n.reject(t.errorDetails):t})},removeUsers:o,updateGroup:s,save:function(e,t){return a.isEmpty(t)?s(e):o(e,t).then(function(){return s(e)})},delete:function(n){return t.delete(e.getCurrentAccountId(),n)}}}])},function(e,t){var n="user management/signing-groups/signing-group-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main user-management"\n    ng-controller="SigningGroupListController as signingGroups">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Signing Groups"></h1>\n      </div>\n\n      <div class="col-1-5 pagination">\n        <div class=\'form_item form_item-iconLeft form_item-iconRight\'>\n          <span class=\'icon icon-search\'></span>\n          <input type=\'text\'\n            class=\'input-text search\' maxlength="100"\n            ng-model=\'signingGroups.search.pendingPhrase\'\n            ng-keyup="signingGroups.submitSearchPhrase($event)"\n            data-qa="signing_groups_search_txtb"\n            translate translate-attr-placeholder=\'Search\'>\n          <button type="button" class="button-icon"\n            ng-if="signingGroups.search.phrase">\n            <span class="icon icon-circle-x"\n              ng-click="signingGroups.resetSearch()">\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class="grid action-row">\n      <div class="col-1-5">\n        <button class=\'btn btn-secondary btn-md\'\n          ng-click=\'signingGroups.addSigningGroup()\'\n          ds-size=\'lg\' data-qa="signing_groups_add_signing_group_btn"\n          translate="Add Signing Group">\n        </button>\n      </div>\n\n      <div class="col-1-5 pagination">\n        <paging-controls list-name="signingGroups.getListType() | translate"\n          page="signingGroups.page"\n          page-controls="signingGroups.pageControls">\n        </paging-controls>\n      </div>\n    </div>\n  </div>\n\n  <table class=\'mgnt-list list-tbl mtbl\'>\n    <thead>\n      <tr>\n        <th name="groupName" translate="Name"></th>\n        <th name="users" translate="Users"></th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n\n    <tbody ng-if="successfullyLoaded">\n      <tr ng-repeat="group in signingGroups.list" class="clickable">\n        <td data-title="name" ng-click="signingGroups.editSigningGroup(group)"\n            data-qa="signing_groups_group_name_td">\n          {{group.groupName}}\n        </td>\n\n        <td ng-click="signingGroups.editSigningGroup(group)">\n          <div ng-switch="group.users && group.users.length > 0">\n            <span ng-switch-when="true"\n                olive-tooltip="userstooltip-{{group.signingGroupId}}"\n                olive-tooltip-position="after middle"\n                olive-tooltip-event="hover">\n              {{group.users.length}}\n            </span>\n            <span ng-switch-default="false">0</span>\n          </div>\n\n          <div id="userstooltip-{{group.signingGroupId}}" class="tooltip normal tip invisible">\n            <div class="tooltip-header"\n              translate="[[groupName]] Users"\n              translate-interpolation="bracket"\n              translate-values="{groupName: group.groupName}">\n            </div>\n\n            <div class="tooltip-content">\n              <div ng-repeat="user in group.users">{{user.email}}</div>\n            </div>\n          </div>\n        </td>\n\n        <td class="column-min" data-title=\'Actions\'>\n          <button type=\'button\'\n            class=\'btn btn-secondary btn-trigger\'\n            olive-menu=\'groupActions-{{group.signingGroupId}}\'\n            data-qa="signing_groups_actions_btn" translate="Actions">\n          </button>\n\n          <div id=\'groupActions-{{group.signingGroupId}}\' class=\'menu invisible\'>\n            <ul>\n              <li>\n                <a class=\'item\'\n                  ng-click=\'signingGroups.editSigningGroup(group)\'\n                  data-qa="signing_groups_actions_edit_li" translate="Edit"></a>\n              </li>\n              <li>\n                <a class=\'item\'\n                  ng-click=\'signingGroups.copySigningGroup(group)\'\n                  data-qa="signing_groups_actions_copy_li" translate="Copy"></a>\n              </li>\n              <li>\n                <a class=\'item\'\n                  ng-click="signingGroups.deleteSigningGroup(group)"\n                  data-qa="signing_groups_actions_delete_li" translate="DS_CONTEXT=(signing group) Delete"></a>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState"\n      ng-if="successfullyLoaded && signingGroups.list.length == 0 && signingGroups.search.phrase.length > 0">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p translate="The selected search query \'[[phrase]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{phrase: signingGroups.search.phrase}">\n    </div>\n  </div>\n\n  <div ds-loading="signingGroups.loaded"\n    ds-loading-succeeded="successfullyLoaded"\n    ds-loading-error="{{\'Oops! We had trouble loading your signing groups. Go ahead and try that again.\' | translate}}">\n  </div>\n\n  <div class="section">\n    <div class="grid action-row" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="signingGroups.page"\n          page-controls="signingGroups.pageControls">\n        </paging-controls>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),s=n(74),o=n(3);t.SIGNING_GROUPS="signing groups";var r=function(e){function n(n,a,i,s,r,l,c,d,u,p){var m=e.call(this,u,p)||this;return m.$scope=n,m.$translate=a,m.signingGroups=i,m.notifier=s,m.modal=r,m.SigningGroupService=l,m.appUser=c,m.$filter=d,m.$q=u,m._=p,m.getListType=function(){return t.SIGNING_GROUPS},m.editSigningGroup=function(e){m.$scope.activeSigningGroup=e,m.$scope.activeSigningGroupList=m._.cloneDeep(m.originalList),m.$scope.state="Edit",m.$scope.modalConfirmText="Save",m.$scope.modalTitle="Edit Signing Group",m.modal.openModal("user management/signing-groups/add-edit-signing-group.html",m.$scope,"xl",!1,!0)},m.deleteSigningGroup=function(e){m.$scope.activeSigningGroup=e,m.modal.openModal("user management/signing-groups/delete-signing-group-modal.html",m.$scope,"",!1,!1)},m.addSigningGroup=function(){var e=m.groupCountForActiveType();m.SigningGroupService.maximumSigningGroups>0&&e>=m.SigningGroupService.maximumSigningGroups?m.notifier.show({msg:m.$translate.instant("A maximum of {{max}} signing groups is allowed.",{max:m.SigningGroupService.maximumSigningGroups}),type:"alert",modal:!0}):(m.$scope.state="Add",m.$scope.modalConfirmText="Add",m.$scope.modalTitle="Add Signing Group",m.$scope.activeSigningGroup=null,m.$scope.activeSigningGroupList=m._.cloneDeep(m.originalList),m.modal.openModal("user management/signing-groups/add-edit-signing-group.html",m.$scope,"xl",!1,!1))},m.groupCountForActiveType=function(){return m._.filter(m.list,{groupType:m.SigningGroupService.sharedGroupCode}).length},m.copySigningGroup=function(e){var t=m.groupCountForActiveType();m.SigningGroupService.maximumSigningGroups>0&&t>=m.SigningGroupService.maximumSigningGroups?m.notifier.show({msg:m.$translate.instant("A maximum of {{max}} signing groups is allowed.",{max:m.SigningGroupService.maximumSigningGroups}),type:"alert",modal:!0}):(m.$scope.state="Copy",m.$scope.activeSigningGroup=e,m.$scope.activeSigningGroupList=m._.cloneDeep(m.originalList),m.$scope.modalConfirmText="Save",m.$scope.modalTitle="Copy Signing Group",m.modal.openModal("user management/signing-groups/add-edit-signing-group.html",m.$scope,"xl",!1,!1))},m.signingGroupDeleted=function(e){e.stopPropagation();var t=m.page.startPosition===m.page.endPosition&&m.page.endPosition>=m.page.totalSetSize-1&&m.page.totalSetSize>o.PAGE_SIZE?m.page.startPosition-o.PAGE_SIZE:m.page.startPosition;m.loadList(),t>=o.PAGE_SIZE&&m.loaded.then(function(){m.getPage({count:o.PAGE_SIZE,start_position:t})})},m.signingGroupAdded=function(e){e.stopPropagation();var t=m.page.startPosition;m.loadList(),t>=o.PAGE_SIZE&&m.loaded.then(function(){m.getPage({count:o.PAGE_SIZE,start_position:t})})},m.signingGroupUpdated=function(e){e.stopPropagation();var t=m.page.startPosition;m.loadList(),t>=o.PAGE_SIZE&&m.loaded.then(function(){m.getPage({count:o.PAGE_SIZE,start_position:t})})},n.$on("SigningGroupDeleted",m.signingGroupDeleted),n.$on("SigningGroupAdded",m.signingGroupAdded),n.$on("SigningGroupUpdated",m.signingGroupUpdated),m.loadList(),m}return a(n,e),n.prototype.setLoadList=function(){var e=this;return function(){return e.loaded=e.signingGroups.getAllGroupsForUser(e.appUser.currentAccount.accountId).then(function(t){e.originalList=t,e.loaded=e.getPage(o.FIRST_PAGE)})}},n.prototype.setFilterList=function(){var e=this;return function(t){var n=e.getSearchOptions();return e.$filter("filter")(t,function(t){return e._.isEmpty(n.search_text)||e._.includes(t.groupName.toLowerCase(),n.search_text.toLowerCase())})}},n}(i.SearchableClientPagingController);s.SigningGroupsModule.controller("SigningGroupListController",["$scope","$translate","dsSigningGroups","dsNotification","dsModals","SigningGroupService","appUser","$filter","$q","lodash",r])},function(e,t){var n="user management/signing-groups/delete-signing-group-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="header">\n  <h1 translate="Delete Signing Group"></h1>\n</div>\n\n<div class="content" translate="Are you sure you want to delete this signing group?">\n</div>\n\n<div class="footer" ng-controller="DeleteSigningGroupController">\n  <button type="submit" class="btn btn-lg btn-primary" ng-click="delete()" \n    data-qa="delete_signing_group_delete_btn" translate="DS_CONTEXT=(signing group) Delete">\n  </button>\n\n  <button type="button" class="btn btn-lg btn-minor" ds-close-modal\n    data-qa="delete_signing_group_cancel_btn" translate="Cancel">\n  </button>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(74).SigningGroupsModule.controller("DeleteSigningGroupController",["$scope","$translate","SigningGroupService","dsModals","dsNotification",function(e,t,n,a,i){e.delete=function(){var s={groupName:e.activeSigningGroup.groupName},o={msg:t.instant("You successfully removed the group {{groupName}}",s),type:"success",modal:!1};n.delete(e.activeSigningGroup).then(function(){e.$emit("SigningGroupDeleted",e.activeSigningGroup),a.closeModal()},function(){o.type="alert",o.msg=t.instant("This group could not be removed. Try again in a moment."),o.modal=!0}).finally(function(){i.show(o)})}}])},function(e,t){var n="user management/signing-groups/add-user-manually-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h2 translate="Add User Manually"></h2>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="form-group">\n      <label for="input-name" class="label" translate="Name" label-required="*"></label>\n      <input type="text" ng-model="manualUser.name" class="input-text" maxlength="100"\n             translate translate-attr-title="Please enter user\'s name" ds-valid required\n             id="input-name" data-qa="add_user_manually_signing_group_name_txtb">\n    </div>\n    <div class="form-group">\n      <label for="input-email" class="label" translate="Email" label-required="*"></label>\n      <input type="email" class="input-text" ng-model="manualUser.email" maxlength="100" required ds-valid="email"\n             translate translate-attr-title="Please enter user\'s email"\n             id="input-email" data-qa="add_user_manually_signing_group_email_txtb">\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-primary btn-lg" olive-modal-complete ds-form-submit="addUser(manualUser)"\n            data-qa="add_user_manually_signing_group_add_btn" translate="Add"></button>\n    <button class="btn btn-minor btn-lg" olive-modal-escape\n            data-qa="add_user_manually_signing_group_cancel_btn" translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="user management/signing-groups/add-edit-signing-group.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddEditSigningGroupController">\n  <div ds-form>\n    <div class="modal_header">\n      <h1 class="modal_title" translate="{{ modalTitle }}"></h1>\n    </div>\n\n    <div class="modal_content">\n\n      <div class="form_unit">\n        <label for="info.groupName"\n               class="label" label-required="*" translate="Signing Group Name"></label>\n        <input name="groupName" type="text" class="input-text"\n               ng-model="info.groupName"\n               id="info.groupName"\n               ng-maxlength="100" ds-valid required\n               translate translate-attr-title="Please enter signing group name"\n               data-qa="add_edit_signing_group_group_name_txtb">\n      </div>\n      <div class="form_unit" ng-if="info.signingGroupId">\n        <label for="signingGroupId" class="label disabled" translate="Signing Group ID"></label>\n        <input name="signingGroupId" type="text" class="input-text disabled"\n               id="signingGroupId"\n               ng-model="info.signingGroupId">\n      </div>\n      <div class="tooltip invisible" id="addUserManuallyTooltip">\n        <div class="tooltip-content" translate="Add users that are not part of this DocuSign account."></div>\n      </div>\n      <button class="btn btn-secondary" translate="Add User Manually"\n        olive-tooltip="addUserManuallyTooltip"\n        olive-tooltip-position="after middle"\n        olive-tooltip-event="hover"\n        data-qa="add_edit_signing_group_add_user_manually_btn"\n        ng-disabled="!accumulatorOptions.isAddEnabled || accumulatorOptions.selectedSearchPhrase.length"\n        ng-click="addUsersManually()">\n      </button>\n\n      <accumulator accumulator-options="accumulatorOptions"></accumulator>\n\n      <div class="fgrid" ng-if="maxUsers && maxUsers > 0">\n        <div class="fgrid_cell"></div>\n        <div class="fgrid_cell fgrid_cell-auto" translate="A signing group can have up to [[maxUsers]] users."\n          translate-values="{ maxUsers : maxUsers }" translate-interpolation="bracket"></div>\n      </div>\n      <div class="form-group inline-input cb">\n        <input type="checkbox" class="cb_input" id="use-group-email" ng-model="info.useGroupEmail"\n               ng-change="didUpdateUseGroupEmail()">\n        <label class="cb_label" for="use-group-email"\n               translate="Use an alternate email address for notifications sent to this signing group"></label>\n        <div class="inline-input">\n          <p translate="Notification emails for the signing group will be sent only to this email address. Only those members who are in the signing group can view and act on the documents."></p>\n          <div class="col-1-3" ng-if="info.useGroupEmail">\n            <label class="label" for="group-email" translate="Email Address" label-required="*"></label>\n            <input type="text" class="input-text input-md" ng-model="info.groupEmail" id="group-email"\n                   ds-valid="function" ds-valid-function="isGroupEmailValid">\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="modal_footer">\n      <button class=\'btn btn-lg btn-primary\' name=\'add-edit-signinggroup-submit\'\n        data-qa="add_edit_signing_group_add_save_btn"\n        ds-form-submit=\'saveAction()\'\n        translate="{{modalConfirmText}}">\n      </button>\n\n      <button class=\'btn btn-lg btn-minor\' ng-click=\'cancel()\' data-qa="add_edit_signing_group_cancel_btn"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(74).SigningGroupsModule.controller("AddEditSigningGroupController",["$scope","$translate","dsModals","dsNotification","SigningGroupService","Users","lodash","$filter","oliveModal","dsUtilities",function(e,t,n,a,i,s,o,r,l,c){var d="name",u="email",p=[],m=[];e.maxUsers=i.maximumUsersPerSigningGroup,e.accumulatorOptions={totalItemsInAccount:0,pageSize:100,itemTypeSingular:"User",itemTypePlural:"Users",updateLists:function(e,t){"add"===e?y(t):"remove"===e&&(p.push(t),o.isEmpty(m)||o.remove(m,t)),b()},showAddAll:!1,showRemoveAll:!0,maximumShowingLimit:200,availableList:[],totalAvailable:0,availableSearchPhrase:"",availableSearchTotalSet:0,availableLoading:null,hideAvailable:!1,availableMultipleSearchTypes:!0,availableSearchType:d,isAddEnabled:!1,selectedList:[],totalSelected:0,selectedSearchPhrase:"",selectedLoading:null,hideSelected:!1,selectedMultipleSearchTypes:!0,selectedSearchType:d,isRemoveEnabled:!0};var g={status:"active,activationsent,activationrequired",start_position:0,count:100};function h(){o.isEmpty(m)||(e.accumulatorOptions.selectedList=o.cloneDeep(m),m=[])}function f(e){return{name:e.userName,email:e.email}}function v(e){return{userName:e.name,email:e.email}}function _(n){e.accumulatorOptions.availableLoading=s.getPage(g).then(function(a){if(a.page&&(e.accumulatorOptions.totalItemsInAccount=a.page.totalSetSize),e.accumulatorOptions.availableList=a.users,e.activeSigningGroup&&!0===n){var i=e.activeSigningGroup.groupName;"Copy"===e.state?i=t.instant("Copy of {{group}}",{group:i}):"Edit"===e.state&&(o.remove(e.activeSigningGroupList,function(t){return t.groupName===e.activeSigningGroup.groupName}),e.info.signingGroupId=e.activeSigningGroup.signingGroupId),e.accumulatorOptions.selectedList=o.map(o.cloneDeep(e.activeSigningGroup.users),f),o.isEmpty(e.activeSigningGroup.users)||(e.accumulatorOptions.totalSelected=e.activeSigningGroup.users.length),e.info.groupName=i,e.info.groupEmail=e.activeSigningGroup.groupEmail,e.info.useGroupEmail=!o.isEmpty(e.info.groupEmail),e.info.groupID=e.activeSigningGroup.signingGroupId}e.accumulatorOptions.availableList=A(e.accumulatorOptions.availableList),e.accumulatorOptions.totalAvailable=e.accumulatorOptions.totalItemsInAccount-e.accumulatorOptions.selectedList.length,b()})}function b(){m.length>0?e.accumulatorOptions.isAddEnabled=m.length<e.maxUsers:e.accumulatorOptions.isAddEnabled=e.accumulatorOptions.selectedList.length<e.maxUsers,e.accumulatorOptions.isAddEnabled?a.closeBy("type","warn"):a.show({msg:t.instant("A signing group can have up to {{maxUsers}} users.",{maxUsers:e.maxUsers}),type:"warn",modal:!0})}function y(n){o.remove(e.accumulatorOptions.availableList,function(e){return n.email.toLowerCase()===e.email.toLowerCase()&&n.name.toLowerCase()===e.name.toLowerCase()}),o.remove(p,function(e){return n.email.toLowerCase()===e.email.toLowerCase()&&n.name.toLowerCase()===e.name.toLowerCase()}),o.find(e.accumulatorOptions.selectedList,function(e){return n.email.toLowerCase()===e.email.toLowerCase()&&n.name!==e.name})?(e.accumulatorOptions.availableList.push(n),o.remove(e.accumulatorOptions.selectedList,n),a.show({msg:t.instant("A user with this email: {{email}} is already in the Signing Group.",{email:n.email}),type:"alert",modal:!0})):a.closeBy("type","alert")}function A(t){var n=e.accumulatorOptions.selectedList;m.length>0&&(n=m);var a=o.cloneDeep(t);if(n){var i=o.keyBy(n,function(e){return e.email.toLowerCase()});a=o.filter(a,function(e){return void 0===i[e.email.toLowerCase()]})}return a}e.info={groupName:"",users:[],members:[],usersSearchPhrase:"",membersSearchPhrase:"",groupType:i.sharedGroupCode,groupEmail:"",signingGroupId:"",useGroupEmail:!1},e.addUsersManually=function(){e.accumulatorOptions.isAddEnabled&&(e.manualUser={name:"",email:""},l.openModal({scope:e,templateUrl:"user management/signing-groups/add-user-manually-modal.html",showClose:!0}))},e.addUser=function(t){e.accumulatorOptions.selectedList.push(t),y(t),b()},e.didUpdateUseGroupEmail=function(){e.info.useGroupEmail||(e.info.groupEmail="")},e.isGroupEmailValid=function(){return!e.info.useGroupEmail||c.isValidEmail(e.info.groupEmail)},e.$watch(function(){return e.accumulatorOptions.availableSearchPhrase},function(n,i){n!==i&&(a.closeBy("type","warn"),o.isEmpty(e.accumulatorOptions.availableSearchPhrase)?(e.accumulatorOptions.availableSearchTotalSet=e.accumulatorOptions.totalItemsInAccount,g=o.omit(g,"user_name_substring"),g=o.omit(g,"email_substring"),_(!1),b()):(e.accumulatorOptions.availableSearchType===d?(g.user_name_substring=e.accumulatorOptions.availableSearchPhrase,g=o.omit(g,"email_substring")):e.accumulatorOptions.availableSearchType===u&&(g.email_substring=e.accumulatorOptions.availableSearchPhrase,g=o.omit(g,"user_name_substring")),e.accumulatorOptions.availableLoading=s.getPage(g).then(function(t){e.accumulatorOptions.availableList=A(t.users),e.accumulatorOptions.availableSearchTotalSet=t.page.totalSetSize},function(n){"USER_NOT_FOUND"===n.data.errorCode&&(e.accumulatorOptions.availableList=[],e.accumulatorOptions.availableSearchTotalSet=0,a.show({type:"warn",modal:!0,msg:t.instant("No users found based on your search: {{search}}.",{search:e.accumulatorOptions.availableSearchPhrase})}))})))}),e.$watch(function(){return e.accumulatorOptions.selectedSearchPhrase},function(t,n){if(t!==n)if(h(),o.isEmpty(e.accumulatorOptions.selectedSearchPhrase))h(),b();else{var a=o.trim(e.accumulatorOptions.selectedSearchPhrase).toLowerCase(),i=[];e.accumulatorOptions.selectedSearchType===d?i=r("filter")(e.accumulatorOptions.selectedList,function(e){if(o.includes(o.trim(e.name).toLowerCase(),a))return e}):e.accumulatorOptions.selectedSearchType===u&&(i=r("filter")(e.accumulatorOptions.selectedList,function(e){if(o.includes(o.trim(e.email).toLowerCase(),a))return e})),o.isEmpty(m)&&(m=o.cloneDeep(e.accumulatorOptions.selectedList)),e.accumulatorOptions.selectedList=i}}),_(!0),e.saveAction=function(){o.find(e.activeSigningGroupList,function(t){return t.groupName.toLowerCase()===e.info.groupName.toLowerCase()&&t.groupType===e.info.groupType})?a.show({msg:t.instant("This Signing Group name is already in use. Please enter a new name."),type:"alert",modal:!0}):(o.isEmpty(m)||(e.accumulatorOptions.selectedList=o.cloneDeep(m),m=[]),"Edit"===e.state?e.save():e.create())},e.cancel=function(){n.closeModal()},e.validateUpdate=function(e,n){var i={groupName:e.groupName},s="";if(s=n?t.instant("You successfully created the signing group {{groupName}} ",i):t.instant("You successfully updated the signing group {{groupName}} ",i),e.users&&e.users.length>0){var o=!1,r=[],l="";e.users.forEach(function(e){e.errorDetails&&e.errorDetails.message?o?l+=" - "+e.errorDetails.message:(l=t.instant("Some errors did occur while saving the group: {{errors}}",{errors:e.errorDetails.message}),o=!0):r.push(e)}),l&&a.show({msg:l,type:"alert",modal:!1}),e.users=r}return s},e.create=function(){e.info.members=o.map(e.accumulatorOptions.selectedList,v),i.add(e.info).then(function(t){var i=e.validateUpdate(t,!0);a.show({msg:i,type:"success"}),e.$emit("SigningGroupAdded",t),n.closeModal()},function(e){a.show({msg:e.message?e.message:t.instant("This group could not be created. Try again in a moment."),type:"alert",modal:!0})})},e.save=function(){e.info.members=o.map(e.accumulatorOptions.selectedList,v),i.save(e.info,p).then(function(t){var i=e.validateUpdate(t,!1);a.show({msg:i,type:"success"}),e.$emit("SigningGroupUpdated",t),n.closeModal()},function(e){a.show({msg:e.message?e.message:t.instant("This group could not be updated. Try again in a moment."),type:"alert",modal:!0})})}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=n(2);t.DS_VIEWER="DS Viewer",t.DS_SENDER="DS Sender",t.DS_ADMIN="DS Admin",t.INVALID_PERMISSION_PROFILE_NAME="INVALID_PERMISSION_PROFILE_NAME",a.RolesModule.factory("SystemRolesNameMapper",["lodash",function(e){var n={"DocuSign Viewer":t.DS_VIEWER,"DocuSign Sender":t.DS_SENDER,"Account Administrator":t.DS_ADMIN};function a(e){return function(t){return t.toLowerCase()===e.toLowerCase()}}return{isReservedName:function(t){return e.keys(n).some(a(t))},isSystemRole:function(t){return e.values(n).some(a(t))},map:function(e){return i.isUndefined(n[e])?e:n[e]}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=n(2),s=n(13),o=function(){return function(e,t){this.isReadOnly=function(){return this.systemRolesNameMapper.isSystemRole(this.name)},this.systemRolesNameMapper=t,this.id=e.permissionProfileId,this.name=t.map(e.permissionProfileName),this.userCount=s.isUndefined(e.userCount)?0:parseInt(e.userCount),this.lastModified={dateTime:e.modifiedDateTime,byUsername:e.modifiedByUsername}}}();t.RoleListItem=o,a.RolesModule.factory("RolesService",["RoleModel","RoleSettingsModel","SystemRolesNameMapper","appUser","dsRoles","$q","lodash","userPermissions",function(e,t,n,a,s,r,l,c){function d(e){return void 0===e&&(e=[]),c.canManageAdmins()?e:e.filter(function(e){return e.settings?!(e.settings.allowAccountManagement||e.settings.accountManagementGranular&&e.settings.accountManagementGranular.allowManageUsers):!(e.isSuperAdminProfile||e.isGranularAdminProfile||"DS Admin"===e.name)})}return{all:function(e){var t=[],n=!1,i={};return l.isObject(e)&&(e.includeUserCount&&t.push("user_count"),e.includeAccountManagement&&t.push("account_management"),i=t.length?{include:t.join(",")}:{},n=e.returnOnlyEditableRoles||!1),s.getAllRolesForAccount(a.getCurrentAccountId(),i).then(function(e){var t=n?d(e):e;return l.map(t,u)})},by:function(t){return s.by(a.getCurrentAccountId(),t,{include:"metadata"}).then(function(t){return e.createFromApiResponse(t)})},add:function(e){return s.add(a.getCurrentAccountId(),e.toApiModel()).then(function(e){return i.isUndefined(e.errorCode)?new o(e,n):r.reject(e.data)}).catch(function(e){return r.reject(e.data)})},save:function(e){return s.save(a.getCurrentAccountId(),e.toApiModel()).then(function(e){return i.isUndefined(e.errorCode)?new o(e,n):r.reject(e.data)}).catch(function(e){return r.reject(e.data)})},remove:function(e,t){var n=null!==t?{move_users_to:t}:{};return s.delete(a.getCurrentAccountId(),e,n)},users:function(e){return s.getRoleWithUsers(a.getCurrentAccountId(),e).then(function(e){return function(e){var t={Active:"Active",Closed:"Closed",Disabled:"Closed",ActivationSent:"Pending",ActivationRequired:"Pending"};if(i.isUndefined(e))return[];return l.map(e,function(e){return{name:e.userName,email:e.email,status:t[e.userStatus]}})}(e.users)})},settings:function(e){return s.settings(a.getCurrentAccountId(),e).then(function(e){return e.errorCode?r.reject(e.data):t.createFromApiResponse(e.settings)})},createCsvExportUri:function(){return s.getCsvDownloadUri(a.getCurrentAccountId())},filterRolesOnUserPermission:function(e){return d(e)}};function u(e){var t=e.settings||{};return e.isSuperAdminProfile=t.allowAccountManagement,t.accountManagementGranular||(t.accountManagementGranular={}),e.isGranularAdminProfile=t.accountManagementGranular.allowManageAdmins||t.accountManagementGranular.allowManageUsers,{id:e.permissionProfileId,name:n.map(e.permissionProfileName),userCount:l.isUndefined(e.userCount)?0:parseInt(e.userCount),lastModified:{dateTime:e.modifiedDateTime,byUsername:e.modifiedByUsername},isSuperAdminProfile:e.isSuperAdminProfile,isGranularAdminProfile:e.isGranularAdminProfile,isSystemRole:function(){return n.isSystemRole(this.name)},isReadOnly:function(){return n.isSystemRole(this.name)||c.isGranularAdmin()}}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2),s=n(31),o=function(){function e(e){var t=i.copy(e);this.allowAccountManagementMetadata=t.allowAccountManagementMetadata,this.allowApiAccessToAccountMetadata=t.allowApiAccessToAccountMetadata,this.allowApiSendingOnBehalfOfOthersMetadata=t.allowApiSendingOnBehalfOfOthersMetadata,this.useNewDocuSignExperienceInterfaceMetadata=t.useNewDocuSignExperienceInterfaceMetadata,this.useNewDocuSignExperienceInterfaceMetadata.options=[{value:"optional",text:"Optional - user can opt in"},{value:"always",text:"Yes"},{value:"never",text:"No"}],this.receiveCompletedSelfSignedDocumentsAsEmailLinksMetadata=t.receiveCompletedSelfSignedDocumentsAsEmailLinksMetadata,this.receiveCompletedSelfSignedDocumentsAsEmailLinksMetadata.options=[{value:!0,text:"Link"},{value:!1,text:"PDF"}],this.allowEnvelopeSendingMetadata=t.allowEnvelopeSendingMetadata,this.allowTaggingInSendAndCorrectMetadata=t.allowTaggingInSendAndCorrectMetadata,this.useNewSendingInterfaceMetadata=t.useNewSendingInterfaceMetadata,this.enableSequentialSigningInterfaceMetadata=t.enableSequentialSigningInterfaceMetadata,this.allowSignerAttachmentsMetadata=t.allowSignerAttachmentsMetadata,this.allowWetSigningOverrideMetadata=t.allowWetSigningOverrideMetadata,this.enableRecipientViewingNotificationsMetadata=t.enableRecipientViewingNotificationsMetadata,this.allowBulkSendingMetadata=t.allowBulkSendingMetadata,this.allowSendersToSetRecipientEmailLanguageMetadata=t.allowSendersToSetRecipientEmailLanguageMetadata,this.disableDocumentUploadMetadata=t.disableDocumentUploadMetadata,this.disableOtherActionsMetadata=t.disableOtherActionsMetadata,this.powerFormRoleMetadata=t.powerFormRoleMetadata,this.powerFormRoleMetadata.options=[{value:"none",text:"None"},{value:"user",text:"Standard User"},{value:"admin",text:"Administrator"}],this.allowPowerFormsAdminToAccessAllPowerFormEnvelopesMetadata=t.allowPowerFormsAdminToAccessAllPowerFormEnvelopesMetadata,this.allowedTemplateAccessMetadata=t.allowedTemplateAccessMetadata,this.allowedTemplateAccessMetadata.options=[{value:"none",text:"None"},{value:"use",text:"Use"},{value:"create",text:"Create"},{value:"share",text:"Share"}],this.allowedAddressBookAccessMetadata=t.allowedAddressBookAccessMetadata,this.allowedAddressBookAccessMetadata.options=[{value:"personal",text:"Use Personal Only"},{value:"useShared",text:"Use Shared Only"},{value:"usePersonalAndShared",text:"Use Personal and Shared"},{value:"personalAndShared",text:"Share"}],this.allowedToBeEnvelopeTransferRecipientMetadata=t.allowedToBeEnvelopeTransferRecipientMetadata,this.nameMetadata={uiHint:"available",rights:"editable"},this.canCreateWorkspacesMetadata=t.canCreateWorkspacesMetadata,this.allowSupplementalDocumentsMetadata=t.allowSupplementalDocumentsMetadata,this.supplementalDocumentsMustViewMetadata=t.supplementalDocumentsMustViewMetadata,this.supplementalDocumentsMustReadMetadata=t.supplementalDocumentsMustReadMetadata,this.supplementalDocumentsMustAcceptMetadata=t.supplementalDocumentsMustAcceptMetadata,this.accountManagementGranular={allowManageUsersMetadata:{uiHint:"available",rights:"editable"},allowManageAdminsMetadata:{uiHint:"available",rights:"editable"},allowManageSharingMetadata:{uiHint:"available",rights:"editable"},allowManageAccountSettingsMetadata:{uiHint:"available",rights:"editable"},allowManageReportingMetadata:{uiHint:"available",rights:"editable"},allowManageAccountSecuritySettingsMetadata:{uiHint:"available",rights:"editable"},allowManageSigningGroupsMetadata:{uiHint:"available",rights:"editable"}},function(e){a.each(a.keys(e),function(t){/metadata$/i.test(t)&&(i.isUndefined(e[t])&&(e[t]={}),i.isUndefined(e[t].rights)&&(e[t].rights="editable"))})}(this)}return e.createFromApiResponse=function(t){return new e(t)},e.prototype.setAllFieldsAsReadOnly=function(){a.forEach(this,function(e){a.merge(e,{rights:"read_only"})})},e}();s.RolesModule.factory("RoleSettingsModel",["lodash",function(e){return a=e,o}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(31),s=n(2),o=function(){function e(e){this.id=null,this.name="",this.settings={accountManagementGranular:{allowManageUsers:!1,allowManageAdmins:!1,allowManageSharing:!1,allowManageAccountSettings:!1,allowManageReporting:!1,allowManageAccountSecuritySettings:!1,allowManageSigningGroups:!1},allowAccountManagement:!1,useNewDocuSignExperienceInterface:"optional",receiveCompletedSelfSignedDocumentsAsEmailLinks:!0,allowEnvelopeSending:!1,allowTaggingInSendAndCorrect:!1,useNewSendingInterface:!1,enableSequentialSigningInterface:!1,allowSignerAttachments:!1,allowWetSigningOverride:!1,enableRecipientViewingNotifications:!1,allowBulkSending:!1,allowSendersToSetRecipientEmailLanguage:!1,disableDocumentUpload:!1,disableOtherActions:!1,powerFormRole:"none",allowPowerFormsAdminToAccessAllPowerFormEnvelopes:!1,allowedTemplateAccess:"none",allowedAddressBookAccess:"personal",allowedToBeEnvelopeTransferRecipient:!1,signingUiVersion:"v0",allowApiAccess:!1,allowApiAccessToAccount:!1,allowApiSendingOnBehalfOfOthers:!1,allowApiSequentialSigning:!0,enableApiRequestLogging:!1,allowDocuSignDesktopClient:!1,allowVaulting:!1,enableTransactionPointIntegration:!1,vaultingMode:"none",allowSupplementalDocuments:!1,supplementalDocumentsMustView:!1,supplementalDocumentsMustAccept:!1,supplementalDocumentsMustRead:!1},e&&this.updateSettingsGivenMetadata(e)}return e.createFromApiResponse=function(t){var n=new e;return t.settings.accountManagementGranular&&(delete t.settings.accountManagementGranular.allowManageGroups,delete t.settings.accountManagementGranular.allowManageGroupsMetadata),n.id=t.permissionProfileId,n.name=a.map(t.permissionProfileName),n.settings=s.extend(n.settings,t.settings),n},e.prototype.toApiModel=function(){return{permissionProfileId:this.id,permissionProfileName:this.name,settings:this.settings}},e.prototype.updateSettingsGivenMetadata=function(e){this.settings.allowTaggingInSendAndCorrect="hidden"===e.allowTaggingInSendAndCorrectMetadata.uiHint},e}();t.RoleModel=o,i.RolesModule.service("RoleModel",["lodash","SystemRolesNameMapper",function(e,t){return a=t,e,o}])},function(e,t){var n="user management/roles/role-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="RoleListController as roleList">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Permission Sets"></h1>\n      </div>\n      <div class="col-3-4">\n        <div class="u-float-right">\n            <span class="cheshire_visibleContent" olive-cheshire-visible="CheshireFilter">\n                <div class="input_wrapper roles-search">\n                  <div class="form_item form_item-iconLeft form_item-iconRight">\n                    <span class="icon icon-search"></span>\n                    <input type=\'text\'\n                           class=\'input-text\'\n                           ng-model=\'roleList.search.pendingPhrase\'\n                           maxlength="100"\n                           ng-keyup="roleList.submitSearchPhrase($event)"\n                           data-qa="permission_sets_search_txtb"\n                           translate translate-attr-placeholder=\'Search\'/>\n                    <button type="button" class="button-icon"\n                      ng-if="roleList.search.phrase">\n                      <span class="icon icon-circle-x"\n                        ng-click="roleList.resetSearch()">\n                      </span>\n                    </button>\n                  </div>\n                </div>\n                <button type="button" class="btn btn-minor cheshire-btn" olive-cheshire-trigger="CheshireFilter"\n                        data-qa="permission_sets_filter_btn">\n                  <span class="icon icon-filter"></span>\n                  <span translate="Filters"></span>\n                </button>\n            </span>\n        </div>\n        <div class="cheshire cheshire-off" id="CheshireFilter" olive-cheshire="CheshireFilter">\n          <div class="cheshire_body">\n            <div olive-cheshire-placeholder class="cheshire-placeholder"></div>\n            <div>\n              \x3c!-- Last Modified Date --\x3e\n              <div class="form-group">\n                <label class="label" for="lastModified" translate="Last Modified Date"></label>\n                <div class="select-wrap">\n                  <select id="lastModified" ng-model="roleList.pendingFilters.lastModified"\n                          ng-change="roleList.setCalendarInputs()"\n                          ng-options="opt | translate for opt in roleList.availableFilters.lastModified"\n                          data-qa="permission_sets_last_modified_options">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Last Modified Date --\x3e\n              \x3c!-- Last Modified Date: Custom Date Range --\x3e\n              <div class="form-group" ng-if="roleList.pendingFilters.lastModified === \'Custom\'">\n                <div ds-cal ds-type="range">\n                  <div class="grid">\n                    <div class="col-1-2">\n                      <div class="input-group">\n                        <span class="addon icon icon-field-date"></span>\n                        <input type="text" class="input-text ds-range-start"\n                               placeholder="{{ \'from\' | translate }}"\n                               ng-model="roleList.dateRange.from"\n                               data-qa="filter_ps_custom_from"/>\n                      </div>\n                    </div>\n                    <div class="col-1-2">\n                      <div class="input-group">\n                        <span class="addon icon icon-field-date"></span>\n                        <input type="text" class="input-text ds-range-end"\n                               placeholder="{{ \'to\' | translate }}"\n                               ng-model="roleList.dateRange.to"\n                               data-qa="filter_ps_custom_to" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \x3c!-- end Last Modified Date: Custom Date Range --\x3e\n            </div>\n          </div>\n          <div class="cheshire_footer">\n            <button type="submit" class="btn btn-primary" olive-cheshire-close data-qa="filter_ps_apply_btn"\n                    translate="Apply" ng-click="roleList.applyFilter()"></button>\n            <button type="button" class="btn btn-minor" data-qa="filter_ps_reset_btn"\n                    translate="Reset" ng-click="roleList.resetFilter()"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n    <div class="grid action-row">\n      <div class="action-btns u-float-left">\n        <button class=\'btn btn-secondary btn-md\'\n                ng-if="roleList.canAddRole"\n                ng-click="roleList.add()"\n                data-qa="permission_sets_add_permission_set_btn"\n                translate="Add Permission Set">\n        </button>\n        <a id="audit-log-export-csv-button" download\n           class=\'btn btn-secondary btn-md u-float-right\' ds-size=\'lg\' target="_self"\n           ng-href="{{roleList.exportLinkUri()}}"\n           ng-if="roleList.list.length"\n           data-qa="permission_sets_download_permission_sets_btn">\n          <span translate="Download Permissions"></span> </a>\n      </div>\n      <div class="col-1-5 pagination" ng-if="roleList.pagingEnabled">\n        <paging-controls list-name="roleList.getListType() | translate" page="roleList.page"\n                         page-controls="roleList.pageControls"></paging-controls>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n  </div>\n\n  <div class="grid">\n    <filter-row filter-names="roleList.selectedFilterNames" filters="roleList.selectedFilters" reset="roleList.resetFilter"></filter-row>\n  </div>\n\n  <table class=\'mgnt-list list-tbl mtbl\'>\n    <thead>\n    <tr>\n      <th name=\'name\'><span translate="Name"></span></th>\n      <th name=\'lastModified\'><span\n        translate="Last Modified"></span></th>\n      <th name=\'userCount\'><span translate="Users"></span></th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n    <tr ng-repeat=\'role in roleList.list\' class="clickable">\n      <td data-title=\'Name\' ng-click=\'roleList.edit(role)\'>{{role.name}}</td>\n      <td data-title=\'Last Modified\' ng-click=\'roleList.edit(role)\'>\n        <span>{{roleList.lastModified(role)}}</span>\n      </td>\n      <td data-title=\'Users\' ng-click=\'roleList.edit(role)\'>{{role.userCount}}</td>\n      <td class="column-min" data-title=\'Actions\'>\n        <button type=\'button\' class=\'btn btn-secondary btn-trigger\' olive-menu=\'roleActions-{{role.id}}\'\n          olive-menu-position=\'below right\' data-qa="permission_sets_action_btn"\n          translate="Actions">\n        </button>\n        <div id=\'roleActions-{{role.id}}\' class=\'menu invisible\'>\n          <ul>\n            <li>\n              <a ng-if=\'!role.isReadOnly() && roleList.canAddRole\' name=\'edit-role\' class=\'item\'\n                data-qa="permission_sets_actions_edit_li"\n                ng-click=\'roleList.edit(role)\'\n                translate="Edit">\n              </a>\n            </li>\n\n            <li>\n              <a ng-if=\'role.isReadOnly() || !roleList.canAddRole\' name=\'view-role\' class=\'item\'\n                ng-click=\'roleList.edit(role)\'\n                data-qa="permission_sets_actions_view_li"\n                translate="View">\n              </a>\n            </li>\n\n            <li>\n              <a ng-if="roleList.canAddRole" name=\'copy-role\' class=\'item\'\n                data-qa="permission_sets_actions_copy_li"\n                ng-click=\'roleList.copy(role)\'\n                translate="Copy">\n              </a>\n            </li>\n\n            <li>\n              <a name=\'view-users\' class=\'item\'\n                data-qa="permission_sets_actions_view_users_li"\n                ng-click="roleList.viewUsersFor(role)"\n                translate="View Users">\n              </a>\n            </li>\n\n            <li>\n              <a ng-if="!role.isReadOnly() && roleList.canAddRole" name=\'delete-role\' class=\'item\'\n                data-qa="permission_sets_actions_delete_li"\n                ng-click="roleList.remove(role)"\n                translate="DS_CONTEXT=(permission set) Delete">\n              </a>\n            </li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="successfullyLoaded && roleList.list.length == 0 &&\n                                 (roleList.search.phrase.length > 0 || roleList.hasFilters())">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="roleList.search.phrase.length > 0 && !roleList.hasFilters()" translate="The selected search query \'[[phrase]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{phrase: roleList.search.phrase}"></p>\n      <p ng-if="roleList.search.phrase.length === 0 && roleList.hasFilters()"\n         translate="The selected filters produced no results."></p>\n      <p ng-if="roleList.search.phrase.length > 0 && roleList.hasFilters()"\n         translate="The selected filters and search query \'[[phrase]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{phrase: roleList.search.phrase}"></p>\n\n    </div>\n  </div>\n\n  <div ds-loading="roleList.loaded"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your Permission Sets. Go ahead and try that again.\' | translate}}"></div>\n\n  <div class="section" ng-if="roleList.pagingEnabled">\n    <div class="grid" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="roleList.page" page-controls="roleList.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(84),s=n(81),o=n(31),r=n(3),l=n(29);t.PERMISSION_SETS="permission sets";var c=i.ROLE_FILTER_OPTION,d=function(e){function n(n,a,i,s,o,d,u,p,m,g,h,f,v){var _=e.call(this,f,v)||this;return _.$scope=n,_.rolesService=a,_.modal=i,_.userPermissions=s,_.$filter=o,_.$state=d,_.dateTimeService=u,_._$filter=p,_._$translate=m,_._roleSettingsModel=g,_._oliveMessage=h,_.$q=f,_._=v,_.pagingEnabled=!1,_.moment=l,_.getListType=function(){return t.PERMISSION_SETS},_.applyFilter=function(){_.selectedFilters={lastModified:[]},"DS_CONTEXT=(permission sets) All"!==_.pendingFilters.lastModified&&(_.selectedFilters.lastModified.push(_.pendingFilters.lastModified),_.setSelectedLastModifiedFilter()),_.search.phrase=_.search.pendingPhrase,_.loaded=_.getPage(r.FIRST_PAGE)},_.getDateTimeFormat=function(){_.dateTimeFormat=_.dateTimeService.getDateTimeFormat()},_.getTimeZone=function(){_.timeZone=_.dateTimeService.getTimeZone()},_.hasFilters=function(){return!_._.isEmpty(_.selectedFilters.lastModified)},_.setSelectedLastModifiedFilter=function(){var e=_.moment.utc();switch(_.selectedFilters.lastModified[0]){case"Last 30 days":_.dateRange.from=_.moment.utc(e).subtract(30,"days"),_.dateRange.to=_.moment.utc(e);break;case"Last 6 months":_.dateRange.from=_.moment.utc(e).subtract(6,"months"),_.dateRange.to=_.moment.utc(e);break;case"Last 12 months":_.dateRange.from=_.moment.utc(e).subtract(1,"years"),_.dateRange.to=_.moment.utc(e);break;case"Custom":break;default:_.dateRange.from=_.moment.utc({year:2003}),_.dateRange.to=_.moment.utc(e)}_.setCalendarInputs()},_.setCalendarInputs=function(){_.moment.isMoment(_.dateRange.from)||(_.dateRange.from=_.moment.utc(_.dateRange.from)),_.moment.isMoment(_.dateRange.to)||(_.dateRange.to=_.moment.utc(_.dateRange.to)),_.dateRange.from=_.moment.utc(_.dateRange.from.toDate()).format("L"),_.dateRange.to=_.moment.utc(_.dateRange.to.toDate()).format("L")},_.resetFilter=function(){_.selectedFilters={lastModified:[]},_.pendingFilters={lastModified:"All"},_.search.phrase=_.search.pendingPhrase,_.loaded=_.getPage(r.FIRST_PAGE)},_.copy=function(e){_.$scope.active=e,_.$scope.defaultPermissionSetSettings=new _._roleSettingsModel(_.defaultPermissionSetSettings),_.modal.openModal("user management/roles/copy-role-modal.html",_.$scope,"lg",!1,!0)},_.edit=function(e){_.$scope.active=e,_.$scope.defaultPermissionSetSettings=new _._roleSettingsModel(_.defaultPermissionSetSettings),_.modal.openModal("user management/roles/edit-role-modal.html",_.$scope,"lg",!1,!0)},_.add=function(){_.$scope.defaultPermissionSetSettings=new _._roleSettingsModel(_.defaultPermissionSetSettings),_.modal.openModal("user management/roles/add-role-modal.html",_.$scope,"lg",!1,!0)},_.viewUsersFor=function(e){var t={};t[c]=e.id,_.$state.go("authenticated.users",t)},_.remove=function(e){_.$scope.active=e,_.modal.openModal("user management/roles/delete-role-modal.html",_.$scope,"",!1,!1)},_.roleRemoved=function(e){e.stopPropagation();var t=_.page.startPosition===_.page.endPosition&&_.page.endPosition>=_.page.totalSetSize-1&&_.page.totalSetSize>r.PAGE_SIZE?_.page.startPosition-r.PAGE_SIZE:_.page.startPosition;_.loadList(),t>=r.PAGE_SIZE&&_.loaded.then(function(){_.getPage({count:r.PAGE_SIZE,start_position:t})})},_.roleAddedHandler=function(e){e.stopPropagation();var t=_.page.startPosition;_.loadList(),t>=r.PAGE_SIZE&&_.loaded.then(function(){_.getPage({count:r.PAGE_SIZE,start_position:t})})},_.roleUpdatedHandler=function(e){e.stopPropagation();var t=_.page.startPosition;_.loadList(),t>=r.PAGE_SIZE&&_.loaded.then(function(){_.getPage({count:r.PAGE_SIZE,start_position:t})})},_.selectedFilterNames={lastModified:"Last Modified Date"},_.selectedFilters={lastModified:[]},_.pendingFilters={lastModified:"DS_CONTEXT=(permission sets) All"},_.availableFilters={lastModified:["DS_CONTEXT=(permission sets) All","Last 12 months","Last 6 months","Last 30 days","Custom"]},_.dateRange={from:l.utc({year:2003}),to:l.utc()},n.$on("RoleRemoved",_.roleRemoved),n.$on("RoleAdded",_.roleAddedHandler),n.$on("RoleUpdated",_.roleUpdatedHandler),_.loadList(),_.getDateTimeFormat(),_.getTimeZone(),_}return a(n,e),n.prototype.setLoadList=function(){var e=this;return function(){return e.loaded=e.rolesService.all({returnOnlyEditableRoles:!1,includeUserCount:!0,includeAccountManagement:!0}).then(function(t){if(!e._.isEmpty(t)){e.$scope.roles=e.originalList=t,e.pagingEnabled=e.originalList.length>r.PAGE_SIZE,e.loaded=e.getPage(r.FIRST_PAGE);var n=e._.find(t,{isSuperAdminProfile:!0});return n||(n=e._.head(t)),e.rolesService.settings(n.id)}e._oliveMessage.show(e._$translate.instant("There are no Permission Sets to load."),"noPermissionSets","error")}).then(function(t){t&&(e.defaultPermissionSetSettings=t,e.canAddRole=e.userPermissions.isSuperAdmin()&&e.defaultPermissionSetSettings)}),e.loaded}},n.prototype.setFilterList=function(){var e=this;return function(t){var n=e.getSearchOptions(),a=e.moment.utc(e.dateRange.from).startOf("day"),i=e.moment.utc(e.dateRange.to).endOf("day");return e.$filter("filter")(t,function(t){return(e._.isEmpty(n.search_text)||e._.includes(t.name.toLowerCase(),n.search_text.toLowerCase()))&&(e._.isEmpty(e.selectedFilters.lastModified)||(t.lastModified.dateTime.isBetween(a,i)||t.lastModified.dateTime.isSame(a)||t.lastModified.dateTime.isSame(i))&&t.lastModified.byUsername)})}},n.prototype.exportLinkUri=function(){return this.rolesService.createCsvExportUri()},n.prototype.lastModified=function(e){var t=this._$filter("moment")(e.lastModified.dateTime,this.dateTimeFormat,this.timeZone),n=this._$translate.instant("{{dateTime}} by {{userName}}",{userName:e.lastModified.byUsername,dateTime:t});return e.lastModified.byUsername?n:"--"},n}(s.SearchableClientPagingController);o.RolesModule.controller("RoleListController",["$scope","RolesService","dsModals","userPermissions","$filter","$state","DateTimeService","$filter","$translate","RoleSettingsModel","oliveMessage","$q","lodash",d])},function(e,t){var n="user management/roles/edit-role-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditRoleController\'>\n  <div ng-controller=\'EditRoleController\' ds-form >\n    <form name="permissionForm">\n    <div class="header" ng-show="roleProcessed">\n      <h1 ng-if="active.isReadOnly()" translate="View Permission Set"></h1>\n      <h1 ng-if="!active.isReadOnly()" translate="Edit Permissions Set"></h1>\n    </div>\n\n    <div class=\'add-edit-role content\' ng-include="\'user management/roles/add-edit-role.html\'"\n         ng-show="roleProcessed"></div>\n    <div class="text-center grid pad" ds-loading="roleProcessing" ds-loading-succeeded="roleProcessed"></div>\n    <div class=\'footer\' ng-show="roleProcessed">\n      <button class=\'btn btn-lg btn-primary\'\n        ng-if="!active.isReadOnly()"\n        name=\'edit-role\'\n        ng-disabled="!roleProcessed || disableSave(permissionForm)"\n        ds-form-submit=\'save()\' data-qa="edit_perm_set_save_btn" translate="Save">\n      </button>\n\n      <button class=\'btn btn-lg btn-secondary\' ds-close-modal data-qa="edit_perm_set_close_cancel_btn">\n        <span ng-if="active.isReadOnly()" translate="DS_CONTEXT=(modal) Close"></span>\n        <span ng-if="!active.isReadOnly()" translate="Cancel" ></span>\n      </button>\n    </div>\n    </form>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=n(2);a.RolesModule.controller("EditRoleController",["$scope","RolesService","dsModals","oliveMessage","$q","$translate","appUser",function(e,t,n,a,s,o,r){e.settingsLoaded=!1;var l=e.$parent;l.child=e,l.startWatching();var c={permissionSetById:t.by(e.active.id),accountSettings:r.currentAccountInfo.settingsRetrieved,permissionSettings:e.defaultPermissionSetSettings};e.roleProcessing=s.all(c).then(function(t){var n=t.permissionSetById,a=t.permissionSettings;e.active.isReadOnly()&&a.setAllFieldsAsReadOnly(),(e=i.extend(e,a)).form=n,e.settingsLoaded=!0,e.allowAccountManagementGranular=r.currentAccountInfo.settings.allowAccountManagementGranular}),e.disableSave=function(t){return t.$pristine||!e.form.name},e.save=function(){e.validateRoleName(e.form.name)&&(e.roleProcessing=t.save(e.form).then(function(t){n.closeModal(),e.$emit("RoleUpdated",t),a.show({content:o.instant("You successfully updated the Permission Set {{name}}.",{name:t.name}),type:"success"})},function(t){var n;n="INVALID_PERMISSION_PROFILE_NAME"===t.errorCode||"INVALID_PERMISSION_PROFILE_NAME"===t.data.errorCode?o.instant("The Permission Set {{name}} already exists.",{name:e.form.name}):o.instant(t.message),a.show({content:n,type:"alert",modal:!0})}))}}])},function(e,t){var n="user management/roles/delete-role-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DeleteRoleController as deleteRole">\n  <div class="header">\n    <h1 translate="Delete permission set"></h1>\n  </div>\n  <div class="content" ng-switch="deleteRole.hasUsers" ng-show="deleteRole.roleProcessed">\n    <div ng-switch-when="false" translate="Are you sure you want to delete this permission set?">\n    </div>\n\n    <div ng-switch-when="true">\n      <br />\n      <span translate="You currently have users associated with this permission set. To continue deleting, please assign these users to a new permission set."></span>\n      <br>\n      <br/>\n      <div class="select-wrap">\n        <select ng-model="deleteRole.migrateTo"\n                ng-options="role.id as role.name for role in deleteRole.availableMigrationList">\n        </select>\n      </div>\n    </div>\n  </div>\n  <div class="text-center grid pad" ds-loading="deleteRole.roleProcessing"\n       ds-loading-succeeded="deleteRole.roleProcessed"></div>\n  <div class="footer">\n    <button type="submit" class="btn btn-lg btn-primary" ng-click="deleteRole.remove()"\n            ng-disabled="!deleteRole.roleProcessed" data-qa="delete_perm_set_delete_btn"\n            translate="DS_CONTEXT=(permission set) Delete"></button>\n    <button type="button" class="btn btn-lg btn-minor" ds-close-modal \n            data-qa="delete_perm_set_cancel_btn" translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(31).RolesModule.controller("DeleteRoleController",["$scope","RolesService","dsModals","dsNotification","lodash","$q","$translate",function(e,t,n,a,i,s,o){var r=this;r.roleProcessing=s.when(),r.hasUsers=e.active.userCount>0,r.availableMigrationList=i.remove(i.cloneDeep(e.roles),function(t){return t.id!==e.active.id}),r.migrateTo=r.hasUsers?r.availableMigrationList[0].id:null,r.remove=function(){var i={msg:o.instant("You successfully removed the Permission Set {{name}}.",{name:e.active.name}),type:"success",modal:!1};r.roleProcessing=t.remove(e.active.id,r.migrateTo).then(function(){e.$emit("RoleRemoved"),n.closeModal()},function(e){i.type="alert",i.msg=o.instant("This Permission Set could not be removed. Try again in a moment."),i.modal=!0}).finally(function(){a.show(i)})}}])},function(e,t){var n="user management/roles/copy-role-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditRoleController\'>\n  <div ng-controller=\'CopyRoleController\' ds-form>\n    <form name="permissionForm">\n    <div class=\'header\'>\n      <h1 translate="Copy Permission Set"></h1>\n    </div>\n\n    <div class=\'add-edit-role content\'\n      ng-show="roleProcessed"\n      ng-include="\'user management/roles/add-edit-role.html\'">\n    </div>\n\n    <div class="text-center grid pad"\n      ds-loading="roleProcessing"\n      ds-loading-succeeded="roleProcessed">\n    </div>\n\n    <div class=\'footer\'>\n      <button class=\'btn btn-lg btn-primary\' name=\'copy-role\'\n        ng-disabled="!roleProcessed || disableSave(permissionForm)"\n        ds-form-submit=\'save()\'\n        data-qa="copy_perm_set_save_btn"\n        translate="Save">\n      </button>\n\n      <button class=\'btn btn-lg btn-minor\'\n        ds-close-modal\n        data-qa="copy_perm_set_cancel_btn"\n        translate="Cancel">\n      </button>\n    </div>\n    </form>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);n(31).RolesModule.controller("CopyRoleController",["$scope","RolesService","dsModals","dsNotification","$q","$translate","appUser",function(e,t,n,i,s,o,r){var l=e.$parent;l.child=e,l.startWatching(),e.settingsLoaded=!1,e.allowAccountManagementGranular=r.currentAccountInfo.settings.allowAccountManagementGranular,e.roleProcessing=s.all([t.by(e.active.id),l.defaultPermissionSetSettings]).then(function(t){var n=t[0],i=t[1];(e=a.extend(e,i)).form=function(e){return e.name=o.instant("Copy of {{name}}",{name:e.name}),e.id=null,e}(n),e.settingsLoaded=!0}),e.disableSave=function(t){return t.$pristine||!e.form.name},e.save=function(){e.validateRoleName(e.form.name)&&(e.roleProcessing=t.add(e.form).then(function(t){n.closeModal(),e.$emit("RoleAdded",t),i.show({msg:o.instant("You successfully added the Permission Set {{name}}.",{name:t.name}),type:"success"})},function(t){var n;n="INVALID_PERMISSION_PROFILE_NAME"===t.errorCode?o.instant("The Permission Set {{name}} already exists.",{name:e.form.name}):o.instant(t.message),i.show({msg:n,type:"alert",modal:!0})}))}}])},function(e,t){var n="user management/roles/add-role-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditRoleController\'>\n  <div ng-controller=\'AddRoleController\' ds-form>\n    <div class=\'header\'>\n      <h1 translate="Add Permission Set"></h1>\n    </div>\n\n    <div class=\'add-edit-role content\' ng-include="\'user management/roles/add-edit-role.html\'" ng-show="roleProcessed">\n    </div>\n    <div class="text-center grid pad" ng-hide="roleProcessed" ds-loading="roleProcessing"\n         ds-loading-succeeded="roleProcessed"></div>\n    <div class=\'footer\'>\n      <button class=\'btn btn-lg btn-primary\' name=\'add-role\' ds-form-submit=\'add()\'\n              ng-disabled="!roleProcessed || !form.name" translate="Add" data-qa="add_perm_set_add_btn" ></button>\n      <button class=\'btn btn-lg btn-minor\' ds-close-modal translate="Cancel"\n              data-qa="add_perm_set_cancel_btn" ></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);n(31).RolesModule.controller("AddRoleController",["$scope","RoleModel","RolesService","dsModals","oliveMessage","$translate","appUser","$q",function(e,t,n,i,s,o,r,l){var c=e.$parent;c.child=e,c.startWatching(),e.settingsLoaded=!1;var d={accountSettings:r.currentAccountInfo.settingsRetrieved,permissionSettings:c.defaultPermissionSetSettings};function u(){e.validateRoleName(e.form.name)&&(e.roleProcessing=n.add(e.form).then(function(t){i.closeModal(),e.$emit("RoleAdded",t),s.show({content:o.instant("You successfully created the Permission Set {{name}}.",{name:t.name}),type:"success"})},function(t){var n;n="INVALID_PERMISSION_PROFILE_NAME"===t.errorCode||"INVALID_PERMISSION_PROFILE_NAME"===t.data.errorCode?o.instant("The Permission Set {{name}} already exists.",{name:e.form.name}):o.instant(t.message),s.show({content:n,type:"alert",modal:!0})}))}e.roleProcessing=l.all(d).then(function(n){e.settingsLoaded=!0,e.form=new t(n.permissionSettings),e.add=u,(e=a.extend(e,n.permissionSettings)).allowAccountManagementGranular=r.currentAccountInfo.settings.allowAccountManagementGranular})}])},function(e,t){var n="user management/roles/add-edit-role.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div id=\"settingsLoaded\" class=\"wait-to-load\" ng-show=\"settingsLoaded\">\n  <div class='form-group'>\n    <label class='label' for=\"form.name\" label-required=\"*\" translate=\"Name\"></label>\n    <div ui-hint ui-cfr ui-models=\"[nameMetadata]\">\n      <input name='Name' type='text' class='input-text' id=\"form.name\"\n        ng-model='form.name'\n        maxlength='100' required\n        data-qa=\"name_txtb\"\n        translate translate-attr-title=\"Please enter permission set name\"/>\n    </div>\n  </div>\n\n  <div class=\"form-group\" ng-if=\"form.id\">\n    <label class=\"label\" translate=\"ID\" for=\"form.id\"></label>\n    <div>\n      <input id=\"form.id\" name=\"form.id\" class=\"input-text disabled\"\n        ng-model=\"form.id\" readonly/>\n    </div>\n  </div>\n\n  <div class=\"tabs-wrap\" ng-if=\"allowAccountManagementGranular\">\n    <ul class=\"tabs\" olive-tabset=\"permissionTabs\">\n      <li class=\"tab-wrap\">\n        <a class=\"tab\" olive-tab-id=\"adminTab\" data-qa=\"admin_permissions_li\"\n           translate=\"Admin Permissions\"></a>\n      </li>\n\n      <li class=\"tab-wrap\">\n        <a class=\"tab\" olive-tab-id=\"userTab\" data-qa=\"user_permissions_li\"\n           translate=\"User Permissions\"></a>\n      </li>\n    </ul>\n  </div>\n\n  <div class=\"tooltip invisible\" id=\"superTooltip\">\n    <div class=\"tooltip-content\"\n         translate=\"Account Settings, Branding, User Management, Custom Fields, Integrations, Audit Logs and Reporting\"></div>\n  </div>\n\n  <div olive-tabset-parent=\"permissionTabs\" olive-tab-id=\"adminTab\" ng-if=\"allowAccountManagementGranular\">\n    <div class=\"section\">\n      <div ui-cfr ui-hint ui-models='[allowAccountManagementMetadata]' class=\"inline-input cb\">\n        <input class='cb_input' type='checkbox' id='can-manage-account'\n               ng-model='form.settings.allowAccountManagement' data-qa=\"all_admin_capabilities_cb\" />\n        <label class='cb_label' for='can-manage-account' data-qa=\"all_admin_capabilities_cb_label\"\n               translate=\"All Administration Capabilities\"></label>\n        <span class=\"icon icon-info\" olive-tooltip=\"superTooltip\" olive-tooltip-position=\"after middle\"></span>\n      </div>\n    </div>\n    <div class=\"section\">\n      <div>\n        <label translate=\"Delegated Administration:\"></label>\n      </div>\n      <div class=\"form-group\">\n        <span translate=\"Grant limited administrative rights restricted to the categories selected.\"></span>\n        <a href=\"https://support.docusign.com/en/guides/ndse-admin-guide-delegated-admin\" target=\"_blank\"\n           translate=\"Learn more...\"></a>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n           ui-models=\"[accountManagementGranular.allowManageUsersMetadata]\">\n        <input class='cb_input' type='checkbox' id='users-admin'\n               ng-model=\"form.settings.accountManagementGranular.allowManageUsers\" data-qa=\"users_cb\"/>\n        <label class='cb_label' for='users-admin' data-qa=\"users_cb_label\" translate=\"Users and Groups\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n           ui-models=\"[accountManagementGranular.allowManageAdminsMetadata]\">\n        <input class='cb_input' type='checkbox' id='admins-admin'\n               ng-model=\"form.settings.accountManagementGranular.allowManageAdmins\" data-qa=\"admins_cb\"/>\n        <label class='cb_label' for='admins-admin' data-qa=\"admins_cb_label\" translate=\"Administrators\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n           ui-models=\"[accountManagementGranular.allowManageSharingMetadata]\">\n        <input class='cb_input' type='checkbox' id='sharing-admin'\n               ng-model=\"form.settings.accountManagementGranular.allowManageSharing\"\n               data-qa=\"sharing_docs_cb\"/>\n        <label class='cb_label' for='sharing-admin' data-qa=\"sharing_docs_cb_label\"\n               translate=\"Envelope Sharing\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n           ui-models=\"[accountManagementGranular.allowManageAccountSettingsMetadata]\">\n        <input class='cb_input' type='checkbox' id='accountSettings-admin'\n               ng-model=\"form.settings.accountManagementGranular.allowManageAccountSettings\" />\n        <label class='cb_label' for='accountSettings-admin'\n               translate=\"Account Settings\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n           ui-models=\"[accountManagementGranular.allowManageReportingMetadata]\">\n        <input class='cb_input' type='checkbox' id='reporting-admin'\n               ng-model=\"form.settings.accountManagementGranular.allowManageReporting\" />\n        <label class='cb_label' for='reporting-admin'\n               translate=\"Reporting\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n        ui-models=\"[accountManagementGranular.allowManageAccountSecuritySettingsMetadata]\">\n        <input class='cb_input' type='checkbox' id='security-settings-admin'\n          ng-model=\"form.settings.accountManagementGranular.allowManageAccountSecuritySettings\" />\n        <label class='cb_label' for='security-settings-admin'\n          translate=\"Security Settings\"></label>\n      </div>\n      <div class='inline-input form-group-inline cb' ui-hint ui-cfr\n        ui-models=\"[accountManagementGranular.allowManageSigningGroupsMetadata]\">\n        <input class='cb_input' type='checkbox' id='signing-groups-admin'\n          ng-model=\"form.settings.accountManagementGranular.allowManageSigningGroups\" />\n        <label class='cb_label' for='signing-groups-admin'\n          translate=\"Signing Groups\"></label>\n      </div>\n    </div>\n  </div>\n\n  <div olive-tabset-parent=\"permissionTabs\" olive-tab-id=\"userTab\">\n    <div ng-class=\"{section: allowAccountManagementGranular}\">\n      <div class='inline-input cb' ui-hint ui-cfr ui-models='[allowAccountManagementMetadata]'\n           ng-if=\"!allowAccountManagementGranular\">\n        <input class='cb_input' type='checkbox' ng-model='form.settings.allowAccountManagement'\n               id=\"can-manage-account-old\" />\n        <label class='cb_label' for='can-manage-account-old' translate=\"All Administration Capabilities\"></label>\n        <span class=\"icon icon-info\" olive-tooltip=\"superTooltip\" olive-tooltip-position=\"after middle\"></span>\n      </div>\n\n      <div id='allow-envelope-sending-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowEnvelopeSendingMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-envelope-sending'\n               ng-model='form.settings.allowEnvelopeSending' data-qa=\"can_send_env_cb\"/>\n        <label class='cb_label' for='allow-envelope-sending' data-qa=\"can_send_env_cb_label\"\n               translate=\"Can send envelope\"></label>\n      </div>\n\n      <div id='allow-tagging-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowTaggingInSendAndCorrectMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-tagging'\n               ng-model='form.settings.allowTaggingInSendAndCorrect' data-qa=\"can_tag_cb\"/>\n        <label class='cb_label' for='allow-tagging' data-qa=\"can_tag_cb_label\"\n               translate=\"Can add fields\"></label>\n      </div>\n\n      <div id='allow-sequential-signing-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[enableSequentialSigningInterfaceMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-sequential-signing'\n               ng-model='form.settings.enableSequentialSigningInterface' data-qa=\"allow_seq_signing_cb\"/>\n        <label class='cb_label' for='allow-sequential-signing' data-qa=\"allow_seq_signing_cb_label\"\n               translate=\"Allow sequential signing\"></label>\n      </div>\n\n      <div id='allow-signer-control' class='inline-input cb' ui-cfr ui-hint ui-models='[allowSignerAttachmentsMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-signer-attachments'\n               ng-model='form.settings.allowSignerAttachments' data-qa=\"allow_signer_attachment_cb\"/>\n        <label class='cb_label' for='allow-signer-attachments' translate=\"Allow signer attachments\"\n               data-qa=\"allow_signer_attachment_cb_label\"></label>\n      </div>\n\n      <div id='allow-wet-signing-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowWetSigningOverrideMetadata]'>\n\n        <input class='cb_input' type='checkbox' id='allow-signing-on-paper-override'\n               ng-model='form.settings.allowWetSigningOverride' data-qa=\"allow_sign_on_paper_override_cb\"/>\n        <label class='cb_label' for='allow-signing-on-paper-override' data-qa=\"allow_sign_on_paper_override_cb_label\"\n               translate=\"Allow sign on paper override\"></label>\n      </div>\n\n      <div id='enable-recipient-viewing-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[enableRecipientViewingNotificationsMetadata]'>\n\n        <input class='cb_input' type='checkbox' id='allow-recipient-viewed-notifications'\n               ng-model='form.settings.enableRecipientViewingNotifications'\n               data-qa=\"allow_recipient_viewed_notifications_cb\">\n        <label class='cb_label' for='allow-recipient-viewed-notifications'\n               translate=\"Allow recipient viewed notifications\"\n               data-qa=\"allow_recipient_viewed_notifications_cb_label\"></label>\n      </div>\n\n      <div id='allow-bulk-sending-control' class='inline-input cb' ui-cfr ui-hint ui-models='[allowBulkSendingMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-sending-to-bulk-list'\n               ng-model='form.settings.allowBulkSending' data-qa=\"allow_sending_to_bulk_list_cb\"/>\n        <label class='cb_label' for='allow-sending-to-bulk-list'\n               data-qa=\"allow_sending_to_bulk_list_cb_label\"\n               translate=\"Allow sending to bulk list\"></label>\n      </div>\n\n      <div id='allow-sender-language-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowSendersToSetRecipientEmailLanguageMetadata]'>\n\n        <input class='cb_input' type='checkbox' id='allow-language-selection'\n               ng-model='form.settings.allowSendersToSetRecipientEmailLanguage'\n               data-qa=\"allow_language_selection_cb\"/>\n        <label class='cb_label' for='allow-language-selection'\n               data-qa=\"allow_language_selection_cb_label\"\n               translate=\"Allow language selection\"></label>\n      </div>\n\n      <div id='disable-document-upload-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[disableDocumentUploadMetadata]'>\n\n        <input class='cb_input' type='checkbox' id='disable-document-upload-selection'\n               ng-model='form.settings.disableDocumentUpload'\n               data-qa=\"disable_document_upload_selection_cb\"/>\n        <label class='cb_label' for='disable-document-upload-selection'\n               data-qa=\"disable_document_upload_selection_cb_label\"\n               translate=\"Disable document upload\"></label>\n      </div>\n\n      <div id='disable-other-actions-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[disableOtherActionsMetadata]'>\n\n        <input class='cb_input' type='checkbox' id='disable-other-actions-selection'\n               ng-model='form.settings.disableOtherActions'\n               data-qa=\"disable_other_actions_selection_cb\"/>\n        <label class='cb_label' for='disable-other-actions-selection'\n               data-qa=\"disable_other_actions_selection_cb_label\"\n               translate=\"Hide Actions menu\"></label>\n      </div>\n\n      <div id='use-new-docusign-exp-control' class='form-group' ui-cfr ui-hint\n           ui-models='[useNewDocuSignExperienceInterfaceMetadata]'>\n        <label class='label role' for='form.settings.useNewDocuSignExperienceInterface'\n               translate=\"Use the New DocuSign Experience\"></label>\n        <div class='select-wrap'>\n          <select id='form.settings.useNewDocuSignExperienceInterface'\n                  ng-options='item.value as item.text | translate for item in useNewDocuSignExperienceInterfaceMetadata.options'\n                  ng-model='form.settings.useNewDocuSignExperienceInterface'></select>\n        </div>\n      </div>\n      <div id='allow-power-forms-control' class='form-group' ui-cfr ui-hint ui-models='[powerFormRoleMetadata]'>\n        <label class='label' for='form.settings.powerFormRole' translate=\"PowerForm Role\"></label>\n        <div class='select-wrap'>\n          <select id='form.settings.powerFormRole'\n                  ng-options='item.value as item.text | translate for item in powerFormRoleMetadata.options'\n                  ng-model='form.settings.powerFormRole' data-qa=\"powerForm_role_option\"></select>\n        </div>\n      </div>\n\n      <div ng-if=\"form.settings.powerFormRole === 'admin'\"\n           id='allow-power-forms-admin-access-between-users-control'\n           class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowPowerFormsAdminToAccessAllPowerFormEnvelopesMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-power-forms-admin-to-access-between-power-form-envelopes'\n               ng-model='form.settings.allowPowerFormsAdminToAccessAllPowerFormEnvelopes'\n               data-qa=\"can_access_other_users_powerforms_cb\"/>\n        <label class='cb_label' for='allow-power-forms-admin-to-access-between-power-form-envelopes'\n               data-qa=\"can_access_other_users_powerforms_cb_label\"\n               translate=\"Allow access to envelopes and form data from other PowerForm senders\"></label>\n      </div>\n\n      <div id='allowed-template-access-control' class='form-group' ui-cfr ui-hint\n           ui-models='[allowedTemplateAccessMetadata]'>\n        <label class='label' for='form.settings.allowedTemplateAccess' translate=\"Templates\"></label>\n        <div class='select-wrap'>\n          <select id='form.settings.allowedTemplateAccess'\n                  ng-options='item.value as item.text | translate for item in allowedTemplateAccessMetadata.options'\n                  ng-model='form.settings.allowedTemplateAccess' data-qa=\"templates_option\"></select>\n        </div>\n      </div>\n      <div id='allowed-address-book-access-control' class='form-group' ui-cfr ui-hint\n           ui-models='[allowedAddressBookAccessMetadata]'>\n        <label class='label' for='form.settings.allowedAddressBookAccess' translate=\"Address Book\"></label>\n        <div class='select-wrap'>\n          <select id='form.settings.allowedAddressBookAccess'\n                  ng-options='item.value as item.text | translate for item in allowedAddressBookAccessMetadata.options'\n                  ng-model='form.settings.allowedAddressBookAccess' data-qa=\"address_book_option\"></select>\n        </div>\n      </div>\n      <div id='self-signed-notifications-control' class='form-group' ui-cfr ui-hint\n           ui-models='[receiveCompletedSelfSignedDocumentsAsEmailLinksMetadata]'>\n        <label class='label' for='form.settings.receiveCompletedSelfSignedDocumentsAsEmailLinks'\n               translate=\"Self-signed email notifications are delivered by\"></label>\n        <div class='select-wrap'>\n          <select id='form.settings.receiveCompletedSelfSignedDocumentsAsEmailLinks'\n                  ng-options='item.value as item.text | translate for item in receiveCompletedSelfSignedDocumentsAsEmailLinksMetadata.options'\n                  ng-model='form.settings.receiveCompletedSelfSignedDocumentsAsEmailLinks'\n                  data-qa=\"selfsigned_email_delivery_option\"></select>\n        </div>\n      </div>\n      <div id='allowed-to-be-transfer-recipient-control' class='inline-input cb' ui-cfr ui-hint\n           ui-models='[allowedToBeEnvelopeTransferRecipientMetadata]'>\n        <input class='cb_input' type='checkbox' id='allow-transfered-envelopes'\n               ng-model='form.settings.allowedToBeEnvelopeTransferRecipient'\n               data-qa=\"allow_receipt_of_transfered_env_cb\"/>\n        <label class='cb_label' for='allow-transfered-envelopes' data-qa=\"allow_receipt_of_transfered_env_cb_label\"\n               translate=\"Allow receipt of transferred envelopes\"></label>\n      </div>\n\n      <div class=\"inline-input cb\" ui-cfr ui-hint\n          ui-models=\"[allowApiAccessToAccountMetadata]\">\n        <input class=\"cb_input\" type=\"checkbox\" id=\"manage-envelope-rights-via-api\"\n          data-qa=\"allow_manage_envelope_rights_via_api_cb\"\n          ng-model=\"form.settings.allowApiAccessToAccount\"/>\n        <label class=\"cb_label\" for=\"manage-envelope-rights-via-api\"\n          data-qa=\"allow_manage_envelope_rights_via_api_cb_lbl\"\n          translate=\"Allow view and manage envelope rights through API\"></label>\n      </div>\n\n      <div class=\"contextual-content\">\n        <div class=\"inline-input cb\" ui-cfr ui-hint\n            ui-models=\"[allowApiSendingOnBehalfOfOthersMetadata]\">\n          <input class=\"cb_input\" type=\"checkbox\" id=\"manage-send-on-behalf-via-api\"\n            data-qa=\"allow_manage_send_on_behalf_of_others_via_api_cb\"\n            ng-model=\"form.settings.allowApiSendingOnBehalfOfOthers\" />\n          <label class=\"cb_label\" for=\"manage-send-on-behalf-via-api\"\n            data-qa=\"allow_manage_send_on_behalf_of_others_via_api_cb_lbl\"\n            translate=\"Allow send on behalf of other users through API\"></label>\n        </div>\n      </div>\n\n      <div class=\"supplemental-documents\" ng-if=\"shouldDisplayAllowSupplementalDocuments\">\n        <div class=\"inline-input cb\" ui-cfr ui-hint\n            ui-models=\"[allowSupplementalDocumentsMetadata]\">\n          <input class=\"cb_input\" type=\"checkbox\" id=\"allow-supplemental-documents\"\n            ng-model=\"form.settings.allowSupplementalDocuments\"/>\n          <label class=\"cb_label\" for=\"allow-supplemental-documents\"\n            translate=\"Allow supplemental documents\">\n          </label>\n        </div>\n\n        <div class=\"contextual-content\"\n            ng-if=\"form.settings.allowSupplementalDocuments ||\n              allowSupplementalDocumentsMetadata.rights === 'editable'\">\n          <div class=\"inline-input\"\n            ng-class=\"{disabled: !form.settings.allowSupplementalDocuments ||\n              allowSupplementalDocumentsMetadata.rights === 'read_only'\n            }\"\n            translate=\"Signers must view supplemental documents is: [[styleStart]][[valueForAccount]][[styleEnd]]\"\n            translate-interpolation=\"bracket\"\n            translate-values=\"{\n              styleStart: '<strong>',\n              valueForAccount: accountSupplementalDocumentsMustView,\n              styleEnd: '</strong>'\n            }\">\n          </div>\n\n          <div class=\"contextual-content\">\n            <div class=\"inline-input cb\" ui-cfr ui-hint\n                ui-models=\"[\n                  allowSupplementalDocumentsMetadata,\n                  metadataGivenBooleanValue(form.settings.allowSupplementalDocuments)\n                ]\">\n              <input class=\"cb_input\" type=\"checkbox\"\n                id=\"override-supplemental-docs-must-view\"\n                ng-model=\"form.settings.supplementalDocumentsMustView\" />\n              <label class=\"cb_label\" for=\"override-supplemental-docs-must-view\"\n                translate=\"Allow senders to override this setting\"></label>\n            </div>\n          </div>\n\n          <div class=\"inline-input\"\n            ng-class=\"{disabled: !form.settings.allowSupplementalDocuments ||\n              allowSupplementalDocumentsMetadata.rights === 'read_only'\n            }\"\n            translate=\"Signers must accept supplemental documents is: [[styleStart]][[valueForAccount]][[styleEnd]]\"\n            translate-interpolation=\"bracket\"\n            translate-values=\"{\n              styleStart: '<strong>',\n              valueForAccount: accountSupplementalDocumentsMustAccept,\n              styleEnd: '</strong>'\n            }\">\n          </div>\n\n          <div class=\"contextual-content\">\n            <div class=\"inline-input cb\" ui-cfr ui-hint\n                ui-models=\"[\n                  allowSupplementalDocumentsMetadata,\n                  metadataGivenBooleanValue(form.settings.allowSupplementalDocuments)\n                ]\">\n              <input class=\"cb_input\" type=\"checkbox\"\n                id=\"override-supplemental-docs-must-accept\"\n                ng-model=\"form.settings.supplementalDocumentsMustAccept\" />\n              <label class=\"cb_label\" for=\"override-supplemental-docs-must-accept\"\n                translate=\"Allow senders to override this setting\"></label>\n            </div>\n          </div>\n\n          <div class=\"inline-input\"\n            ng-class=\"{disabled: !form.settings.allowSupplementalDocuments ||\n              allowSupplementalDocumentsMetadata.rights === 'read_only'\n            }\"\n            translate=\"Signers must read supplemental documents is: [[styleStart]][[valueForAccount]][[styleEnd]]\"\n            translate-interpolation=\"bracket\"\n            translate-values=\"{\n              styleStart: '<strong>',\n              valueForAccount: accountSupplementalDocumentsMustRead,\n              styleEnd: '</strong>'\n            }\">\n          </div>\n\n          <div class=\"contextual-content\">\n            <div class=\"inline-input cb\" ui-cfr ui-hint\n                ui-models=\"[\n                  allowSupplementalDocumentsMetadata,\n                  metadataGivenBooleanValue(form.settings.allowSupplementalDocuments)\n                ]\">\n              <input class=\"cb_input\" type=\"checkbox\"\n                id=\"override-supplemental-docs-must-read\"\n                ng-model=\"form.settings.supplementalDocumentsMustRead\" />\n              <label class=\"cb_label\" for=\"override-supplemental-docs-must-read\"\n                translate=\"Allow senders to override this setting\"></label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"text-center grid pad\" ng-hide=\"settingsLoaded\" ds-loading></div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(31).RolesModule.controller("AddEditRoleController",["$scope","SystemRolesNameMapper","oliveMessage","$translate","userPermissions","appUser","lodash",function(e,t,n,s,o,r,l){function c(e){return s.instant(e?a:i)}function d(e,t,n){n.form&&(e?(n.form.settings.accountManagementGranular.allowManageSharing=!0,n.form.settings.accountManagementGranular.allowManageAccountSettings=!0,n.form.settings.accountManagementGranular.allowManageReporting=!0,n.form.settings.accountManagementGranular.allowManageAccountSecuritySettings=!0,n.form.settings.accountManagementGranular.allowManageSigningGroups=!0,n.accountManagementGranular.allowManageSharingMetadata.rights="read_only",n.accountManagementGranular.allowManageAccountSettingsMetadata.rights="read_only",n.accountManagementGranular.allowManageReportingMetadata.rights="read_only",n.accountManagementGranular.allowManageAccountSecuritySettingsMetadata.rights="read_only",n.accountManagementGranular.allowManageSigningGroupsMetadata.rights="read_only"):l.isUndefined(t)||(n.form.settings.accountManagementGranular.allowManageSharing=!1,n.form.settings.accountManagementGranular.allowManageAccountSettings=!1,n.form.settings.accountManagementGranular.allowManageReporting=!1,n.form.settings.accountManagementGranular.allowManageAccountSecuritySettings=!1,n.form.settings.accountManagementGranular.allowManageSigningGroups=!1,n.accountManagementGranular.allowManageSharingMetadata.rights="editable",n.accountManagementGranular.allowManageAccountSettingsMetadata.rights="editable",n.accountManagementGranular.allowManageReportingMetadata.rights="editable",n.accountManagementGranular.allowManageAccountSecuritySettingsMetadata.rights="editable",n.accountManagementGranular.allowManageSigningGroupsMetadata.rights="editable"),m(n))}function u(e,t,n){n.form&&(e?(n.form.settings.accountManagementGranular.allowManageUsers=!0,n.accountManagementGranular.allowManageUsersMetadata.rights="read_only"):l.isUndefined(t)||n.form.settings.accountManagementGranular.allowManageSharing||n.form.settings.accountManagementGranular.allowManageAdmins||(n.form.settings.accountManagementGranular.allowManageUsers=!1,n.accountManagementGranular.allowManageUsersMetadata.rights="editable"),m(n))}function p(e,t,n){n.form&&(e?(n.form.settings.accountManagementGranular.allowManageAdmins=!0,n.accountManagementGranular.allowManageAdminsMetadata.rights="read_only"):l.isUndefined(t)||(n.form.settings.accountManagementGranular.allowManageAdmins=!1,n.accountManagementGranular.allowManageAdminsMetadata.rights="editable"),m(n))}function m(e){(e.form&&t.isSystemRole(e.form.name)||o.isGranularAdmin())&&(e.accountManagementGranular.allowManageUsersMetadata.rights="read_only",e.accountManagementGranular.allowManageAdminsMetadata.rights="read_only",e.accountManagementGranular.allowManageSharingMetadata.rights="read_only",e.accountManagementGranular.allowManageAccountSettingsMetadata.rights="read_only",e.accountManagementGranular.allowManageReportingMetadata.rights="read_only",e.accountManagementGranular.allowManageAccountSecuritySettingsMetadata.rights="read_only",e.accountManagementGranular.allowManageSigningGroupsMetadata.rights="read_only")}function g(e,n,a){a.form&&!t.isSystemRole(a.form.name)&&void 0!==e&&(e?a.allowApiSendingOnBehalfOfOthersMetadata.rights="editable":(a.allowApiSendingOnBehalfOfOthersMetadata.rights="read_only",e!==n&&(a.form.settings.allowApiSendingOnBehalfOfOthers=!1)))}function h(e,t,n){n.form&&e!==t&&(e||(n.form.settings.supplementalDocumentsMustView=!1,n.form.settings.supplementalDocumentsMustRead=!1,n.form.settings.supplementalDocumentsMustAccept=!1))}function f(e,t,n){n.form&&e!==t&&"admin"!==e&&(n.form.settings.allowPowerFormsAdminToAccessAllPowerFormEnvelopes=!1)}e.child=e.$new(),r.currentAccountInfo.informationRetrieved.then(function(){e.shouldDisplayAllowSupplementalDocuments=r.currentAccountInfo.settings.allowSupplementalDocuments,e.accountSupplementalDocumentsMustView=c(r.currentAccountInfo.settings.supplementalDocumentsMustView),e.accountSupplementalDocumentsMustRead=c(r.currentAccountInfo.settings.supplementalDocumentsMustRead),e.accountSupplementalDocumentsMustAccept=c(r.currentAccountInfo.settings.supplementalDocumentsMustAccept)}),e.validateRoleName=function(e){if(!e)return!1;if(n.closeAll(),t.isSystemRole(e))return n.show({content:s.instant("The Permission Set {{name}} already exists.",{name:e}),type:"alert",modal:!0}),!1;if(t.isReservedName(e))return n.show({content:s.instant("{{name}} is a reserved name. Please choose another.",{name:e}),type:"alert",modal:!0}),!1;return!0},e.metadataGivenBooleanValue=function(e){return{rights:e?"editable":"read_only",uiHint:"available"}},e.startWatching=function(){e.child.$watch("form.settings.allowAccountManagement",d),e.child.$watch("form.settings.accountManagementGranular.allowManageAdmins",u),e.child.$watch("form.settings.accountManagementGranular.allowManageSharing",p),e.child.$watch("form.settings.allowApiAccessToAccount",g),e.child.$watch("form.settings.allowSupplementalDocuments",h),e.child.$watch("form.settings.powerFormRole",f)},e.powerFormAdminToggle=f,this.allowAccountManagementChanged=d,this.allowManageAdminsChanged=u,this.allowManageSharingChanged=p}]);var a="required",i="not required"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44).GroupsModule.factory("GroupService",["appUser","dsGroups","dsAccountUsers","$q","lodash",function(e,t,n,a,i){var s={active:"Active",closed:"Closed",disabled:"Closed",activationsent:"Pending",activationrequired:"Pending"};function o(e){return{id:e.userId,name:e.userName,email:e.email,status:s[e.userStatus.toLowerCase()]}}function r(e){var t=i.map([e],function(e){return{groupName:e.groupName,groupType:"customGroup"}});return t[0]}function l(e){return i.map(e,function(e){return{userId:e.id}})}return{usersFor:function(s,r){if("everyoneGroup"===s.groupType){return n.retrieveUsers(e.getCurrentAccountId(),{status:"active,activationsent"}).then(function(e){return i.map(e,o)})}return t.getGroupUsers(e.getCurrentAccountId(),s.groupId,r).then(function(e){if(i.isUndefined(e.errorDetails)){var t=e.users,n=i.omit(e,"users");return t=i.map(t,o),i.remove(t,function(e){return"Closed"===e.status}),{page:n,users:t}}return a.reject(e.errorDetails)})},add:function(n){var i=null;return t.create(e.getCurrentAccountId(),r(n)).then(function(e){return(i=e.groups[0]).errorDetails?a.reject(i.errorDetails):i}).then(function(i){return n.members.length>0?t.addUsers(e.getCurrentAccountId(),i.groupId,l(n.members)).then(function(e){return e.errorCode?a.reject({message:e.message}):i}):i}).finally(function(){i.usersCount=n.members.length})},save:function(n,i,s){var o=null;return t.update(e.getCurrentAccountId(),n.groupId,r(n)).then(function(e){return(o=e.groups[0]).errorDetails?a.reject(o.errorDetails):o}).then(function(){if(i.length>0)return t.removeUsers(e.getCurrentAccountId(),n.groupId,l(i)).then(function(e){return e.errorDetails?a.reject(e.errorDetails):e.users})}).then(function(){return s.length>0?t.addUsers(e.getCurrentAccountId(),n.groupId,l(s)).then(function(e){return e.errorCode?a.reject({message:e.message}):o}):o})},delete:function(n){return t.delete(e.getCurrentAccountId(),n)},removeSingleUser:function(n,i){return t.removeUsers(e.getCurrentAccountId(),n.groupId,l([i])).then(function(e){return e.errorDetails?a.reject(e.errorDetails):e.users})},addSingleUser:function(n,i){return t.addUsers(e.getCurrentAccountId(),n.groupId,l([i])).then(function(e){return e.errorCode?a.reject({message:e.message}):e})}}}])},function(e,t){var n="user management/groups/group-user-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="UserListController as userList">\n  <div ng-if="!(userList.loaded && !userList.list.length && userList.isDefaultSearchOptionsAssignUsersToGroup())">\n    <div class="section" ng-if="userList.loaded">\n      <div class="fgrid action-row">\n        <div class="fgrid-cell u-float-left">\n          <h1 ng-if="userList.activeStamp"\n              translate="Assign Users to [[stampName]]"\n              translate-interpolation="bracket"\n              translate-values="{stampName: userList.activeStamp.signatureName}">\n          </h1>\n          <h1 ng-if="!userList.isFilterByGroupOnly() && !userList.activeStamp"\n              translate="Assign Users to [[groupName]]"\n              translate-interpolation="bracket"\n              translate-values="{groupName: userList.group.groupName}">\n          </h1>\n        </div>\n        <div class="fgrid_cell u-float-right">\n          <ds-filter-controls filterable="userList" searchable="userList">\n            \x3c!-- Permission Set --\x3e\n            <div class="form-group">\n              <label class="label" for="permission-set" translate="Permission Set"></label>\n              <div class="select-wrap">\n                <select id="permission-set" data-qa="users_search_filter_perm_set_option"\n                        ng-model="userList.selectedRoleFilterOption"\n                        ng-options="role.name for role in userList.roleFilterOptions"> </select>\n              </div>\n            </div>\n\n            \x3c!-- Group --\x3e\n            <div class="form-group" ng-if="!userList.isFilterByGroupOnly()">\n              <label class="label" for="group" translate="Group"></label>\n              <div class="select-wrap">\n                <select id="group" data-qa="users_search_filter_group_option"\n                        ng-model="userList.selectedGroupFilterOption" ng-disabled="userList.isFilterByGroupOnly()"\n                        ng-options="group.name for group in userList.groupFilterOptions"> </select>\n              </div>\n            </div>\n\n            \x3c!-- Status --\x3e\n            <div class="form-group">\n              <label class="label" for="status" translate="Status"></label>\n              <div ng-repeat="option in userList.statusFilterOptions" class="inline-input cb" id="status">\n                <input id="status-{{option.name}}" class="cb_input" type="checkbox" ng-model="option.value"\n                       data-qa="users_search_filter_status_cb">\n                <label class="cb_label" for="status-{{option.name}}" data-qa="users_search_filter_status_cb_lbl">\n                  {{option.name | translate}}\n                </label>\n              </div>\n            </div>\n          </ds-filter-controls>\n        </div>\n      </div>\n\n      <div class="fgrid action-row">\n        <div class="fgrid_cell">\n          <div class="action-btns u-float-left">\n            <button class="btn btn-secondary btn-md" ds-size-=\'lg\'\n                    ng-if="userList.isFilterByGroupOnly() && userList.isCustomGroupSelected()"\n                    ng-click="userList.goToAssign()" translate="Assign Users"></button>\n          </div>\n          <ds-page-controls pageable="userList"></ds-page-controls>\n        </div>\n      </div>\n    </div>\n\n    <ds-filter-applied filterable="userList" ng-if="userList.loaded"></ds-filter-applied>\n    <table class=\'mgnt-list list-tbl mtbl table table-select\' olive-table-select ng-if="userList.loaded">\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox" ng-if="userList.showSelect">\n              <span class="cb cb-noText" ng-if="userList.loaded">\n                  <input class="cb_input" type="checkbox" id="selectAll" ng-click="userList.toggleSelectAll()"\n                         ng-checked="userList.isSelectAll()" ng-disabled="userList.disableSelectAll()" />\n                  <label class="cb_label" for="selectAll" translate="Select All"></label>\n              </span>\n        </th>\n        <th name=\'name\'><span translate="Name"></span></th>\n        <th name=\'email\'><span translate="Email"></span></th>\n        <th name=\'added\'><span translate="Added"></span></th>\n        <th name=\'status\'><span translate="Status"></span></th>\n        <th name=\'role\' class="hidden-sm-down"><span translate="Permission Set"></span></th>\n        <th name=\'group\' class="hidden-sm-down"><span translate="Groups"></span></th>\n        <th ng-if="userList.usersByGroupOnly && userList.isCustomGroupSelected()">&nbsp;</th>\n      </tr>\n      </thead>\n\n      <tbody ng-if="userList.loaded">\n      <tr ng-repeat=\'user in userList.list\' ng-class="{\n              \'closed\': user.status === \'Closed\' && !userList.showSelect,\n              \'table_row-selected\': userList.isUserSelected(user)\n              }">\n        <td ng-if="userList.showSelect">\n              <span class="cb cb-noText">\n                  <input class="cb_input" type="checkbox" id="input_1a-{{$index}}" olive-table-select-row\n                         ng-disabled="userList.disableSelect(user)" ng-checked="userList.isUserSelected(user)"\n                         ng-click="userList.toggleUser(user)" />\n                  <label class="cb_label" for="input_1a-{{$index}}" translate="Select"></label>\n              </span>\n        </td>\n        <td data-title=\'Name\'><span class="truncate u-ellipsis">{{::user.name}}</span></td>\n\n        <td><span class="truncate u-ellipsis">{{::user.email}}</span></td>\n\n        <td>{{::user.added | moment:userList.dateTimeFormat:userList.timeZone}}</td>\n\n        <td>\n          <i class=\'icon\' ng-class="{\n                \'Active\':\'icon-circle text-success\',\n                \'Pending\':\'icon-circle icon-pending\',\n                \'Closed\':\'icon-circleclosed\'\n              }[user.status]"></i> <span class="hidden-sm-down" translate="{{::user.status}}"></span>\n        </td>\n\n        <td class="user-role-list hidden-sm-down" data-title="Role">{{::user.role}}</td>\n\n        <td class="hidden-sm-down">\n            <span class="user-group-list">\n              {{userList.groupListSummary(user.groupList)}}\n            </span>\n        </td>\n        <td class="column-min" data-title=\'Actions\'\n            ng-if="userList.usersByGroupOnly && userList.isCustomGroupSelected()">\n          <button type="button" class="btn btn-secondary u-float-right"\n                  ng-click="userList.removeGroupUser(user)"\n                  translate="Remove"></button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div ng-if="userList.loaded && !userList.list.length">\n    <div class="emptyState" ng-if="userList.isDefaultSearchOptionsAssignUsersToGroup()">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Users"></h3>\n        <p ng-if="userList.list.length === 0" translate="There are no users assigned to this group."></p>\n        <button type="button" class="btn btn-primary"\n                ng-click="userList.goToAssign()"\n                translate="Assign User"></button>\n      </div>\n    </div>\n    <div class="emptyState" ng-if="!userList.isDefaultSearchOptionsAssignUsersToGroup()">\n      <i class="icon icon-search emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p ng-if="userList.submittedSearch && userList.appliedFilters.length"\n           translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n           translate-interpolation="bracket" translate-values="{searchQuery: userList.submittedSearch}"></p>\n        <p ng-if="userList.submittedSearch && !userList.appliedFilters.length"\n           translate="The selected search query \'[[searchQuery]]\' produced no results." translate-interpolation="bracket"\n           translate-values="{searchQuery: userList.submittedSearch}"></p>\n        <p ng-if="!userList.submittedSearch && userList.appliedFilters.length"\n           translate="The selected filters produced no results."></p>\n      </div>\n    </div>\n  </div>\n  <div class="section" ng-if="userList.loaded && userList.list.length">\n    <div class="grid action-row">\n      <ds-page-controls pageable="userList"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="userList.loading" ds-loading-succeeded="userList.loaded"\n       ds-loading-error="{{\'We had trouble loading your users. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/groups/group-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management" ng-controller="GroupListController as groupList">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Groups"></h1>\n      </div>\n      <div class=\'col-1-5 pagination\'>\n        <div class=\'form_item form_item-iconLeft form_item-iconRight\'>\n          <span class=\'icon icon-search\'></span>\n          <input type=\'text\'\n                 class=\'input-text search\'\n                 ng-model=\'groupList.search.pendingPhrase\'\n                 maxlength="100"\n                 ng-keyup="groupList.submitSearchPhrase($event)"\n                 data-qa="groups_list_search_txtb"\n                 translate translate-attr-placeholder=\'Search\' />\n          <button type="button" class="button-icon"\n            ng-if="groupList.search.phrase"\n            ng-click="groupList.resetSearch()">\n            <span class="icon icon-circle-x">\n            </span>\n          </button>\n        </div>\n        \x3c!-- end search box --\x3e\n      </div>\n    </div>\n    <div class="grid action-row">\n      <div class="col-1-5">\n        <button class=\'btn btn-secondary btn-md\'\n                ng-click="groupList.add()"\n                data-qa="groups_add_group_btn"\n                translate="Add Group">\n        </button>\n      </div>\n      <div class="col-1-5 pagination">\n        <paging-controls list-name="\'groups\' | translate" page="groupList.page" page-controls="groupList.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n  <table class=\'mgnt-list list-tbl mtbl\'>\n    <thead>\n    <tr>\n      <th name="groupName"><span translate="Name"></span></th>\n      <th name="usersCount"><span translate="Users"></span></th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n      <tr ng-class="{\'customGroup\':\'clickable\'}[group.groupType]" ng-repeat=\'group in groupList.list\'>\n        <td data-title=\'name\' ng-click="groupList.editGroup(group)" data-qa="groups_group_name_td">\n          <span class="truncate u-ellipsis">{{groupList.translateSystemGroups(group)}}</span>\n        </td>\n\n        <td ng-click="groupList.editGroup(group)">\n          {{::group.usersCount}}\n        </td>\n\n        <td class="column-min" data-title=\'Actions\'>\n          <button type=\'button\' class=\'btn btn-secondary btn-trigger\'\n                  olive-menu=\'groupActions-{{::group.groupId}}\'\n                  olive-menu-position=\'below right\'\n                  data-qa="groups_actions_btn"\n                  translate="Actions"></button>\n          <div id=\'groupActions-{{::group.groupId }}\' class=\'menu invisible\'>\n            <ul>\n              <li>\n                <a name=\'edit-group\' class=\'item\'\n                   ng-click=\'groupList.editGroup(group)\'\n                   data-qa="groups_actions_edit_group_li"\n                   translate="{{groupList.userBrandButtonText}}">\n                 </a>\n              </li>\n              <li>\n                <a name=\'rename-group\' class=\'item\'\n                   ng-if="group.groupType === \'customGroup\'"\n                   ng-click="groupList.renameGroup(group)"\n                   translate="Rename Group"> </a>\n              </li>\n              <li>\n                <a name=\'delete-group\' class=\'item\'\n                   ng-if="group.groupType === \'customGroup\'"\n                   ng-click="groupList.deleteGroup(group)"\n                   data-qa="groups_actions_delete_group_li"\n                   translate="DS_CONTEXT=(group) Delete">\n                </a>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="successfullyLoaded && groupList.list.length == 0 && groupList.search.phrase.length > 0">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="groupList.search.phrase.length > 0"\n         translate="The selected search query \'[[phrase]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{phrase: groupList.search.phrase}"></p>\n\n    </div>\n  </div>\n\n  <div ds-loading="groupList.loaded"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your groups. Go ahead and try that again.\' | translate}}">\n  </div>\n\n  <div class="section">\n    <div class="grid action-row" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="groupList.page" page-controls="groupList.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n  <div ui-view></div>\n\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/groups/group-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="GroupDetailsController as groupDetail">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Groups" ui-sref="authenticated.groups"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item">{{ groupDetail.group.groupName }}</span>\n      </li>\n    </ol>\n  </nav>\n  <div class="section">\n    <h1 class="header-title">{{ groupDetail.group.groupName }}</h1>\n  </div>\n  <div class="tabs-wrap">\n    <ul class="tabs" olive-tabset="groupsDetailTabs">\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="users" ng-class="{\'on\': groupDetail.activateUsersTab}"\n           translate="Users"></a>\n      </li>\n      <li class="tab-wrap" ng-if="groupDetail.canManageMultipleBrands">\n        <a class="tab" olive-tab-id="brands" ng-class="{\'on\': groupDetail.activateBrandsTab}"\n           translate="Brands"></a>\n      </li>\n    </ul>\n  </div>\n\n  <div>\n    <div olive-tabset-parent="groupsDetailTabs" olive-tab-id="users">\n      <div ng-include="\'user management/groups/group-user-list.html\'"></div>\n    </div>\n    <div olive-tabset-parent="groupsDetailTabs" olive-tab-id="brands" ng-if="groupDetail.canManageMultipleBrands">\n      <div ng-include="\'branding/group-brand-list.html\'"></div>\n    </div>\n  </div>\n  <div ds-loading="groupDetail.loading" ds-loading-succeeded="groupDetail.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your group. Go ahead and try that again.\' | translate}}"></div>\n</div>')}]),e.exports=n},function(e,t){var n="user management/groups/group-assign-users-brands.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="GroupAssignUsersBrandsController as groupAssign">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Groups" ui-sref="authenticated.groups"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ng-click="groupAssign.goBack()">{{ groupAssign.group.groupName }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" ng-if="groupAssign.isAssignUsers" translate="Assign Users"></span>\n        <span class="crumbs_item" ng-if="groupAssign.isAssignBrands" translate="Assign Brands"></span>\n      </li>\n    </ol>\n  </nav>\n\n  <div class="section">\n    <h1 class="header-title" ng-if="groupAssign.isAssignUsers" translate="Assign Users"></h1>\n    <h1 class="header-title" ng-if="groupAssign.isAssignBrands" translate="Assign Brands"></h1>\n  </div>\n  <div class="assign-tabs" olive-tabset="groupsDetailTabs">\n    <div class="tabs-wrap">\n      <ul class="tabs">\n        <li class="tab-wrap">\n          <a class="tab" olive-tab-id="all" translate="DS_CONTEXT=(users or brands) All"></a>\n        </li>\n        <li class="tab-wrap">\n          <a class="tab" olive-tab-id="selected" translate="Selected ([[count]])" translate-interpolation="bracket"\n             translate-values="{count: selectedList.length || 0}"></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="section">\n    <div olive-tabset-parent="groupsDetailTabs" olive-tab-id="all">\n      <div ng-include="\'branding/group-brand-list.html\'" ng-if="groupAssign.isAssignBrands"></div>\n      <div ng-include="\'user management/groups/group-user-list.html\'" ng-if="groupAssign.isAssignUsers"></div>\n    </div>\n    <div olive-tabset-parent="groupsDetailTabs" olive-tab-id="selected">\n      <div ng-include="\'user management/groups/group-assign-selected.html\'"></div>\n    </div>\n  </div>\n  <div class="assign-bottom-buttons sticky-buttons" olive-sticky="assign-bottom-buttons" olive-location="bottom">\n    <div class="section">\n      <button class="btn btn-primary"\n              ng-disabled="groupAssign.isSaving || !selectedList.length"\n              ng-class="{\'btn-loading\': groupAssign.isSaving}"\n              ng-click="groupAssign.assign()">\n        <span ng-if="!groupAssign.isSaving" translate="Assign"></span>\n        <span ng-if="groupAssign.isSaving"><span translate="Assigning"></span>&hellip;</span>\n      </button>\n      <button class="btn btn-minor" translate="Cancel" ng-click="groupAssign.goBack()"\n              ng-disabled="groupAssign.isSaving"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=n(53),s=n(236),o=100,r="{{count}} brands were successfully assigned to the group {{groupName}}.",l="{{name}} was successfully assigned to the group {{groupName}}.",c="{{count}} users were successfully assigned to the group {{groupName}}.",d="{{name}} was successfully assigned to the group {{groupName}}.",u="An error occurred while assigning brand. Please try again.",p="An error occurred while assigning users. Please try again.",m=function(){function e(e,t,n,a,s,r,l){this._$scope=e,this._$state=t,this._dsGroups=n,this._appUser=a,this._$translate=s,this._oliveMessage=r,this._=l,this.isAssignUsers=!1,this.isAssignBrands=!1,this.isSaving=!1,this._init(),this._$scope.selectedList=[],this._$scope.maxSelected=o,this._$scope.$on("selectedUsersChanged",this._showMaxMessage.bind(this,i.GROUP_ASSIGN_OPTIONS.USER)),this._$scope.$on("selectedBrandsChanged",this._showMaxMessage.bind(this,i.GROUP_ASSIGN_OPTIONS.BRAND))}return e.prototype._init=function(){var e=this._dsGroups.assignAction;this.group=this._dsGroups.activeGroup,this.isAssignUsers=e===i.GROUP_ASSIGN_OPTIONS.USER,this.isAssignBrands=e===i.GROUP_ASSIGN_OPTIONS.BRAND,(this._.isUndefined(this.group)||!this.isAssignBrands&&!this.isAssignUsers)&&this._$state.go("authenticated.groups")},e.prototype.goBack=function(){this._$state.go("authenticated.group-details")},e.prototype.assign=function(){var e=this._appUser.getCurrentAccountId(),t=this.isAssignUsers?this._dsGroups.addUsers(e,this.group.groupId,function(){return this._.map(this._$scope.selectedList,function(e){return{userId:e.id}})}.call(this)):this._dsGroups.addBrands(e,this.group.groupId,function(){return this._.map(this._$scope.selectedList,function(e){return{brandId:e.brandId}})}.call(this));this.isSaving=!0,t.then(function(e){var t="";t=this.isAssignUsers?e.length>1?this._$translate.instant(c,{count:e.length,groupName:this.group.groupName}):this._$translate.instant(d,{name:e[0].userName,groupName:this.group.groupName}):e.length>1?this._$translate.instant(r,{count:e.length,groupName:this.group.groupName}):this._$translate.instant(l,{name:this._$scope.selectedList[0].brandName,groupName:this.group.groupName});this._oliveMessage.show(t,"assignToGroupSuccess","success"),this._$state.go("authenticated.group-details")}.bind(this)).catch(function(){var e=this.isAssignUsers?p:u;this._oliveMessage.show(e,"assignToGroupError","error")}.bind(this))},e.prototype._showMaxMessage=function(e){this._oliveMessage.closeAll();var t=e===i.GROUP_ASSIGN_OPTIONS.BRAND?"Only {{maxCount}} brands can be assigned at a time. Please assign the currently selected brands, then select additional brands as needed":s.MAX_USER_SELECTED_EXCEEDED_MSG;if(this._$scope.selectedList.length===this._$scope.maxSelected){var n=this._$translate.instant(t,{maxCount:this._$scope.maxSelected});this._oliveMessage.show(n,"maxSelectedReached","warning")}},e}();a.GroupsModule.controller("GroupAssignUsersBrandsController",["$scope","$state","dsGroups","appUser","$translate","oliveMessage","lodash",m])},function(e,t){var n="user management/groups/group-assign-selected.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="GroupAssignSelectedController as assignSelected">\n  <div ng-if="assignSelected.userList">\n    <table class="mgnt-list list-tbl mtbl">\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox">\n          <span class="cb cb-noText" ng-if="selectedList.length > 0">\n            <input class="cb_input" type="checkbox" id="selectedUser_selectAll"\n                   ng-checked="selectedList.length > 0"\n                   ng-click="assignSelected.removeAll()" />\n            <label class="cb_label" for="selectedUser_selectAll" translate="Select All"></label>\n          </span>\n        </th>\n        <th translate="Name"></th>\n        <th translate="Email"></th>\n        <th translate="Added"></th>\n        <th translate="Status"></th>\n        <th class="hidden-sm-down" translate="Permission Set"></th>\n        <th class="hidden-sm-down" translate="Groups"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="user in selectedList">\n        <td>\n          <span class="cb cb-noText">\n            <input class="cb_input" type="checkbox" id="input_1a-{{user.id}}"\n                   ng-click="assignSelected.removeSelected(user)"\n                   ng-checked="true" />\n            <label class="cb_label" for="input_1a-{{user.id}}" translate="Select"></label>\n          </span>\n        </td>\n        <td class="truncate">{{::user.name}}</td>\n        <td class="truncate">{{::user.email}}</td>\n        <td>{{::user.added | moment:assignSelected.dateTimeFormat:assignSelected.timeZone}}</td>\n        <td>\n          <i class="icon" ng-class="{\n                \'Active\':\'icon-circle text-success\',\n                \'Pending\':\'icon-circle icon-pending\',\n                \'Closed\':\'icon-circleclosed\'\n              }[user.status]"></i> <span class="hidden-sm-down" translate="{{::user.status}}"></span>\n        </td>\n        <td class="user-role-list hidden-sm-down" data-title="Role">{{::user.role}}</td>\n        <td class="hidden-sm-down">\n            <span class="user-group-list">\n              {{assignSelected.groupListSummary(user.groupList)}}\n            </span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="brands" ng-if="assignSelected.brandList">\n    <table class="mgnt-list list-tbl mtbl">\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox">\n          <span class="cb cb-noText" ng-if="selectedList.length > 0">\n              <input class="cb_input" type="checkbox" id="selectedBrand_selectAll"\n                     ng-checked="selectedList.length > 0"\n                     ng-click="assignSelected.removeAll()" />\n              <label class="cb_label" for="selectedBrand_selectAll" translate="Select All"></label>\n          </span>\n        </th>\n        <th translate="Logo"></th>\n        <th translate="Brand Name"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="brand in selectedList">\n        <td>\n          <span class="cb cb-noText">\n            <input class="cb_input" type="checkbox" id="input_1a-{{brand.brandId}}"\n                   ng-click="assignSelected.removeSelected(brand)"\n                   ng-checked="true"\n            />\n            <label class="cb_label" for="input_1a-{{brand.brandId}}" translate="Select"></label>\n          </span>\n        </td>\n        <td>\n          <img class="brand-logo-table"\n               ng-if="brand.logos.primary"\n               ng-src="{{::brand.logos.primary}}&{{::brand.logos.lastLogoUpdate}}"\n               translate translate-attr-alt="Signing Logo"/>\n          <span ng-if="!brand.logos.primary" class="brand-logo site-header">\n          <div class="logo logo-docusign logo-docusign-table"></div>\n        </span>\n        </td>\n        <td>\n          <span class="truncate u-ellipsis">{{::brand.brandName}}</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=n(53),s=function(){function e(e,t,n,a,s,o){this._$scope=e,this._$state=t,this._$translate=n,this._dsGroups=a,this._dateTimeService=s,this._=o,this.userList=!1,this.brandList=!1,this._group=this._dsGroups.activeGroup,this.userList=this._dsGroups.assignAction===i.GROUP_ASSIGN_OPTIONS.USER,this.brandList=this._dsGroups.assignAction===i.GROUP_ASSIGN_OPTIONS.BRAND,(this._.isUndefined(this._group)||!this.userList&&!this.brandList)&&this._$state.go("authenticated.groups"),this._initDateTimeProperties()}return e.prototype.removeSelected=function(e){this._.remove(this._$scope.selectedList,function(t){return t===e})},e.prototype.removeAll=function(){this._.remove(this._$scope.selectedList,function(e){return e})},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this._dateTimeService.getDateTimeFormat(),this.timeZone=this._dateTimeService.getTimeZone()},e.prototype.groupListSummary=function(e){var t=e.slice(0,2).map(function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)}.bind(this));return e.length>2&&t.push(this._$translate.instant("{{remainingNumberOfGroups}} more",{remainingNumberOfGroups:e.length-2})),t.join(", ")},e}();a.GroupsModule.controller("GroupAssignSelectedController",["$scope","$state","$translate","dsGroups","DateTimeService","lodash",s])},function(e,t){var n="user management/groups/group-add-rename.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="GroupAddRenameController as addRename" ds-form>\n  <div class="modal_header">\n    <h1 ng-if="addRename.isEdit" class="modal_title" translate="Rename Group"></h1>\n    <h1 ng-if="!addRename.isEdit" class="modal_title" translate="Add Group"></h1>\n  </div>\n  <div class="modal_content">\n    <div class="form_unit">\n      <label class="label" for="group-name" label-required=\'*\' translate="Group Name"></label>\n      <input class="input-text input-md" type="text" id="group-name" ng-model="addRename.group.groupName" required>\n    </div>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary"\n            ng-click="addRename.saveGroup()">{{ addRename.actionText() }}\n    </button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=function(){function e(e,t,n,a,i,s){this._$scope=e,this._groupService=t,this._=n,this._oliveMessage=a,this._oliveModal=i,this._$translate=s,this.isEdit=!1,this.group=this._.cloneDeep(this._$scope.activeGroup),this.isEdit=!this._.isUndefined(this.group)}return e.prototype.actionText=function(){return this._$translate.instant(this.isEdit?"Save":"Add")},e.prototype.saveGroup=function(){this.isEdit?this._updateGroup():this._createGroup()},e.prototype._updateGroup=function(){var e=this;this._groupService.save(this.group,[],[]).then(function(t){var n=e._$translate.instant("You successfully updated the group {{name}}.",{name:t.groupName});e._oliveMessage.show(n,"updateGroupSuccess","success"),e._oliveModal.closeAllModals(),e._$scope.$emit("GroupUpdated",t)}).catch(function(t){var n=e._$translate.instant(e._errorMessage(t));e._oliveMessage.show({content:n,name:"updateGroupError",type:"error",modal:!0})})},e.prototype._createGroup=function(){var e=this,t={members:[],groupName:this.group.groupName};this._groupService.add(t).then(function(t){var n=e._$translate.instant("You successfully created the group {{name}}.",{name:t.groupName});e._oliveMessage.show(n,"addGroupSuccess","success"),e._oliveModal.closeAllModals(),e._$scope.$emit("NewGroupAdded",t)}).catch(function(t){var n=e._$translate.instant(e._errorMessage(t));e._oliveMessage.show({content:n,name:"addGroupError",type:"error",modal:!0})})},e.prototype._errorMessage=function(e){return void 0===e&&(e={message:void 0}),/name.*already exists/i.test(e.message)?"This Group name is already in use. Please enter a new name.":this.isEdit?"An error prevented this Group from being updated.":"An error prevented this Group from being created."},e}();a.GroupsModule.controller("GroupAddRenameController",["$scope","GroupService","lodash","oliveMessage","oliveModal","$translate",i])},function(e,t){var n="user management/groups/delete-group-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="header">\n  <h1 translate="Delete Group"></h1>\n</div>\n<div class="content" translate="Are you sure you want to delete this group?">\n</div>\n<div class="footer" ng-controller="DeleteGroupController">\n  <button type="submit" class="btn btn-lg btn-primary" ng-click="delete()"\n      data-qa="delete_group_modal_delete"\n      translate="DS_CONTEXT=(group) Delete"></button>\n  <button type="button" class="btn btn-lg btn-minor" ds-close-modal\n      data-qa="delete_group_modal_cancel"\n      translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44).GroupsModule.controller("DeleteGroupController",["$scope","GroupService","dsModals","dsNotification","$translate",function(e,t,n,a,i){e.delete=function(){var s={msg:i.instant("You successfully removed the group {{name}}.",{name:e.activeGroup.groupName}),type:"success",modal:!1};t.delete(e.activeGroup).then(function(){e.$emit("GroupDeleted",e.activeGroup),n.closeModal()},function(){s.type="alert",s.msg=i.instant("This group could not be removed. Try again in a moment."),s.modal=!0}).finally(function(){a.show(s)})}}])},function(e,t){var n="user management/email-preferences/email-preferences.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main"\n     ng-controller="EmailPreferencesController as ctrl" ds-form>\n  <div class="section">\n    <h1 class=\'header-title\' translate="Email Preferences"></h1>\n\n    <div class="header-description">\n      <span translate="Set the default email notification preferences for new users added to this account."></span>\n      <span translate="Users can modify these settings in their My Preferences."></span>\n      <span translate="API User settings apply to envelopes sent using an API integration."></span>\n    </div>\n\n    <div class="header-actions"\n      ds-ackbar="emailPreferencesForm"\n      ds-ackbar-save="ctrl.save(emailPreferencesForm)"\n      ds-ackbar-cancel="ctrl.cancel(emailPreferencesForm)"\n      ng-show="doneLoading">\n    </div>\n  </div>\n\n  <div class="tabs-wrap" ng-show="doneLoading">\n    <ul class="tabs" olive-tabset="emailPreferencesTabs">\n      <li class="tab-wrap">\n        <a class="tab"\n           olive-tab-id="{{ctrl.emailNotificationsFieldName()}}"\n           ng-click="ctrl.onTabChange(ctrl.emailNotificationsFieldName())" translate="User"></a>\n      </li>\n      <li class="tab-wrap">\n        <a class="tab"\n           olive-tab-id="{{ctrl.apiEmailNotificationsFieldName()}}"\n           ng-click="ctrl.onTabChange(ctrl.apiEmailNotificationsFieldName())"\n           translate="API User"></a>\n      </li>\n    </ul>\n  </div>\n  <div class="section" ng-show="doneLoading">\n    <div olive-tabset-parent="emailPreferencesTabs" olive-tab-id="{{ctrl.emailNotificationsFieldName()}}"></div>\n    <div olive-tabset-parent="emailPreferencesTabs" olive-tab-id="{{ctrl.apiEmailNotificationsFieldName()}}"></div>\n    <form id="emailPreferencesForm"\n        name="emailPreferencesForm">\n      <div class="section">\n        <h2 class="header-title"\n            translate="For Signers"\n            data-qa="recipient-notifications-header"></h2>\n\n        <p class="header-description pad-bottom" translate="Notify me when:"></p>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="cb-receiving-all"\n                 ng-model="ctrl.signerAll"\n                 ng-change="ctrl.toggleAllSigning(ctrl.signerAll)"\n                 data-qa="all-receiving-cb-value" />\n          <label class="cb_label"\n                 translate="Select All"\n                 for="cb-receiving-all"\n                 data-qa="all-receiving-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.envelopeActivation"\n                 type="checkbox"\n                 id="cb-r-0"\n                 data-qa="envelope-activation-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeActivationSignerNotification"\n                 translate="I have an envelope to sign"\n                 for="cb-r-0"\n                 ng-checked="ctrl.isAllReceivingChecked()"\n                 data-qa="envelope-activation-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.envelopeComplete"\n                 type="checkbox"\n                 id="cb-r-1"\n                 data-qa="envelope-complete-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeCompleteSignerNotification"\n                 translate="An envelope is completed"\n                 for="cb-r-1"\n                 data-qa="envelope-complete-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.carbonCopyNotification"\n                 type="checkbox"\n                 id="cb-r-2"\n                 data-qa="document-copy-cb-value">\n          <label class="cb_label"\n                 setting-key-map="CarbonCopySignerNotification"\n                 translate="I am a copy-only recipient"\n                 for="cb-r-2"\n                 data-qa="document-copy-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.certifiedDeliveryNotification"\n                 type="checkbox"\n                 id="cb-r-3"\n                 data-qa="certified-delivery-cb">\n          <label class="cb_label"\n                 setting-key-map="CertifiedDeliverySignerNotification"\n                 translate="I am an acknowledge recipient"\n                 for="cb-r-3"\n                 data-qa="certified-delivery-cb-value">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.envelopeDeclined"\n                 type="checkbox"\n                 id="cb-r-6"\n                 data-qa="envelope-declined-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeDeclinedSignerNotification"\n                 translate="Another signer declines to sign"\n                 for="cb-r-6"\n                 data-qa="envelope-declined-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 translate="The sender voids an envelope"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.envelopeVoided"\n                 type="checkbox"\n                 id="cb-r-7"\n                 data-qa="envelope-voided-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeVoidedSignerNotification"\n                 translate="The sender voids an envelope"\n                 for="cb-r-7"\n                 data-qa="envelope-voided-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 translate="The sender corrects an envelope"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.envelopeCorrected"\n                 type="checkbox"\n                 id="cb-r-8"\n                 data-qa="envelope-corrected-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeCorrectedSignerNotification"\n                 translate="The sender corrects an envelope"\n                 for="cb-r-8"\n                 data-qa="envelope-corrected-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.reassignedSigner"\n                 type="checkbox"\n                 id="cb-r-9"\n                 data-qa="resassigned-signed-cb-value">\n          <label class="cb_label"\n                 setting-key-map="ReassignedSignerSignerNotification"\n                 translate="A signer assigns an envelope to me"\n                 for="cb-r-9"\n                 data-qa="resassigned-signed-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.purgeDocuments"\n                 type="checkbox"\n                 id="cb-r-10"\n                 data-qa="purge-documents-cb-value">\n          <label class="cb_label"\n                 setting-key-map="PurgeDocumentsSignerNotification"\n                 translate="Documents will be purged from the system"\n                 for="cb-r-10"\n                 data-qa="purge-documents-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.faxReceived"\n                 type="checkbox"\n                 id="cb-r-11"\n                 data-qa="fax-received-cb-value">\n          <label class="cb_label"\n                 setting-key-map="FaxReceivedSignerNotification"\n                 translate="My fax is received"\n                 for="cb-r-11"\n                 data-qa="fax-received-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.documentMarkupActivation"\n                 type="checkbox"\n                 id="cb-r-4"\n                 data-qa="approve-changes-cb-value">\n          <label class="cb_label"\n                 setting-key-map="DocumentMarkupActivationSignerNotification"\n                 translate="Another signer made changes that require my approval"\n                 for="cb-r-4"\n                 data-qa="approve-changes-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.agentNotification"\n                 type="checkbox"\n                 id="cb-r-5"\n                 data-qa="provide-contact-information-cb-value">\n          <label class="cb_label"\n                 setting-key-map="AgentNotificationSignerNotification"\n                 translate="I can edit an envelope, or specify or update recipient information"\n                 for="cb-r-5"\n                 data-qa="provide-contact-information-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.offlineSigningFailed"\n                 type="checkbox"\n                 id="cb-r-14"\n                 data-qa="offline-signing-cb-value">\n          <label class="cb_label"\n                 setting-key-map="OfflineSigningFailedSignerNotification"\n                 translate="An envelope I signed offline fails to synchronize"\n                 for="cb-r-14"\n                 data-qa="offline-signing-cb">\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.whenSigningGroupMember"\n                 type="checkbox"\n                 id="cb-r-12"\n                 data-qa="signing-group-cb-value">\n          <label class="cb_label"\n                 setting-key-map="WhenSigningGroupMemberSignerNotification"\n                 translate="An envelope is sent to a signing group to which I belong"\n                 for="cb-r-12"\n                 data-qa="signing-group-cb">\n          </label>\n        </div>\n\n        <div>\n          <div class="inline-input cb">\n            <input class="cb_input"\n                   ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsOnlyPrivateAndMention"\n                   type="checkbox"\n                   id="cb-r-13">\n            <label class="cb_label"\n                   setting-key-map="CommentsReceiveAllSignerNotification"\n                   translate="A comment is posted in an envelope that\'s been sent to me"\n                   for="cb-r-13"\n                   ng-click="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsReceiveAll = !ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsOnlyPrivateAndMention">\n            </label>\n          </div>\n          <input class="rb_input"\n                 type="radio"\n                 id="rb-r-1"\n                 ng-value="true"\n                 ng-disabled="!ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsOnlyPrivateAndMention"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsReceiveAll" />\n          <label class="rb_label m-left-medium"\n                 translate="All comments"\n                 for="rb-r-1">\n          </label>\n          <br/>\n          <input class="rb_input"\n                 type="radio"\n                 id="rb-r-2"\n                 ng-value="false"\n                 ng-disabled="!ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsOnlyPrivateAndMention"\n                 ng-model="ctrl.settings[ctrl.selectedTab].signerEmailNotifications.commentsReceiveAll" />\n          <label class="rb_label m-left-medium m-top-xx-small"\n                 setting-key-map="CommentsOnlyPrivateAndMentionSignerNotification"\n                 translate="Only comments that mention me or are private to me"\n                 for="rb-r-2">\n          </label>\n        </div>\n      </div>\n      <div class="section">\n        <h2 class="header-title"\n            translate="For Sender"\n            data-qa="sending-notifications-header"></h2>\n\n        <p class="header-description" translate="Notify me when:"></p>\n\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="cb-sending-all"\n                 ng-model="ctrl.senderAll"\n                 ng-change="ctrl.toggleAllSending(ctrl.senderAll)"\n                 data-qa="notification-all-cb-value" />\n          <label class="cb_label"\n                 translate="Select All"\n                 for="cb-sending-all"\n                 data-qa="notification-all-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="cb-s-0"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.envelopeComplete"\n                 data-qa="complete-document-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeCompleteSenderNotification"\n                 translate="An envelope is complete"\n                 for="cb-s-0"\n                 data-qa="complete-document-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="cb-s-1"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.changedSigner"\n                 data-qa="changed-signed-cb-value">\n          <label class="cb_label"\n                 setting-key-map="ChangedSignerSenderNotification"\n                 translate="A signer assigns an envelope to someone else"\n                 for="cb-s-1"\n                 data-qa="changed-signed-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.senderEnvelopeDeclined"\n                 type="checkbox"\n                 id="cb-s-2"\n                 data-qa="sender-envelope-declined-cb-value">\n          <label class="cb_label"\n                 setting-key-map="EnvelopeDeclinedSenderNotification"\n                 translate="A signer declines to sign"\n                 for="cb-s-2"\n                 data-qa="sender-envelope-declined-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.withdrawnConsent"\n                 type="checkbox"\n                 id="cb-s-3"\n                 data-qa="withdrawn-consent-cb-value">\n          <label class="cb_label"\n                 setting-key-map="WithdrawnConsentSenderNotification"\n                 translate="A signer withdraws consent to do business online"\n                 for="cb-s-3"\n                 data-qa="withdrawn-consent-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.recipientViewed"\n                 type="checkbox"\n                 id="cb-s-4"\n                 data-qa="recipient-viewed-cb-value">\n          <label class="cb_label"\n                 setting-key-map="RecipientViewedSenderNotification"\n                 translate="The first time each recipient views an envelope"\n                 for="cb-s-4"\n                 data-qa="recipient-viewed-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.deliveryFailed"\n                 type="checkbox"\n                 id="cb-s-5"\n                 data-qa="delivery-failed-cb-value">\n          <label class="cb_label"\n                 setting-key-map="DeliveryFailedSenderNotification"\n                 translate="Envelope delivery to a recipient fails"\n                 for="cb-s-5"\n                 data-qa="delivery-failed-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.offlineSigningFailed"\n                 type="checkbox"\n                 id="cb-s-7"\n                 data-qa="offline-signing-failed-value">\n          <label class="cb_label"\n                 setting-key-map="OfflineSigningFailedSenderNotification"\n                 translate="A signer\'s offline signature fails to synchronize"\n                 for="cb-s-7"\n                 data-qa="offline-signing-failed-cb">\n          </label>\n        </div>\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.purgeDocuments"\n                 type="checkbox"\n                 id="cb-s-6">\n          <label class="cb_label"\n                 setting-key-map="PurgeDocumentsSenderNotification"\n                 translate="Documents will be purged from the system"\n                 for="cb-s-6">\n          </label>\n        </div>\n\n        <div>\n          <div class="inline-input cb">\n            <input class="cb_input"\n                   ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsOnlyPrivateAndMention"\n                   type="checkbox"\n                   id="cb-s-13">\n            <label class="cb_label"\n                   setting-key-map="CommentsReceiveAllSenderNotification"\n                   translate="A comment is posted in an envelope I\'ve sent"\n                   for="cb-s-13"\n                   ng-click="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsReceiveAll = !ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsOnlyPrivateAndMention">\n            </label>\n          </div>\n          <input class="rb_input"\n                 type="radio"\n                 id="rb-s-1"\n                 ng-value="true"\n                 ng-disabled="!ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsOnlyPrivateAndMention"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsReceiveAll" />\n          <label class="rb_label m-left-medium"\n                 translate="All comments"\n                 for="rb-s-1">\n          </label>\n          <br/>\n          <input class="rb_input"\n                 type="radio"\n                 id="rb-s-2"\n                 ng-value="false"\n                 ng-disabled="!ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsOnlyPrivateAndMention"\n                 ng-model="ctrl.settings[ctrl.selectedTab].senderEmailNotifications.commentsReceiveAll" />\n          <label class="rb_label m-left-medium m-top-xx-small"\n                 setting-key-map="CommentsOnlyPrivateAndMentionSenderNotification"\n                 translate="Only comments that mention me or are private to me"\n                 for="rb-s-2">\n          </label>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="section" ng-show="doneLoading">\n    <div class="header-actions" ds-ackbar="emailPreferencesForm" ds-ackbar-save="ctrl.save(emailPreferencesForm)" ds-ackbar-cancel="ctrl.cancel(emailPreferencesForm)"></div>\n  </div>\n\n  <div class="text-center">\n    <div class="loadFailed" ds-loading="ctrl.ready" ds-loading-succeeded="doneLoading"\n         ds-loading-error="{{\'We had trouble loading email preferences settings!\' | translate}}">\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(280),i=n(13),s=function(e){var t=i.values(e);return i.every(t,function(e){return!!e})},o=function(){function e(e,t,n,a,i,o){var r=this;this._account=e,this._appUser=t,this._$scope=n,this._oliveMessage=a,this._$translate=i,this._=o,this.senderAll=!1,this.signerAll=!1,this.settings={emailNotifications:{senderEmailNotifications:{envelopeComplete:!1,changedSigner:!1,senderEnvelopeDeclined:!1,withdrawnConsent:!1,recipientViewed:!1,deliveryFailed:!1,offlineSigningFailed:!1,purgeDocuments:!1,commentsReceiveAll:!1,commentsOnlyPrivateAndMention:!1},signerEmailNotifications:{envelopeActivation:!1,envelopeComplete:!1,carbonCopyNotification:!1,certifiedDeliveryNotification:!1,envelopeDeclined:!1,envelopeVoided:!1,envelopeCorrected:!1,reassignedSigner:!1,purgeDocuments:!1,faxReceived:!1,documentMarkupActivation:!1,agentNotification:!1,offlineSigningFailed:!1,whenSigningGroupMember:!1,commentsReceiveAll:!1,commentsOnlyPrivateAndMention:!1}},apiEmailNotifications:{senderEmailNotifications:{envelopeComplete:!1,changedSigner:!1,senderEnvelopeDeclined:!1,withdrawnConsent:!1,recipientViewed:!1,deliveryFailed:!1,offlineSigningFailed:!1,purgeDocuments:!1,commentsReceiveAll:!1,commentsOnlyPrivateAndMention:!1},signerEmailNotifications:{envelopeActivation:!1,envelopeComplete:!1,carbonCopyNotification:!1,certifiedDeliveryNotification:!1,envelopeDeclined:!1,envelopeVoided:!1,envelopeCorrected:!1,reassignedSigner:!1,purgeDocuments:!1,faxReceived:!1,documentMarkupActivation:!1,agentNotification:!1,offlineSigningFailed:!1,whenSigningGroupMember:!1,commentsReceiveAll:!1,commentsOnlyPrivateAndMention:!1}}},this.selectedTab=this.emailNotificationsFieldName(),this.ready=this.fetchAccountDefaults().then(function(e){r.onTabChange(r.selectedTab),r._$scope.$watch(function(){return r.settings},function(e){r.senderAll=s(e[r.selectedTab].senderEmailNotifications),r.signerAll=s(e[r.selectedTab].signerEmailNotifications)},!0)})}return e.prototype.save=function(e){var t=this,n=this._appUser.getCurrentAccountId();return this.ready=this._account.updateNotificationDefaults(n,this.settings).then(function(n){return t._oliveMessage.show(t._$translate.instant("Saved Successfully!"),"save-notification-defaults-success","success",{autoClose:!0}),e.$setPristine(),t._.merge(t.settings,n),t.settingsCache=t._.cloneDeep(t.settings),t.settings}).catch(function(e){return t._oliveMessage.show(t._$translate.instant("An error occurred!"),"save-notification-defaults-error","alert",{autoClose:!0}),t.settings})},e.prototype.cancel=function(e){e.$setPristine(),this.settings=this._.cloneDeep(this.settingsCache)},e.prototype.emailNotificationsFieldName=function(){return"emailNotifications"},e.prototype.apiEmailNotificationsFieldName=function(){return"apiEmailNotifications"},e.prototype.fetchAccountDefaults=function(){var e=this,t=this._appUser.getCurrentAccountId();return this._account.getNotificationDefaults(t).then(function(t){e._.merge(e.settings,t),e.settingsCache=e._.cloneDeep(e.settings)}).finally(function(){return e.settings})},e.prototype.onTabChange=function(e){e!==this.emailNotificationsFieldName()&&e!==this.apiEmailNotificationsFieldName()||(this.selectedTab=e,this.senderAll=s(this.settings[e].senderEmailNotifications),this.signerAll=s(this.settings[e].signerEmailNotifications))},e.prototype.toggleAllSending=function(e){this.settings[this.selectedTab].senderEmailNotifications=this._.transform(this.settings[this.selectedTab].senderEmailNotifications,function(t,n,a){t[a]=e},{})},e.prototype.toggleAllSigning=function(e){this.settings[this.selectedTab].signerEmailNotifications=this._.transform(this.settings[this.selectedTab].signerEmailNotifications,function(t,n,a){t[a]=e},{})},e}();a.EmailPreferencesModule.controller("EmailPreferencesController",["dsAccount","appUser","$scope","oliveMessage","$translate","lodash",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(67).BulkActionsModule.service("UploadUsers",["appUser","ApiUriBuilder","dsApiClient",function(e,t,n){this.sampleAddUsersFileUrl=function(){var a=t.extended().accounts(e.getCurrentAccountId()).bulkUsers().concat("sample_csv").uri({acceptHeader:"text/csv"});return n.authorizeUri(a)},this.uploadAddUsersFileUrl=function(){var a=t.endpoint("POST").accounts(e.getCurrentAccountId()).bulkUsers().uri();return n.authorizeUri(a)},this.uploadUpdateUsersFileUrl=function(){var a=t.endpoint("POST").accounts(e.getCurrentAccountId()).bulkUsers().uri({action:"update"});return n.authorizeUri(a)}}])},function(e,t){var n="user management/bulk-actions/details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-details">\n  <div class="modal_header">\n    <div ng-switch="bulkActions.selectedBulkAction.status">\n      <div ng-if="bulkActions.selectedBulkAction.type === \'addUsers\'">\n        <span ng-switch-when="Failed" translate="Add Users Failed"></span>\n        <span ng-switch-default translate="Add Users Successful"></span>\n      </div>\n      <div ng-if="bulkActions.selectedBulkAction.type === \'updateUsers\'">\n        <span ng-switch-when="Failed" translate="Update Users Failed"></span>\n        <span ng-switch-default translate="Update Users Successful"></span>\n      </div>\n      <div ng-if="bulkActions.selectedBulkAction.type === \'transferEnvelopes\'">\n        <span ng-switch-when="Failed" translate="Transfer Envelopes Failed"></span>\n        <span ng-switch-default translate="Transfer Envelopes Successful"></span>\n      </div>\n      <div ng-if="bulkActions.selectedBulkAction.type === \'transferTemplates\'">\n        <span ng-switch-when="Failed" translate="Transfer Templates Failed"></span>\n        <span ng-switch-default translate="Transfer Templates Successful"></span>\n      </div>\n      <div ng-if="bulkActions.selectedBulkAction.type === \'envelopePublish\'">\n        <span ng-switch-when="Failed" translate="Publish Envelopes Failed"></span>\n        <span ng-switch-default translate="Publish Envelopes Successful"></span>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_messageContainer" ng-include="\'user management/bulk-actions/details-message.html\'"></div>\n\n  <div class="modal_content">\n    <div class="summary-list" ng-include="\'user management/bulk-actions/details-summary.html\'"></div>\n\n    <div class="section" ng-if="bulkActions.selectedBulkAction.downloadUrl"\n      ng-include="\'user management/bulk-actions/details-download.html\'">\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary"\n      olive-modal-complete\n      translate="DS_CONTEXT=(modal) Close">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-summary.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="summary-list-header">\n  <span translate="Summary"></span>\n</div>\n\n<div ng-switch="bulkActions.selectedBulkAction.status">\n  <div ng-switch-when="Failed">\n    <div ng-include="\'user management/bulk-actions/details-failed.html\'"></div>\n  </div>\n  <div ng-switch-default>\n    <div ng-include="\'user management/bulk-actions/details-completed.html\'"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-message.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-switch=\"bulkActions.selectedBulkAction.status\">\n  <div ng-switch-when=\"Failed\" class=\"modal_message modal_message-error\">\n    <span class=\"modal_message_icon icon icon-circle-x\"></span>\n    <div class=\"modal_message_content\">{{ bulkActions.selectedBulkAction.errorDetailMessage }}</div>\n  </div>\n  <div ng-switch-default class=\"modal_message\"\n    ng-class=\"{\n      Completed: 'modal_message-success',\n      'Processed with error': 'modal_message-error',\n      'Processed with errors': 'modal_message-error',\n      'Processed with issue': 'modal_message-warning',\n      'Processed with issues': 'modal_message-warning'\n    }[bulkActions.selectedBulkAction.status]\">\n    <span class=\"modal_message_icon icon\"\n      ng-class=\"{\n        Completed: 'modal_message-success icon-check',\n        'Processed with error': 'icon-alert-triangle',\n        'Processed with errors': 'icon-alert-triangle',\n        'Processed with issue': 'icon-alert-triangle',\n        'Processed with issues': 'icon-alert-triangle'\n      }[bulkActions.selectedBulkAction.status]\"></span>\n    <div class=\"modal_message_content\"> {{ bulkActions.selectedBulkAction.successDetailMessage }} </div>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-failed.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="summary-list-item"\n    ng-repeat="fileError in bulkActions.selectedBulkAction.fileErrors"\n    ng-switch="fileError">\n  <span ng-switch-when="column_headers_missing"\n    translate="Column headers could not be found">\n  </span>\n  <span ng-switch-when="invalid_column_header"\n    translate="An invalid column header was found">\n  </span>\n  <span ng-switch-when="apiusername_column_header_missing"\n    translate=\'The "API User Name" column header could not be found\'>\n  </span>\n  <span ng-switch-when="username_column_header_missing"\n    translate=\'The "User Name" column header could not be found\'>\n  </span>\n  <span ng-switch-when="useremail_column_header_missing"\n    translate=\'The "User Email" column header could not be found\'>\n  </span>\n  <span ng-switch-when="permissionset_column_header_missing"\n    translate=\'The "Permission Set" column header could not be found\'>\n  </span>\n  <span ng-switch-when="membership_id_column_header_usage_not_permitted"\n    translate=\'Use of the "Membership Id" column header is not permitted\'>\n  </span>\n  <span ng-switch-when="invalid_envelope_id" translate="Invalid Envelope ID">\n  </span>\n  <span ng-switch-when="invalid_csv_data_or_syntax" translate="Invalid CSV">\n  </span>\n  <span ng-switch-when="insufficient_row_data_found" translate="Invalid CSV">\n  </span>\n  <span ng-switch-when="envelope_ids_missing" translate="Missing envelope IDs">\n  </span>\n  <span ng-switch-when="invalid_from_membership" translate="Invalid sender">\n  </span>\n  <span ng-switch-when="invalid_to_membership" translate="Invalid to user">\n  </span>\n  <span ng-switch-default\n    translate="An unspecified error occurred">\n  </span>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-errors.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="summary-list-item"\n    ng-repeat="rowError in bulkActions.selectedBulkAction.rowErrors"\n    ng-switch="rowError.errorType">\n\n  <span ng-switch-when="invalid_envelope_id" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with invalid envelope ID\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with invalid envelope ID\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="envelope_not_owned_by_account" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with envelope not owned by account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with envelope not owned by account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="security_appliance_encryption_mismatched" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with envelope encrypted with mismatched External Security Appliance\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with envelope encrypted with mismatched External Security Appliance\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="folder_does_not_exist" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with envelope transfer to folder does not exist\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with envelope transfer to folder does not exist\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="no_action_required" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with envelope already owned by user\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with envelope already owned by user\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="security_appliance_not_found" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with no Security Appliance found on account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with envelope encrypted with mismatched External Security Appliance\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="missing_envelope_id_column" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row missing the "EnvelopeId" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows missing the "EnvelopeId" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_csv_data_or_syntax" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with invalid csv data was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with invalid csv data were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_apiusername" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with an invalid "API User Name" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with an invalid "API User Name" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="blank_username" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row missing the "User Name" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows missing the "User Name" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_characters_in_username" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with invalid characters in the "User Name" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with invalid characters in the "User Name" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_useremail_address" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with an invalid "User Email" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with an invalid "User Email" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="email_domain_is_reserved" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with a reserved domain in the "User Email" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with a reserved domain in the "User Email" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="membership_not_in_account" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row that is not a member of the account was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows that are not members of the account were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_characters_in_jobtitle" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with invalid characters in the "Job Title" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with invalid characters in the "Job Title" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_characters_in_companyname" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with invalid characters in the "Company Name" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with invalid characters in the "Company Name" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_language_code" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with an invalid "Language" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with an invalid "Language" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_permissionset" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with an invalid "Permission Set" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with an invalid "Permission Set" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="permissionset_change_not_allowed" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with a disallowed value in the "Permission Set" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with a disallowed value in the "Permission Set" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="invalid_group" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row with an invalid "Group" field was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows with an invalid "Group" field were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="administrator_group_assignment_not_permitted" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row attempting to add a user to the Administrator System Group was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows attempting to add a user to the Administrator System Group were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-when="maximum_users_exceeded" ng-switch="rowError.count">\n    <span ng-switch-when="1"\n      translate=\'1 row that would have exceeded the allowed number of users was not added to the account\'>\n    </span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows that would have exceeded the allowed number of users were not added to the account\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n\n  <span ng-switch-default ng-switch="rowError.count">\n    <span ng-switch-when="1" translate=\'1 row encountered other errors\'></span>\n    <span ng-switch-default\n      translate=\'[[numberOfRows]] rows encountered other errors\'\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: rowError.count}">\n    </span>\n  </span>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-download.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-switch=\"bulkActions.selectedBulkAction.rowErrors\">\n  <div ng-switch-when=\"false\"\n    translate=\"[[downloadStart]]Download[[downloadEnd]] the processed CSV file.\"\n    translate-interpolation=\"bracket\" translate-compile\n    translate-values=\"{\n      downloadStart: '<a target=\\'_self\\' download' +\n        ' ng-href=\\'{{bulkActions.selectedBulkAction.downloadUrl}}\\'>',\n      downloadEnd: '</a>'\n    }\">\n  </div>\n  <div ng-switch-default\n    translate=\"[[downloadStart]]Download[[downloadEnd]] the processed CSV file indicating rows with errors.\"\n    translate-interpolation=\"bracket\" translate-compile\n    translate-values=\"{\n      downloadStart: '<a target=\\'_self\\' download' +\n        ' ng-href=\\'{{bulkActions.selectedBulkAction.downloadUrl}}\\'>',\n      downloadEnd: '</a>'\n    }\">\n  </div>\n</div>\n")}]),e.exports=n},function(e,t){var n="user management/bulk-actions/details-completed.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-if="bulkActions.selectedBulkAction.type === \'addUsers\'">\n  <div class="summary-list-item" ng-switch="bulkActions.selectedBulkAction.rowsProcessed">\n    <span ng-switch-when="1" translate="1 row was processed"></span>\n    <span ng-switch-default translate="[[numberOfRows]] rows were processed" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsProcessed}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsProcessed"\n       ng-switch="bulkActions.selectedBulkAction.rowsAdded">\n    <span ng-switch-when="1" translate="1 valid row added a new user to the account"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] valid rows added new users to the account" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsAdded}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsReopened"\n       ng-switch="bulkActions.selectedBulkAction.rowsReopened">\n    <span ng-switch-when="1" translate="1 valid row reopened a closed user in the account"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] valid rows reopened closed users in the account" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsReopened}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsDuplicate"\n       ng-switch="bulkActions.selectedBulkAction.rowsDuplicate">\n    <span ng-switch-when="1" translate="1 row duplicated a valid row"></span>\n    <span ng-switch-default class="summary-list-item" translate="[[numberOfRows]] rows duplicated a valid row"\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsDuplicate}">\n    </span>\n  </div>\n</div>\n\n<div ng-if="bulkActions.selectedBulkAction.type === \'updateUsers\'">\n  <div class="summary-list-item" ng-switch="bulkActions.selectedBulkAction.rowsProcessed">\n    <span ng-switch-when="1" translate="1 row was processed"></span>\n    <span ng-switch-default translate="[[numberOfRows]] rows were processed" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsProcessed}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsProcessed"\n       ng-switch="bulkActions.selectedBulkAction.rowsUpdated">\n    <span ng-switch-when="1" translate="1 valid row updated a user in the account"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] valid rows updated users in the account" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsUpdated}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsReopened"\n       ng-switch="bulkActions.selectedBulkAction.rowsReopened">\n    <span ng-switch-when="1" translate="1 valid row reopened a closed user in the account"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] valid rows reopened closed users in the account" translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsReopened}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsDuplicate"\n       ng-switch="bulkActions.selectedBulkAction.rowsDuplicate">\n    <span ng-switch-when="1" translate="1 row duplicated a valid row"></span>\n    <span ng-switch-default class="summary-list-item" translate="[[numberOfRows]] rows duplicated a valid row"\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsDuplicate}">\n    </span>\n  </div>\n</div>\n\n<div ng-if="bulkActions.selectedBulkAction.type === \'transferEnvelopes\'">\n  <div class="summary-list-item" ng-switch="bulkActions.selectedBulkAction.rowsProcessed">\n    <span ng-switch-when="1" translate="1 row of envelope was processed"></span>\n    <span ng-switch-default translate="[[numberOfRows]] rows of envelopes were processed"\n          translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsProcessed}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsProcessed"\n       ng-switch="bulkActions.selectedBulkAction.rowsAdded">\n    <span ng-switch-when="1" translate="1 envelope transferred to the user"></span>\n    <span ng-switch-default class="summary-list-item"\n          translate="[[numberOfRows]] envelopes transferred to the user" translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsAdded}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsDuplicate"\n       ng-switch="bulkActions.selectedBulkAction.rowsDuplicate">\n    <span ng-switch-when="1" translate="1 envelope already owned by the user"></span>\n    <span ng-switch-default class="summary-list-item" translate="[[numberOfRows]] envelopes already owned by the user"\n          translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsDuplicate}">\n    </span>\n  </div>\n</div>\n\n<div ng-if="bulkActions.selectedBulkAction.type === \'transferTemplates\'">\n  <div class="summary-list-item" ng-switch="bulkActions.selectedBulkAction.rowsProcessed">\n    <span ng-switch-when="1" translate="1 row of template was processed"></span>\n    <span ng-switch-default translate="[[numberOfRows]] rows of templates were processed"\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsProcessed}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsProcessed"\n       ng-switch="bulkActions.selectedBulkAction.rowsAdded">\n    <span ng-switch-when="1" translate="1 template transferred to the user"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] templates transferred to the user"\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsAdded}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsDuplicate"\n       ng-switch="bulkActions.selectedBulkAction.rowsDuplicate">\n    <span ng-switch-when="1" translate="1 template already owned by the user"></span>\n    <span ng-switch-default class="summary-list-item"\n      translate="[[numberOfRows]] templates already owned by the user"\n      translate-interpolation="bracket"\n      translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsDuplicate}">\n    </span>\n  </div>\n</div>\n\n<div ng-if="bulkActions.selectedBulkAction.type === \'envelopePublish\'">\n  <div class="summary-list-item" ng-switch="bulkActions.selectedBulkAction.rowsProcessed">\n    <span ng-switch-when="1" translate="1 row of envelope was processed"></span>\n    <span ng-switch-default translate="[[numberOfRows]] rows of envelopes were processed"\n          translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsProcessed}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsProcessed"\n       ng-switch="bulkActions.selectedBulkAction.rowsAdded">\n    <span ng-switch-when="1" translate="1 envelope published"></span>\n    <span ng-switch-default class="summary-list-item"\n          translate="[[numberOfRows]] envelopes published" translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsAdded}">\n    </span>\n  </div>\n\n  <div class="summary-list-item" ng-if="bulkActions.selectedBulkAction.rowsDuplicate"\n       ng-switch="bulkActions.selectedBulkAction.rowsDuplicate">\n    <span ng-switch-when="1" translate="1 envelope skipped without any action"></span>\n    <span ng-switch-default class="summary-list-item" translate="[[numberOfRows]] envelopes skipped without any action"\n          translate-interpolation="bracket"\n          translate-values="{numberOfRows: bulkActions.selectedBulkAction.rowsDuplicate}">\n    </span>\n  </div>\n</div>\n\n<div ng-include="\'user management/bulk-actions/details-errors.html\'"></div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/bulk-update-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-add" ng-controller="UploadUsersController as uploadUsers"\n    user-usage-notifier>\n\n  <div class="modal_header" translate="Bulk Update Users"></div>\n\n  <div class="modal_content" data-qa="add_multiple_users_modal_content">\n    <div class="select-file" ng-if="!(displayConfirm || uploadUsers.uploading)">\n      <p>\n        <span translate="Update multiple account users at a time by uploading a CSV file containing the updated user information."></span>\n      </p>\n\n      <p>\n        <span translate="Verify the file data is correct before uploading."></span>\n        <span translate="Once you submit the file you cannot undo the changes to your account."></span>\n        <span translate="If there are processing errors, these are listed and you can download the CSV and review them."></span>\n      </p>\n\n      <p>\n        <span translate="For details on correct formatting for the CSV file or to learn more, [[helpLinkStart]]visit the Support Center[[helpLinkEnd]]."\n          translate-interpolation="bracket" translate-compile\n          translate-values="{\n            helpLinkStart: \'<a target=\\\'_blank\\\' href=\\\'https://www.docusign.com/support/new/\' +\n                \'documentation/ndse-admin-guide/bulk-actions\\\'>\',\n            helpLinkEnd: \'</a>\'\n          }">\n        </span>\n      </p>\n\n      <div class="upload-action">\n        <label for="uploadAddUsers" class="btn btn-secondary upload-button"\n          data-qa="bulk_users_add_users_add_csv_btn"\n          translate="{{uploadUsers.selectFileAction}}">\n        </label>\n        <input id="uploadAddUsers" type="file" accept=".csv"\n          nv-file-select uploader="uploadUsers.uploader"\n          class="oldBrowserCompatibleHiddenFileInput">\n        <div class="selected-file text-strong" title="{{uploadUsers.selectedFile.name}}">\n          {{uploadUsers.selectedFile.name}}\n        </div>\n      </div>\n    </div>\n\n    <div class="confirm-upload" ng-if="displayConfirm && !uploadUsers.uploading">\n      <p class="highlight highlight-attention" translate="Please confirm this action. It cannot be undone."></p>\n      <p>\n        <span\n          translate="Are you sure that you want to update the users in the [[styleStart]][[filename]][[styleEnd]] file?"\n          translate-interpolation="bracket"\n          translate-values="{\n            styleStart: \'<strong class=\\\'selected-file\\\' \' +\n              \'title=\\\'{{uploadUsers.selectedFile.name}}\\\'>\',\n            filename: uploadUsers.selectedFile.name,\n            styleEnd: \'</strong>\'\n          }">\n        </span>\n        <span translate="You will not be able to undo this action."></span>\n      </p>\n    </div>\n\n    <div class="text-center" ng-if="uploadUsers.uploading">\n      <div ds-loading="uploadUsers.uploading"\n        ds-progress-message="{{\'Processing...\' | translate}}">\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_footer" ng-if="!(displayConfirm || uploadUsers.uploading)">\n    <button class="btn btn-lg btn-primary" data-qa="bulk_users_add_users_submit_btn"\n      ng-disabled="!uploadUsers.selectedFile"\n      ng-click="uploadUsers.submit()"\n      translate="Submit">\n    </button>\n    <button class="btn btn-lg btn-minor" data-qa="bulk_users_add_users_cancel_btn"\n      olive-modal-escape\n      translate="Cancel">\n    </button>\n  </div>\n\n  <div class="modal_footer" ng-if="displayConfirm && !uploadUsers.uploading">\n    <button class="btn btn-lg btn-primary"\n      ng-click="uploadUsers.uploadCsv()"\n      translate="Confirm">\n    </button>\n    <button class="btn btn-lg btn-minor"\n      ng-click="uploadUsers.backToUpload()"\n      translate="Back">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="user management/bulk-actions/bulk-add-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-add" ng-controller="UploadUsersController as uploadUsers"\n    user-usage-notifier>\n\n  <div class="modal_header" translate="Bulk Add Users"></div>\n\n  <div class="modal_content" data-qa="add_multiple_users_modal_content">\n    <div class="select-file" ng-if="!(displayConfirm || uploadUsers.uploading)">\n      <p>\n        <span translate="Add multiple users at a time to your account by uploading a CSV file containing the new user information."></span>\n      </p>\n\n      <p>\n        <span translate="Verify the file data is correct before uploading."></span>\n        <span translate="Once you submit the file you cannot undo the changes to your account."></span>\n        <span translate="If there are processing errors, these are listed and you can download the CSV and review them."></span>\n      </p>\n\n      <p>\n        <span translate="For details on correct formatting for the CSV file, view a [[linkStart]]sample file[[linkEnd]] or [[helpLinkStart]]visit the Support Center[[helpLinkEnd]] to learn more."\n          translate-interpolation="bracket" translate-compile\n          translate-values="{\n            linkStart: \'<a target=\\\'_self\\\' download ng-href=\\\'{{uploadUsers.sampleAddUsersFileUrl}}\\\'>\',\n            linkEnd: \'</a>\',\n            helpLinkStart: \'<a target=\\\'_blank\\\' href=\\\'https://www.docusign.com/support/new/\' +\n                \'documentation/ndse-admin-guide/bulk-actions\\\'>\',\n            helpLinkEnd: \'</a>\'\n          }">\n        </span>\n      </p>\n\n      <div class="upload-action">\n        <label for="uploadAddUsers" class="btn btn-secondary upload-button"\n          data-qa="bulk_users_add_users_add_csv_btn"\n          translate="{{uploadUsers.selectFileAction}}">\n        </label>\n        <input id="uploadAddUsers" type="file" accept=".csv"\n          nv-file-select uploader="uploadUsers.uploader"\n          class="oldBrowserCompatibleHiddenFileInput">\n        <div class="selected-file text-strong" title="{{uploadUsers.selectedFile.name}}">\n          {{uploadUsers.selectedFile.name}}\n        </div>\n      </div>\n    </div>\n\n    <div class="confirm-upload" ng-if="displayConfirm && !uploadUsers.uploading">\n      <p class="highlight highlight-attention" translate="Please confirm this action. It cannot be undone."></p>\n      <p>\n        <span translate="Are you sure that you want to add the users in the [[styleStart]][[filename]][[styleEnd]] file?"\n          translate-interpolation="bracket"\n          translate-values="{\n            styleStart: \'<strong class=\\\'selected-file\\\' \' +\n              \'title=\\\'{{uploadUsers.selectedFile.name}}\\\'>\',\n            filename: uploadUsers.selectedFile.name,\n            styleEnd: \'</strong>\'\n          }">\n        </span>\n        <span translate="You will not be able to undo this action."></span>\n      </p>\n    </div>\n\n    <div class="text-center" ng-if="uploadUsers.uploading">\n      <div ds-loading="uploadUsers.uploading"\n        ds-progress-message="{{\'Processing...\' | translate}}">\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_footer" ng-if="!(displayConfirm || uploadUsers.uploading)">\n    <button class="btn btn-lg btn-primary" data-qa="bulk_users_add_users_submit_btn"\n      ng-disabled="!uploadUsers.selectedFile"\n      ng-click="uploadUsers.submit()"\n      translate="Submit">\n    </button>\n    <button class="btn btn-lg btn-minor" data-qa="bulk_users_add_users_cancel_btn"\n      olive-modal-escape\n      translate="Cancel">\n    </button>\n  </div>\n\n  <div class="modal_footer" ng-if="displayConfirm && !uploadUsers.uploading">\n    <button class="btn btn-lg btn-primary"\n      ng-click="uploadUsers.uploadCsv()"\n      translate="Confirm">\n    </button>\n    <button class="btn btn-lg btn-minor"\n      ng-click="uploadUsers.backToUpload()"\n      translate="Back">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67);a.BulkActionsModule.service("BulkActions",["appUser","ApiUriBuilder","dsApiClient","BulkAction","TransferNowService","EnvelopePublishService","userPermissions","$q","lodash","$state",function(e,t,n,i,s,o,r,l,c,d){this.pageOptions={start_position:0,count:11},this.retrieveAllLogs=function(u,p){c.isEmpty(u)&&(u=e.getCurrentAccountId());c.isEmpty(p)&&(p=[a.BULKACTIONS_LOG_TYPES_USERS,a.BULKACTIONS_LOG_TYPES_ENVELOPES,a.BULKACTIONS_LOG_TYPES_TEMPLATES,a.BULKACTIONS_LOG_TYPES_ENVELOPE_PUBLISH]);var m="authenticated.organization-envelope-transfer-logs"===d.current.name||r.allowEnvelopeCustodyTransfer(),g={};if(r.canManageBulkUsers()&&c.includes(p,a.BULKACTIONS_LOG_TYPES_USERS)){var h=t.endpoint().accounts(u).bulkUsers().uri(this.pageOptions),f=n.get(h).then(function(e){return function(e){return(e||[]).map(i.usersBulkAction)}(e.data.bulkUsersTransactions)});g.bulkUsers=f}if(m&&c.includes(p,a.BULKACTIONS_LOG_TYPES_ENVELOPES)){var v=s.getEnvelopeTransferStatus(u,this.pageOptions).then(function(t){return function(t,n){c.isEmpty(t)&&(t=e.getCurrentAccountId());return(n||[]).map(i.transferEnvelopesBulkAction.bind(this,t))}(u,t.data.envelopeTransferTransactions)});if(g.envelopeTransferNow=v,c.includes(p,a.BULKACTIONS_LOG_TYPES_TEMPLATES)){var _=s.getTemplateTransferStatus(this.pageOptions).then(function(e){return function(e){return(e||[]).map(i.transferTemplatesBulkAction)}(e.data.envelopeTransferTransactions)});g.templateTransferNow=_}}if(r.allowEnvelopePublishReporting()&&c.includes(p,a.BULKACTIONS_LOG_TYPES_ENVELOPE_PUBLISH)){var b=o.getPublishStatus(this.pageOptions).then(function(e){return function(e){return(e||[]).map(i.envelopePublishBulkAction)}(e.envelopePublishTransactions)});g.envelopePublish=b}if(c.has(g,"bulkUsers")||c.has(g,"envelopeTransferNow")||c.has(g,"templateTransferNow")||c.has(g,"envelopePublish"))return l.all(g).then(function(e){var t={};return c.has(e,"bulkUsers")&&(t=c.union(t,e.bulkUsers)),c.has(e,"envelopeTransferNow")&&(t=c.union(t,e.envelopeTransferNow)),c.has(e,"templateTransferNow")&&(t=c.union(t,e.templateTransferNow)),c.has(e,"envelopePublish")&&(t=c.union(t,e.envelopePublish)),t})},this.retrieveLog=function(a,r,d){c.isEmpty(a)&&(a=e.getCurrentAccountId());switch(r){case"addUsers":case"updateUsers":var u=t.endpoint().accounts(a).bulkUsers(d).uri();return n.get(u).then(function(e){return i.usersBulkAction(e.data)});case"transferTemplates":return s.getTransferStatusById(a,d).then(function(e){return i.transferTemplatesBulkAction(e.data)});case"transferEnvelopes":return s.getTransferStatusById(a,d).then(function(e){return i.transferEnvelopesBulkAction(a,e.data)});case"envelopePublish":return o.getPublishStatusById(d).then(function(e){return i.envelopePublishBulkAction(e)});default:return l.when()}}}])},function(e,t){var n="user management/bulk-actions/bulk-actions.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main bulk-actions" ng-controller="BulkActionsController as bulkActions">\n  <div class="crumbs">\n    <ul class="crumbs_list"\n        ng-if="bulkActions.isFromEnvelopesCustodyTransfer">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.custody-transfer"\n           translate="Custody Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           translate="Envelopes"\n           ui-sref="authenticated.envelopes({action: \'transfer-now\'})"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Bulk Actions"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="bulkActions.isFromTemplatesCustodyTransfer">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.custody-transfer"\n           translate="Custody Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           translate="Templates"\n           ui-sref="authenticated.templates({action: \'transfer-now\'})"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Bulk Actions"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="bulkActions.isFromUsers">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.users"\n           translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Bulk Actions"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="bulkActions.isFromPublish">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.connect"\n           translate="Connect"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           translate="Publish Envelopes"\n           ui-sref="authenticated.envelopes({action: \'publish\'})"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Bulk Actions"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list" ng-if="bulkActions.isFromOrganization">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: bulkActions.organization.id})"> {{ bulkActions.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-envelope-transfer({organization_id: bulkActions.organization.id})"\n           translate="Envelope Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item">{{bulkActions.organizationAccount.account_name}}</span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <h1 class="header-title" ng-if="!bulkActions.isFromOrganization" translate="Bulk Actions"></h1>\n    <h1 class="header-title" ng-if="bulkActions.isFromOrganization" translate="Envelope Transfer Logs"></h1>\n  </div>\n\n  <div class="section sub-section">\n    <div ng-if="bulkActionsLogLoaded && bulkActions.log.length > 30"\n         class="text-small text-muted sub-section-description" translate="Last 30 bulk actions"></div>\n  </div>\n\n  <table class="mgnt-list list-tbl">\n    <thead>\n    <tr>\n      <th name="name">\n        <span translate="Type of Action"></span>\n      </th>\n      <th name="summary">\n        <span translate="Summary"></span>\n      </th>\n      <th name="status">\n        <span translate="Status"></span>\n      </th>\n      <th name="email">\n        <span translate="Administrator"></span>\n      </th>\n      <th name="status">\n        <span translate="Date and Time"></span>\n      </th>\n      <th name="actions">\n        <span style="padding-left: 3em;" translate="Actions"></span>\n      </th>\n    </tr>\n    </thead>\n\n    <tbody ng-if="bulkActionsLogLoaded">\n      <tr ng-repeat="bulkAction in bulkActions.log | limitTo:30 | orderBy:\'-date\'">\n        <td translate="{{bulkAction.typeLabel}}"></td>\n\n        <td>\n          <div ng-if="bulkAction.isComplete && bulkAction.type !== \'updateUsers\'">\n            <div class="summary-description" ng-switch="bulkAction.rowsAdded">\n              <span ng-switch-when="1" ng-switch="bulkAction.type">\n                <span ng-switch-when="addUsers" translate="1 user added"></span>\n                <span ng-switch-when="transferTemplates" translate="1 template transferred"></span>\n                <span ng-switch-when="transferEnvelopes" translate="1 envelope transferred"></span>\n                <span ng-switch-when="envelopePublish" translate="1 envelope published"></span>\n              </span>\n\n              <span ng-switch-default ng-switch="bulkAction.type">\n                <span ng-switch-when="addUsers" translate="[[number]] users added"\n                  translate-interpolation="bracket"\n                  translate-values="{number: bulkAction.rowsAdded}">\n                </span>\n                <span ng-switch-when="transferTemplates" translate="[[number]] templates transferred"\n                  translate-interpolation="bracket"\n                  translate-values="{number: bulkAction.rowsAdded}">\n                </span>\n                <span ng-switch-when="transferEnvelopes" translate="[[number]] envelopes transferred"\n                  translate-interpolation="bracket"\n                  translate-values="{number: bulkAction.rowsAdded}">\n                </span>\n                <span ng-switch-when="envelopePublish" translate="[[number]] envelopes published"\n                  translate-interpolation="bracket"\n                  translate-values="{number: bulkAction.rowsAdded}">\n                </span>\n              </span>\n            </div>\n          </div>\n\n          <div ng-if="bulkAction.isComplete && bulkAction.type === \'updateUsers\'">\n            <div class="summary-description" ng-switch="bulkAction.rowsUpdated">\n              <span ng-switch-when="1" translate="1 user updated"></span>\n\n              <span ng-switch-default\n                translate="[[number]] users updated"\n                translate-interpolation="bracket"\n                translate-values="{number: bulkAction.rowsUpdated}">\n              </span>\n            </div>\n          </div>\n\n          <div ng-if="!bulkAction.isComplete">\n            <div class="progress-bar-wrap">\n              <div class="progress-bar-label" ng-switch="bulkAction.type">\n                <span ng-switch-when="addUsers" translate="Adding Users"></span>\n                <span ng-switch-when="updateUsers" translate="Updating Users"></span>\n                <span ng-switch-when="transferTemplates" translate="Transferring Templates"></span>\n                <span ng-switch-when="transferEnvelopes" translate="Transferring Envelopes"></span>\n                <span ng-switch-when="envelopePublish" translate="Publishing Envelopes"></span>\n                <div class="u-float-right" translate="[[number]]%"\n                  translate-interpolation="bracket"\n                  translate-values="{number: bulkAction.percentComplete}">\n                </div>\n              </div>\n\n              <div class="progress-bar">\n                <span class="fill" style="width:{{bulkAction.percentComplete}}%;"></span>\n              </div>\n            </div>\n          </div>\n        </td>\n\n        <td>\n          <i class="icon" ng-class="{\n              Completed: \'icon-check text-success\',\n              Failed: \'icon-circle-x text-alert\',\n              Queued: \'icon-clock text-success\',\n              \'In Progress\': \'icon-sync text-success\',\n              \'Processed with error\': \'icon-alert-triangle text-alert\',\n              \'Processed with errors\': \'icon-alert-triangle text-alert\',\n              \'Processed with issue\': \'icon-alert-triangle sunglowYellow\',\n              \'Processed with issues\': \'icon-alert-triangle sunglowYellow\'\n            }[bulkAction.status]"></i>\n          <span translate="{{bulkAction.status}}"></span>\n        </td>\n\n        <td>\n          <span class="truncate u-ellipsis">{{bulkAction.submittedBy}}</span>\n        </td>\n\n        <td>\n          {{bulkAction.date | moment:dateTimeFormat:timeZone}}\n        </td>\n\n        <td class="column-min" ng-switch="bulkAction.isComplete">\n          <div ng-switch-when="true" class="row-action u-float-right">\n            <button class="btn btn-minor btn-icon"\n                olive-menu="bulkActionMenu-{{bulkAction.id}}"\n                olive-menu-position="below right">\n              <span class="icon icon-menu-overflow-vertical"></span>\n            </button>\n          </div>\n\n          <div id="bulkActionMenu-{{bulkAction.id}}" class="menu invisible">\n            <ul class="menu_list">\n              <li class="menu_listItem" title="{{\'Details\' | translate}}">\n                <a class="menu_item"\n                  ng-click="bulkActions.showDetails(bulkAction)"\n                  translate="Details">\n                </a>\n              </li>\n\n              <li class="menu_listItem" title="{{\'Download CSV\' | translate}}"\n                  ng-if="bulkAction.downloadUrl">\n                <a class="menu_item"\n                  radmin-logging="Bulk Actions > Completed Transaction: {{bulkAction.typeLabel}} ({{bulkAction.status}})"\n                  target="_self" download\n                  ng-href="{{bulkAction.downloadUrl}}"\n                  translate="Download CSV">\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <button ng-switch-default\n              class="btn btn-minor btn-icon u-float-right row-action"\n              ng-disabled="bulkAction.isRefreshing"\n              ng-click="bulkActions.refreshRow(bulkAction)"\n              data-qa="bulk_actions_refresh_btn">\n            <span class="icon icon-sync"></span>\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="bulkActionsLogLoaded && !bulkActions.log.length"\n       data-qa="bulk_actions_no_bulk_actions_div">\n    <i class="icon icon-voided emptyState_icon"></i>\n    <div class="emptyState_text">\n      <h3 translate="No Bulk Actions"></h3>\n      <p translate="There are no Bulk Actions to display."></p>\n    </div>\n  </div>\n\n  <div ds-loading="bulkActions.loadingLog" ds-loading-succeeded="bulkActionsLogLoaded"\n       ds-loading-error="{{\'Oops! We had trouble retrieving your Bulk Actions log. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67),i=n(82),s=n(83),o="The transaction {{filename}} was successfully processed.",r="The {{filename}} file was successfully processed.",l="The transaction was successfully processed.",c="The transaction {{filename}} file could not be processed.",d="The {{filename}} file could not be processed.",u="The transaction could not be processed.";a.BulkActionsModule.controller("BulkActionsController",["BulkActions","oliveModal","$scope","DateTimeService","lodash","$stateParams","userPermissions","$translate","OrganizationService","appUser",function(e,t,n,p,m,g,h,f,v,_){var b="upload-users";function y(e){return!e.isComplete}n.dateTimeFormat=p.getDateTimeFormat(),n.timeZone=p.getTimeZone(),this.refreshRow=function(t){t.isRefreshing=!0,function(t){var n=this;return e.retrieveLog(this.accountId,t.type,t.id).then(function(e){var a=m.indexOf(n.log,t);n.log[a]=e,n.anyActionsPending=n.log.some(y)})}.call(this,t).finally(function(){return t.isRefreshing=!1})}.bind(this),this.showDetails=function(e){this.selectedBulkAction=e,this.selectedBulkAction.successDetailMessage=function(e){switch(e.type){case"transferEnvelopes":case"transferTemplates":return f.instant(o,{filename:e.filename});case"addUsers":case"updateUsers":return f.instant(r,{filename:e.filename});case"envelopePublish":return f.instant(l)}}(e),this.selectedBulkAction.errorDetailMessage=function(e){switch(e.type){case"transferEnvelopes":case"transferTemplates":return f.instant(c,{filename:e.filename});case"addUsers":case"updateUsers":return f.instant(d,{filename:e.filename});case"envelopePublish":return f.instant(u)}}(e),t.openModal({scope:n,templateUrl:"user management/bulk-actions/details.html",showClose:!0,size:"lg"})}.bind(this),this.isFromEnvelopesCustodyTransfer=!1,this.isFromTemplatesCustodyTransfer=!1,this.isFromPublish=!1,this.isFromUsers=!1,this.isFromOrganization=!1,this.accountId=_.getCurrentAccountId(),this.organization=null,this.organizationAccount=null,function(){if(!m.isEmpty(g.bulkType))if(g.bulkType.toLowerCase()===i.ENVELOPES_TRANSFER_NOW.toLowerCase())this.isFromEnvelopesCustodyTransfer=!0;else if(g.bulkType.toLowerCase()===s.TEMPLATES_TRANSFER_NOW.toLowerCase())this.isFromTemplatesCustodyTransfer=!0;else if(g.bulkType.toLowerCase()===i.PUBLISH.toLowerCase())this.isFromPublish=!0;else if(g.bulkType.toLowerCase()===b.toLowerCase())this.isFromUsers=!0;else if(g.organization_id&&g.account_id&&g.bulkType===i.BULK_ACTIONS_ORGANIZATION&&(this.isFromOrganization=!0,this.accountId=g.account_id,!m.isEmpty(v.currentOrg)&&v.currentOrg.id===g.organization_id))return this.organization=v.currentOrg.organization,void(this.organizationAccount=m.find(v.currentOrg.adminAccountsInOrganization,{id:this.accountId}))}.call(this),this.loadingLog=h.areResolved().then(function(){var t=[];this.isFromOrganization?(t.push(a.BULKACTIONS_LOG_TYPES_ENVELOPES),e.pageOptions.count=30):e.pageOptions.count=11;return e.retrieveAllLogs(this.accountId,t)}.bind(this)),this.loadingLog.then(function(e){this.log=e||[],this.anyActionsPending=this.log.some(y)}.bind(this))}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(67).BulkActionsModule.constant("UsersBulkActionRowErrorTypes",["invalid_apiusername","blank_username","invalid_characters_in_username","invalid_useremail_address","email_domain_is_reserved","membership_not_in_account","invalid_characters_in_jobtitle","invalid_characters_in_companyname","invalid_language_code","invalid_permissionset","permissionset_change_not_allowed","invalid_group","administrator_group_assignment_not_permitted","maximum_users_exceeded"]).constant("TransferEnvelopeBulkActionRowErrorTypes",["no_action_required","envelope_transferred","invalid_column_header","invalid_csv_data_or_syntax","insufficient_row_data_found","envelope_ids_missing","invalid_from_membership","invalid_to_membership","invalid_envelope_id","envelope_not_owned_by_account","security_appliance_not_found","security_appliance_encryption_mismatched","folder_does_not_exist","unspecified_error"]).constant("PublishEnvelopeBulkActionRowErrorTypes",["no_action_required","envelope_submitted_for_publishing","invalid_column_header","missing_envelope_id_column_header","invalid_csv_data_or_syntax","missing_envelope_id_column","envelope_ids_missing","invalid_membership","invalid_envelope_id","envelope_not_owned_by_account"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67);t.COMPLETE_STATUS_TYPE={COMPLETED:"Completed",PROCESSED_WITH_ERROR:"Processed with error",PROCESSED_WITH_ERRORS:"Processed with errors",PROCESSED_WITH_ISSUE:"Processed with issue",PROCESSED_WITH_ISSUES:"Processed with issues"},t.BULKACTION_FAILED="Failed",t.BULKACTION_QUEUED="Queued",t.BULKACTION_IN_PROGRESS="In Progress",a.BulkActionsModule.factory("BulkAction",["appUser","ApiUriBuilder","dsApiClient","moment","UsersBulkActionRowErrorTypes","TransferEnvelopeBulkActionRowErrorTypes","PublishEnvelopeBulkActionRowErrorTypes","lodash",function(e,n,a,i,s,o,r,l){var c="addUsers",d="updateUsers",u="transferEnvelopes",p="transferTemplates",m="envelopePublish",g="Add Users",h="Update Users",f="Transfer Envelopes",v="Transfer Templates",_="Publish Envelopes",b="complete",y="fatal_error",A=[b,y],S="unknown";function w(t){var n=e.getCurrentAccountId(),a={type:"update"===t.actionType?d:c,typeLabel:"update"===t.actionType?h:g};return a.id=t.bulkUsersTransactionId,a.filename=t.fileName,a.submittedBy=t.submittedByUserInfo&&t.submittedByUserInfo.email,a.date=i(t.submissionDate).toDate(),a.isComplete=A.some(function(e){return e===t.processingStatus}),a.rows=t.userCount||0,a.rowsProcessed=t.processedUserCount||0,a.rowsAdded=t.addedUserCount||0,a.rowsUpdated=t.updatedUserCount||0,a.rowsReopened=a.type===c&&t.updatedUserCount||0,a.rowsDuplicate=t.noActionRequiredUserCount||0,a.percentComplete=Math.floor(a.rowsProcessed/a.rows*100)||0,a.fileErrors=t.fileLevelErrors,a.rowErrors=T(t.userLevelErrorRollups,a.type),a.downloadUrl=U(n,t.resultsUri)||"",a.status=L(t.processingStatus,a),a}function C(e,t){var n={type:u,typeLabel:f};return n.id=t.envelopeTransferTransactionId,n.filename=t.transactionName,n.submittedBy=t.submittedByUserInfo&&t.submittedByUserInfo.email,n.date=i(t.submissionDate).toDate(),n.isComplete=A.some(function(e){return e===t.processingStatus}),n.rows=t.envelopeCount||0,n.rowsProcessed=t.processedEnvelopeCount||0,n.rowsAdded=t.transferredEnvelopeCount||0,n.rowsDuplicate=t.noActionRequiredEnvelopeCount||0,n.percentComplete=Math.floor(100*n.rowsProcessed/n.rows)||0,n.fileErrors=t.fileLevelErrors,n.rowErrors=T(t.envelopeLevelErrorRollups,n.type),n.downloadUrl=U(e,t.resultsUri)||"",n.status=L(t.processingStatus,n),n}function P(t){var n=e.getCurrentAccountId(),a=C(n,t);return a.type=p,a.typeLabel=v,a}function E(t){var n=e.getCurrentAccountId(),a={type:m,typeLabel:_};return a.id=t.envelopePublishTransactionId,a.submittedBy=t.submittedByUserInfo&&t.submittedByUserInfo.email,a.date=i(t.submissionDate).toDate(),a.isComplete=A.some(function(e){return e===t.processingStatus}),a.rows=t.envelopeCount||0,a.rowsProcessed=t.processedEnvelopeCount||0,a.rowsAdded=t.submittedForPublishingEnvelopeCount||0,a.rowsDuplicate=t.noActionRequiredEnvelopeCount||0,a.percentComplete=Math.floor(100*a.rowsProcessed/a.rows)||0,a.fileErrors=t.fileLevelErrors,a.rowErrors=T(t.envelopeLevelErrorRollups,a.type),a.downloadUrl=U(n,t.resultsUri)||"",a.status=L(t.processingStatus,a),a}function T(e,t){switch(t){case c:case d:return e?e.reduce(M,[]).sort(k):null;case u:return e?e.reduce(I,[]).sort(D):null;case m:return e?e.reduce(N,[]).sort(x):null;default:return null}}function M(e,t){return function(e){return s.some(function(t){return e===t})}(t.errorType)?e.concat(t):O(e,t.count)}function k(e,t){return e.errorType===S?1:t.errorType===S?-1:s.indexOf(e.errorType)<s.indexOf(t.errorType)?-1:1}function I(e,t){return function(e){return o.some(function(t){return e===t})}(t.errorType)?e.concat(t):O(e,t.count)}function D(e,t){return e.errorType===S?1:t.errorType===S?-1:o.indexOf(e.errorType)<o.indexOf(t.errorType)?-1:1}function N(e,t){return function(e){return r.some(function(t){return e===t})}(t.errorType)?e.concat(t):O(e,t.count)}function x(e,t){return e.errorType===S?1:t.errorType===S?-1:r.indexOf(e.errorType)<r.indexOf(t.errorType)?-1:1}function O(e,t){var n=e.filter(function(e){return e.errorType===S}).pop()||{count:0,errorType:S};return n.count+=t,e.filter(function(e){return e.errorType!==S}).concat(n)}function U(t,i){if(!i)return null;l.isEmpty(t)&&(t=e.getCurrentAccountId());var s=n.extended().accounts(t).concat(i).uri({acceptHeader:"text/csv"});return a.authorizeUri(s)}function L(e,n){switch(e){case b:return function(e){if(e.rowErrors&&e.rowErrors.length>0)return 1===e.rowErrors.reduce(function(e,t){return e+t.count},0)?t.COMPLETE_STATUS_TYPE.PROCESSED_WITH_ERROR:t.COMPLETE_STATUS_TYPE.PROCESSED_WITH_ERRORS;if(e.rowsDuplicate)return 1===e.rowsDuplicate?t.COMPLETE_STATUS_TYPE.PROCESSED_WITH_ISSUE:t.COMPLETE_STATUS_TYPE.PROCESSED_WITH_ISSUES;return t.COMPLETE_STATUS_TYPE.COMPLETED}(n);case y:return t.BULKACTION_FAILED;case"processing":return t.BULKACTION_IN_PROGRESS;default:return t.BULKACTION_QUEUED}}return{usersBulkAction:w,transferEnvelopesBulkAction:C,transferTemplatesBulkAction:P,envelopePublishBulkAction:E}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(277),i=function(){return function(e,t,n,a){var i=this;this.api=e,this.appUser=t,this._=n,this.$q=a,this.getTemplates=function(e){var t=i.api.endpoint().accounts(i.appUser.getCurrentAccountId()).templates().uri(e);return i.api.get(t).then(function(e){return{page:i._.omit(e.data,"envelopeTemplates"),templates:e.data.envelopeTemplates}})},this.createCsvExportUri=function(e){e.acceptHeader="text/csv";var t=i.api.extended().accounts(i.appUser.getCurrentAccountId()).templates().uri(e);return i.api.authorizationManager.authorizeUri(t)}}}();a.TemplatesModule.service("TemplateService",["dsApiClient","appUser","lodash","$q",i])},function(e,t){var n="templates/template-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="envelope-list site-main user-management" ng-controller="TemplateListController as templateList">\n  <div class="crumbs">\n    <ul class="crumbs_list"\n        ng-if="templateList.isFromCustodyTransfer">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.custody-transfer"\n           data-qa="template_custody_transfer_crumbs_link"\n           translate="Custody Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Templates"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="templateList.isFromUsers">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.users"\n           data-qa="template_users_crumbs_link"\n           translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Transfer Templates"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class="header-title" translate="Templates"></h1>\n      </div>\n      <ds-filter-controls filterable="templateList">\n        \x3c!-- start owner --\x3e\n        <div class="form-group" ng-if="templateList.showUsersDropDown">\n          <label class="label" for="owner-list" translate="Owner"></label>\n          <div class="select-wrap">\n            <select class="input-select" id="owner-list" ng-model="templateList.filter.owner"\n              ng-options="user as user.name for user in templateList.ownerSearch.list">\n              <option translate="Select User"></option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group" ng-if="!templateList.showUsersDropDown">\n          \x3c!-- start search owner --\x3e\n\n          <div ng-show="templateList.filter.owner === null">\n            <div class="input_wrapper searchable">\n              <div class="form_group form_group-unified">\n                <span class="select-wrap">\n                  <select class="input-select" ng-model="templateList.ownerSearch.selectedSearchType"\n                          data-qa="template_filter_select_owner_option"\n                          ng-options="opt.value as opt.label | translate for opt in templateList.searchTypes"></select>\n                </span>\n                <span class="form_item">\n                  <div class="form_item-iconLeft form_item-iconRight">\n                      <span class="icon icon-search"></span>\n                        <input class="input input-text input-search" maxlength="100"\n                               ng-model="templateList.ownerSearch.pendingPhrase"\n                               translate translate-attr-placeholder="Search" />\n                      <button type="button" class="button-icon"\n                              ng-if="templateList.ownerSearch.pendingPhrase.length"\n                              ng-click="templateList.clearUsersSearch()">\n                        <span class="icon icon-close"></span>\n                      </button>\n                  </div>\n                </span>\n                <button class="btn btn-secondary" translate="Search"\n                        ng-click="templateList.submitToUserSearchPhrase()"></button>\n              </div>\n            </div>\n            <div class="multi-select multi-select-filter" ng-show="templateList.ownerSearch.searchPhrase.length > 0">\n              <div class="grid pad">\n                <div class="inline-input label" ng-switch="templateList.senderSearch.list.length">\n                  <span ng-switch-when="1">\n                    <span ng-show="templateList.ownerSearch.pendingPhrase.length === 0"\n                          translate="Showing 1 user"></span>\n                    <span ng-show="templateList.ownerSearch.pendingPhrase.length > 0"\n                          translate="Showing 1 user for search query \'[[searchPhrase]]\'"\n                          translate-interpolation="bracket"\n                          translate-values="{searchPhrase: templateList.ownerSearch.searchPhrase}">\n                    </span>\n                  </span>\n                  <span ng-switch-default>\n                    <span ng-show="templateList.ownerSearch.pendingPhrase.length === 0"\n                          translate="Showing [[filteredCount]] users"\n                          translate-interpolation="bracket"\n                          translate-values="{filteredCount: templateList.ownerSearch.list.length}">\n                    </span>\n                    <span ng-show="templateList.ownerSearch.pendingPhrase.length > 0"\n                          translate="Showing [[filteredCount]] users for search query \'[[searchPhrase]]\'"\n                          translate-interpolation="bracket"\n                          translate-values="{\n                          filteredCount: templateList.ownerSearch.list.length,\n                          searchPhrase: templateList.ownerSearch.searchPhrase}">\n                    </span>\n                  </span>\n                  <span ng-show="templateList.ownerSearch.pendingPhrase.length">&nbsp;|&nbsp;&nbsp;\n                    <a translate="Clear search results" ng-click="templateList.clearUsersSearch()"></a>\n                  </span>\n                </div>\n                <div class="item disabled" ng-repeat="user in templateList.ownerSearch.list">\n                  <span class="item-text ng-scope">\n                    <span class="item-name truncate u-ellipsis" ng-attr-title="{{ user.name }}">\n                      {{ user.name }}&nbsp;({{ user.email }})\n                    </span>\n                  </span>\n                  <span class="item-action">\n                    <button class="btn btn-secondary btn-sm" type="button"\n                      ng-click="templateList.ownerSelected(user, $event)" translate="Select">\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div ng-show="templateList.filter.owner !== null" class="fgrid-panels">\n            <div class="form_unit">\n              <label class="label" for="selectedOwner" translate="Owner"></label>\n              <div class="form_group form_group-unified">\n                <span class="form_item">\n                    <input type="text" class="input-text" id="selectedOwner" disabled="disabled"\n                      ng-model="templateList.filter.owner.name">\n                </span>\n                <button class="btn btn-minor" translate="Change"\n                  ng-click="templateList.ownerSelected(null, $event)"></button>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- end search owner --\x3e\n\n        </div>\n        \x3c!-- end owner --\x3e\n\n        \x3c!-- subject search --\x3e\n        <div class="form-group">\n          <label class="label" for="templateNameSearch" translate="Template Name"></label>\n          <input type="text" class="input-text" ng-model="templateList.filter.searchPhrase"\n                 maxlength="48" id="templateNameSearch"\n                 data-qa="template_filter_template_name_txt">\n        </div>\n        \x3c!-- end subject search --\x3e\n\n        \x3c!-- Last Modified Date: Custom Date Range --\x3e\n        <div class="form-group">\n          <label class="label" translate="Date Created Range"></label>\n          <div ds-cal ds-type="range" ds-popover-noclose="CheshireFilter">\n            <div class="grid">\n              <div class="col-1-2">\n                <div class="input-group">\n                  <span class="addon icon icon-field-date" data-qa="template_filter_start_date_icon"></span>\n                  <input type="text" class="input-text input ds-range-start" readonly\n                         translate translate-attr-placeholder="from"\n                         data-qa="template_filter_start_date_txt"\n                         ng-model=" templateList.filter.dateRange.from"/>\n                </div>\n              </div>\n              <div class="col-1-2">\n                <div class="input-group">\n                  <span class="addon icon icon-field-date" data-qa="template_filter_end_date_icon"></span>\n                  <input type="text" class="input-text input ds-range-end" readonly\n                         translate translate-attr-placeholder="to"\n                         data-qa="template_filter_end_date_txt"\n                         ng-model=" templateList.filter.dateRange.to" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ds-filter-controls>\n    </div>\n\n    <div class="grid header-action">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary btn-md" data-qa="template_transfer_now_btn" ds-size="lg"\n                ng-if="templateList.isFromUsers || templateList.isFromCustodyTransfer"\n                ng-disabled="!templateList.loaded || !templateList.selectedTemplateList.length"\n                translate="Transfer Now" ng-click="templateList.transferNow(false)"></button>\n\n        <button class="btn btn-secondary btn-md" data-qa="template_transfer_csv_btn" ds-size="lg"\n                ng-if="templateList.isFromUsers || templateList.isFromCustodyTransfer"\n                ng-disabled="!templateList.loaded" translate="Transfer Using CSV"\n                ng-click="templateList.transferNow(true)"></button>\n        <a class="btn btn-secondary btn-md" data-qa="template_download_csv_btn" ds-size="lg"\n                ng-disabled="!templateList.loaded || !templateList.list.length"\n                translate="Download CSV" target="_self" ng-href="{{templateList.exportLinkUri()}}"></a>\n        <button class="btn btn-secondary btn-md" ds-size="lg"\n                data-qa="template_cancel_btn"\n                translate="Cancel"\n                ng-click="templateList.goBack()"></button>\n      </div>\n      <ds-page-controls pageable="templateList"></ds-page-controls>\n    </div>\n  </div>\n\n  <ds-filter-applied filterable="templateList"></ds-filter-applied>\n\n  <table class="mgnt-list list-tbl mtbl" olive-table-select>\n    <thead>\n    <tr>\n      <th>\n        <div class="cb inline-input cb-noText">\n          <input class="cb_input" type="checkbox" id="selectAll"\n                 ng-click="templateList.checkAll()" ng-checked="templateList.selectAll">\n          <label class="cb_label" for="selectAll" translate="Select All"></label>\n        </div>\n      </th>\n      <th name="templateName">\n        <span translate="Name"></span>\n      </th>\n      <th name="owner">\n        <span translate="Owner"></span>\n      </th>\n      <th name="lastModified">\n        <span translate="Last Modified"></span>\n      </th>\n      <th name="lastUsed">\n        <span translate="Last Used"></span>\n      </th>\n    </tr>\n    </thead>\n\n    <tbody ng-if="templateList.loaded || true">\n    <tr ng-repeat="doc in templateList.list track by doc.templateId"\n        ng-class="{\'table_row-selected\': templateList.isChecked(doc.templateId)}">\n      <td>\n        <div class="cb cb-noText">\n          <input class="cb_input" type="checkbox" id="{{ \'select_\' + doc.templateId }}" olive-table-select-row\n                 ng-checked="templateList.isChecked(doc.templateId)" ng-click="templateList.updateSelectedList(doc)"\n                 data-qa="template_select_single_template_cb">\n          <label class="cb_label" for="{{ \'select_\' + doc.templateId }}"\n                 data-qa="template_select_single_template_cb_lbl"\n                 translate="Select"></label>\n        </div>\n      </td>\n      <td>{{ doc.name }}</td>\n      <td>{{ doc.owner.userName }}</td>\n      <td>{{ doc.lastModified | moment:templateList.dateTimeFormat:templateList.timeZone }}</td>\n      <td>{{ doc.lastUsed | moment:templateList.dateTimeFormat:templateList.timeZone }}</td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="templateList.loaded && !templateList.list.length">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="templateList.submittedSearch && templateList.appliedFilters.length"\n         translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{searchQuery: templateList.submittedSearch}"></p>\n      <p ng-if="templateList.submittedSearch && !templateList.appliedFilters.length"\n         translate="The selected search query \'[[searchQuery]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{searchQuery: templateList.submittedSearch}"></p>\n      <p ng-if="!templateList.submittedSearch && templateList.appliedFilters.length"\n         translate="The selected filters produced no results."></p>\n    </div>\n  </div>\n\n  <div class="section" ng-if="templateList.loaded">\n    <div class="grid action-row">\n      <ds-page-controls pageable="templateList"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="templateList.loading" ds-loading-succeeded="templateList.loaded"\n       ds-loading-error="{{\'We had trouble loading your templates. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(235),i=function(){return function(e,t){var n=this;this._api=e,this._appUser=t,this.getSystemUpdates=function(){var e=n._api.endpoint().accounts(n._appUser.getCurrentAccountId()).systemUpdates().uri();return n._api.get(e).then(function(e){return{systemUpdates:e.data.systemUpdates}})},this.saveSystemUpdate=function(e){var t=n._api.endpoint().accounts(n._appUser.getCurrentAccountId()).systemUpdates(e.systemUpdateType).uri();return n._api.put(t,e)}}}();a.SystemUpdatesModule.service("SystemUpdateService",["dsApiClient","appUser",i])},function(e,t){var n="system-updates/system-update-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="domains" ng-controller=\'SystemUpdateListController as systemUpdateList\'>\n  <div class="section">\n    <h1 class="header-title" translate="System Updates"></h1>\n    <div translate="This is a list of available system updates that may affect your DocuSign implementation. To ensure a smooth transition, DocuSign recommends the following:"></div>\n    <div>\n      <ul>\n        <li translate="Test each update by activating it for your account."></li>\n        <li translate="You can activate and deactivate updates repeatedly before the auto-activation date to evaluate the impact on your organization and modify affected integrations as necessary."></li>\n        <li translate="Activate updates before the auto-activation date."></li>\n        <li translate="At the auto-activation date, DocuSign permanently activates the update for your account."></li>\n      </ul>\n    </div>\n  </div>\n  <table class="table table-striped">\n    <thead>\n      <tr>\n        <th><span translate="Category"></span></th>\n        <th><span translate="System Update"></span></th>\n        <th><span translate="Description"></span></th>\n        <th><span translate="Auto-Activation Date"></span></th>\n        <th><span translate="Status"></span></th>\n        <th class="column-action">&nbsp;</th>\n      </tr>\n    </thead>\n    <tbody ng-if="systemUpdateList.loaded">\n      <tr ng-repeat=\'item in systemUpdateList.list track by item.systemUpdateType\'>\n        <td ng-switch="item.categoryType">\n          <span ng-switch-when="connect" translate="Connect"></span>\n          <span ng-switch-when="securityappliance" translate="Security Appliance"></span>\n        </td>\n        <td ng-switch="item.systemUpdateType">\n          <span ng-switch-when="sysup_connect_httpsonly" translate="Only HTTPS"></span>\n          <span ng-switch-when="sysup_connect_semonly" translate="Send Individual Messages"></span>\n          <span ng-switch-when="sysup_connect_altcert" translate="2018 Certificates"></span>\n          <span ng-switch-when="sysup_securityappliance_altcert" translate="2018 Certificates"></span>\n        </td>\n        <td ng-switch="item.systemUpdateType">\n          <span ng-switch-when="sysup_connect_httpsonly"\n            translate="Connect listener server must use SSL/TLS. ">\n          </span>\n          <span ng-switch-when="sysup_connect_semonly"\n            translate="Connect listener receives individual notification messages for each envelope status.">\n          </span>\n          <span ng-switch-when="sysup_connect_altcert"\n            translate="Connect Mutual TLS sends new 2018 certificates.">\n          </span>\n          <span ng-switch-when="sysup_securityappliance_altcert"\n            translate="Security Appliance TLS sends new 2018 certificates.">\n          </span>\n          <a ng-if="item.learnMoreUrl.length > 0" target="_blank" ng-href="{{item.learnMoreUrl}}">\n            <span translate="More information."></span>\n          </a>\n        </td>\n        <td>\n          <span ng-if="item.hasAutoActivationDate">\n            {{item.autoActivationDate | moment:systemUpdateList.dateTimeFormat:systemUpdateList.timeZone}}\n          </span>\n        </td>\n        <td>\n          <span ng-if="item.systemUpdateValue"><i class="icon icon-circle text-success"></i> <span translate="Active"></span></span>\n          <span ng-if="!item.systemUpdateValue"><i class="icon icon-circleclosed text-muted"></i> <span translate="Inactive"></span></span>\n        </td>\n        <td class="column-action">\n          <button type="button"\n              ng-if="item.editable"\n              class="btn btn-secondary btn-trigger"\n              olive-menu="systemSettingMenu-{{::item.systemUpdateType}}" translate="Actions"></button>\n          <div class="menu invisible" id="systemSettingMenu-{{::item.systemUpdateType}}">\n            <ul>\n              <li ng-if="item.editable && !item.systemUpdateValue" class="menu_listitem">\n                <button type="button"\n                    class="item"\n                    ng-click=\'systemUpdateList.activate($event, item)\'\n                    translate="Activate">\n                </button>\n              </li>\n              <li ng-if="item.editable && item.systemUpdateValue" class="menu_listItem">\n                <button type="button"\n                    class="item"\n                    ng-click=\'systemUpdateList.deactivate($event, item)\'\n                    translate="Deactivate">\n                </button>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div ds-loading="systemUpdateList.loading"\n      ds-loading-succeeded="systemUpdateList.loaded"\n      ds-loading-error="{{\'We had trouble loading your system update items. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(235),i=function(){function e(e,t,n,a,i,s){this._$translate=e,this._systemUpdateService=t,this._dateTimeService=n,this._appUser=a,this._oliveMessage=i,this._=s,this._initDateTimeProperties(n),this.loading=this._getData()}return e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getData=function(){var e=this;return this._systemUpdateService.getSystemUpdates().then(function(t){e.list=t.systemUpdates||[]}).catch(function(t){e._errorMessage(t.data,!0)})},e.prototype.activate=function(e,t){var n=this;return t.systemUpdateValue=!0,this._systemUpdateService.saveSystemUpdate(t).then(function(e){n._appUser.currentAccountInfo.settings.allowConnectHttpListenerConfigs=!1,n._oliveMessage.show(n._$translate.instant("Successfully activated"),"activateSuccessful","success")}).catch(function(e){t.systemUpdateValue=!1,n._errorMessage(e.data,!1)})},e.prototype.deactivate=function(e,t){var n=this;return t.systemUpdateValue=!1,this._systemUpdateService.saveSystemUpdate(t).then(function(e){n._appUser.currentAccountInfo.settings.allowConnectHttpListenerConfigs=!0,n._oliveMessage.show(n._$translate.instant("Successfully deactivated"),"deactivateSuccessful","success")}).catch(function(e){t.systemUpdateValue=!0,n._errorMessage(e.data,!1)})},e.prototype._errorMessage=function(e,t){var n="";switch(e&&e.errorCode&&e.errorCode.toUpperCase()){case"USER_NOT_ACCOUNT_ADMIN":n=this._$translate.instant("User is not an account administrator.");break;case"USER_DOES_NOT_BELONG_TO_SPECIFIED_ACCOUNT":n=this._$translate.instant("The specified User is not a member of the specified Account.");break;case"SYSTEMUPDATE_SETTING_NO_LONGER_EDITABLE":n=this._$translate.instant("The specified setting is no longer editable by this account.");break;case"SYSTEMUPDATE_SETTING_NO_LONGER_ACTIVE":n=this._$translate.instant("The specified setting is no longer active or it is invalid.");break;case"SYSTEMUPDATE_UPDATE_FAILED":n=this._$translate.instant("We had trouble changing your setting. Go ahead and try that again."),e&&e.message&&(n+=" ("+e.message+")");break;default:n=t?this._$translate.instant("We had trouble loading your settings. Go ahead and try that again."):this._$translate.instant("We had trouble changing your setting. Go ahead and try that again.")}_.isEmpty(n)||this._oliveMessage.show(n,"SystemUpdateError","error")},e}();a.SystemUpdatesModule.controller("SystemUpdateListController",["$translate","SystemUpdateService","DateTimeService","appUser","oliveMessage","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="none";n(38).StampsModule.factory("StampService",["appUser","dsAccountSignature","dsApiClient",function(e,t,n){return{getStampInfo:function(n){return t.getAccountSignature(e.getCurrentAccountId(),n)},getStampImages:function(){return t.getAccountSignatures(e.getCurrentAccountId())},getAuthorizedStampUrl:function(t){var a="api/accounts/"+e.getCurrentAccountId()+t+"?imageType=stamp_image";return n.authorizeUri(a)},deleteStamp:function(n){return t.deleteAccountSignature(e.getCurrentAccountId(),n)},removeStampUserRight:function(t,n){return this.updateStampUserRights(e.getCurrentAccountId(),t,{signatureUsers:[{userId:n,rights:a}]})},removeStampGroupRight:function(t,n){return this.updateStampGroupRights(e.getCurrentAccountId(),t,{signatureGroups:[{groupId:n,rights:a}]})},updateStampUserRights:function(e,n,a){return t.updateUserRights(e,n,a)},updateStampGroupRights:function(e,n,a){return t.updateGroupRights(e,n,a)},uploadIPXStamps:function(t){var a={stamp_type:"stamp"},i=n.endpoint().accounts(e.getCurrentAccountId()).signatures().uri(a);return n.postRaw(i,t,{"Content-Type":"application/ipx"})},createStamp:function(t,a,i,s){var o={signatureName:t,phoneticName:a,stampType:"stamp"},r={accountSignatures:[o]},l=this.parseImageData(s),c={stamp_type:"stamp"},d=n.endpoint().accounts(e.getCurrentAccountId()).signatures().uri(c);return n.post(d,r).then(function(t){c.imageType="stamp_image";var a=t.data.accountSignatures[0].signatureId,i=n.endpoint().accounts(e.getCurrentAccountId()).signatures(a).uri(c);i=n.authorizeUri(i);var s={"Content-Type":l.mimeType};return n.put(i,l.data,s)})},createHanko:function(t,a,i){var s={signatureName:t,stampType:"stamp",disallowUserResizeStamp:a.disallowUserResizeStamp?"true":"false",stampFormat:a.stampFormat?a.stampFormat:"NameHanko",imageType:a.imageType?a.imageType:"PNG",isDefault:i?"true":"false",externalID:"",stampSizeMM:"",dateStampProperties:{}};a.externalID&&(s.externalID=a.externalID),a.stampSizeMM&&(s.stampSizeMM=a.stampSizeMM),a.dateStampProperties&&(s.dateStampProperties=a.dateStampProperties);var o={accountSignatures:[s]},r=a.imageBase64,l={stamp_type:"stamp"},c=n.endpoint().accounts(e.getCurrentAccountId()).signatures().uri(l);return n.post(c,o).then(function(t){if(t.data.accountSignatures.length>0){var a=t.data.accountSignatures[0].signatureId;l.imageType="stamp_image";var i=n.endpoint().accounts(e.getCurrentAccountId()).signatures(a).uri(l);i=n.authorizeUri(i);return n.put(i,r,{"Content-Type":"image/png"})}})},updateStamp:function(t,a,i,s){var o={stamp_type:"stamp"},r=n.endpoint().accounts(e.getCurrentAccountId()).signatures(s).uri(o),l={signatureId:s,signatureName:t,phoneticName:a,stampType:"stamp"};return n.put(r,l)},getHankoStamps:function(t,a){var i={stamp_type:"name_stamp",stamp_format:a,stamp_name:t},s=n.endpoint().accounts(e.getCurrentAccountId()).signatures().uri(i);return n.get(s).then(function(e){return e.data.accountSignatures||[]},function(e){return null})},parseImageData:function(e){var t=e.split(/:|;|,/,4);return{data:t[3],mimeType:t[1]}}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(38).StampsModule.filter("searchStamps",[function(){return function(e,t,n){return t=t.trim(),e&&e.length&&t&&t.length?n?e.filter(function(e){return function(t){return a(e)(t)||i(t.phoneticName||"",e)}}(t)):e.filter(a(t)):e;function a(e){return function(t){return i(t.signatureName,e)}}function i(e,t){var n=new RegExp(t,"i");return n.test(e)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38);!function(){a.StampsModule.factory("StampUploadValidation",["$translate",function(e){var t=["gif","jpeg","jpg","png","bmp","ipx"];return{filters:function(){return[{name:"File Extension",errorMessage:e.instant("Invalid file format."),fn:function(e){var n=e.name.split(".").pop().toLowerCase();return t.indexOf(n)>-1}},{name:"File Size",errorMessage:e.instant("File exceeds size limit of 2 MB."),fn:function(e){return!e.size||e.size<2097152}}]}}}])}()},function(e,t){var n="stamps/stamp-upload-ipx-confirm-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="delete-brand-confirmation">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Confirm Uploading IPX File"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p translate="Stamps in IPX file will be added without confirmation."></p>\n    <p translate="Stamps that have the same serial number will not be added."></p>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button type="button" class="btn btn-primary btn-lg" translate="Upload" olive-modal-complete></button>\n    <button type="button" class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="stamps/stamp-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="StampModalController as stamp" class="stamp">\n  <div class="modal_header" ng-if="!activeStamp">\n    <h1 class="modal_title" data-qa="add-stamp-header" translate="Create Your Stamp">\n\n    </h1>\n  </div>\n  <div class="modal_header" ng-if="activeStamp">\n    <h1 class="modal_title" data-qa="edit-stamp-header-add-stamps" ng-if="isAddingNewStamp" translate="Create Your Stamp">\n    </h1>\n    <h1 class="modal_title" data-qa="edit-stamp-header-edit-stamps" ng-if="!isAddingNewStamp" translate="Rename Stamp">\n\n    </h1>\n  </div>\n  <div class="tabs-wrap-container-style" ng-if="isAddingNewStamp">\n    <div class="tabs-wrap">\n      <ul class="tabs" olive-tabset="defaultTabs">\n      <li class="tab-wrap"><button type="button" id="stamp-choose-style-button" ng-show="stamp.showEHankoTab" ng-click="stamp.stampChoose = true;" class="tab" ng-disabled="disableChooseStyleButton" olive-tab-id="one" data-qa="stamp-dialog-choose-style-tab">{{\'Choose\' | translate}}</button></li>\n      <li class="tab-wrap"><button type="button" id="stamp-choose-upload-button" ng-click="stamp.stampChoose = false;" class="tab" ng-disabled="disableChooseUploadButton" olive-tab-id="two" data-qa="stamp-dialog-upload-tab">{{\'Upload\' | translate}}</button></li>\n      </ul>\n    </div>\n    <div class="section stamp-hide-style">\n      <div olive-tabset-parent="defaultTabs" olive-tab-id="one"></div>\n      <div olive-tabset-parent="defaultTabs" olive-tab-id="two"></div>\n    </div>\n  </div>\n\n  <div class="modal_content" ng-if="!activeStamp">\n    <div ng-include="\'stamps/stamp-choose.html\'" ng-show="stamp.showEHankoTab" ng-if="stamp.stampChoose"></div>\n    <div id="adopt-stamp-ipx-spinner-container" class="image-panel--upload" ng-show="stamp.submitting">\n      <div id="adopt-stamp-ipx-spinner" class="adopt-stamp-ipx-spinner spinner-circle"></div>\n      <div class="adopt-stamp-choose-spinner-msg"  translate="Uploading stamps..."></div>\n    </div>\n    <div class="image-panel" ng-if="!stamp.stampChoose">\n      <input id="upload-stamp-image" type="file" class="stamp-hide-style"\n          accept="image/gif,image/png,image/jpeg,image/bmp,image/x-ms-bmp,image/x-bmp,.ipx"\n          nv-file-select uploader="stamp.imageUploader" data-qa="image-upload" multiple>\n      <div class="modal_subcontent modal_subcontent-style">\n        <div ng-if="!stamp.imageUri" id="divDragDropArea" ng-hide="stamp.submitting || this.croppingImage">\n            <div class="image-panel_buttons stamp-hide-style">\n              <label class="btn btn-lg btn-secondary button_select-image"\n                  for="upload-stamp-image" translate="Select Image">\n              </label>\n            </div>\n            <div class="image-panel--upload-back stamp-hide-style">\n            </div>\n            <div class="image-panel--upload"\n                nv-file-drop nv-file-over uploader="stamp.imageUploader">\n              <div class="upload-cta">\n                <div class="icon-frame--outer">\n                  <div class="icon-frame--inner">\n                    <label class="icon link"\n                      ng-class="stamps.useHankoIcons ?\n                        \'icon-palette-field-hanko\' : \'icon-palette-field-stamp\'"\n                      for="upload-stamp-image">\n                    </label>\n                  </div>\n                </div>\n                <label class="upload-cta_text"\n                  translate="[[headerStart]]Drag & drop[[headerEnd]][[descStart]]stamp image here or [[linkStart]]browse[[linkEnd]][[descEnd]]"\n                  translate-interpolation="bracket"\n                  translate-values="{\n                  headerStart: \'<h1 class=&quot;upload-cta_text--header&quot;>\',\n                    headerEnd: \'</h1>\',\n                    linkStart: \'<label for=&quot;upload-stamp-image&quot; class=&quot;link&quot;>\',\n                    linkEnd: \'</label>\',\n                    descStart: \'<h3 class=&quot;upload-cta_text--description&quot;>\',\n                    descEnd: \'</h3>\' }">\n                </label>\n              </div>\n            </div>\n        </div>\n        <div ng-if="stamp.imageUri"\n              nv-file-drop nv-file-over uploader="stamp.imageUploader">\n          <div class="image-panel_buttons">\n              <label class="btn btn-lg btn-secondary button_select-image image-panel_buttons-label-style"\n                      for="upload-stamp-image" translate="Change Image">\n              </label>\n\n              <div class="image-panel_buttons--croppie">\n                  <div class="image-panel_croppie-button">\n                      <img src="/images/croppie_change-shape.png" translate translate-attr-alt="Change Shape"\n                              ng-click="imageCropper.toggleMaskShape()" />\n                      <label translate="Change Shape"></label>\n                  </div>\n                  <div class="image-panel_croppie-button">\n                      <img src="/images/croppie_rotate-left.png" translate-attr-alt="Rotate"\n                              ng-click="imageCropper.rotateLeft()" data-qa="rotate-stamp"/>\n                      <label translate="Rotate"></label>\n                  </div>\n              </div>\n          </div>\n        </div>\n        <div id="img-cropper"></div>\n      </div>\n    </div>\n  </div>\n  <div class="modal_content modal_content-style" ng-if="activeStamp">\n    <div class="info-panel--edit" ng-if="activeStamp">\n      <div class="modal_subcontent">\n        <div class="image-preview">\n          <img ng-src="{{stamp.getStampImageUrl(stamp.imageUri)}}">\n          <div class="loading-dots-wrapper">\n            <div ng-show="stamp.submitting || stamp.deleting" class="loading-dots"></div>\n          </div>\n        </div>\n\n        <form name="detailsForm">\n          <div class="details-group">\n            <div class="form_unit">\n              <label class="label" label-required="*" for="stamp-name-input" translate="Stamp Name">\n              </label>\n              <input name="name" type="text" class="input-text" id="stamp-name-input"\n                data-qa="stamp-name"\n                ng-disabled="stamp.submitting || stamp.deleting"\n                ng-change="stamp.isDetailsFormDirty = true"\n                ng-model="stamp.signatureName"\n                maxlength="100">\n            </div>\n\n            <div class="form_unit" ng-if="stamps.allowPhoneticNames">\n              <label class="label" for="phonetic-name-input" translate="Phonetic">\n              </label>\n              <input type="text" class="input-text" id="phonetic-name-input"\n                ng-disabled="stamp.submitting || stamp.deleting"\n                ng-change="stamp.isDetailsFormDirty = true"\n                ng-model="stamp.phoneticName">\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" ng-switch="isAddingNewStamp">\n    <span ng-switch-when="true">\n      <div data-qa="adopt-stamp-disclaimer-text" id="adopt-stamp-disclaimer-text" class="stamp-disclaimer-text " ng-show="showDisclaimerText">\n        {{\'By clicking Create, I agree that the image above will be the electronic representation of my stamp for all purposes when I (or my agent) use them on documents, including legally binding contracts - just the same as a stamp-and-paper.\' | translate}}\n      </div>\n      <button class="btn btn-lg btn-primary" id="adopt-stamp-confirm"\n          ng-click="stamp.nextStep()"\n          data-qa="modal-confirm-btn"\n          ng-disabled="stamp.isNextStepDisabled()">\n        {{stamp.nextStepLabel()}}\n      </button>\n    </span>\n\n    <button type="submit" ng-switch-when="false"\n      class="btn btn-lg btn-primary"\n      ng-click="stamp.submitSave()"\n      ng-disabled="!(stamp.isDetailsFormDirty && stamp.signatureName) || stamp.deleting"\n      ds-button-loading="stamp.submitting"\n      loading-text="{{\'Saving...\' | translate}}"\n      default-text="{{\'Save\' | translate}}">\n    </button>\n\n    <button type="button" class="btn btn-lg btn-minor" olive-modal-escape\n        ng-disabled="stamp.submitting || stamp.deleting" translate="Cancel">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=function(){function e(e,t,n,a,i,s,o,r,l,c,d){var u=this;this.$scope=e,this.stampService=t,this.StampUploadValidation=n,this.FileUploader=a,this.$translate=i,this.imageCropper=s,this.appUser=o,this.oliveModal=r,this.oliveMessage=l,this.$window=c,this._=d,e.$on("modalReady",function(){u.$window.jQuery(":focus").blur(),u.$window.jQuery(".upload-cta_text--description .link").attr("for","upload-stamp-image")}),e.isAddingNewStamp=!e.activeStamp,e.showDisclaimerText=!1,this.stampChooseComplete=!1,this.showEHankoTab=this.appUser.currentAccountInfo.settings.allowEHankoStamps&&"ja"===this.appUser.currentAccountInfo.userInformation.userSettings.locale.toLowerCase(),this.stampChoose=this.showEHankoTab,e.activeStamp&&(this.signatureId=e.activeStamp.signatureId,this.signatureName=e.activeStamp.signatureName,this.phoneticName=e.activeStamp.phoneticName,this.imageUri=e.activeStamp.stampImageUri,this.isDefault=e.activeStamp.isDefault,this.stampChoose=!1),s.resetCropper(),e.imageCropper=s,e.disableChooseStyleButton=!1,e.disableChooseUploadButton=!1,this.imageUploader=new a({autoUpload:!1,url:"/upload-stamp-image/none",batchSize:1,headers:{"Content-Disposition":"file"},filters:n.filters()}),this.imageUploader.onWhenAddingFileFailed=function(t,n,a){var s=i.instant("Error adding {{NAME}}: {{ERROR}}",{NAME:t.name,ERROR:n.errorMessage});e.stampModal.addMessage(s,"stamp-error","error")},this.imageUploader.onAfterAddingFile=function(t){if(e.stampModal.removeMessage("stamp-error"),e.disableChooseStyleButton=!0,"ipx"===t.file.name.split(".").pop().toLowerCase()){var n={scope:e,templateUrl:"stamps/stamp-upload-ipx-confirm-modal.html",showClose:!1,onComplete:this.uploadIpxFile.bind(this,t),onEscape:this.imageUploader.clearQueue()};this.oliveModal.openModal(n)}else{var a=this;this.croppingImage=!0,s.bind(t,function(t){a.imageUri=t,e.$apply(),s.setZoom(1)})}}.bind(this)}return e.prototype.uploadIpxFile=function(e){var t=this,n=new FileReader;n.onloadend=function(){var e=new Uint8Array(n.result);t.stampService.uploadIPXStamps(e).then(t.stampProcessed.bind(t)).catch(t.handleSubmitError.bind(t))},this.submitting=!0,this.$scope.stampModal.preventClose(),n.readAsArrayBuffer(e._file)},e.prototype.nextStep=function(){if(this.$scope.activeStamp)this.submitSave();else if(this.stampChoose)this.stampChooseComplete||(this.$scope.activeStamp=JSON.parse(this.$window.jQuery("#adopt-stamp-choose-selected-stamp").attr("selectedStamp")),this.$scope.activeStamp&&(this.signatureName=this.$scope.activeStamp.signatureName,this.isDefault=!1,this.imageUri="data:image/png;base64,"+this.$scope.activeStamp.imageBase64,this.stampChooseComplete=!0,this.$scope.disableChooseUploadButton=!0,this.$scope.showDisclaimerText=!0));else{var e=this;this.imageCropper.getResult({size:"viewport"}).then(function(t){e.imageUri=t,e.$scope.activeStamp=!0,e.$scope.stampModal.clearMessages(),e.$scope.$apply()},function(e){var t=this.$translate.instant("We had a problem extracting the image. Note: make sure the cropping area contains a portion of the image.");this.$scope.stampModal.addMessage(t,"stamp-error","error")}),this.$scope.showDisclaimerText=!0}},e.prototype.isNextStepDisabled=function(){return this.submitting||!this.imageUri||this.$scope.activeStamp&&!this.signatureName},e.prototype.nextStepLabel=function(){return this.$scope.activeStamp||this.stampChooseComplete?this.stampChoose?this.$translate.instant("Create"):this.submitting?this.$translate.instant("Creating..."):this.$translate.instant("Create"):this.$translate.instant("Next")},e.prototype.validName=function(e){return!Boolean(_.find(this.$scope.stamps,function(t){return t.signatureName.toString().toLowerCase()===e}))},e.prototype.submitSave=function(){if(!this.validName(this.signatureName.toString().toLowerCase()))return this.showInvalidStampNameError();this.submitting=!0,this.$scope.stampModal.preventClose(),(this.$scope.isAddingNewStamp?this.stampChoose?this.stampService.createHanko(this.signatureName,this.$scope.activeStamp,this.isDefault):this.stampService.createStamp(this.signatureName,this.phoneticName,this.isDefault,this.imageUri):this.stampService.updateStamp(this.signatureName,this.phoneticName,this.isDefault,this.signatureId)).then(this.stampProcessed.bind(this)).catch(this.handleSubmitError.bind(this))},e.prototype.stampProcessed=function(){var e="";e=this.$scope.isAddingNewStamp?this.$translate.instant("Stamp added"):this.$translate.instant("Stamp renamed"),this.oliveMessage.show(e,"stampProcessedd","success"),this.$scope.$emit("MANAGEDSTAMPS:StampProcessed"),this.$scope.stampModal.close(),this.$window.jQuery(":focus").blur()},e.prototype.handleSubmitError=function(e){this.submitting=!1,this.$scope.stampModal.allowClose(),"INVALID_CONTENT_TYPE"===e.errorCode?this.showInvalidFileTypeError():this.showProcessingError()},e.prototype.showInvalidStampNameError=function(){var e=this.$translate.instant("Stamps must have a unique name.");this.$scope.stampModal.addMessage(e,"stamp-error","error")},e.prototype.showInvalidFileTypeError=function(){var e=this.$translate.instant("Error creating stamp: Invalid file format.");this.$scope.stampModal.addMessage(e,"stamp-error","error")},e.prototype.showProcessingError=function(){var e=this.$translate.instant("Error processing stamp. Please try again.");this.$scope.stampModal.addMessage(e,"stamp-error","error")},e.prototype.getStampImageUrl=function(e){return null!==e&&0===e.indexOf("/signatures")?this.stampService.getAuthorizedStampUrl(e):e},e}();a.StampsModule.controller("StampModalController",["$scope","StampService","StampUploadValidation","FileUploader","$translate","ImageCropper","appUser","oliveModal","oliveMessage","$window","lodash",i])},function(e,t){var n="stamps/stamp-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="stamp-management user-management site-main" ng-controller="StampListController as stampList">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Stamps"></h1>\n      </div>\n    </div>\n    <div class="grid action-row">\n      <div class="col-1-5">\n        <button class=\'btn btn-secondary btn-md\'\n          ng-click="stampList.addNew()"\n          data-qa="stamps_add_stamp_btn"\n          translate="Add Stamp">\n        </button>\n      </div>\n    </div>\n  </div>\n  <table class=\'stamp-management-list mgnt-list list-tbl mtbl\'>\n    <thead>\n    <tr>\n      <th name="stamp-image"><span translate="Stamp Image"></span></th>\n      <th name="stampName"><span translate="Name"></span></th>\n      <th name="assignees"><span translate="Assignees"></span></th>\n      <th name="dateModified"><span translate="Date Modified"></span></th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n      <tr ng-repeat=\'stamp in stampList.list\'>\n        <td class="table_cell-stamp-image">\n          <img ng-src="{{stamp.authorizedStampImageUri}}" />\n        </td>\n\n        <td data-title=\'name\' data-qa="stamps_stamp_name_td">\n          <span class="stamp-name truncate u-ellipsis">{{stamp.signatureName}}</span>\n        </td>\n\n        <td>\n          <span class="user-and-group-list">{{stampList.getAssignedUsersAndGroupDisplay(stamp)}}</span>\n        </td>\n\n        <td>\n          {{stamp.adoptedDateTime | moment:stampList.dateTimeFormat:stampList.timeZone}}\n        </td>\n\n        <td class="column-min" data-title=\'Actions\'>\n          <button type=\'button\' class=\'btn btn-secondary btn-trigger\' olive-menu=\'stampActions-{{stamp.signatureId}}\'\n            olive-menu-position=\'below right\' data-qa="stamp_actions_btn" translate="Actions">\n          </button>\n          <div id=\'stampActions-{{stamp.signatureId}}\' class=\'menu invisible\'>\n            <ul>\n              <li>\n                <a name=\'edit-stamp\'\n                  class=\'item\'\n                  data-qa="stamps_actions_users_and groups_li"\n                  ng-click="stampList.editStampAssignment(stamp)"\n                  translate="Users and Groups">\n                 </a>\n              </li>\n              <li>\n                <a name=\'edit-stamp\'\n                  class=\'item\'\n                  data-qa="stamps_actions_edit_stamp_li"\n                  ng-click="stampList.editStamp(stamp)"\n                  translate="Edit">\n                 </a>\n              </li>\n              <li>\n                <a name=\'delete-stamp\'\n                  class=\'item\'\n                  data-qa="stamps_actions_delete_stamp_li"\n                  ng-click="stampList.confirmDeleteStamp(stamp)"\n                  translate="DS_CONTEXT=(stamp) Delete">\n                </a>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div ng-if="successfullyLoaded && !stampList.list.length">\n    <div class="emptyState">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Stamp"></h3>\n        <p ng-if="!stampList.list.length" translate="This account has no stamps."></p>\n        <button type="button" class="btn btn-primary"\n          ng-click="stampList.addNew()"\n          translate="Add Stamp">\n        </button>\n      </div>\n    </div>\n  </div>\n  <div ds-loading="stampList.loaded"\n    ds-loading-succeeded="successfullyLoaded"\n    ds-loading-error="{{\'Sorry! We had trouble loading your stamps. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=n(2),s="Your stamp has been deleted.",o="We had trouble deleting the stamp. Go ahead and try that again",r=function(){function e(e,t,n,a,i,r,l,c,d){var u=this;this.$scope=e,this.stampService=t,this._=n,this.modal=a,this.oliveModal=i,this.oliveMessage=r,this.$translate=l,this.$state=c,this.dateTimeService=d,this.editStamp=function(e){u.$scope.stamps=u.list,u.displayAdoptStampFor(e)},this.editStampAssignment=function(e){u.stampService.activeStamp=e,u.$state.go("authenticated.stamp-assignments")},this.confirmDeleteStamp=function(e){u.$scope.activeStamp=e;var t={scope:u.$scope,templateUrl:"stamps/stamp-delete-modal.html",showClose:!1,onComplete:u.deleteStamp.bind(u,e)};u.oliveModal.openModal(t)},this.deleteStamp=function(e){u.stampService.deleteStamp(e.signatureId).then(function(){u.$scope.$emit("MANAGEDSTAMPS:StampProcessed");var e=u.$translate.instant(s);u.oliveMessage.show(e,"stampDeleted","success")},function(e){var t=u.$translate.instant(o);u.oliveMessage.show(t,"stampDeleted","error")})},e.$on("MANAGEDSTAMPS:StampProcessed",this.getImages.bind(this)),this._initDateTimeProperties(),this.getImages()}return e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this.dateTimeService.getDateTimeFormat(),this.timeZone=this.dateTimeService.getTimeZone()},e.prototype.getImages=function(){var e=this;this.loaded=this.stampService.getStampImages().then(function(t){void 0===t&&(t={accountSignatures:[]}),e.list=t.accountSignatures.map(function(e){return e.authorizedStampImageUri=this.stampService.getAuthorizedStampUrl(e.stampImageUri),e}.bind(e)).sort(function(e,t){return e.adoptedDateTime>=t.adoptedDateTime?-1:1})})},e.prototype.addNew=function(){this.$scope.stamps=this.list,this.displayAdoptStampFor(null)},e.prototype.displayAdoptStampFor=function(e){var t=this;this.$scope.activeStamp=e,this.oliveModal.openModal({scope:this.$scope,size:"md",templateUrl:"stamps/stamp-modal.html",showClose:!0,onEscape:this.blurFocus,onComplete:this.blurFocus}).then(function(e){t.$scope.stampModal=e,t.$scope.$broadcast("modalReady")})},e.prototype.getAssignedUsersAndGroupDisplay=function(e){var t=this;return this._.map(e.signatureUsers,"userName").concat(_.map(e.signatureGroups,function(e){return t.translateSystemGroups(e)})).join(", ")},e.prototype.translateSystemGroups=function(e){return"customGroup"===e.groupType?e.groupName:this.$translate.instant(e.groupName)},e.prototype.blurFocus=function(){i.element(":focus").blur()},e}();a.StampsModule.controller("StampListController",["$scope","StampService","lodash","dsModals","oliveModal","oliveMessage","$translate","$state","DateTimeService",r])},function(e,t){var n="stamps/stamp-delete-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="delete-brand-confirmation">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Confirm Delete Stamp - [[activeStampName]]"\n\t\ttranslate-interpolation="bracket"\n\t\ttranslate-values="{activeStampName: activeStamp.signatureName}"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p translate="Are you sure you want to delete this stamp? Any users with access to this stamp will immediately lose access and the stamp image will be permanently deleted. You will not be able to undo this action."></p>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button type="button" class="btn btn-primary btn-lg" translate="DS_CONTEXT=(stamp) Delete" olive-modal-complete></button>\n    <button type="button" class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="stamps/stamp-choose.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="StampChooseController as stampChoose">\n<div id="adopt-stamp-choose" class="adopt-stamp-choose-style">\n  <p class="text-strong adopt-stamp-choose-label1" for="stamp-type-name" translate="Select stamp format"></p>\n  <div class="form_unit adopt-stamp-choose-type-container">\n    <div class="rb adopt-stamp-choose-rb-style">\n      <input type="radio" name="stamp-type" class="rb_input adopt-stamp-choose-type-v-align" id="stamp-type-name"\n        value="NameHanko" data-qa="adopt-stamp-dialog-radio-name" ng-model="stampType" checked>\n      <label for="stamp-type-name" class="rb_label" translate="Name"></label>\n    </div>\n    <div class="rb adopt-stamp-choose-rb-style">\n      <input type="radio" name="stamp-type" class="rb_input adopt-stamp-choose-type-v-align" id="stamp-type-namedate"\n        value="NameDateHanko" data-qa="adopt-stamp-dialog-radio-name-date" ng-model="stampType">\n      <label for="stamp-type-namedate" class="rb_label" translate="Name + Date"></label>\n    </div>\n  </div>\n  <div id="adopt-stamp-choose-name-form" ng-class="classChooseNameForm">\n    <label id="adopt-stamp-choose-name-label" class="label" for="stamp-name"\n      translate="Enter your name (maximum 5 characters)"></label>\n    <div class="form_group form_group-unified">\n      <span class="form_item form_item-iconRight">\n        <input type="text" name="name" id="stamp-name" ng-model="stampChoose.stampName" ng-class="classChooseNameInput"\n          data-qa="adopt-stamp-dialog-name" translate translate-attr-placeholder="{{\'name...\' | translate}}" size="30" maxlength="12">\n        <span class="icon icon-alert-triangle text-alert icon-alert-triangle-style" ng-show="showChooseTriangle"></span>\n      </span>\n      <button type="button" ng-click="fetchStamps();" id="adopt-stamp-choose-get-stamps-button" class="btn btn-primary"\n        data-qa="adopt-stamp-dialog-generate-stamp" ng-disabled="disableGetStampsButton" translate="Get stamps"></button>\n    </div>\n    <label class="adopt-stamp-choose-err-label adopt-stamp-choose-label-err" id="adopt-stamp-choose-err-label" \n      ng-if="htmlChooseErrLabelMessage.length" translate="Please enter a Japanese name that is fewer than 5 characters.">\n    </label>\n  </div>\n  <div id="adopt-stamp-result-shaded-body-back" class="adopt-stamp-result-shaded-body-back" ngStyle="styleResultShadedBodyBK">\n  </div>\n  <div id="adopt-stamp-result-shaded-body" class="adopt-stamp-result-shaded-body" ngStyle="styleResultShadedBody">\n  <div id="adopt-stamp-choose-spinner-container" class="adopt-stamp-choose-spinner-container" ng-show="showSpinner">\n    <div id="adopt-stamp-choose-spinner" class="adopt-stamp-choose-spinner spinner-circle"></div>\n    <div class="adopt-stamp-choose-spinner-msg"  translate="Getting stamps..."></div>\n  </div>\n    <div id="adopt-stamp-server-err" class="adopt-stamp-server-err" ng-if="htmlServerErrMessage.length"\n      translate="Sorry, that name is not in the database. If you already have a stamp, select the Upload tab.">\n    </div>\n    <div id="adopt-stamp-choose-selected-stamp" class="stamp-hide-style"></div>\n    <div id="adopt-stamp-choose-style-preview" class="adopt-stamp-choose-style-preview-style">\n      <button type="button" class="choose-style-list-btn choose-style-list-btn-template stamp-hide-style"\n        data-qa="adopt-stamp-dialog-generated-stamp">\n        <div class="stamp-image-container">\n          <img class="choose-stamp-image"/>\n          <div class="checkmark icon" ><img src="/images/checkmark.png"></div>\n        </div>\n      </button>\n    </div>\n    <div class="adopt-stamp-by-Shachihata" ng-show="showByShachihata" data-qa="adopt-stamp-by-Shachihata" radmin-logging radmin-logging-counter-instance="Shachihata link" radmin-logging-event-name="Stamp Event"\n       translate="Stamps provided by Shachihata Inc. To order a custom stamp from Shachihata, click [[linkStart]]here[[linkEnd]]"\n       translate-values="{linkStart:\'<a target=\\\'_blank\\\' href=\\\'http://dstmp.shachihata.co.jp/purchase/\\\'>\', linkEnd:\'</a>\'}"\n       translate-interpolation=\'bracket\'></div>\n  </div>\n</div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=n(2);a.StampsModule.controller("StampChooseController",["$scope","StampService","$translate","lodash","$window",function(e,t,n,a,s){e.stampName="",e.fetchStamps=function(){var a=e.stampType,o=this.stampChoose.stampName;if(e.disableGetStampsButton||0===o.length||o.length>=6)return;e.showChooseErrLabelMessage="",e.showSpinner=!0,e.showByShachihata=!1,t.getHankoStamps(o,a).then(function(t){if(i.element("#adopt-stamp-confirm").prop("disabled",!0),s.jQuery(".adopt-stamp-result-shaded-body").css("visibility","visible"),s.jQuery(".adopt-stamp-result-shaded-body-back").css("visibility","visible"),e.showSpinner=!1,!t)return e.htmlServerErrMessage=n.instant("Error processing stamp. Please check eHanko feature is enabled."),void(e.showByShachihata=!1);e.userStamps=t;var a=t.length;if(s.jQuery(".choose-style-list-btn:not(.choose-style-list-btn-template)").remove(),0===a)e.htmlServerErrMessage=n.instant("Sorry, that name is not in the database. If you already have a stamp, select the upload tab."),e.showByShachihata=!1;else{for(var o=s.jQuery(".choose-style-list-btn-template").clone().removeClass("choose-style-list-btn-template"),r=s.jQuery("#adopt-stamp-choose-style-preview"),l=1;l<=Math.min(9,a);l++){var c=o.clone();c.find(".choose-stamp-image").attr("src","data:image/png;base64,"+t[l-1].imageBase64),c.attr("stampIndex",l-1),c.click(e.selectStamp),a%3==0&&l%3==1&&c.addClass("choose-style-list-btn-wide"),c.show(),c.appendTo(r)}e.showByShachihata=!0,e.htmlServerErrMessage=""}}.bind(this))},e.selectStamp=function(e){var t=s.jQuery(e.currentTarget);if(t.hasClass("selected"))return;s.jQuery(".choose-style-list-btn").removeClass("selected"),t.addClass("selected"),t.prop("selected",!0);var n=t.attr("stampIndex");i.element("#adopt-stamp-choose-selected-stamp").attr("selectedStamp",JSON.stringify(this.userStamps[n])),i.element("#adopt-stamp-confirm").prop("disabled",!1)}.bind(e),e.userStamps={},e.showByShachihata=!1,e.htmlServerErrMessage="",e.htmlChooseErrLabelMessage="",e.showChooseTriangle=!1,e.disableGetStampsButton=!0,e.showSpinner=!1,e.checkNameHanko=!0,e.stampType="NameHanko",e.classChooseNameForm="form_unit",e.classChooseNameInput="input-text adopt-stamp-choose-name-input",e.$watch("stampChoose.stampName",function(t){!function(t){var a=!1;t&&t.length>0&&t.length<6&&(a=/^[\u3005\u3040-\u30ff\u4e00-\u9faf\u3400-\u4dbf]+?$/.test(t));!t||a||0===t.length?(e.classChooseNameForm="form_unit",e.classChooseNameInput="input-text adopt-stamp-choose-name-input",e.htmlChooseErrLabelMessage="",e.showChooseTriangle=!1):(e.classChooseNameForm="form_unit form_unit-hasError",e.classChooseNameInput="input-text adopt-stamp-choose-name-input adopt-stamp-choose-input-err",e.showChooseTriangle=!0,t.length>5?e.htmlChooseErrLabelMessage=n.instant("Please enter a Japanese name that is fewer than 5 characters."):e.htmlChooseErrLabelMessage=n.instant("Japanese characters only. If you already have a stamp, select the upload tab."));e.disableGetStampsButton=!a}(t)})}])},function(e,t){var n="stamps/stamp-assignment.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="stamp-assignment" ng-controller="StampAssignmentController as stampDetail">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Stamp" ui-sref="authenticated.stamps"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item">{{stampDetail.stamp.signatureName}}</span>\n      </li>\n    </ol>\n  </nav>\n  <div class="section">\n    <div><img ng-src="{{stampDetail.stamp.authorizedStampImageUri}}"></div>\n  </div>\n  <div class="tabs-wrap">\n    <ul class="tabs" olive-tabset="stampDetailTabs">\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="users" ng-class="{\'on\': stampDetail.activateUsersTab}" translate="Users"></a>\n      </li>\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="groups" ng-class="{\'on\': stampDetail.activateGroupsTab}" translate="Groups"></a>\n      </li>\n    </ul>\n  </div>\n  <div>\n    <div olive-tabset-parent="stampDetailTabs" olive-tab-id="users">\n      <div ng-include="\'stamps/stamp-assigned-user-list.html\'"></div>\n    </div>\n    <div olive-tabset-parent="stampDetailTabs" olive-tab-id="groups">\n      <div ng-include="\'stamps/stamp-assigned-group-list.html\'"></div>       \n    </div>\n  </div>\n  <div ds-loading="stampDetail.loading" ds-loading-succeeded="stampDetail.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your group. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="stamps/stamp-assigned-user-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="StampAssignedUserAndGroupListController as userList">\n  <div>\n    <div class="section" ng-if="userList.isLoaded && userList.getAssignedUsers() != null">\n      <div class="fgrid action-row">\n        <div class="fgrid_cell">\n          <div class="action-btns u-float-left">\n            <button class="btn btn-secondary btn-md"\n                    ng-click="userList.goToAssignUsers()" translate="Assign Users"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <table class=\'mgnt-list list-tbl mtbl table table-select\' olive-table-select\n        ng-if="userList.isLoaded && userList.getAssignedUsers() != null">\n      <thead>\n        <tr>\n          <th name=\'name\'><span translate="Name"></span></th>\n          <th>&nbsp;</th>\n        </tr>\n      </thead>\n\n      <tbody ng-if="userList.isLoaded">\n        <tr ng-repeat=\'user in userList.getAssignedUsers()\'\n            ng-class="{\'closed\': user.status === \'Closed\' && !userList.showSelect}">\n          <td data-title=\'userName\'>\n            <span class="truncate u-ellipsis">{{user.userName}}</span>\n          </td>\n\n          <td class="column-min" data-title=\'Actions\'>\n            <button type="button" class="btn btn-secondary u-float-right"\n              ng-click="userList.removeStampUser(user)"\n              translate="Remove">\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-if="userList.isLoaded && !userList.getAssignedUsers().length">\n    <div class="emptyState">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Users"></h3>\n        <p ng-if="!userList.getAssignedUsers().length" translate="There are no users assigned to this stamp."></p>\n        <button type="button" class="btn btn-primary"\n                ng-click="userList.goToAssignUsers()"\n                translate="Assign User"></button>\n      </div>\n    </div>\n  </div>\n  <div ds-loading="userList.loading" ds-loading-succeeded="userList.assignmentLoaded"\n       ds-loading-error="{{\'We had trouble loading your users. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=n(237),s=function(){function e(e,t,n,a){this._stampService=e,this._oliveMessage=t,this._$translate=n,this._$state=a,this.isLoaded=!1,this._activeStamp=e.activeStamp,this.stampName=this._activeStamp.signatureName,this.isLoaded=!0}return e.prototype.translateSystemGroups=function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)},e.prototype.getAssignedUsers=function(){return this._activeStamp.signatureUsers},e.prototype.getAssignedGroups=function(){return this._activeStamp.signatureGroups},e.prototype.goToAssignUsers=function(){this._stampService.assignAction=i.STAMP_ASSIGN_OPTIONS.USER,this._$state.go("authenticated.stamp-assign-users-groups")},e.prototype.goToAssignGroups=function(){this._stampService.assignAction=i.STAMP_ASSIGN_OPTIONS.GROUP,this._$state.go("authenticated.stamp-assign-users-groups")},e.prototype.removeStampUser=function(e){var t=this;this._stampService.removeStampUserRight(this._activeStamp.signatureId,e.userId).then(function(n){t._oliveMessage.show(t._$translate.instant("The user {{userName}} was removed from the stamp.",{userName:e.userName}),"removeGroupUserSuccess","success"),t.loadStampInfo()}).catch(function(e){t._oliveMessage.show(t._$translate.instant("User removal failed. Please try again."),"removeGroupUserError","error")})},e.prototype.removeStampGroup=function(e){var t=this;this._stampService.removeStampGroupRight(this._activeStamp.signatureId,e.groupId).then(function(n){t._oliveMessage.show(t._$translate.instant("The group {{groupName}} was removed from the stamp",{groupName:e.groupName}),"removeGroupUserSuccess","success"),t.loadStampInfo()}).catch(function(e){t._oliveMessage.show(t._$translate.instant("User removal failed. Please try again."),"removeGroupUserError","error")})},e.prototype.loadStampInfo=function(){var e=this;this._stampService.getStampInfo(this._activeStamp.signatureId).then(function(t){e._stampService.activeStamp=t,e._activeStamp=t})},e}();a.UsersModule.controller("StampAssignedUserAndGroupListController",["StampService","oliveMessage","$translate","$state",s])},function(e,t){var n="stamps/stamp-assigned-group-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main" ng-controller="StampAssignedUserAndGroupListController as groupList">\n  <div >\n    <div class="section" ng-if="groupList.isLoaded && groupList.getAssignedGroups() != null">\n      <div class="fgrid action-row">\n        <div class="fgrid_cell">\n          <div class="action-btns u-float-left">\n            <button class="btn btn-secondary btn-md"\n              ng-click="groupList.goToAssignGroups()" translate="Assign Groups">\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <table class="mgnt-list list-tbl mtbl table table-select" olive-table-select\n        ng-if="groupList.isLoaded && groupList.getAssignedGroups() != null">\n      <thead>\n        <tr>\n          <th name=\'name\'><span translate="Name"></span></th>\n          <th>&nbsp;</th>\n        </tr>\n      </thead>\n\n      <tbody ng-if="groupList.isLoaded">\n        <tr ng-repeat=\'group in groupList.getAssignedGroups()\'\n            ng-class="{\'closed\': group.status === \'Closed\' && !groupList.showSelect}">\n          <td data-title=\'groupName\'>\n            <span class="truncate u-ellipsis">{{groupList.translateSystemGroups(group)}}</span>\n          </td>\n\n          <td class="column-min" data-title=\'Actions\'>\n            <button type="button" class="btn btn-secondary u-float-right"\n              ng-click="groupList.removeStampGroup(group)"\n              translate="Remove">\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-if="groupList.isLoaded && !groupList.getAssignedGroups().length">\n    <div class="emptyState">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Groups"></h3>\n        <p ng-if="!groupList.getAssignedGroups().length" translate="There are no groups assigned to this stamp."></p>\n        <button type="button" class="btn btn-primary"\n                ng-click="groupList.goToAssignGroups()"\n                translate="Assign Groups"></button>\n      </div>\n    </div>\n  </div>\n  <div ds-loading="groupList.loading" ds-loading-succeeded="groupList.assignmentLoaded"\n       ds-loading-error="{{\'We had trouble loading your users. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="stamps/stamp-assign-users-groups.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="StampAssignUsersGroupsController as stampAssign">\n  <nav class="crumbs" role="navigation" aria-label="Breadcrumbs">\n    <ol class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Stamps" ui-sref="authenticated.stamps"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ng-click="stampAssign.goBack()">{{stampAssign.stamp.signatureName}}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" ng-if="stampAssign.isAssignUsers" translate="Assign Users"></span>\n        <span class="crumbs_item" ng-if="stampAssign.isAssignGroups" translate="Assign Groups"></span>\n      </li>\n    </ol>\n  </nav>\n  <div class="section">\n    <h1 class="header-title" ng-if="stampAssign.isAssignUsers" translate="Assign Users"></h1>\n    <h1 class="header-title" ng-if="stampAssign.isAssignGroups" translate="Assign Groups"></h1>\n  </div>\n  <div class="assign-tabs" olive-tabset="stampAssignmentDetailTabs">\n    <div class="tabs-wrap">\n      <ul class="tabs">\n        <li class="tab-wrap">\n          <a class="tab" olive-tab-id="all" translate="DS_CONTEXT=(users or groups) All"></a>\n        </li>\n        <li class="tab-wrap">\n          <a class="tab" olive-tab-id="selected" translate="Selected ([[count]])" translate-interpolation="bracket"\n             translate-values="{count: selectedList.length || 0}"></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="section">\n    <div olive-tabset-parent="stampAssignmentDetailTabs" olive-tab-id="all">\n      <div ng-include="\'user management/groups/group-user-list.html\'" ng-if="stampAssign.isAssignUsers"></div>\n      <div ng-include="\'stamps/stamp-assign-group-list.html\'" ng-if="stampAssign.isAssignGroups"></div>\n    </div>\n    <div olive-tabset-parent="stampAssignmentDetailTabs" olive-tab-id="selected">\n      <div ng-include="\'stamps/stamp-assign-selected.html\'"></div>\n    </div>\n  </div>\n  <div class="assign-bottom-buttons sticky-buttons" olive-sticky="assign-bottom-buttons" olive-location="bottom">\n    <div class="section">\n      <button class="btn btn-primary"\n              ng-disabled="stampAssign.isSaving || !selectedList.length"\n              ng-class="{\'btn-loading\': stampAssign.isSaving}"\n              ng-click="stampAssign.assign()">\n        <span ng-if="!stampAssign.isSaving" translate="Assign"></span>\n        <span ng-if="stampAssign.isSaving"><span translate="Assigning"></span>&hellip;</span>\n      </button>\n      <button class="btn btn-minor" translate="Cancel" ng-click="stampAssign.goBack()"\n              ng-disabled="stampAssign.isSaving"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=n(237),s=n(236),o="read",r=100,l="{{count}} groups were successfully assigned to the stamp {{stampName}}.",c="{{name}} was successfully assigned to the stamp {{stampName}}.",d="{{count}} users were successfully assigned to the stamp {{stampName}}.",u="{{name}} was successfully assigned to the stamp {{stampName}}.",p="An error occurred while assigning group. Please try again.",m="An error occurred while assigning user. Please try again.",g=function(){function e(e,t,n,a,s,o,l){this._$scope=e,this._$state=t,this._stampService=n,this._appUser=a,this._$translate=s,this._oliveMessage=o,this._=l,this.isAssignUsers=!1,this.isAssignGroups=!1,this.isSaving=!1,this._init(),this._$scope.selectedList=[],this._$scope.maxSelected=r,this._$scope.$on("selectedUsersChanged",this._showMaxMessage.bind(this,i.STAMP_ASSIGN_OPTIONS.USER)),this._$scope.$on("selectedGroupsChanged",this._showMaxMessage.bind(this,i.STAMP_ASSIGN_OPTIONS.GROUP))}return e.prototype._init=function(){var e=this._stampService.assignAction;this.stamp=this._stampService.activeStamp,this.isAssignUsers=e===i.STAMP_ASSIGN_OPTIONS.USER,this.isAssignGroups=e===i.STAMP_ASSIGN_OPTIONS.GROUP,(this._.isUndefined(this.stamp)||!this.isAssignGroups&&!this.isAssignUsers)&&this._$state.go("authenticated.stamps")},e.prototype.goBack=function(){this._$state.go("authenticated.stamp-assignments")},e.prototype.assign=function(){var e=this._appUser.getCurrentAccountId();(this.isAssignUsers?this._stampService.updateStampUserRights(e,this.stamp.signatureId,function(){var e=this._.map(this._$scope.selectedList,function(e){return{userId:e.id,rights:o}});return e={signatureUsers:e}}.call(this)):this._stampService.updateStampGroupRights(e,this.stamp.signatureId,function(){var e=this._.map(this._$scope.selectedList,function(e){return{groupId:e.groupId,rights:o}});return e={signatureGroups:e}}.call(this))).then(function(e){var t=this,n="";n=this.isAssignUsers?e.length>1?this._$translate.instant(d,{count:e.length,stampName:this.stamp.signatureName}):this._$translate.instant(u,{name:"One user",stampName:this.stamp.signatureName}):e.length>1?this._$translate.instant(l,{count:e.length,stampName:this.stamp.signatureName}):this._$translate.instant(c,{name:this._$scope.selectedList[0].groupName,stampName:this.stamp.signatureName});this._oliveMessage.show(n,"assignToGroupSuccess","success"),this._stampService.getStampInfo(this.stamp.signatureId).then(function(e){t._stampService.activeStamp=e,t._$state.go("authenticated.stamp-assignments")})}.bind(this)).catch(function(){var e=this.isAssignUsers?m:p;this._oliveMessage.show(e,"assignToGroupError","error")}.bind(this)),this.isSaving=!0},e.prototype._showMaxMessage=function(e){this._oliveMessage.closeAll();var t=e===i.STAMP_ASSIGN_OPTIONS.GROUP?"Only {{maxCount}} groups can be assigned at a time. Please assign the currently selected groups, then select additional groups as needed":s.MAX_USER_SELECTED_EXCEEDED_MSG;if(this._$scope.selectedList.length===this._$scope.maxSelected){var n=this._$translate.instant(t,{maxCount:this._$scope.maxSelected});this._oliveMessage.show(n,"maxSelectedReached","warning")}},e}();a.StampsModule.controller("StampAssignUsersGroupsController",["$scope","$state","StampService","appUser","$translate","oliveMessage","lodash",g])},function(e,t){var n="stamps/stamp-assign-selected.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="stamp-management user-management site-main" ng-controller="StampAssignSelectedController as assignSelected">\n  <div ng-if="assignSelected.hasSelectedUser()">\n    <table class="mgnt-list list-tbl mtbl">\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox">\n          <span class="cb cb-noText" ng-if="selectedList.length > 0">\n            <input class="cb_input" type="checkbox" id="selectedUser_selectAll"\n                   ng-checked="selectedList.length > 0"\n                   ng-click="assignSelected.removeAll()" />\n            <label class="cb_label" for="selectedUser_selectAll" translate="Select All"></label>\n          </span>\n        </th>\n        <th translate="Name"></th>\n        <th translate="Email"></th>\n        <th translate="Added"></th>\n        <th translate="Status"></th>\n        <th class="hidden-sm-down" translate="Permission Set"></th>\n        <th class="hidden-sm-down" translate="Groups"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="user in selectedList">\n        <td>\n          <span class="cb cb-noText">\n            <input class="cb_input" type="checkbox" id="input_1a-{{user.id}}"\n                   ng-click="assignSelected.removeSelected(user)"\n                   ng-checked="true" />\n            <label class="cb_label" for="input_1a-{{user.id}}" translate="Select"></label>\n          </span>\n        </td>\n        <td class="truncate">{{::user.name}}</td>\n        <td class="truncate">{{::user.email}}</td>\n        <td>{{::user.added | moment:assignSelected.dateTimeFormat:assignSelected.timeZone}}</td>\n        <td>\n          <i class="icon" ng-class="{\n                \'Active\':\'icon-circle text-success\',\n                \'Pending\':\'icon-circle icon-pending\',\n                \'Closed\':\'icon-circleclosed\'\n              }[user.status]"></i> <span class="hidden-sm-down" translate="{{::user.status}}"></span>\n        </td>\n        <td class="user-role-list hidden-sm-down" data-title="Role">{{::user.role}}</td>\n        <td class="hidden-sm-down">\n            <span class="user-group-list">\n              {{::assignSelected.groupListSummary(user.groupList)}}\n            </span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div ng-if="assignSelected.hasSelectedGroup()">\n    <table class=\'stamp-management-list user-and-group-list mgnt-list list-tbl mtbl\' olive-table-select>\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox">\n          <span class="cb cb-noText" ng-if="selectedList.length > 0">\n              <input class="cb_input" type="checkbox" id="selectedGroups_selectAll"\n                     ng-checked="selectedList.length > 0"\n                     ng-click="assignSelected.removeAll()"\n                     ng-disabled="assignSelected.disableSelectAll()" />\n              <label class="cb_label" for="selectedGroups_selectAll" translate="Select All"></label>\n          </span>\n        </th>\n        <th name="groupName"><span translate="Name"></span></th>\n        <th name="usersCount"><span translate="Users"></span></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat=\'group in selectedList\'>\n        <td>\n          <span class="cb cb-noText">\n              <input class="cb_input" type="checkbox" id="input_group-{{group.$$hashKey}}"\n                     ng-click="assignSelected.removeSelected(group)"\n                     ng-checked="true"/>\n              <label class="cb_label" for="input_group-{{group.$$hashKey}}" translate="Select"></label>\n          </span>\n        </td>\n\n        <td data-title=\'name\' data-qa="groups_group_name_td">\n          <span class="truncate u-ellipsis">{{assignSelected.translateSystemGroups(group)}}</span>\n        </td>\n\n        <td>\n          {{::group.usersCount}}\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=function(){function e(e,t,n,a){this._$scope=e,this._$translate=t,this._dateTimeService=n,this._=a,this._initDateTimeProperties()}return e.prototype.hasSelectedUser=function(){return void 0!==this._$scope.selectedList&&this._$scope.selectedList.length>0&&void 0!==this._$scope.selectedList[0].id},e.prototype.hasSelectedGroup=function(){return void 0!==this._$scope.selectedList&&this._$scope.selectedList.length>0&&void 0!==this._$scope.selectedList[0].groupId},e.prototype.removeSelected=function(e){this._.remove(this._$scope.selectedList,function(t){return t===e})},e.prototype.removeAll=function(){this._.remove(this._$scope.selectedList,function(e){return e})},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this._dateTimeService.getDateTimeFormat(),this.timeZone=this._dateTimeService.getTimeZone()},e.prototype.translateSystemGroups=function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)},e.prototype.groupListSummary=function(e){var t=e.slice(0,2).map(this.translateSystemGroups.bind(this));return e.length>2&&t.push(this._$translate.instant("{{remainingNumberOfGroups}} more",{remainingNumberOfGroups:e.length-2})),t.join(", ")},e}();a.GroupsModule.controller("StampAssignSelectedController",["$scope","$translate","DateTimeService","lodash",i])},function(e,t){var n="stamps/stamp-assign-group-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="stamp-management user-management site-main" ng-controller="StampAssignGroupListController as groupList">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class=\'header-title\' translate="Groups"></h1>\n      </div>\n      <ds-filter-controls searchable="groupList">\n      </ds-filter-controls>\n    </div>\n    <div class="grid action-row" >\n      <ds-page-controls pageable="groupList" list-name="\'groups\' | translate"></ds-page-controls>\n    </div>\n  </div>\n\n  <table class=\'mgnt-list list-tbl mtbl\' olive-table-select>\n    <thead>\n    <tr>\n      <th class="table_cell-checkbox">\n        <span class="cb cb-noText">\n            <input class="cb_input" type="checkbox" id="selectedUsers_selectAll"\n                   ng-checked="groupList.isSelectAll()"\n                   ng-click="groupList.toggleSelectAll()"\n                   ng-disabled="groupList.disableSelectAll()" />\n            <label class="cb_label" for="selectedUsers_selectAll" translate="Select All"></label>\n        </span>\n      </th>\n      <th name="groupName"><span translate="Name"></span></th>\n      <th name="usersCount"><span translate="Users"></span></th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n    <tr ng-repeat=\'group in groupList.list\'>\n      <td>\n        <span class="cb cb-noText">\n          <input class="cb_input" type="checkbox" id="input_group-{{$index}}"\n            olive-table-select-row\n            ng-checked="groupList.isGroupSelected(group)"\n            ng-click="groupList.toggleGroup(group)"\n            ng-disabled="groupList.disableSelect(group)" />\n          <label class="cb_label" for="input_group-{{$index}}" translate="Select"></label>\n        </span>\n      </td>\n\n      <td data-title=\'name\' data-qa="groups_group_name_td">\n        <span class="truncate u-ellipsis">{{groupList.translateSystemGroups(group)}}</span>\n      </td>\n\n      <td>\n        {{::group.usersCount}}\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="successfullyLoaded && groupList.list.length == 0 && groupList.searchPhrase.length > 0">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="groupList.searchPhrase.length > 0"\n         translate="The selected search query \'[[phrase]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{phrase: groupList.searchPhrase}"></p>\n    </div>\n  </div>\n\n  <div ds-loading="groupList.loading"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'We had trouble loading your groups. Go ahead and try that again.\' | translate}}">\n  </div>\n\n  <div class="section" ng-if="groupList.loaded">\n    <div class="grid action-row" >\n      <ds-page-controls pageable="groupList"></ds-page-controls>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=n(30),s=n(53),o=n(66),r=function(){function e(e,t,n,a,i){this._$scope=e,this._$q=t,this._groups=n,this._=a,this._$translate=i,this.pageItemType=this._$translate.instant("groups"),this.searchPhrase="",this._isSelectAll=!1,this.searchPhrase=this.submittedSearch="",this.loading=this._getFirstPage().then(function(){n.activeGroup&&(n.activeGroup=void 0,n.assignAction=s.GROUP_ASSIGN_OPTIONS.UNKNOWN)})}return e.prototype.submitSearch=function(e){13===e.keyCode&&(this.submittedSearch=this.searchPhrase,this.loading=this._getFirstPage())},e.prototype.resetSearch=function(){this.searchPhrase="",this.loading=this._getFirstPage()},e.prototype.jumpToFirstPage=function(){this.loading=this._getFirstPage()},e.prototype.pageBackward=function(){var e=new o.PreviousPageOptions(this.currentPage.startIndex,50);this.loading=this._getPage(e)},e.prototype.pageForward=function(){var e=new o.NextPageOptions(this.currentPage.startIndex,this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new o.LastPageOptions(this.currentPage.totalCount,50);this.loading=this._getPage(e)},e.prototype.translateSystemGroups=function(e){return"customGroup"===e.groupType?e.groupName:this._$translate.instant(e.groupName)},e.prototype.toggleGroup=function(e){this._.some(this._$scope.selectedList,{groupId:e.groupId})?this._.remove(this._$scope.selectedList,function(t){return t.groupId===e.groupId}):this._$scope.selectedList.length+1<=this.getMaxSelected()&&this._$scope.selectedList.push(e),this._$scope.$emit("selectedGroupsChanged")},e.prototype.isGroupSelected=function(e){return e&&this._.some(this._$scope.selectedList,{groupId:e.groupId})},e.prototype.getMaxSelected=function(){var e=this._$scope.maxSelected;return this._.isNumber(e)||(e=100),e},e.prototype.toggleSelectAll=function(){var e=this;this._isSelectAll?this.list.forEach(function(t){e._.remove(e._$scope.selectedList,function(e){return e.groupId===t.groupId})}):this.list.forEach(function(t){e.isGroupSelected(t)||e._$scope.selectedList.push(t)}),this._$scope.$emit("selectedGroupsChanged")},e.prototype.isSelectAll=function(){var e=this;return this._isSelectAll=!this._.isEmpty(this._$scope.selectedList)&&!this._.isEmpty(this.list),this._isSelectAll&&this.list.forEach(function(t){e.isGroupSelected(t)||(e._isSelectAll=!1)}),this._isSelectAll},e.prototype._getFirstPage=function(){return this._getPage(new o.FirstPageOptions(50))},e.prototype._getPage=function(e){void 0===e&&(e={});var t={search_text:this.searchPhrase,include_usercount:!0};return e=this._.merge(e,t),this._groups.getPage(e).then(this._getPageSuccess.bind(this)).catch(this._getPageError.bind(this))},e.prototype._getPageError=function(e){return this._setNoResults(),this._$q.reject(e)},e.prototype._setNoResults=function(){this.currentPage=new i.BlankPage,this.list=[]},e.prototype._getPageSuccess=function(e){this.currentPage=new i.CurrentPageFromApiPage(e.page),this.list=e.groups,this.loaded=!0},e}();a.GroupsModule.controller("StampAssignGroupListController",["$scope","$q","dsGroups","lodash","$translate",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=n(37);a.StampsModule.factory("ImageCropper",[function(){return{resetCropper:function(){this.cropper&&(this.cropper=null)},getCropper:function(){if(!this.cropper){var e=i("#img-cropper")[0];this.cropper=new Croppie(e,{boundary:{width:"auto",height:293},viewport:{width:200,height:200,type:"circle"},enableOrientation:!0,enforceBoundary:!0}),function(e){var t=i(".cr-slider-wrap"),n=i("<div>",{class:"icon icon-type-image"}).css({"font-size":"0.9em",float:"left","margin-top":"4px",color:"#999999"});n.on("click",function(t){e.zoomMin()});var a=i("<div>",{class:"icon icon-type-image"}).css({"font-size":"1.9em",float:"right","margin-top":"-3px",color:"#999999"});a.on("click",function(t){e.zoomMax()}),t.prepend(n).append(a)}(this)}return this.cropper},setZoom:function(e){this.getCropper().setZoom(e)},zoomMax:function(){this.getCropper().setZoom(this.getCropper().maxZoom())},zoomMin:function(){this.getCropper().setZoom(this.getCropper().minZoom())},rotateLeft:function(){this.getCropper().rotate(-90)},rotateRight:function(){this.getCropper().rotate(90)},getResult:function(e){return this.getCropper().result(e)},toggleMaskShape:function(){"circle"===this.getCropper().options.viewport.type?(i(".cr-viewport").removeClass("cr-vp-circle"),i(".cr-viewport").addClass("cr-vp-square"),this.getCropper().options.viewport.type="square"):(i(".cr-viewport").removeClass("cr-vp-square"),i(".cr-viewport").addClass("cr-vp-circle"),this.getCropper().options.viewport.type="circle")},bind:function(e,t){var n,a=this.getCropper(),i=new FileReader;i.onload=function(){var e=i.result;a.bind({url:e}).then(function(){t&&t(e)})},e&&(e._file?n=e._file:e.name?n=e:e[0].files&&e[0].files.length>0?n=e[0].files[0]:e.prop("files")&&e.prop("files").length>0&&(n=e.prop("files")[0]));n&&i.readAsDataURL(n)}}}])},function(e,t){var n="site/under-construction/under-construction.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="under-construction">\n  <form name="redirect" action="/redirectToClassic" method="post" ng-controller="ClassicRedirectionController as redirection">\n    <p translate="We\'re working on this section for the new Admin experience."></p>\n    <p translate-interpolation="bracket" translate-values="{linkStart: redirection.linkStart, linkEnd: redirection.linkEnd}">\n      <div ng-click="redirection.redirect($event)">\n        <span translate="To administer this capability now, please [[linkStart]]Switch to Classic Admin[[linkEnd]]" translate-interpolation="bracket" translate-values="{linkStart: redirection.linkStart, linkEnd: redirection.linkEnd}"></span>\n      </div>\n    </p>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/timeout-warning-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="automatic-logout">\n  <div class="modal-header text-center" olive-modal-header>\n    <h3 translate="Your Session is About to Expire"></h3>\n  </div>\n\n  <div class="modal_content" olive-modal-content>\n    <div class="text-center">\n      <p translate="You will be logged out in [[countdown]] second(s). Do you want to stay logged in?"\n        translate-interpolation="bracket"\n        translate-values="{countdown: secondsRemaining}">\n      </p>\n    </div>\n  </div>\n\n  <div class="modal_footer" olive-modal-footer>\n    <button type="button" class="btn btn-primary btn-lg"\n      olive-modal-complete\n      translate="Stay Logged In">\n    </button>\n\n    <button type="button" class="btn btn-secondary btn-lg"\n      ng-click="logout()"\n      translate="Log Out">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/sidebar.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="content_left site-sidebar" ng-controller="NavigationController as navigator">\n  <div class="sidebar_group" ng-repeat="navGroup in navigator.navigation.items">\n    <h4 class="sidebar_title" translate="{{navGroup.name}}"></h4>\n    <div class="menu-nav">\n      <ul class="menu_list">\n        <li class="menu_listItem" ng-repeat="navItem in navGroup.items">\n          <a class="menu_item" ui-sref-active="menu_item-isOn" ui-sref="{{navItem.state}}"\n              radmin-logging data-qa="nav_link_{{navItem.state}}">\n            <span class="icon-lock icon-isCallout"\n              ng-if="navItem.state === \'authenticated.branding-upsell\'">\n            </span>\n            <span translate="{{navItem.name}}"></span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/new-header.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site_header header header-admin"\n    ng-controller="HeaderController">\n    <div class="header_wrap">\n        <div class="header_nav-mobile header_actions">\n            <button type="button"\n                class="header_action"\n                ds-mobile-menu="navMenu"\n                ds-mobile-menu-side="left"\n                ng-if="showAccountPicker()">\n                <span class="icon icon-menu"></span>\n                <span class="sr-text">Menu</span>\n            </button>\n        </div>\n        <div class="header_left">\n            <a class="header_logo"\n                ui-sref="authenticated.organization-admin-landing">\n                <img src="/images/Logo-DS-White.svg">\n                <span class="header_name"\n                    data-qa="organization_new_header_top_nav_admin_label"\n                    translate="Admin"></span>\n            </a>\n            <nav ng-if="showOrgHeaderNav || !isCurrentAccountInOrg">\n                <ul class="nav_list nav_list-crumbs">\n                    <li class="nav_listItem"\n                        ng-if="showOrganizations()">\n                        <a ng-if="showOrganizationItem()"\n                            class="nav_link"\n                            ui-sref="authenticated.organization-dashboard({organization_id:currentOrg.organization.id})"\n                            data-qa="organization_new_header_top_nav_org_name">\n                            <i class="icon icon-company" data-qa="organization_new_header_top_nav_org_icon"></i>{{ currentOrg.organization.name }}</a>\n                        <a ng-if="showOrganizationPicker()"\n                            class="nav_link btn-trigger"\n                            olive-menu="orgMenuSwitcherNav"\n                            olive-menu-position="below left"\n                            href="#"\n                            data-qa="organization_new_header_top_nav_org_list">\n                            <i class="icon icon-company"></i>{{ currentOrg.organization.name }}</a>\n                    </li>\n                    <li class="nav_listItem"\n                        ng-if="showAccountPicker()">\n                        <a class="nav_link"\n                            ng-if="!showAccountMenuSwitcher()"\n                            data-qa="organization_new_header_top_nav_account_name">\n                          {{ currentAccount.account_name }} ({{ currentAccount.external_account_id }})</a>\n                        <a class="nav_link btn-trigger"\n                            ng-if="showAccountMenuSwitcher()"\n                            olive-menu="accountSwitcherNav"\n                            olive-menu-position="below left"\n                            data-qa="organization_new_header_top_nav_account_list">\n                          {{ currentAccount.account_name }} ({{ currentAccount.external_account_id }})</a>\n                    </li>\n                </ul>\n                <div id="orgMenuSwitcherNav"\n                    class="menu select-menu invisible">\n                    <ul>\n                        <li ng-repeat="org in organizations | orderBy: \'name\'"\n                            ng-if="org.isOrgAdmin">\n                            <a class="item"\n                                ng-class="{\'on\': isCurrentOrg(org)}"\n                                ng-click="setCurrentOrg(org)"\n                                data-qa="organization_new_header_top_nav_bar_drop_down_orgs">\n                                <i class="icon icon-company"></i>{{ org.organization.name }}</a>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n\n            <div id="accountSwitcherNav" class="menu select-menu invisible">\n              <ul>\n                <li>\n                  <a class="item" ui-sref="authenticated.organization-admin-landing"\n                    data-qa="organization_new_header_top_nav_bar_drop_down_accounts">\n                    <i class="icon icon-home"></i>\n                    <span translate="Admin Home"></span>\n                  </a>\n                </li>\n              </ul>\n\n              <div class="menu_title u-text-gray" ng-if="org.organization.account_ids.length"\n                  ng-repeat-start="org in organizations | orderBy: \'organization.name\' ">\n                {{org.organization.name}}\n              </div>\n\n              <ul ng-if="org.organization.accounts.length" ng-repeat-end>\n                <li ng-repeat="account in org.organization.accounts">\n                  <a class="item"\n                      ng-class="{\'on\': isCurrentAccount(account.accountId)}"\n                      ng-click="setActiveAccount(account.accountId)"\n                      data-qa="organization_new_header_top_nav_bar_organization_item">\n                    {{account.name}}\n                  </a>\n                </li>\n              </ul>\n\n              <ul ng-if="allAccounts.nonOrganization.length">\n                <li ng-repeat="account in allAccounts.nonOrganization | orderBy: \'account_name\'">\n                  <a class="item"\n                      ng-class="{\'on\': isCurrentAccount(account.id)}"\n                      ng-click="setActiveAccount(account.id)"\n                      data-qa="organization_new_header_top_nav_bar_account_item">\n                    {{account.account_name}} ({{ account.external_account_id }})\n                  </a>\n                </li>\n              </ul>\n            </div>\n        </div>\n        <div class="header_right">\n            <div class="header_actions">\n                <span ng-controller="ExternalIntegrationController as integration"\n                    class="header_actions">\n                    <form action="/redirectToConsole"\n                        method="post"\n                        ng-if="!integration.hasExitRedirect()"\n                        ng-controller="MemberConsoleRedirection as console"\n                        class="header_actions">\n                        <a class="header_action" ng-click="console.redirect($event)">\n                          <span class="temp_go-to-docusign" translate="Go to DocuSign"></span>\n                        </a>\n                    </form>\n                    <a class="header_action"\n                        ng-if="integration.hasExitRedirect()"\n                        ng-href="{{integration.exitRedirect.uri}}">{{integration.exitRedirect.text}}</a>\n                </span>\n                <a target="_blank" class="header_action" ng-href="{{ fullHelpLink }}">\n                  <i class="icon icon-help"></i>\n                  <span class="sr-text">Help</span>\n                </a>\n                <button type="button"\n                    class="header_action"\n                    olive-menu="menuAccountNav"\n                    olive-menu-position="below right"\n                    olive-menu-min-width="254">\n                    <span ng-include="\'site/templates/avatar.html\'" \n                          include-replace></span>\n                </button>\n                <div id="menuAccountNav"\n                    class="menu invisible">\n                    <div ng-include="\'site/templates/id-card.html\'"\n                        include-replace></div>\n                    <ul class="menu-grouping">\n                        <li>\n                            <button type="button"\n                                class="item"\n                                olive-modal-trigger="btnFeedback"\n                                olive-modal-template-url="site/templates/feedback.html"\n                                olive-modal-size="lg"\n                                translate="Feedback"></button>\n                        </li>\n                        <li class="mobile-display">\n                            <a target="_blank"\n                                ng-href="{{ fullHelpLink }}"\n                                class="item"\n                                translate="Help">\n                            </a>\n                        </li>\n                        <li>\n                            <a class="item"\n                                ui-sref="logout"\n                                translate="Log Out"></a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id="navMenu"\n        class="osm osm-left">\n        <div ng-include="\'site/templates/id-card.html\'"\n            include-replace></div>\n        <ul class="no-list osm-menu"\n            ng-controller="NavigationController as navigator">\n          <li ng-repeat="navGroup in navigator.navigation.items">\n            <a class="item btn-trigger"\n                ng-click="expandMenu=!expandMenu">\n              <span translate="{{navGroup.name}}"></span>\n            </a>\n            <ul class="no-list osm-menu osm-sub-menu"\n                ng-if="expandMenu">\n              <li ng-repeat="navItem in navGroup.items">\n                <a class="item"\n                  ui-sref="{{navItem.state}}"\n                  ui-sref-active="on"\n                  radmin-logging\n                  translate="{{navItem.name}}">\n                </a>\n              </li>\n            </ul>\n          </li>\n          <li>\n            <a class="item"\n              ds-add-close="true"\n              ds-modal="site/templates/feedback.html"\n              ds-size="lg"\n              translate="Feedback">\n            </a>\n          </li>\n          <li>\n            <form action="/redirectToConsole"\n                method="post"\n                ng-controller="MemberConsoleRedirection as console">\n              <a class="item"\n                ng-click="console.redirect($event)"\n                translate="Go to DocuSign">\n              </a>\n            </form>\n          </li>\n          <li>\n            <a class="item"\n              target="_blank"\n              ng-href="{{ fullHelpLink }}"\n              translate="Help">\n            </a>\n          </li>\n          <li>\n            <a class="item"\n              ui-sref="logout"\n              translate="Log Out">\n            </a>\n          </li>\n        </ul>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/loading modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="loading-modal modal_content">\n  <div class="spinner-circle"></div>\n  <br />\n  <h1 ng-hide="showLoadingText" translate="Saving..."></h1>\n  <h1 ng-show="showLoadingText" translate="Loading..."></h1>\n</div>')}]),e.exports=n},function(e,t){var n="site/templates/id-card.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="grid menu-section">\n  <div ng-controller="CurrentAccountInformationController as currentAccount"\n       class="l-media">\n    <div class="l-media_image">\n      <span class="avatar avatar-xlarge avatar-background avatar-placeholder"></span>\n    </div>\n    <div class="l-media_body">\n      <div><strong data-qa="header-account-name">{{ currentAccount.information.userProfile.userDetails.userName }}</strong></div>\n      <div class="text-muted">{{ currentAccount.information.settings.accountName }}</div>\n      <div data-qa="header-account-email">{{ currentAccount.information.userProfile.userDetails.email }}</div>\n      <div>{{ currentAccount.getId() }}</div>\n      <div ng-if="currentAccount.isCFREnabled"><i class="icon icon-shield-check"></i> {{ \'Part 11 Module Enabled\' | translate }}</div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/home.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site_wrap">\n  <div ng-include="\'site/templates/new-header.html\'" include-replace></div>\n  <div class="site_content">\n      <div class="content_wrap">\n          <div ng-include="\'site/templates/sidebar.html\'" include-replace ></div>\n          <div class="content_main">\n              <div ui-view></div>\n          </div>\n      </div>\n  </div>\n\n  <div ng-include="\'site/templates/footer.html\'" include-replace></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/header.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="HeaderController">\n  <div class="site-header radmin">\n    <div class="site-container">\n      <div class="logo sort logo-docusign-admin" ui-sref="authenticated">\n      </div>\n      <div class="main-nav" ng-if="showTopNav">\n        <ul class="horizontal-list no-list">\n          <li ng-repeat="item in siteNav.main" >\n            <a class="item" ui-sref="{{item.state}}" ng-class="{\'on\': item.on()}" translate="{{item.display}}">\n              <span class="icon {{item.icon}}"></span>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class="site-header-links" ng-if="!showTopNav">\n        <span ng-controller="ExternalIntegrationController as integration">\n          <form action="/redirectToConsole" method="post" ng-if="!integration.hasExitRedirect()" ng-controller="MemberConsoleRedirection as console">\n            <a class="link" ng-click="console.redirect($event)"><span translate="Go to DocuSign"></span></a>\n          </form>\n          <a class="link" ng-if="integration.hasExitRedirect()" ng-href="{{integration.exitRedirect.uri}}">{{integration.exitRedirect.text}}</a>\n        </span>\n        <a target="_blank"\n           ng-href="{{ fullHelpLink }}" class="link">\n          <span class="icon icon-incomplete"></span>\n          <span translate="Help"></span>\n        </a>\n\n        <button type="button" class="item btn-avatar btn-trigger" olive-menu="menuAccountNav" olive-menu-position="below right" olive-menu-min-width="254">\n          <span ng-include="\'site/templates/avatar.html\'" \n                include-replace></span>\n        </button>\n        <div id="menuAccountNav" class="menu invisible">\n\n          <div ng-include="\'site/templates/id-card.html\'" include-replace></div>\n\n          <ul class="menu-grouping">\n            <li ng-controller="CurrentAccountController as currentAccount">\n              <a ng-if="currentAccount.hasAlternateAccounts()"\n                 olive-modal-trigger olive-modal-size="md"\n                 olive-modal-template-url="site/templates/account-selection-modal.html"\n                 class="item"\n                 translate="Switch Accounts">\n              </a>\n            </li>\n            <li>\n              <a class="item" ng-click="showFeedbackModal()" translate="Feedback"></a>\n            </li>\n            <li>\n              <a class="item" ui-sref="logout" translate="Log Out"></a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <button type="button" ds-mobile-menu="navMenu" ds-mobile-menu-side="left" class="btn-nav btn-nav-menu">\n        <span class="icon icon-menu"></span>\n        <span class="sr-text" translate="Menu"></span>\n      </button>\n\n      <button type="button" ds-mobile-menu="filterMenu" ds-mobile-menu-side="right" class="btn-nav btn-side-nav"\n              ng-if="siteNav.hasMobileSearch()">\n        <span class="icon icon-search "></span>\n        <span class="sr-text" translate="Filter"></span>\n      </button>\n\n    </div>\n  </div>\n\n  <div id="navMenu" class="osm osm-left">\n\n    <div ng-include="\'site/templates/id-card.html\'" include-replace></div>\n\n    <ul class="no-list osm-menu" ng-controller="NavigationController as navigator">\n      <li ng-repeat="navGroup in navigator.navigation.items">\n        <a class="item btn-trigger" ng-click="expandMenu=!expandMenu">\n          <span translate="{{navGroup.name}}"></span>\n        </a>\n\n        <ul class="no-list osm-menu osm-sub-menu" ng-if="expandMenu">\n          <li ng-repeat="navItem in navGroup.items">\n            <a class="item" ui-sref="{{navItem.state}}" ui-sref-active="on"\n              radmin-logging translate="{{navItem.name}}">\n            </a>\n          </li>\n        </ul>\n      </li>\n      <li ng-controller="CurrentAccountController as currentAccount">\n        <a ng-if="currentAccount.hasAlternateAccounts()"\n           olive-modal-trigger\n           olive-modal-template-url="site/templates/account-selection-modal.html"\n           class="item"\n           translate="Switch Accounts">\n        </a>\n      </li>\n      <li><a class="item" ds-add-close="true" ds-modal="site/templates/feedback.html" ds-size="lg" translate="Feedback"></a></li>\n      <li>\n        <form action="/redirectToConsole" method="post" ng-controller="MemberConsoleRedirection as console" class="item">\n          <a class="link" ng-click="console.redirect($event)" translate="Go to DocuSign"></a>\n        </form>\n      </li>\n      <li>\n        <a class="item" target="_blank" ng-href="{{ fullHelpLink }}" translate="Help"></a>\n      <li><a class="item" ui-sref="logout" translate="Log Out"></a></li>\n    </ul>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/footer.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site_footer site-footer" ng-class="{\'with-left-sidebar\' : siteNav.hasMobileSearch()}">\n  <div class="site-container grid" ng-controller="UserLocaleController as userLocale">\n    <ul class="footer-links">\n      <li>\n        <a olive-menu="menuLanguageOptions"\n            olive-menu-position="above left"\n            olive-menu-events="click"\n            class="item">\n          <span class="icon icon-globe"></span>\n          {{userLocale.currentLocale.nativeLanguageName}}\n        </a>\n      </li>\n      <li><span class="item" translate="Powered by DocuSign"></span></li>\n      <li><a target="_blank" class="item" href="{{userLocale.termsOfUseUrl()}}"\n             translate="Terms of Use"></a></li>\n      <li><a target="_blank" class="item" href="{{userLocale.privacyPolicyUrl()}}"\n             translate="Privacy"></a></li>\n      <li><a target="_blank" class="item" href="{{userLocale.IPUrl()}}" translate="Intellectual Property"></a></li>\n      <li>\n        <span class="item"\n          translate="Copyright © [[copyright]] DocuSign, Inc. All rights reserved."\n          translate-interpolation="bracket"\n          translate-values="{copyright: copyright}">\n        </span>\n      </li>\n    </ul>\n    <div id="menuLanguageOptions" class="menu select-menu invisible" data-qa="menuLanguageOptions">\n      <ul>\n        <li class="item no-divider"\n            ng-repeat="locale in userLocale.localesSupported"\n            ng-click="userLocale.setLocale(locale.key)"\n            ng-class="{on: userLocale.isCurrentLocale(locale.key)}"\n            title="{{locale.englishLanguageName}}">\n          {{locale.nativeLanguageName}}\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/feedback.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="FeedbackController as feedback">\n  <div class="modal_header" olive-modal-header>\n    <h1 translate="Feedback"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p translate="What type of feedback do you have?"></p>\n\n    <div class="rb inline-input" ng-repeat="type in feedback.feedbackTypes">\n      <input class="rb_input" type="radio" name="radio" id="{{ type.id }}" ng-value="type"\n             ng-model="feedback.feedback" />\n      <label class="rb_label" for="{{ type.id }}" translate="{{ type.name }}"></label>\n    </div>\n    <div class="form_unit">\n      <textarea class="input-textarea" translate translate-attr-placeholder="{{ feedback.feedback.prompt }}" ng-model="feedback.comment"></textarea>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button type="submit" class="btn btn-lg btn-primary" ng-click="feedback.submit()" olive-modal-complete\n            translate="Send Feedback"></button>\n    <button type="button" class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="site/templates/empty-parent.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ui-view></div>")}]),e.exports=n},function(e,t){var n="site/templates/crumbs.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs"\n\t ng-if="crumbs">\n    <ul class="crumbs_list">\n        <li ng-repeat="item in crumbs"\n        \tdata-qa=\'site-crumb\'\n        \tclass="crumbs_listItem">\n          <a class="crumbs_item"\n          \t ui-sref="{{item.state}}"\n          \t ng-if="item.state"\n          \t translate="{{item.display}}"></a>\n          <span class="crumbs_item"\n          \t\tng-if="!item.state"\n          \t\ttranslate="{{item.display}}"></span>\n        </li>\n    </ul>\n</div>')}]),e.exports=n},function(e,t){var n="site/templates/confirmation-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ConfirmModalController as confirmation">\n  <div class="grid header" ng-if="confirmation.headerText || confirmation.headerTemplate">\n    <h2 ng-if="confirmation.headerText" data-qa="confirmation_modal_title" translate="{{confirmation.headerText}}"></h2>\n    <div ng-if="confirmation.headerTemplate" ng-include="confirmation.headerTemplate"></div>\n  </div>\n  <div class="grid content" ng-if="confirmation.contentText || confirmation.contentTemplate">\n    <span ng-if="confirmation.contentText" data-qa="confirmation_modal_confirm_message"\n          translate="{{confirmation.contentText}}"></span>\n    <div ng-if="confirmation.contentTemplate" ng-include="confirmation.contentTemplate"></div>\n  </div>\n  <div class="grid footer">\n    <button ng-if="confirmation.confirm" type="submit" class="btn btn-lg btn-primary"\n        ds-close-modal ng-click="confirmation.confirm()"\n        data-qa="confirmation_modal_confirm_btn"\n        translate="{{confirmation.confirmButtonText}}">\n    </button>\n    <button ng-if="confirmation.cancelButtonText" type="button" class="btn btn-lg btn-minor"\n        data-qa="confirmation_modal_cancel_btn"\n        ds-close-modal translate="{{confirmation.cancelButtonText}}">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/avatar.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<span ng-controller="CurrentAccountInformationController as currentAccount">\n  <style type="text/css">.avatar-background{background-image: url({{currentAccount.information.userProfile.userDetails.avatarImage}})}</style>\n  <span class="avatar avatar-medium avatar-placeholder avatar-background"></span>\n</span>\n')}]),e.exports=n},function(e,t){var n="site/templates/accumulator.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="grid accumulator" ng-controller="AccumulatorController as accumulator">\n  <div class="col-1-2">\n    <div class="grid header-description">\n      <div class="col-2-3">\n        <h4 translate="Available ([[availableCount]])" translate-interpolation="bracket" translate-values="{\n            availableCount: accumulatorOptions.totalAvailable\n          }"></h4>\n      </div>\n      <div class="col-1-3">\n        <a class="u-float-right" name="add-all"\n           ng-if="(accumulatorOptions.totalItemsInAccount <= accumulatorOptions.pageSize) &&\n           accumulatorOptions.totalAvailable > 0 && accumulatorOptions.isAddEnabled &&\n           accumulatorOptions.availableList.length > 0 && accumulatorOptions.showAddAll !== false"\n           ng-click="accumulator.addAll()"\n           translate="Add All"></a>\n      </div>\n    </div>\n    <div class="multi-select">\n      <div class="form_group form_group-unified">\n        <div class="select-wrap form_addon-select addon" ng-if="accumulatorOptions.availableMultipleSearchTypes">\n          <select ng-model="accumulatorOptions.availableSearchType"\n                  data-qa="accumulator_available_search_filter_option"\n                  ng-change="accumulator.resetAvailableSearch()">\n            <option value="name" translate="Name"></option>\n            <option value="email" translate="Email"></option>\n          </select>\n          </div>\n        <div class="form_item form_item-iconLeft form_item-iconRight">\n          <span class="icon icon-search"></span>\n          <input type="text"\n                 data-qa="accumulator_available_search_txtb"\n                 class="input-text search"\n                 maxlength="100"\n                 ng-keyup="accumulator.searchAvailable($event)"\n                 ng-model="accumulator.availableSearchPhrase"\n                 translate translate-attr-placeholder="Search by [[type]]" translate-interpolation="bracket"\n                 translate-values="{type: accumulator.availableSearchType}"\n                 ng-disabled="!(accumulatorOptions.selectedList.length < accumulatorOptions.maximumShowingLimit) ||\n                   !availableSuccessfullyLoaded ||\n                   selectedSuccessfullyLoaded === false ||\n                   accumulatorOptions.totalAvailable === 0" />\n          <button type="button" class="button-icon"\n                  data-qa="accumulator_available_search_reset_btn">\n            <span class="icon icon-circle-x" ng-show="accumulatorOptions.availableSearchPhrase.length"\n                  ng-click="accumulator.resetAvailableSearch()">\n            </span>\n          </button>\n        </div>\n      </div>\n      <div class="list users">\n        <div class="inline-input label" ng-switch="accumulatorOptions.availableList.length">\n          <span class="show-label" ng-switch-when="1" ng-hide="accumulatorOptions.availableSearchPhrase.length > 0"\n                translate="Showing 1 [[itemTypeSingular]]" translate-interpolation="bracket"\n                translate-values="{itemTypeSingular: accumulator.itemTypeSingular}">\n          </span>\n          <span class="show-label" ng-switch-when="1" ng-show="accumulatorOptions.availableSearchPhrase.length > 0"\n                translate="Showing 1 [[itemTypeSingular]] for search query \'[[searchPhrase]]\'"\n                translate-interpolation="bracket" translate-values="{\n                itemTypeSingular: accumulator.itemTypeSingular,\n                searchPhrase: accumulatorOptions.availableSearchPhrase}">\n          </span>\n          <span class="show-label" ng-switch-default ng-hide="accumulatorOptions.availableSearchPhrase.length > 0"\n                translate="Showing [[filteredCount]] [[itemTypePlural]]" translate-interpolation="bracket"\n                translate-values="{\n              filteredCount: accumulatorOptions.availableList.length,\n              itemTypePlural: accumulator.itemTypePlural\n            }">\n          </span>\n          <span class="show-label" ng-switch-default ng-show="accumulatorOptions.availableSearchPhrase.length > 0"\n                translate="Showing [[filteredCount]] [[itemTypePlural]] for search query \'[[searchPhrase]]\'"\n                translate-interpolation="bracket" translate-values="{\n                filteredCount: accumulatorOptions.availableList.length,\n                itemTypePlural: accumulator.itemTypePlural,\n                searchPhrase: accumulatorOptions.availableSearchPhrase}">\n          </span>\n          <span ng-show="accumulatorOptions.availableSearchPhrase.length > 0">\n            &nbsp;|&nbsp;&nbsp;\n            <a translate="Reset" ng-click="accumulator.resetAvailableSearch()"></a>\n          </span>\n          <div ds-loading="accumulatorOptions.availableLoading" ds-loading-succeeded="availableSuccessfullyLoaded"\n               ds-class="spinner-sm" ds-is-inline="true"></div>\n        </div>\n        <div class="item ng-scope" ng-repeat="item in accumulatorOptions.availableList | orderBy:\'name\':false"\n             olive-tooltip-events="hover" olive-tooltip olive-tooltip-position="above center" olive-tooltip-noclose\n             title="{{ item.email }}">\n          <span class="item-text ng-scope" data-qa="accumulator_available_item_name_span">{{item.name}}</span>\n          <span class="item-action">\n            <button class="btn btn-secondary btn-sm" type="button"\n                    ng-disabled="accumulatorOptions.selectedSearchPhrase.length > 0 ||\n                    accumulatorOptions.selectedList.length >= accumulatorOptions.maximumShowingLimit ||\n                    !availableSuccessfullyLoaded || selectedSuccessfullyLoaded === false || !accumulatorOptions.isAddEnabled"\n                    data-qa="accumulator_available_search_add_btn"\n                    ng-click="accumulator.add(item)" translate="Add"></button>\n          </span>\n        </div>\n      </div> \x3c!-- end list --\x3e\n    </div> \x3c!-- end multi-select --\x3e\n  </div> \x3c!-- end col-1-2 --\x3e\n\n  <div class="col-1-2">\n    <div class="grid header-description">\n      <div class="col-2-3">\n        <h4 translate="Selected ([[availableCount]])" translate-interpolation="bracket" translate-values="{\n            availableCount: accumulatorOptions.totalSelected\n          }"></h4>\n      </div>\n      <div class="col-1-3"\n           ng-if="accumulatorOptions.totalItemsInAccount <= accumulatorOptions.pageSize &&\n           accumulatorOptions.totalSelected > 0  && accumulatorOptions.isRemoveEnabled &&\n           accumulatorOptions.selectedList.length > 0 && accumulatorOptions.showRemoveAll !== false">\n        <a class="u-float-right" name="remove-all" ng-click="accumulator.removeAll()" translate="Remove All"></a>\n      </div>\n    </div>\n    <div class="multi-select">\n      <div class="form_group form_group-unified">\n        <div class="select-wrap form_addon-select addon" ng-if="accumulatorOptions.selectedMultipleSearchTypes">\n          <select ng-model="accumulatorOptions.selectedSearchType"\n                  data-qa="accumulator_selected_search_filter_option"\n                  ng-change="accumulator.resetSelectedSearch()">\n            <option value="name" translate="Name"></option>\n            <option value="email" translate="Email"></option>\n          </select>\n        </div>\n        <div class="form_item form_item-iconLeft form_item-iconRight">\n          <span class="icon icon-search"></span>\n          <input type="text" class="input-text search" maxlength="100" ng-keyup="accumulator.searchSelected($event)"\n                 data-qa="accumulator_selected_search_txtb"\n                 ng-model="accumulator.selectedSearchPhrase" translate translate-attr-placeholder="Search by [[type]]"\n                 translate-interpolation="bracket" translate-values="{type: accumulator.selectedSearchType}" ng-disabled="!(accumulatorOptions.availableList.length < accumulatorOptions.maximumShowingLimit) ||\n                   !availableSuccessfullyLoaded || selectedSuccessfullyLoaded === false ||\n                   accumulatorOptions.totalSelected === 0">\n          <button type="button" class="button-icon"\n                  data-qa="accumulator_selected_search_reset_btn">\n            <span class="icon icon-circle-x" ng-show="accumulatorOptions.selectedSearchPhrase.length"\n              ng-click="accumulator.resetSelectedSearch()"\n              ng-disabled="accumulatorOptions.availableList.length >= accumulatorOptions.maximumShowingLimit">\n        </span>\n          </button>\n        </div>\n      </div>\n\n      <div class="list members">\n        <div class="inline-input label" ng-switch="accumulatorOptions.selectedList.length">\n          <span class="show-label" ng-switch-when="1" ng-hide="accumulatorOptions.selectedSearchPhrase.length > 0"\n                translate="Showing 1 [[itemTypeSingular]]" translate-interpolation="bracket"\n                translate-values="{itemTypeSingular: accumulator.itemTypeSingular}">\n          </span>\n          <span class="show-label" ng-switch-when="1" ng-show="accumulatorOptions.selectedSearchPhrase.length > 0"\n                translate="Showing 1 [[itemTypeSingular]] for search query \'[[searchPhrase]]\'"\n                translate-interpolation="bracket" translate-values="{\n                itemTypeSingular: accumulator.itemTypeSingular,\n                searchPhrase: accumulatorOptions.selectedSearchPhrase}">\n          </span>\n          <span class="show-label" ng-switch-default ng-hide="accumulatorOptions.selectedSearchPhrase.length > 0"\n                translate="Showing [[filteredCount]] [[itemTypePlural]]" translate-interpolation="bracket"\n                translate-values="{\n              filteredCount: accumulatorOptions.selectedList.length,\n              itemTypePlural: accumulator.itemTypePlural\n            }">\n          </span>\n          <span class="show-label" ng-switch-default\n                ng-show="accumulatorOptions.selectedSearchPhrase.length > 0"\n                translate="Showing [[filteredCount]] [[itemTypePlural]] for search query \'[[searchPhrase]]\'"\n                translate-interpolation="bracket" translate-values="{\n                filteredCount: accumulatorOptions.selectedList.length,\n                itemTypePlural: accumulator.itemTypePlural,\n                searchPhrase: accumulatorOptions.selectedSearchPhrase}">\n          </span>\n          <span\n            ng-show="accumulatorOptions.selectedSearchPhrase.length > 0">\n            &nbsp;|&nbsp;&nbsp;<a translate="Reset" ng-click="accumulator.resetSelectedSearch()"></a>\n          </span>\n          <div ds-loading="accumulatorOptions.selectedLoading" ds-loading-succeeded="selectedSuccessfullyLoaded"\n               ds-class="spinner-sm" ds-is-inline="true"></div>\n        </div>\n        <div class="item movable ng-scope" ng-repeat="item in accumulatorOptions.selectedList | orderBy:\'name\':false"\n             olive-tooltip olive-tooltip-position="above center" olive-tooltip-noclose title="{{ item.email }}">\n          <span class="item-text ng-binding" data-qa="accumulator_selected_item_name_span">\n            <span class=""></span>\n            {{item.name}}\n          </span>\n          <span class="item-action">\n            <button class="btn btn-secondary btn-sm" type="button"\n                    ng-disabled="accumulatorOptions.availableSearchPhrase.length > 0 ||\n                    accumulatorOptions.availableList.length >= accumulatorOptions.maximumShowingLimit ||\n                    !availableSuccessfullyLoaded || selectedSuccessfullyLoaded === false ||\n                    !accumulatorOptions.isRemoveEnabled"\n                    data-qa="accumulator_selected_search_remove_btn"\n                    ng-click="accumulator.remove(item)" translate="Remove"></button>\n          </span>\n        </div>\n      </div> \x3c!-- end list --\x3e\n    </div> \x3c!-- end multi-select --\x3e\n  </div> \x3c!-- end col-1-2 --\x3e\n</div>\n')}]),e.exports=n},function(e,t){var n="site/templates/accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="grid header">\n  <h1 translate="Select an Account"></h1>\n</div>\n<div class="grid content">\n  <div ng-include="\'site/templates/id-card.html\'" include-replace></div>\n  <div ng-include="\'site/templates/id-card.html\'" include-replace></div>\n  <div ng-include="\'site/templates/id-card.html\'" include-replace></div>\n</div>\n<div class="grid footer">\n    <button type="submit" class="btn btn-lg btn-primary" translate="Select"></button>\n    <button type="button" class="btn btn-lg btn-minor btn-close" translate="Cancel"></button>\n</div>')}]),e.exports=n},function(e,t){var n="site/templates/account-selection-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AccountSelectionModalController as accountSelection">\n  <div class="modal_header" ng-show="accountChangeCompleted" translate="Select an Account">\n  </div>\n\n  <div class="modal_content">\n    <div ng-if="accountChangeCompleted">\n      <table class="tbl">\n        <tbody ng-controller="CurrentAccountController as currentAccount">\n          <tr class="row-clickable"\n              ng-repeat="account in currentAccount.availableAccounts | orderBy: \'name\'"\n              ng-click="accountSelection.setActiveAccount(account)">\n            <td><span class="text-strong">{{account.name}}</span> - {{account.accountId}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="text-center grid pad" ng-hide="accountChangeCompleted" ds-loading="accountSelection.currentAccountChanged" ds-loading-completed="accountChangeCompleted" ds-progress-message="{{ \'Switching accounts...\' | translate }}">\n    </div>\n  </div>\n\n  <div class="modal_footer" ng-show="accountChangeCompleted">\n    <button class="btn btn-lg btn-primary"\n      olive-modal-escape\n      translate="DS_CONTEXT=(modal) Close">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);n(501),a.RADminControllers.controller("RootCtrl",["$scope","$state","appUser","$document","$translate","$window","lodash",function(e,t,n,a,i,s,o){e.$on("$stateChangeSuccess",function(){e.title=t.current.title||t.current.name,e.bodyClass=function(){var e=t.current.name.split(".")[0];o.includes(o.keysIn(o.head(a).documentElement),"ontouchstart")||(e+=" no-touch");if(t.current.specificClass){var n=t.current.specificClass;e+=" "+n}return e}()}),e.htmlLang=function(){return(i.use()||"en").toLowerCase().replace("_","-")},e.copyright=(new Date).getFullYear(),e.siteNav={main:[],hasMobileSearch:function(){},preferences:[{title:"Account",items:[{name:"Personal Information",url:"/preferences/personal"},{name:"Billing and Usage",url:"/preferences/billing"}]},{title:"General",items:[{name:"Regional Settings",url:"/preferences/regional"},{name:"Security Settings",url:"/preferences/security"},{name:"Notifications",url:"/preferences/notifications"},{name:"Connected Apps",url:"/preferences/apps"},{name:"Contacts",url:"/preferences/contacts"}]},{title:"Sending",items:[{name:"Document Defaults",url:"/preferences/sending"},{name:"Document Settings",url:"/preferences/documents"},{name:"Template Settings",url:"/preferences/templates"},{name:"Custom Fields",url:"/preferences/custom-fields"}]},{title:"Branding",items:[{name:"Sending",url:"/preferences/branding/sending"},{name:"Signing Theme",url:"/preferences/branding/signing-theme"},{name:"Landing Pages",url:"/preferences/branding/landing-pages"}]}]},e.preferencesList=$.map(e.siteNav.preferences,function(e){return e.items})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(3);t.userPermissionsModule=a.module("UserPermissionsModule",[]);var s=function(){function e(e,t,n,a){this.appUser=e,this._organizationService=t,this.$q=n,this._configuration=a}return e.prototype.areResolved=function(){return this.$q.all([this.appUser.currentAccountInfo.informationRetrieved,this.appUser.currentAccountInfo.userInformationRetrieved,this.appUser.currentAccountInfo.settingsRetrieved])},e.prototype.isSuperAdmin=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.canManageAccount},e.prototype.canManageUsers=function(){return this.isSuperAdmin()&&this.allowMultipleAccountUsers()||this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageUsers},e.prototype.canManageAdmins=function(){return this.isSuperAdmin()||this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageAdmins},e.prototype.canManageSharing=function(){return this.isSuperAdmin()||this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageSharing},e.prototype.canManageRoles=function(){return(this.isAccountAdmin()||this.isSuperAdmin())&&this.allowMultipleAccountUsers()&&!this.isAccountSettingAdmin()&&!this.isAccountSecuritySettingsAdmin()&&!this.isSigningGroupsAdmin()},e.prototype.canManageAccountSettings=function(){return this.isSuperAdmin()||this.isAccountSettingAdmin()},e.prototype.canManageAccountSecuritySettings=function(){return this.isSuperAdmin()||this.isAccountSecuritySettingsAdmin()||void 0===this.isAccountSecuritySettingsAdmin()&&this.isAccountSettingAdmin()},e.prototype.canManageSigningGroups=function(){return this.isSuperAdmin()||this.isSigningGroupsAdmin()},e.prototype.isGranularAdmin=function(){return this.isAccountAdmin()&&!this.isSuperAdmin()},e.prototype.isAccountAdmin=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.isAdmin||this.canManageAdmins()||this.canManageUsers()||this.canManageSharing()||this.canManageAccountSettings()||this.canManageAccountSecuritySettings()||this.canManageSigningGroups()},e.prototype.isAccountSettingAdmin=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageAccountSettings},e.prototype.isAccountSecuritySettingsAdmin=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageAccountSecuritySettings},e.prototype.isSigningGroupsAdmin=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular&&this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageSigningGroups},e.prototype.allowMultipleAccountUsers=function(){var e=this.appUser.currentAccountInfo.information;if(!e)return!1;var t=e.seatsAllowed>1||"unlimited"===e.seatsAllowed||void 0===e.seatsAllowed,n=e.seatsInUse&&e.seatsInUse>1;return t||n},e.prototype.canAccessClassicPreferences=function(){var e=this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.betaSwitchConfiguration;return this.isSuperAdmin()&&this.allowMultipleAccountUsers()&&!function(e){return e&&/mandatory/i.test(e)}(e)},e.prototype.canAccessBilling=function(){return this.appUser.currentAccountInfo.settings&&!this.appUser.currentAccountInfo.settings.hidePricing&&this.canManageAccountSettings()},e.prototype.canManageBranding=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.canSelfBrandSend&&this.appUser.currentAccountInfo.settings.canSelfBrandSign},e.prototype.canUpsellBranding=function(){return this.appUser.currentAccountInfo.settings&&!this.appUser.currentAccountInfo.settings.canSelfBrandSend&&!this.appUser.currentAccountInfo.settings.canSelfBrandSign},e.prototype.canManageReminders=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowReminders},e.prototype.canManageRegionalSettings=function(){return this.canManageAccountSettings()&&this.allowMultipleAccountUsers()},e.prototype.canManageConnectedApps=function(){return this.canManageAccountSettings()&&this.allowMultipleAccountUsers()},e.prototype.canManageCustomFields=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.tabAccountSettings&&this.appUser.currentAccountInfo.settings.tabAccountSettings.savingCustomTabsEnabled},e.prototype.canManageDocumentLabels=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowEnvelopeCustomFields},e.prototype.canAccessLegalDisclosure=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.useConsumerDisclosure},e.prototype.canAccessAuditLog=function(){return this.canManageAccountSettings()&&this.allowMultipleAccountUsers()},e.prototype.canManageEmailArchiveConfiguration=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.bccEmailArchive},e.prototype.canManageBulkUsers=function(){return this.canManageUsers()&&!function(e){if(!e)return!1;var t=e.paymentMethod;return/free_trial/i.test(t)}(this.appUser.currentAccountInfo.information)},e.prototype.canSendEnvelope=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.canSendEnvelope},e.prototype.envelopeIntegrationAllowed=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings&&"not_allowed"!==this.appUser.currentAccountInfo.settings.envelopeIntegrationAllowed},e.prototype.hasOrganization=function(){return this.appUser.currentAccount&&this.appUser.currentAccount.organization&&this.appUser.currentAccount.organization.organization_id&&this.appUser.currentAccount.organization.organization_id.toLowerCase()!==i.GUID_EMPTY},e.prototype.canAccessOrganizationDashboard=function(){return!this.appUser.SSO_v1&&("active"===this.appUser.organizationAdminStatus||this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&this.appUser.currentAccountInfo.userInformation.userSettings.canManageOrganization)},e.prototype.canAccessOrganization=function(){return!this.appUser.SSO_v1&&this.appUser.currentAccountInfo&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowOrganizations},e.prototype.canAccessOrganizationOverview=function(){return this.canAccessOrganization()||this.canAccessOrganizationDashboard()||this.hasOrganization()},e.prototype.allowEnvelopeCustodyTransfer=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowEnvelopeCustodyTransfer},e.prototype.allowPaymentProcessing=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&(this.appUser.currentAccountInfo.settings.allowPaymentProcessing||this.appUser.currentAccountInfo.settings.enableAdvancedPayments)},e.prototype.allowSigningGroups=function(){return this.allowMultipleAccountUsers()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowSigningGroups&&(this.appUser.currentAccountInfo.settings.allowPrivateSigningGroups||this.canManageSigningGroups())},e.prototype.allowEnvelopePublishReporting=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowEnvelopePublishReporting},e.prototype.allowPrivateSigningGroups=function(){return this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowSigningGroups&&this.appUser.currentAccountInfo.settings.allowPrivateSigningGroups},e.prototype.canAccessEnvelopes=function(){return this.allowEnvelopeCustodyTransfer()||this.allowEnvelopePublishReporting()||this.canAccessOrganizationEnvelopeTransfer()},e.prototype.canAccessBulkActions=function(){return this.allowMultipleAccountUsers()&&(this.canManageBulkUsers()||this.allowEnvelopeCustodyTransfer()||this.allowEnvelopePublishReporting())},e.prototype.canAccessENoteConfiguration=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings.allowENoteEOriginal},e.prototype.canManageMultipleBrands=function(){return this.canManageBranding()&&this.appUser.currentAccountInfo.settings.allowMultipleBrandProfiles},e.prototype.allowResourceFileBranding=function(){return this.canManageAccountSettings()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowResourceFileBranding},e.prototype.canAccessTemplates=function(){return this.appUser.currentAccountInfo.settings.allowServerTemplates&&this.allowEnvelopeCustodyTransfer()},e.prototype.allowSigningExtension=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowSigningExtensions},e.prototype.canManageStamps=function(){return this.isSuperAdmin()&&this.appUser.currentAccountInfo.settings&&this.appUser.currentAccountInfo.settings.allowManagedStamps&&this.appUser.currentAccountInfo.settings.allowSignatureStamps},e.prototype.isSuperOrganizationAdmin=function(){return!this.appUser.SSO_v1&&this.appUser.currentOrganizationAdminUser&&this.appUser.currentOrganizationAdminUser.permissionProfile&&this.appUser.currentOrganizationAdminUser.permissionProfile.settings&&this.appUser.currentOrganizationAdminUser.permissionProfile.settings.organization_admin},e.prototype.canManageOrganizationUsers=function(){return!this.appUser.SSO_v1&&this.isSuperOrganizationAdmin()||this.appUser.currentOrganizationAdminUser&&this.appUser.currentOrganizationAdminUser.permissionProfile&&this.appUser.currentOrganizationAdminUser.permissionProfile.settings&&this.appUser.currentOrganizationAdminUser.permissionProfile.settings.delegated_organization_user_admin},e.prototype.canAccessEmailPreferences=function(){return this.canManageAccountSettings()&&this.allowMultipleAccountUsers()},e.prototype.canAccessOrganizationEnvelopeTransfer=function(){return this.isSuperOrganizationAdmin()&&this._organizationService.currentOrg&&this._organizationService.currentOrg.entitlements&&this._organizationService.currentOrg.entitlements.allow_envelope_custody_transfer},e.prototype.canAccessOrganizationBulkAction=function(){return this.canAccessOrganizationUserListExport()||this.canAccessOrganizationAccountSettingExport()},e.prototype.canAccessOrganizationUserListExport=function(){return this._configuration.featureFlags.enableOrganizationUserListExport&&this.canManageOrganizationUsers()&&this._organizationService.currentOrg&&this._organizationService.currentOrg.entitlements&&this._organizationService.currentOrg.entitlements.allow_user_list_export},e.prototype.canAccessOrganizationAccountSettingExport=function(){return this._configuration.featureFlags.enableOrganizationAccountListExport&&this.isSuperOrganizationAdmin()&&this._organizationService.currentOrg&&this._organizationService.currentOrg.entitlements&&this._organizationService.currentOrg.entitlements.allow_account_settings_export},e.prototype.canManageAppliances=function(){return this.isSuperOrganizationAdmin()&&this._organizationService.currentOrg.entitlements.allow_display_appliance||this._organizationService.currentOrg.entitlements.allow_security_appliance||this._organizationService.currentOrg.entitlements.allow_signing_appliance},e.prototype.canManageProviders=function(){return this.isSuperOrganizationAdmin()&&this._organizationService.currentOrg.entitlements.allow_directory_provider},e.prototype.canAccessApiAndKeys=function(){return this.appUser.currentAccountInfo.userInformation&&this.appUser.currentAccountInfo.userInformation.userSettings&&(!this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular||this.appUser.currentAccountInfo.userInformation.userSettings.accountManagementGranular.canManageAccountSettings)},e}();t.UserPermissionsService=s,t.userPermissionsModule.service("userPermissions",["appUser","OrganizationService","$q","configuration",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("UserPermissionsController",["userPermissions","lodash",function(e,t){t.assign(this,e)}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionIdleTimerModule=angular.module("SessionIdleTimerModule",[]);var a=["mousedown","keydown"],i=function(){function e(e,t,n,a,i,s,o,r){this._appUser=e,this._$timeout=t,this._$window=n,this._$rootScope=a,this._$interval=i,this._oliveModal=s,this._$state=o,this.RADminUtil=r,this._debounce=r.debounce}return e.prototype.start=function(){var e=this;this._sessionIdleTimer||this._appUser.currentAccountInfo&&this._appUser.currentAccountInfo.settingsRetrieved&&this._appUser.currentAccountInfo.settingsRetrieved.then(function(){var t=6e4*e._appUser.currentAccountInfo.settings.sessionTimeout||12e5;e._timeUntilWarning=t-3e4,e._resetTimer=e._resetTimerDebounced(),e._resetTimer()})},e.prototype._resetTimerDebounced=function(){return this._debounce(this._resetSessionIdleTimer.bind(this),500,{leading:!0,trailing:!0,maxWait:this._timeUntilWarning-1e3})},e.prototype._resetSessionIdleTimer=function(){this._$timeout.cancel(this._sessionIdleTimer),this._sessionIdleTimer=this._$timeout(this._displayTimeoutWarning.bind(this),this._timeUntilWarning),this._addResetTimerEventListeners()},e.prototype._addResetTimerEventListeners=function(){var e=this;a.forEach(function(t){e._$window.addEventListener(t,e._resetTimer,!0)})},e.prototype._removeResetTimerEventListeners=function(){var e=this;a.forEach(function(t){e._$window.removeEventListener(t,e._resetTimer,!0)})},e.prototype._displayTimeoutWarning=function(){this._removeResetTimerEventListeners(),this._resetTimer.cancel();var e=this._$rootScope.$new();e.secondsRemaining=30,e.logout=this._logout.bind(this),this._warningCountdownInterval=this._$interval(function(){--e.secondsRemaining},1e3,30),this._warningCountdownInterval.then(this._logout.bind(this)),this._oliveModal.openModal({scope:e,templateUrl:"site/templates/timeout-warning-modal.html",showClose:!1,size:"md",onComplete:this._stayLoggedIn.bind(this)})},e.prototype._logout=function(){this._$state.go("logout")},e.prototype._stayLoggedIn=function(){this._$interval.cancel(this._warningCountdownInterval),this._resetTimer()},e}();t.sessionIdleTimerModule.service("SessionIdleTimer",["appUser","$timeout","$window","$rootScope","$interval","oliveModal","$state","RADminUtil",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3).CommonModule.factory("dsUtilities",function(){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return{searchParentScopes:function(e,t){for(;e;){if(e[t])return e;e=e.$parent}return null},isValidEmail:function(t){return e.test(t)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("CurrentAccountInformationController",["appUser",function(e){var t=this;t.information=e.currentAccountInfo,t.isCFR=!1,e.currentAccountInfo.informationRetrieved.then(function(){var n=e.currentAccountInfo.information.status21CFRPart11;t.isCFREnabled="enabled"===n||"modified"===n}),t.getId=function(){return e.getCurrentExternalAccountId()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).module("radmin.Navigation",["lodash"]).constant("NavigationMenuItems",[{name:"Organization",items:[{name:"Overview",state:"authenticated.organization-main"}]},{name:"Account",items:[{name:"Billing and Usage",state:"authenticated.billing usage"},{name:"Account Profile",state:"authenticated.account-profile"},{name:"Security Settings",state:"authenticated.security information"},{name:"Regional Settings",state:"authenticated.regional-settings"},{name:"Branding",state:"authenticated.branding-upsell"},{name:"Brands",state:"authenticated.brands"},{name:"Stamps",state:"authenticated.stamps"},{name:"Classic Preferences",state:"authenticated.classic-preferences"},{name:"System Updates",state:"authenticated.system-updates"}]},{name:"Users and Groups",items:[{name:"Users",state:"authenticated.users"},{name:"Permission Sets",state:"authenticated.roles"},{name:"Groups",state:"authenticated.groups"},{name:"Signing Groups",state:"authenticated.signing-groups"}]},{name:"Signing and Sending",items:[{name:"Signing Settings",state:"authenticated.document signing settings"},{name:"Sending Settings",state:"authenticated.document sending settings"},{name:"Email Preferences",state:"authenticated.email-preferences"},{name:"Email Archive Configuration",state:"authenticated.email-archive-configuration"},{name:"Custody Transfer",state:"authenticated.custody-transfer"},{name:"Envelope Purge",state:"authenticated.envelopes-purge"},{name:"Legal Disclosure",state:"authenticated.legal-disclosure"},{name:"Reminders and Expiration",state:"authenticated.reminders expirations"},{name:"Comments",state:"authenticated.comments-settings"},{name:"Document Custom Fields",state:"authenticated.custom-fields"},{name:"Envelope Custom Fields",state:"authenticated.document labels"}]},{name:"Integrations",items:[{name:"Connected Apps",state:"authenticated.connected-apps"},{name:"Connect",state:"authenticated.connect"},{name:"API and Keys",state:"authenticated.api-integrator-key"},{name:"Payments",state:"authenticated.payments"},{name:"eNote Credentials",state:"authenticated.enote"}]},{name:"Auditing",items:[{name:"Audit Logs",state:"authenticated.audit-log"},{name:"Bulk Actions",state:"authenticated.bulk-actions"}]}]).provider("NavigationService",["lodash",function(e){var t;function n(e,n,i,s,o,r){var l=this;this.navigation={itemsGenerated:null,items:[]},this.$state=n,this.userPermissions=i,this.configuration=r,e.$watch(function(){return s.getCurrentAccountId()},function(e,t){return l.generateNavigationItems(o)}),this.generateNavigationItems(o);var c=this;function d(){c.userPermissions.areResolved().then(function(){a(n,i,r,n.current.name)||n.go(t)})}e.$on("$stateChangeSuccess",d),d()}function a(t,n,a,o){var r=t.get(o);return!e.isEmpty(r)&&((!s(r)||function(t,n){return s(n)&&e.isFunction(t[i(n)])}(n,r)&&function(e,t){return e[i(t)]()}(n,r))&&function(e,t){var n=e.featureFlag;if(n)return t.featureFlags[n];return!0}(r,a))}function i(e){return e.requiresPermission}function s(t){return e.isString(i(t))}this.setPermissionFailureDestinationState=function(e){t=e},this.$get=["$rootScope","$state","userPermissions","appUser","NavigationMenuItems","configuration",function(e,t,a,i,s,o){return new n(e,t,a,i,s,o)}],n.prototype.generateNavigationItems=function(t){var n=this;return n.navigation.itemsGenerated=n.userPermissions.areResolved().then(function(){var i=e.cloneDeep(t);return e.forEach(i,function(t){t.items=e.filter(t.items,function(e){return a(n.$state,n.userPermissions,n.configuration,e.state)})}),e.filter(i,function(t){return!e.isEmpty(t.items)})}),n.navigation.itemsGenerated.then(function(e){return n.navigation.items=e,e})}}]).controller("NavigationController",["NavigationService",function(e){this.navigation=e.navigation}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.directive("includeReplace",function(){return{require:"ngInclude",restrict:"A",link:function(e,t){t.replaceWith(t.children())}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3).CommonModule.directive("dsValid",["$window","dsUtilities",function(e,t){return{restrict:"A",scope:!1,link:function(n,a,i){var s,o,r,l;if(a=$(a),!(o=t.searchParentScopes(n,"dsFormCtrl")))throw new Error("dsValid inputs need to belong to a form.");n.$on("$destroy",function(){o._removeFromForm(s),s.off("invalid valid",l)}),(s=n.$eval(i.dsValidInput))?o._appendToForm(s):(r=function(){var e=i.dsValid,a=function(e,t){for(var n={},a=["dsValidFunction","dsValidMin","dsValidMax","dsValidLength","dsFormIgnore","dsValidRegex","dsValidRequired","dsValidAlwaysShowValidity"],i=0;i<a.length;i++){var s=a[i];void 0!==t[s]&&(n[s]=e.$eval(t[s]))}return n}(n,i),s=n.$eval(i.ngModel);if(a.dsFormIgnore)return!0;if("function"!==e&&(void 0===s||null===s||0===s.toString().length))return!i.required&&!a.dsValidRequired;if("integer"===e||"number"===e){if("integer"===e&&!/^\d+$/.test(s.toString()))return!1;if("number"===e&&!/^[-+]?(\d*[.])?\d+$/.test(s.toString()))return!1;if("number"==typeof+a.dsValidMin&&+s<a.dsValidMin)return!1;if("number"==typeof+a.dsValidMax&&+s>a.dsValidMax)return!1}return"email"===e?t.isValidEmail(s):"regex"===e?new RegExp(a.dsValidRegex).test(s.toString()):"function"===e&&a.dsValidFunction?a.dsValidFunction(s):"text"!==e||!s||"number"!=typeof+a.dsValidLength||+s.length===a.dsValidLength},l=function(e){if(a.is("select")||a.is("input")||a.is("textarea")){var t=a.is("select")?a.parent():a;return e?t.removeClass("has-error"):t.addClass("has-error")}},n.$eval(i.dsValidAlwaysShowValidity)&&(n._isValid=r,n.$watch("_isValid()",function(e){l(e)})),(s=new e.Olive.Input({errorMessage:function(){return n.$eval(i.dsValidReason)},isValid:r})).on("valid",function(){l(!0)}),s.on("invalid",function(){l(!1)}),o._appendToForm(s))}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3).CommonModule.directive("dsFormSubmit",["dsUtilities",function(e){return{restrict:"A",scope:!1,link:function(t,n,a){var i;i=e.searchParentScopes(t,"dsFormCtrl"),n.on("click",function(){if(i.$watch("showInvalid()",function(e,n){a.onValidityChange&&t.$eval(a.onValidityChange)(e,n)}),!i.$eval("formIsValid()"))return i.showInvalid(),t.$eval(a.dsFormError),!1;t.$eval(a.dsFormSubmit),t.$$phase||t.$apply()})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(2);a.CommonModule.directive("dsForm",["$window","dsUtilities",function(e,t){var n=e.Olive||{},a=function(e){e||(e={}),this._id=n.util.getUniqueId(),this._active=!(!1===e.active),this._name=e.name||"untitled"};e.jQuery.extend(a.prototype,n.events),a.prototype._getId=function(){return this._id},a.prototype.getName=function(){return this._name},a.prototype.deactivate=function(){this._active=!1},a.prototype.activate=function(){this._active=!0},a.prototype.shouldConsider=function(){return this._active};var s=function(e){if(a.prototype.constructor.apply(this,arguments),e||(e={}),this._errorMessage=e.errorMessage||this.getName()+" was invalid.",this._priority=e.priority||1,this._fn=e.isValid,"function"!=typeof this._fn)throw new Error("Input instance has nothing to validate itself with.")};(s.prototype=Object.create(a.prototype)).getValidationError=function(){return new Error("Validation Error: "+this.getName()+" - "+this.getErrorMessage())},s.prototype.getErrorMessage=function(){return"string"==typeof this._errorMessage?this._errorMessage:this._errorMessage()},s.prototype.isValid=function(){return!this.shouldConsider()||!!this._fn()},s.prototype.getPriority=function(){return this._priority};var o=function(e){a.prototype.constructor.apply(this,arguments),e||(e={}),this._forms={},this._inputs={}};return(o.prototype=Object.create(a.prototype)).isValid=function(){return!this.getInvalids().length},o.prototype._queryChildInputs=function(e){var t,n,a=[];if(!this.shouldConsider())return a;for(var i in this._inputs)(n=this._inputs[i]).shouldConsider()&&e(n)&&a.push(n);for(var i in this._forms)t=this._forms[i],a=a.concat(t._queryChildInputs(e));return a},o.prototype.getValids=function(){return this._queryChildInputs(function(e){return e.isValid()})},o.prototype.getInvalids=function(){return this._queryChildInputs(function(e){return!e.isValid()})},o.prototype._considersForm=function(e){if(!(e instanceof o))throw new TypeError(e+" is not an instance of Form.");if(this._forms[e._getId()])return!0;var t=!1;for(var n in this._forms){var a=this._forms[n];t=t||a._considersForm(e)}return t},o.prototype.consider=function(e){if(e instanceof o){if(e._considersForm(this))throw new Error("Circular validation found.");this._forms[e._getId()]=e}else{if(!(e instanceof s))throw new TypeError(e+" is not considerable.");this._inputs[e._getId()]=e}},o.prototype.unconsider=function(e){if(e instanceof s){var t=!!this._inputs[e._getId()];return delete this._inputs[e._getId()],t}if(e instanceof o){var n=!!this._forms[e._getId()];return delete this._forms[e._getId()],n}throw new TypeError(e.constructor.name+" is not considerable.")},n._Considerable=a,n.Form=o,n.Input=s,e.Olive=n,{scope:!0,restrict:"A",controllerAs:"dsFormCtrl",compile:function(){return{pre:function(e,a,s){var o,r,l,c;l=e.dsFormCtrl,r=t.searchParentScopes(e.$parent,"dsFormCtrl"),c=i.extend({persistentForm:!1,isolateForm:!1},e.$eval(s.dsFormOptions)),o=e.$eval(s.dsForm)||new n.Form,r&&!c.isolateForm&&r._appendToForm(o),e.getReasons=l.getReasons=function(){var e,t;return e=o.getInvalids(),t=[],i.forEach(e,function(e){t.push(e.getErrorMessage())}),t},e.formIsValid=l.formIsValid=function(){return o.isValid()},e.showInvalid=l.showInvalid=function(){var e,t;return e=o.getValids(),t=o.getInvalids(),i.forEach(e,function(e){e.trigger("valid")}),i.forEach(t,function(e){e.trigger("invalid")}),0===t.length},e._hasForm=!0,e._appendToForm=function(e){o.consider(e)},e._removeFromForm=function(e){o.unconsider(e)},r&&!c.persistentForm&&e.$on("$destroy",function(){r._removeFromForm(o)})}}},controller:function(){return this}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(29);a.CommonModule.directive("dsCal",["$window","$parse",function(e,t){var n=e.Olive,a=e.jQuery;return{restrict:"A",link:function(e,s,o){var r,l,c=-1,d=-1,u="single"===o.dsType,p=a(s).find(".ds-range-start"),m=a(s).find(".ds-range-end"),g=a(s).find("[ds-cal-start-date-icon]"),h=a(s).find("[ds-cal-end-date-icon]"),f=a(s).find(".icon-field-date"),v=a(s).find(".input"),_={minDate:void 0,maxDate:i().toDate(),showAnim:"",dayNamesMin:i.weekdaysMin(),monthNames:a.map(i.monthsShort(),function(e){return e.toUpperCase()})};if(o.dsFutureAllowed&&(_.maxDate=void 0),o.dsDisablePast&&(_.minDate=i().add(1,"days").toDate()),o.dsMinPastDate&&(_.minDate=i(parseInt(o.dsMinPastDate)).toDate()),o.dsMaxFutureDate&&(_.maxDate=i(parseInt(o.dsMaxFutureDate)).toDate()),o.dsPopoverNoclose)l=o.dsPopoverNoclose;else{var b=n.popover.findAssociatedPopover(s);b?(l=b.popoverName,a(s).attr("ds-popover-noclose",l)):l=!1}if(a(s).css({position:"relative"}),a(s).append('<div class="datepicker-wrapper '+(u?"single":"range")+'"></div>'),r=a(s).find(".datepicker-wrapper"),"single"===o.dsType){a.extend(_,{setDate:null,onSelect:function(n){var s=i(n).toDate();!function(n){t(v.attr("ng-model")).assign(e,n)}(i(n).format("L")),e.$apply(),r.datepicker().hide(),e.$emit("dateSingleFilterChange",s.toISOString()),a(document).off("click",S)}})}else if("range"===o.dsType){var y=function(n){t(p.attr("ng-model")).assign(e,n)},A=function(n){t(m.attr("ng-model")).assign(e,n)};a.extend(_,{prevText:"",nextText:"",numberOfMonths:2,onChangeMonthYear:function(){if(l&&n.popover.instances[l]){var e=n.popover.instances[l].attrSet.noclose;r.attr(e,l),r.find(".ui-corner-all").attr(e,l)}},beforeShow:function(){if(l&&n.popover.instances[l]){var e=n.popover.instances[l].attrSet.noclose;r.attr(e,l)}},beforeShowDay:function(e){var t,n=i(e),a=i(p.val(),"L"),s=i(m.val(),"L");return t=n>=a&&n<=s?"date-range-selected":"",t+=n.diff(a,"days")<1&&n.diff(a,"days")>=0?" date-range-start":"",[!0,t+=n.diff(s,"days")<1&&n.diff(s,"days")>=0?" date-range-end":""]},onSelect:function(t,n){if(d=c,c=i([n.selectedYear,n.selectedMonth,n.selectedDay]).toDate().getTime(),-1===d||d===c){d=c;var s=i(t).format("L");y(s),r.datepicker().addClass("pick-range-end"),m.focus(),e.$apply()}else{var o=i(Math.min(d,c)),l=i(Math.max(d,c));if(r.datepicker().hasClass("pick-range-end")&&(o=i(p.val(),"L"),(l=i(c))<o))return d=c,y(""),A(i(l).format("L")),e.$apply(),r.datepicker().removeClass("pick-range-end"),r.datepicker().hide(),a(document).off("click",S),void p.focus();y(o.format("L")),A(l.format("L")),r.datepicker().removeClass("pick-range-end"),r.datepicker().hide(),e.$emit("dateRangeFilterChange"),a(document).off("click",S),e.$apply()}}})}function S(e){r.find(e.target).length>0||a(e.target).is(".ds-range-start, .ds-range-end, .input, .icon-field-date")||a(e.target.parentElement).is(".ui-datepicker-prev, .ui-datepicker-next")||a(e.target).is(".ui-datepicker-prev, .ui-datepicker-next")||(a(".datepicker-wrapper").datepicker().hide(),a(document).off("click",S))}r.datepicker(_),r.each(function(e){var t=r.eq(e);t.datepicker().offset().left+t.datepicker().width()-a(window).width()>0&&t.css({right:"0"})}),r.datepicker().hide();function w(){c>-1&&r.datepicker("setDate",c),r.datepicker().removeClass("pick-range-end"),a(".datepicker-wrapper").css({top:"27px"}),r.datepicker("refresh").show(100,function(){a(document).off("click",S),a(document).on("click",S)})}var C=function(e){a(".datepicker-wrapper").css({top:"27px"}),r.datepicker("refresh").show(100,function(){a(document).off("click",S),a(document).on("click",S)})};"single"===o.dsType?(v.on("focus",C),f.length>0&&f.on("click",C)):"range"===o.dsType&&(p.on("focus",function(e){var t=i(this.value),n=i(m.val(),"L");try{t.isValid()&&(d=t.toDate().getTime()),n.isValid()&&(c=n.toDate().getTime())}catch(e){c=d=-1}w(),a(document).on("keydown",function(e){if(13===e.which||9===e.which){var t=i(p.val(),"L").toDate().getTime();t&&(c=t),m.focus()}})}),m.on("focus",function(e){var t=i(p.val(),"L"),n=i(this.value,"L");try{n.isValid()&&(c=n.toDate().getTime()),t.isValid()&&(d=t.toDate().getTime())}catch(e){c=d=-1}w(),r.datepicker().addClass("pick-range-end"),a(document).on("keydown",function(e){13===e.which&&r.datepicker().hide()})}),g.length>0&&g.on("click",function(){p.focus()}),h.length>0&&h.on("click",function(){m.focus()})),e.$on("$destroy",function(){a(document).off("click",S),r.datepicker("hide"),r.datepicker("destroy")})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(278),s=n(29),o=function(){function e(e,t,n,a,o,r,l,c,d,u,p){this.Locales=e,this.$translate=t,this.appUser=n,this.dsAccountUsers=a,this.$q=o,this.$state=c,this.i18nLayer=d,this.configuration=u,this._=p,this.localesSupported=p.sortBy(e.sending,"englishLanguageName"),u.pseudoLocaleEnabled&&(p.find(this.localesSupported,{key:i.PSEUDO_LOCALE_KEY})||this.localesSupported.push(e.pseudoLocale));var m=r.$on("$translateChangeSuccess",g.bind(this));function g(){var e=t.use(),n=p.find(this.localesSupported,{key:e});if(!n)return t.use(i.ENGLISH_LOCALE_KEY);this.currentLocaleKey=e,this.currentLocale=n,s.locale(this.currentLocaleKey)}l.$on("$destroy",m),g.call(this)}return e.prototype.isCurrentLocale=function(e){return this.currentLocaleKey===e},e.prototype.setLocale=function(e){var t=this;return this.$translate.use(e),this._updateAccountUserLocale(e).then(function(){return t.$state.reload()})},e.prototype.termsOfUseUrl=function(){return this.i18nLayer.getLink("term",this.currentLocaleKey)},e.prototype.privacyPolicyUrl=function(){return this.i18nLayer.getLink("privacy",this.currentLocaleKey)},e.prototype.IPUrl=function(){return this.i18nLayer.getLink("ip",this.currentLocaleKey)},e.prototype._updateAccountUserLocale=function(e){var t=this;return e===i.PSEUDO_LOCALE_KEY?this.$q.when():this.dsAccountUsers.updateUser(this.appUser.getCurrentAccountId(),this.appUser.currentAccount.userId,{userSettings:{locale:e}}).then(function(n){return n.errorCode?t.$q.reject(n):t.appUser.currentAccountInfo.userInformationRetrieved.then(function(){t.appUser.currentAccountInfo.userInformation.userSettings.locale=e,t._.assign(t.appUser.currentAccountInfo.userInformation.userSettings.localePolicy,t.i18nLayer.getLocalePolicy(e))})})},e}();a.RADminControllers.controller("UserLocaleController",["Locales","$translate","appUser","dsAccountUsers","$q","$rootScope","$scope","$state","I18nLayer","configuration","lodash",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);n(7).RADminControllers.controller("HeaderController",["$scope","$state","$rootScope","lodash","OrganizationService","appUser","oliveModal",function(e,t,n,i,s,o,r){var l="https://www.docusign.com/support/new/documentation/ndse-admin-guide/";n.$on("$stateChangeSuccess",p),n.$on("$stateChangeSuccess",c),p(),s.initialized?c():s.initialize().then(function(){c()});function c(){e.availableAccounts=o.getAvailableAccounts(),e.currentOrg=s.currentOrg||{},e.currentAccount=d(s.currentAccount),e.accounts=i.isEmpty(e.currentOrg.adminAccountsInOrganization)?[]:e.currentOrg.adminAccountsInOrganization,e.allAccounts=function(){var e=s.getAllAccounts();return e.organization.forEach(function(e){d(e)}),e.nonOrganization.forEach(function(e){d(e)}),e}(),e.organizations=(s.organizations||[]).map(function(t){return function(n){n.organization.account_ids=n.organization.account_ids.filter(function(e){return i.find(t,{id:e})});var a=(n.organization.account_ids||[]).map(function(t){var n=i.find(e.allAccounts.organization,{id:t}),a=i.isUndefined(n)?"":n.account_name+" ("+n.external_account_id+")";return{accountId:t,name:a}});return n.organization.accounts=a.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),n}}(e.allAccounts.organization)),e.showAccountPicker=g,e.setActiveAccount=m,e.showOrganizationPicker=h,e.showOrganizationItem=f,e.showOrgHeaderNav=!i.isEmpty(s.currentOrg)&&(h()||f()),e.setCurrentOrg=u,e.isCurrentAccountInOrg=e.currentAccount&&!i.isEmpty(e.currentAccount.organization_id),e.showFeedbackModal=v,e.isCurrentOrg=_,e.isCurrentAccount=b,e.showOrganizations=y,e.showAccountMenuSwitcher=A}function d(t){if(t&&t.id&&i.isEmpty(t.external_account_id)){var n=i.find(e.availableAccounts,{accountIdGuid:t.id});n&&(t.external_account_id=n.accountId)}return t}function u(e){s.currentOrg=e,o.loadOrganizationPermissions().then(function(){t.go("authenticated.organization-dashboard",{organization_id:e.organization.id})})}function p(){a.isUndefined(t.current.helpLink)?e.fullHelpLink=l+"welcome-admin":(e.fullHelpLink=null,0===t.current.helpLink.indexOf("http")?e.fullHelpLink=t.current.helpLink:e.fullHelpLink=l+t.current.helpLink)}function m(e){return o.setCurrentAccount(e).then(function(){s.setCurrentAccount(e),t.go("authenticated.account-admin",null,{reload:!0})})}function g(){return!i.includes(t.current.name.toLowerCase(),"authenticated.organization-")||"authenticated.organization-main"===t.current.name.toLowerCase()}function h(){return S().length>1&&"authenticated.organization-dashboard"===t.current.name}function f(){return"authenticated.organization-dashboard"===t.current.name?1===S().length:"authenticated.organization-admin-landing"!==t.current.name&&"authenticated.organization-create"!==t.current.name}function v(){r.openModal({scope:e,templateUrl:"site/templates/account-selection-modal.html",showClose:!1,size:"lg"})}function _(t){return e.currentOrg&&e.currentOrg.id===t.id}function b(t){return e.currentAccount&&e.currentAccount.id===t}function y(){return e.currentOrg&&e.currentOrg.id&&(f()||h())&&e.currentOrg.isOrgAdmin}function A(){var t=e.allAccounts?e.allAccounts.organization.concat(e.allAccounts.nonOrganization):e.accounts;return(t||[]).length>1}function S(){return i.filter(e.organizations,{isOrgAdmin:!0})||[]}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(2);a.RADminControllers.controller("FeedbackController",["appUser","$window","oliveModal","RADminApiClient","oliveMessage","$translate","lodash",function(e,t,n,a,s,o,r){var l=this;l.feedbackTypes=[{id:"Billing",name:"Billing or account question",prompt:"Please describe your billing problem or issue."},{id:"Bug",name:"Problem with the application (bug)",prompt:"Can you describe what happened and what you were expecting? Please be as descriptive as possible."},{id:"Enhancement",name:"Feature request or idea",prompt:"What problem are you trying to solve? What features are missing?"},{id:"Compliment",name:"Compliments",prompt:"Thank you – we appreciate your feedback."},{id:"Other",name:"Other comments",prompt:"Please be as descriptive as possible."}],l.config={email:null,accountId:null,userId:null,resolution:t.innerWidth+"x"+t.innerHeight,browser:navigator.userAgent,page:t.location.href,os:t.navigator.platform,martiniPingTime:null},e.currentAccountInfo.userInformationRetrieved.then(function(){l.config.email=e.currentAccountInfo.userInformation.email,l.config.accountId=e.getCurrentAccountId(),l.config.userId=e.currentAccountInfo.userInformation.userId}),l.feedback=l.feedbackTypes[0],l.comment="",l.changeType=function(e){l.feedback=i.copy(e)},l.submit=function(){var e=Date.now();a.ping().then(function(){return Date.now()-e}).then(function(e){l.config.martiniPingTime=e;var t={type:l.feedback.id,content:l.comment};return t=r.merge(t,l.config),a.submitUserFeedback(t)}).then(function(){s.show(o.instant("Thank you for your feedback!"),"submit-feedback-success","success")}).catch(function(){s.show(o.instant("Feedback submission failed. Please try again."),"submit-feedback-error","error")}).finally(function(){s.closeAll()})}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t){this.appUser=e,this._=t,this.availableAccounts=[],this.availableAccounts=this._.filter(e.getAvailableAccounts(),function(t){return t.accountIdGuid!==e.currentAccount.accountIdGuid})}return e.prototype.hasAlternateAccounts=function(){return this._.size(this.availableAccounts)>0},e}();a.RADminControllers.controller("CurrentAccountController",["appUser","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t,n,a,i,s){this.$scope=e,this.$translate=t,this._=n,this._accumulatorOptions=a,this.availableSearchPhrase=i,this.selectedSearchPhrase=s,this.itemTypeSingular="",this.itemTypePlural="",this.availableSearchType="",this.selectedSearchType="";var o=e.accumulatorOptions.itemTypePlural,r=e.accumulatorOptions.itemTypeSingular,l=e.accumulatorOptions.availableSearchType,c=e.accumulatorOptions.selectedSearchType;n.defaults(e.accumulatorOptions,{isAddEnabled:!0,isRemoveEnabled:!0}),this._accumulatorOptions=e.accumulatorOptions,this.availableSearchPhrase="",this.selectedSearchPhrase="",this.itemTypePlural=this.$translate.instant(o),this.itemTypeSingular=this.$translate.instant(r),this.availableSearchType=this.$translate.instant(l),this.selectedSearchType=this.$translate.instant(c)}return e.prototype.add=function(e){this._accumulatorOptions.selectedList.push(e),this._removeFromList(this._accumulatorOptions.availableList,e),this._accumulatorOptions.updateLists("add",e)},e.prototype.addAll=function(){var e=this,t=this._.cloneDeep(this._accumulatorOptions.availableList);Array.prototype.push.apply(this._accumulatorOptions.selectedList,this._accumulatorOptions.availableList.splice(0)),t.forEach(function(t){e._accumulatorOptions.updateLists("add",t)},this)},e.prototype.remove=function(e){this._accumulatorOptions.availableList.push(e),this._removeFromList(this._accumulatorOptions.selectedList,e),this._accumulatorOptions.updateLists("remove",e)},e.prototype.removeAll=function(){var e=this,t=this._.cloneDeep(this._accumulatorOptions.selectedList);Array.prototype.push.apply(this._accumulatorOptions.availableList,this._accumulatorOptions.selectedList.splice(0)),t.forEach(function(t){e._accumulatorOptions.updateLists("remove",t)},this)},e.prototype._removeFromList=function(e,t){e.splice(e.indexOf(t),1)},e.prototype.resetAvailableSearch=function(){var e=this._accumulatorOptions.availableSearchType;this.availableSearchType=this.$translate.instant(e),this.availableSearchPhrase=this._accumulatorOptions.availableSearchPhrase=""},e.prototype.resetSelectedSearch=function(){var e=this._accumulatorOptions.selectedSearchType;this.selectedSearchType=this.$translate.instant(e),this.selectedSearchPhrase=this._accumulatorOptions.selectedSearchPhrase=""},e.prototype.searchAvailable=function(e){e&&13===e.keyCode&&(this._accumulatorOptions.availableSearchPhrase=this.availableSearchPhrase)},e.prototype.searchSelected=function(e){e&&13===e.keyCode&&(this._accumulatorOptions.selectedSearchPhrase=this.selectedSearchPhrase)},e}();a.RADminControllers.controller("AccumulatorController",["$scope","$translate","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t,n,a){this.appUser=e,this.$state=t,this.oliveModal=a,this.currentAccountChanged=null,this.currentAccountChanged=n.when()}return e.prototype.setActiveAccount=function(e){var t=this;return this.currentAccountChanged=this.appUser.setCurrentAccount(e.accountIdGuid).then(function(){t.oliveModal.closeAllModals(),t.$state.reload()}),this.currentAccountChanged},e}();a.RADminControllers.controller("AccountSelectionModalController",["appUser","$state","$q","oliveModal",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t,n){this.$scope=e,this.appUser=t,this.radminApi=n}return e.prototype.redirect=function(e){var t=this.radminApi.generateHomeUri(this.appUser.getCurrentAccountId());this.appUser.logout(),$(e.target).closest("form").attr("action",t).submit()},e}();a.RADminControllers.controller("MemberConsoleRedirection",["$scope","appUser","RADminApiClient",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){return function(e,t,n,a,i,s){this.$scope=e,this.headerText=t,this.contentText=n,this.confirmButtonText=a,this.cancelButtonText=i,this.confirm=s,this.headerText=e.headerText,this.contentText=e.contentText,this.confirmButtonText=e.confirmButtonText,this.cancelButtonText=e.cancelButtonText,this.confirm=e.confirm}}();a.RADminControllers.controller("ConfirmModalController",["$scope",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t){this.appUser=e,this.api=t,this.linkStart="<a class='link'>",this.linkEnd="</a>"}return e.prototype.redirect=function(e){var t=this.api.authorizationManager.authorizeUri("/redirectToClassic?accountId="+this.appUser.currentAccount.accountIdGuid);this.appUser.logout(),$(e.target).closest("form").attr("action",t).submit()},e}();a.RADminControllers.controller("ClassicRedirectionController",["appUser","dsApiClient",i])},function(e,t){var n="security-settings/security-settings.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="security-settings site-main"\n    ng-controller="SecuritySettingsController as securityCtrl" ds-form>\n\n  <div class="section">\n    <h1 class="header-title" translate="Security Settings"></h1>\n    <div class="header-actions"\n      ds-ackbar="securitySettingsForm"\n      ds-ackbar-save="securityCtrl.save(securitySettingsForm)"\n      ds-ackbar-cancel="securityCtrl.cancel(securitySettingsForm)">\n    </div>\n  </div>\n\n  <div class=\'section\'>\n    <form name="securitySettingsForm">\n      <div ng-if="securityCtrl.shouldShowAccountSecurity()">\n        <h2 class="header-title" translate="Account Security" setting-key-map="AccountSecurity"></h2>\n        <div class="grid">\n          <div class="col-1-3">\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[securityCtrl.securitySettings.sessionTimeoutMetadata]">\n              <label class="label" for="session-timeout"\n                  translate="Web App Session Timeout (minutes)" setting-key-map="SessionTimeout">\n              </label>\n              <input class="input-text input-number" id="session-timeout"\n                     required ds-valid="integer" ds-valid-min="1" ds-valid-max="120"\n                     ds-form-ignore="securityCtrl.securitySettings.sessionTimeoutMetadata.uiHint !== \'available\'"\n                     data-qa="security_settings_web_session_timeout_txtb"\n                     ng-model="securityCtrl.securitySettings.sessionTimeout">\n            </div>\n\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[securityCtrl.securitySettings.signingSessionTimeoutMetadata]">\n              <label class="label" for="signing-session-timeout"\n                  translate="Recipient Session Timeout (minutes)" setting-key-map="SigningSessionTimeout">\n              </label>\n              <input class="input-text input-number" id="signing-session-timeout"\n                     required ds-valid="integer" ds-valid-min="1" ds-valid-max="120"\n                     ds-form-ignore="securityCtrl.securitySettings.signingSessionTimeoutMetadata.uiHint !== \'available\'"\n                     data-qa="security_settings_signing_session_timeout_txtb"\n                     ng-model="securityCtrl.securitySettings.signingSessionTimeout">\n            </div>\n\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[securityCtrl.securitySettings.mobileSessionTimeoutMetadata]">\n              <label class="label" for="mobile-session-timeout"\n                  translate="Mobile App Session Timeout (minutes)" setting-key-map="MobileSessionTimeout">\n              </label>\n              <input class="input-text input-number"\n                     id="mobile-session-timeout" required\n                     ds-valid="integer" ds-valid-min="1" ds-valid-max="120"\n                     ds-form-ignore="securityCtrl.securitySettings.mobileSessionTimeoutMetadata.uiHint !== \'available\'"\n                     data-qa="security_settings_mobile_session_timeout_txtb"\n                     ng-model="securityCtrl.securitySettings.mobileSessionTimeout">\n            </div>\n\n            <div class="form-group" ng-if="securityCtrl.shouldShowSuppressCertificateEnforcement()">\n              <div class="inline-input cb" ui-cfr ui-hint\n                   ui-models="[securityCtrl.securitySettings.suppressCertificateEnforcementMetadata]">\n                <input class="cb_input" type="checkbox" id="suppress-certification-enforce"\n                       ng-model="securityCtrl.securitySettings.suppressCertificateEnforcement" />\n                <label class="cb_label" for="suppress-certification-enforce"\n                       translate="Suppress In Session Certificate Enforcement" setting-key-map="SuppressCertificateEnforcement"></label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if="securityCtrl.shouldShowRecipientSecurity()">\n        <h2 class="header-title" translate="Authentication Settings"></h2>\n        <div class="grid">\n          <div class="col-1-2">\n\n            <div class="form-group">\n              <div ui-cfr="securityCtrl.securitySettings.idCheckRequiredMetadata">\n                <h3 class="header-title rb-group-label"\n                  translate="Recipient Authentication Settings"\n                  setting-key-map="IdCheckRequired">\n                </h3>\n              </div>\n              <div ng-repeat="option in securityCtrl.idCheckRequiredOptions"\n                  ui-hint="securityCtrl.securitySettings.idCheckRequiredMetadata"\n                  class="rb inline-input">\n                <input class="rb_input" type="radio"\n                  name="auth-settings" id="auth-settings-{{$index}}"\n                  ng-model="securityCtrl.securitySettings.idCheckRequired"\n                  ng-change="securityCtrl.securitySettings.idCheckRequired === \'never\' &&\n                    securityCtrl.ensureAccessCodeFormatMinimumLengthIsValid()"\n                  ng-value="option.value">\n                <label class="rb_label" for="auth-settings-{{$index}}">\n                  {{option.text | translate}}\n                </label>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div ui-cfr="securityCtrl.securitySettings.authenticationCheckMetadata">\n                <h3 class="header-title rb-group-label"\n                  translate="Recipient Authentication Triggers" setting-key-map="AuthenticationCheck">\n                </h3>\n              </div>\n              <div ng-repeat="option in\n                    securityCtrl.securitySettings.authenticationCheckMetadata.options"\n                  ui-hint ui-models="[\n                    securityCtrl.securitySettings.authenticationCheckMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                  ]"\n                  class="rb inline-input">\n                <input class="rb_input" type="radio"\n                  name="auth-triggers" id="auth-triggers-{{$index}}"\n                  ng-model="securityCtrl.securitySettings.authenticationCheck"\n                  ng-value="option.value">\n                <label class="rb_label" for="auth-triggers-{{$index}}">\n                  {{option.text | translate}}\n                </label>\n\n                <div class="contextual-content inline-input cb"\n                    ng-if="option.value === securityCtrl.authCheckInitialAccess">\n                  <input class="cb_input" type="checkbox" id="skip-auth-completed-envelopes"\n                    ng-disabled="securityCtrl.recipientAuthenticationDisabled() ||\n                      securityCtrl.securitySettings.authenticationCheck !==\n                        securityCtrl.authCheckInitialAccess"\n                    ng-model="securityCtrl.securitySettings.skipAuthCompletedEnvelopes" />\n                  <label class="cb_label" for="skip-auth-completed-envelopes"\n                    ng-disabled="securityCtrl.recipientAuthenticationDisabled() ||\n                      securityCtrl.securitySettings.authenticationCheck !==\n                        securityCtrl.authCheckInitialAccess"\n                    translate="Completed envelopes are accessible without additional authentication" setting-key-map="SkipAuthCompletedEnvelopes">\n                  </label>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div ui-cfr="securityCtrl.securitySettings.idCheckExpireMetadata">\n                <h3 class="header-title rb-group-label"\n                  translate="Recipient Authentication Skip Option" setting-key-map="IdCheckExpire">\n                </h3>\n              </div>\n              <div ng-repeat="option in securityCtrl.securitySettings.idCheckExpireMetadata.options"\n                  ui-hint ui-models="[\n                    securityCtrl.securitySettings.idCheckExpireMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                  ]"\n                  class="rb inline-input">\n                <input class="rb_input" type="radio"\n                  name="auth-skip" id="auth-skip-{{$index}}"\n                  ng-model="securityCtrl.securitySettings.idCheckExpire"\n                  ng-value="option.value">\n                <label class="rb_label" for="auth-skip-{{$index}}">\n                  {{option.text | translate}}\n                </label>\n              </div>\n            </div>\n\n            <div class="contextual-content id-check-expire"\n                ng-switch="securityCtrl.allowsIdCheckExpireMinutes()">\n              <div ng-switch-when="true">\n                <input type="text" class="input-number input-text" required\n                  ui-hint="securityCtrl.recipientAuthenticationMetadata"\n                  ng-disabled="securityCtrl.securitySettings.idCheckExpire !== \'variable\'"\n                  ds-valid="integer" ds-valid-min="0"\n                  ng-model="securityCtrl.idCheckExpire.value"\n                  data-qa="security_settings_skip_authentication_duration_txtb">\n                <span class="select-wrap" id="inline-select">\n                  <select\n                    ui-hint="securityCtrl.recipientAuthenticationMetadata"\n                    ng-disabled="securityCtrl.securitySettings.idCheckExpire !== \'variable\'"\n                    ng-model="securityCtrl.idCheckExpire.interval"\n                    ng-options="interval | translate for interval in securityCtrl.securitySettings.idCheckExpireMetadata.intervals"\n                    data-qa="security_settings_skip_authentication_duration_option">\n                  </select>\n                </span>\n              </div>\n\n              <div ng-switch-default>\n                <input type="text" class="input-number input-text"\n                  data-qa="security_settings_skip_authentication_duration_default_txtb"\n                  required ds-valid="integer" ds-valid-min="0"\n                  ui-hint="securityCtrl.recipientAuthenticationMetadata"\n                  ng-disabled="securityCtrl.securitySettings.idCheckExpire !== \'variable\'"\n                  ng-model="securityCtrl.securitySettings.idCheckExpireDays">\n                <span translate="Days"></span>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div ui-cfr ui-hint ui-models="[securityCtrl.securitySettings.signerLoginRequirementsMetadata]">\n                <h3 class="header-title rb-group-label"\n                  translate="Login Requirements" setting-key-map="SignerLoginRequirements">\n                </h3>\n              </div>\n              <div ng-repeat="option in securityCtrl.securitySettings.signerLoginRequirementsMetadata.options"\n                  ui-hint ui-models="[\n                    securityCtrl.securitySettings.signerLoginRequirementsMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                  ]"\n                  class="rb inline-input">\n                <input class="rb_input" type="radio"\n                  name="login-req" id="login-req-{{$index}}"\n                  ng-model="securityCtrl.securitySettings.signerLoginRequirements"\n                  ng-value="option.value">\n                <label class="rb_label" for="login-req-{{$index}}">\n                  {{option.text | translate}}\n                </label>\n                <div ng-if="securityCtrl.showAutoProvisionSignerAccount(option)" class="inline-input cb" ui-cfr ui-hint\n                  ui-models="[securityCtrl.securitySettings.autoProvisionSignerAccountMetadata]">\n                  <input class="cb_input" type="checkbox" id="allow-provision-signer-account"\n                    ng-model="securityCtrl.securitySettings.autoProvisionSignerAccount">\n                  <label class="cb_label" for="allow-provision-signer-account"\n                    setting-key-map="AutoProvisionSignerAccount"\n                    translate="Automatically create an account for the recipient"></label>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div>\n                <h3 class="header-title rb-group-label"\n                  translate="General Authentication Settings">\n                </h3>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[\n                  securityCtrl.securitySettings.senderMustAuthenticateSigningMetadata,\n                  securityCtrl.recipientAuthenticationMetadata]">\n                <input class="cb_input" type="checkbox" id="sender-mustauth-sign"\n                  ng-model="securityCtrl.securitySettings.senderMustAuthenticateSigning">\n                <label class="cb_label" for="sender-mustauth-sign"\n                  setting-key-map="SenderMustAuthenticateSigning"\n                  translate="Enforce authentication requirements on sender when signing">\n                </label>\n              </div>\n\n              <div class="inline-input cb" ng-if="securityCtrl.securitySettings.allowPhoneAuthentication"\n                   ui-hint ui-cfr ui-models="[\n                    securityCtrl.securitySettings.captureVoiceRecordingMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                    ]">\n                <input class="cb_input" type="checkbox" id="capture-voice-record"\n                  ng-model="securityCtrl.securitySettings.captureVoiceRecording" />\n                <label class="cb_label" for="capture-voice-record"\n                  translate="Capture voice recording during phone authentication" setting-key-map="CaptureVoiceRecording">\n                </label>\n              </div>\n            </div>\n\n            <div class="access-code" ui-cfr ui-hint\n                ui-models="[securityCtrl.securitySettings.allowAccessCodeFormatMetadata]"\n                ng-if="securityCtrl.securitySettings.allowAccessCodeFormat">\n              <h3 class="header-title" translate="Access Codes"></h3>\n\n              <div class="access-code_enforce cb" ui-cfr ui-hint\n                  ui-models="[\n                    securityCtrl.securitySettings.accessCodeFormat.formatRequiredMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                  ]">\n                <input class="cb_input" type="checkbox" id="require-access-code"\n                  ng-click="!securityCtrl.securitySettings.accessCodeFormat.formatRequired &&\n                    securityCtrl.ensureAccessCodeFormatMinimumLengthIsValid()"\n                  ng-model="securityCtrl.securitySettings.accessCodeFormat.formatRequired">\n                <label class="cb_label" for="require-access-code"\n                  translate="Enforce access code rules" setting-key-map="FormatRequired"></label>\n              </div>\n\n              <div class="access-code_format contextual-content">\n                <div class="access-code_format_minlength form_unit" ui-cfr ui-hint ui-models="[\n                    securityCtrl.securitySettings.accessCodeFormat.minimumLengthMetadata,\n                    securityCtrl.accessCodeFormatMetadata,\n                    securityCtrl.recipientAuthenticationMetadata]">\n                  <label class="label" for="min-access-code-length"\n                    ng-class="{\'text-muted\': !securityCtrl.securitySettings.accessCodeFormat.formatRequired}"\n                    translate="Minimum access code length (6-50)"\n                    setting-key-map="MinimumLength"></label>\n                  <input type="text" class="input-text input-xs" id="min-access-code-length"\n                    ds-valid="integer" required\n                    ds-valid-min="securityCtrl.accessCodeMinLength"\n                    ds-valid-max="securityCtrl.accessCodeMaxLength"\n                    ng-model="securityCtrl.securitySettings.accessCodeFormat.minimumLength">\n                </div>\n\n                <div class="access-code_format_include form_unit">\n                  <p ng-class="{\'text-muted\': !securityCtrl.securitySettings.accessCodeFormat.formatRequired}"\n                    translate="Access code must include at least:">\n                  </p>\n\n                  <div class="cb" ui-cfr ui-hint ui-models="[\n                      securityCtrl.securitySettings.accessCodeFormat.letterRequiredMetadata,\n                      securityCtrl.accessCodeFormatMetadata,\n                      securityCtrl.recipientAuthenticationMetadata]">\n                    <input class="cb_input" type="checkbox" id="require-one-letter"\n                      ng-model="securityCtrl.securitySettings.accessCodeFormat.letterRequired">\n                    <label class="cb_label" for="require-one-letter"\n                      translate="One letter" setting-key-map="LetterRequired"></label>\n                  </div>\n\n                  <div class="cb" ui-cfr ui-hint ui-models="[\n                      securityCtrl.securitySettings.accessCodeFormat.numberRequiredMetadata,\n                      securityCtrl.accessCodeFormatMetadata,\n                      securityCtrl.recipientAuthenticationMetadata]">\n                    <input class="cb_input" type="checkbox" id="require-one-digit"\n                      ng-model="securityCtrl.securitySettings.accessCodeFormat.numberRequired">\n                    <label class="cb_label" for="require-one-digit"\n                      translate="One number" setting-key-map="NumberRequired"></label>\n                  </div>\n\n                  <div class="cb" ui-cfr ui-hint ui-models="[\n                      securityCtrl.securitySettings.accessCodeFormat.specialCharacterRequiredMetadata,\n                      securityCtrl.accessCodeFormatMetadata,\n                      securityCtrl.recipientAuthenticationMetadata]">\n                    <input class="cb_input" type="checkbox" id="require-one-special-char"\n                      ng-model="securityCtrl.securitySettings.accessCodeFormat.specialCharacterRequired">\n                    <label class="cb_label" for="require-one-special-char"\n                      translate="One special character (except [[characters]])"\n                      translate-interpolation="bracket"\n                      translate-values="{characters: \'&quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&amp;&num;&quot;\'}"\n                      setting-key-map="SpecialCharacterRequired">\n                    </label>\n                  </div>\n                </div>\n              </div>\n\n              <div class="access-code_generator cb"\n                  ui-cfr ui-hint ui-models="[\n                    securityCtrl.securitySettings.enableAccessCodeGeneratorMetadata,\n                    securityCtrl.recipientAuthenticationMetadata\n                  ]">\n                <input class="cb_input" type="checkbox" id="enable-access-code-generator"\n                  ng-model="securityCtrl.securitySettings.enableAccessCodeGenerator">\n                <label class="cb_label" for="enable-access-code-generator"\n                  setting-key-map="EnableAccessCodeGenerator"\n                  translate="Enable Access Code Generator"></label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <h2 class="header-title" translate="Envelope Security"></h2>\n        <div class="grid">\n          <div class="col-1-3">\n            <div class="form-group">\n              <a class="anchor" data-qa="account_member_document_retention" ng-click="securityCtrl.showDocumentRetention()" translate="Document Retention" setting-key-map="DocumentRetention"></a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <h2 class="header-title" translate="Password Security"></h2>\n        <div class="grid">\n          <div class="col-1-3">\n            <div class="form-group">\n              <a class="anchor" ng-click="securityCtrl.showPasswordRules()" translate="Password Rules"></a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ui-cfr ui-hint\n        ui-models="[securityCtrl.securitySettings.allowAccountMemberNameChangeMetadata]">\n        <h2 class="header-title" translate="User Personal Information"></h2>\n        <div class="grid">\n          <div class="col-1-3">\n            <div class="form-group">\n              <input class="cb_input" type="checkbox" id="allow-users-edit-names" data-qa="account_member_name_change_cb"\n                ng-model="securityCtrl.securitySettings.allowAccountMemberNameChange"/>\n              <label class="cb_label" for="allow-users-edit-names" data-qa="account_member_name_change_lbl"\n                translate="Allow users to edit their name" setting-key-map="AllowAccountMemberNameChange">\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="section">\n    <div class="header-actions"\n      ds-ackbar="securitySettingsForm"\n      ds-ackbar-save="securityCtrl.save(securitySettingsForm)"\n      ds-ackbar-cancel="securityCtrl.cancel(securitySettingsForm)">\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),i=n(281),s=6,o=50;a.SecuritySettingsModule.controller("SecuritySettingsController",["lodash","appUser","dsAccount","dsNotification","dsModals","oliveModal","uiHintChecker","SecuritySettingsDefaults","$translate","$scope",function(e,t,n,a,r,l,c,d,u,p){var m=this;function g(){t.currentAccountInfo.settingsRetrieved.then(function(){!function(){var n=e.pick(t.currentAccountInfo.settings,e.keys(m.securitySettings));e.merge(m.securitySettings,n),function(){m.idCheckRequiredOptions=m.securitySettings.idCheckRequiredMetadata.options.reduceRight(function(e,t){return"never"===t.value?e.concat(t):[t].concat(e)},[])}(),function(){var n=d.idCheckExpireMetadata.options,a=t.currentAccountInfo.settings.idCheckExpireMetadata.options;m.securitySettings.idCheckExpireMetadata.options=n.filter(function(t){return e.find(a,{value:t.value})})}(),function(){var n=d.signerLoginRequirementsMetadata.options,a=t.currentAccountInfo.settings.signerLoginRequirementsMetadata.options;m.securitySettings.signerLoginRequirementsMetadata.options=n.filter(function(t){return e.find(a,{value:t.value})})}()}(),b()&&(delete m.securitySettings.idCheckExpireDays,m.idCheckExpire={interval:"Minutes",value:m.securitySettings.idCheckExpireMinutes},m.securitySettings.idCheckExpireMinutes>0&&(m.securitySettings.idCheckExpireMinutes%1440==0?m.idCheckExpire={interval:"Days",value:m.securitySettings.idCheckExpireMinutes/1440}:m.securitySettings.idCheckExpireMinutes%60==0&&(m.idCheckExpire={interval:"Hours",value:m.securitySettings.idCheckExpireMinutes/60}))),p.$watch(h,v),p.$watch(f,_)})}function h(){return m.securitySettings.accessCodeFormat.formatRequired}function f(){return m.securitySettings.idCheckRequired}function v(e){m.accessCodeFormatMetadata={uiHint:"available",rights:e?"editable":"read-only"}}function _(e){m.recipientAuthenticationMetadata={uiHint:"available",rights:"never"===e?"read-only":"editable"}}function b(){return parseInt(m.securitySettings.idCheckExpireMinutes)>=0}m.accessCodeMinLength=s,m.accessCodeMaxLength=o,m.securitySettings=e.cloneDeep(d),m.save=function(i){var s,o;b()&&function(){switch(m.idCheckExpire.interval){case"Days":m.securitySettings.idCheckExpireMinutes=1440*m.idCheckExpire.value;break;case"Hours":m.securitySettings.idCheckExpireMinutes=60*m.idCheckExpire.value;break;default:m.securitySettings.idCheckExpireMinutes=m.idCheckExpire.value}}(),function(){e.keys(m.securitySettings).filter(function(e){return/Metadata$/.test(e)}).forEach(function(t){var n=m.securitySettings[t];if(!n||!n.uiHint||"available"===n.uiHint)return;var a=t.replace("Metadata","");!e.isUndefined(m.securitySettings[a])&&delete m.securitySettings[a]})}(),r.openModal("site/templates/loading modal.html",p,"sm",!0,!1),n.updateSettings(t.getCurrentAccountId(),m.securitySettings).then(function(){s=u.instant("Saved Successfully!"),o="success",t.refreshAccountSettings(),i&&i.$setPristine()},function(e){s=e.data.message,o="alert"}).finally(function(){r.closeModal(),a.show({msg:s,type:o})})},m.cancel=function(e){g(),e&&e.$setPristine()},m.shouldShowAccountSecurity=function(){return c.anyAvailable([m.securitySettings.sessionTimeoutMetadata,m.securitySettings.signingSessionTimeoutMetadata,m.securitySettings.mobileSessionTimeoutMetadata])},m.shouldShowRecipientSecurity=function(){return c.anyAvailable([m.securitySettings.idCheckRequiredMetadata,m.securitySettings.idCheckExpireMetadata,m.securitySettings.signerLoginRequirementsMetadata,m.securitySettings.authenticationCheckMetadata,m.securitySettings.allowAccessCodeFormatMetadata])},m.authCheckInitialAccess=i.AUTH_CHECK_INITIAL_ACCESS,m.showDocumentRetention=function(){l.openModal({scope:p,templateUrl:"security-settings/document-retention-modal.html",size:"md",showClose:!0}).then(function(e){p.documentRetentionModal=e})},m.showPasswordRules=function(){l.openModal({scope:p,templateUrl:"security-settings/password-rules-modal.html",size:"md",showClose:!0}).then(function(e){p.passwordRulesModal=e})},m.allowsIdCheckExpireMinutes=b,m.showAutoProvisionSignerAccount=function(e){switch(m.securitySettings.signerLoginRequirements){case"login_required_per_session":return"login_required_per_session"===e.value;case"login_required_per_envelope":return"login_required_per_envelope"===e.value;default:return!1}},m.shouldShowSuppressCertificateEnforcement=function(){return null!==m.securitySettings.suppressCertificateEnforcement},m.ensureAccessCodeFormatMinimumLengthIsValid=function(){m.securitySettings.accessCodeFormat.minimumLength=parseInt(m.securitySettings.accessCodeFormat.minimumLength);var e=m.securitySettings.accessCodeFormat.minimumLength;s<=e&&e<=o||(m.securitySettings.accessCodeFormat.minimumLength=6)},m.recipientAuthenticationDisabled=function(){return"read-only"===m.recipientAuthenticationMetadata.rights},g()}])},function(e,t){var n="security-settings/password-rules-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="security-settings password-rules" ng-controller="PasswordRulesModalController as passwordRulesCtrl" ds-form>\n\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Password Rules"></h1>\n\n    <p class="modal_description" translate="Set up the password rules that members of your account must adhere to."></p>\n  </div>\n\n  <div class="modal_content" olive-modal-content>\n\n    <form name="passwordRulesForm">\n\n      <div class="form-group">\n        <label class="label" for="password-rules-password-strength-type" translate="Password Strength"></label>\n        <div class="select-wrap">\n          <select id="password-rules-password-strength-type"\n                  ng-model="passwordRulesCtrl.rules.passwordStrengthType"\n                  ng-options="option.value.name as option.text | translate for option in passwordRulesCtrl.rulesMetadata.passwordStrengthTypeMetadata.options"\n                  data-qa="security_settings_password_rule_strength_option">\n          </select>\n        </div>\n      </div>\n\n      <div class="form_unit">\n        <span class="cb inline-input">\n          <input class="cb_input" type="checkbox" id="password-rules-expire"\n                 data-qa="security_settings_password_rule_enable_expiration_cb"\n               ng-model="passwordRulesCtrl.rules.expirePassword">\n          <label class="cb_label" for="password-rules-expire"\n                 data-qa="security_settings_password_rule_enable_expiration_cb_lbl"\n                 translate="Enable password expiration" setting-key-map="ExpirePassword"></label>\n        </span>\n\n        <div class="contextual-content" ng-show="passwordRulesCtrl.rules.expirePassword">\n          <div class="inline-input">\n        <input type="text" class="input-inline input-text input-number" id="password-rules-expire-days"\n               ng-class="{\'disabled\': !passwordRulesCtrl.rules.expirePassword}"\n               ng-disabled="!passwordRulesCtrl.rules.expirePassword"\n               ng-required="passwordRulesCtrl.rules.expirePassword"\n               ds-valid="integer" ds-valid-min="1"\n               ds-valid-max="999"\n               ng-model="passwordRulesCtrl.expirePasswordDaysModel"\n               data-qa="security_settings_password_rule_days_until_expiration_txtb">\n            <label for="password-rules-expire-days" translate="Days until expiration" setting-key-map="ExpirePasswordDays"></label>\n            </div>\n          </div>\n      </div>\n\n      <div class="section-start" ng-if="passwordRulesCtrl.isCustomType()">\n        <div class="form-group">\n          <h3 translate="Custom settings:"></h3>\n          <div class="form-group">\n            <label class="label" for="password-rules-min-length"\n                   setting-key-map="MinimumPasswordLength"\n                   translate="Minimum password length">\n            </label>\n            <input type="text" class="input-text input-number" id="password-rules-min-length"\n                   required ds-valid="integer" ds-valid-min="6" ds-valid-max="15"\n                   ng-model="passwordRulesCtrl.rules.minimumPasswordLength"\n                   data-qa="security_settings_password_rule_min_length_txtb">\n            <span translate="6-15 characters"></span>\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="password-rules-min-age"\n                   setting-key-map="MinimumPasswordAgeDays"\n                   translate="Minimum password age">\n            </label>\n            <input type="text" class="input-text input-number" id="password-rules-min-age"\n                   required ds-valid="integer" ds-valid-min="0" ds-valid-max="3650"\n                   ng-model="passwordRulesCtrl.rules.minimumPasswordAgeDays"\n                   data-qa="security_settings_password_rule_min_age_txtb">\n            <span translate="0 or more days"></span>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <h3 translate="Passwords must include:"></h3>\n          <div class="inline-input cb">\n            <input class="cb_input" type="checkbox" id="password-rules-require-upper"\n                   data-qa="security_settings_password_rule_require_upper_cb"\n                   ng-model="passwordRulesCtrl.rules.passwordIncludeUpperCase">\n            <label class="cb_label" for="password-rules-require-upper"\n                   data-qa="security_settings_password_rule_require_upper_cb_lbl"\n                   setting-key-map="PasswordIncludeUpperCase"\n                   translate="At least one uppercase letter">\n            </label>\n          </div>\n\n          <div class="inline-input cb">\n            <input class="cb_input" type="checkbox" id="password-rules-require-lower"\n                   data-qa="security_settings_password_rule_require_lower_cb"\n                   ng-model="passwordRulesCtrl.rules.passwordIncludeLowerCase">\n            <label class="cb_label" for="password-rules-require-lower"\n                   data-qa="security_settings_password_rule_require_lower_cb_lbl"\n                   setting-key-map="PasswordIncludeLowerCase"\n                   translate="At least one lowercase letter">\n            </label>\n          </div>\n\n          <div class="inline-input cb">\n            <input class="cb_input" type="checkbox" id="password-rules-require-digit"\n                   data-qa="security_settings_password_rule_require_digit_cb"\n                   ng-model="passwordRulesCtrl.rules.passwordIncludeDigit">\n            <label class="cb_label" for="password-rules-require-digit"\n                   data-qa="security_settings_password_rule_require_digit_cb_lbl"\n                   setting-key-map="PasswordIncludeDigit"\n                   translate="At least one digit">\n            </label>\n          </div>\n\n          <div class="inline-input cb">\n            <input class="cb_input" type="checkbox" id="password-rules-require-special-char"\n                   data-qa="security_settings_password_rule_require_special_char_cb"\n                   ng-model="passwordRulesCtrl.rules.passwordIncludeSpecialCharacter">\n            <label class="cb_label" for="password-rules-require-special-char"\n                   data-qa="security_settings_password_rule_require_special_char_cb_lbl"\n                   setting-key-map="PasswordIncludeSpecialCharacter"\n                   translate="At least one special character">\n            </label>\n          </div>\n        </div>\x3c!-- end "password must include" --\x3e\n\n        <div class="form-group">\n          <label class="label" for="password-rules-questions-required" translate="Password questions required" setting-key-map="PasswordQuestionsRequired"></label>\n          <div class="select-wrap">\n            <select id="password-rules-questions-required"\n                    ng-model="passwordRulesCtrl.rules.questionsRequired"\n                    data-qa="security_settings_password_rule_required_questions_option"\n                    ng-options="option.value as option.text | translate for option in passwordRulesCtrl.questionsRequiredOptions">\n            </select>\n          </div>\n        </div>\n\n      </div>\n\n      <div class="section-start" ng-if="!passwordRulesCtrl.isCustomType()">\n        <div class="form-group">\n          <h3 translate="Password Requirements:" setting-key-map="PasswordStrengthType"></h3>\n          <div class="form-group">\n            <div translate="Must be at least [[characterLength]] characters long."\n                 translate-interpolation="bracket"\n                 translate-values="{characterLength: passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.minimumLength}">\n            </div>\n            <div ng-if="passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.passwordIncludeUpperCase"\n                 translate="Must contain at least one uppercase letter.">\n            </div>\n            <div ng-if="passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.passwordIncludeLowerCase"\n                 translate="Must contain at least one lowercase letter.">\n            </div>\n            <div ng-if="passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.passwordIncludeDigit"\n                 translate="Must contain at least one number.">\n            </div>\n            <div ng-if="passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.passwordIncludeSpecialCharacter"\n                 translate="Must contain at least one special character.">\n            </div>\n            <div ng-if="passwordRulesCtrl.getPasswordStrengthTypeMetadata().value.passwordIncludeDigitOrSpecialCharacter"\n                 translate="Must contain at least one number OR one special character.">\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="modal_footer" olive-modal-footer\n       ds-ackbar="passwordRulesForm"\n       ds-ackbar-modal="true"\n       ds-ackbar-save="passwordRulesCtrl.savePasswordRules(passwordRulesForm)"\n       ds-ackbar-cancel="passwordRulesCtrl.cancelPasswordRules(passwordRulesForm)">\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),i=n(282),s=[{value:{name:"basic"},text:"Basic"},{value:{name:"medium"},text:"Medium"},{value:{name:"strong"},text:"Strong"},{value:{name:"custom"},text:"Custom"}],o=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}],r=function(){function e(e,t,n,a,r,l){var c=this;this._=e,this._dsPasswordRules=t,this._$scope=n,this._oliveModal=a,this._dsNotification=r,this._$translate=l,this.rulesMetadata={expirePasswordDaysMetadata:{minimumDays:1,maximumDays:999},minimumPasswordAgeDaysMetadata:{minimumAge:0,maximumAge:2650},minimumPasswordLengthMetadata:{minimumLength:6,maximumLength:15},passwordStrengthTypeMetadata:{options:[]},questionsRequiredMetadata:{minimumQuestions:0,maximumQuestions:4}},this.rules={expirePassword:!1,expirePasswordDays:-1,minimumPasswordAgeDays:0,passwordIncludeDigit:!1,passwordIncludeLowerCase:!1,passwordIncludeSpecialCharacter:!1,passwordIncludeUpperCase:!1,minimumPasswordLength:0,passwordStrengthType:i.RULES_BASIC_TYPE,questionsRequired:0},this.questionsRequiredOptions=o,this.expirePasswordDaysModel=this.rulesMetadata.expirePasswordDaysMetadata.minimumDays,this._expirePassword=function(){return c.rules.expirePassword},this.updateExpirePasswordDaysModel=function(e){e||(c.expirePasswordDaysModel=null)},this.setUpSecurityType=function(){c.rulesMetadata.passwordStrengthTypeMetadata.options=c._.map(c.rulesMetadata.passwordStrengthTypeMetadata.options,function(e){var t=c._.find(s,function(t){return t.value.name===e.name});return c._.isUndefined(t)&&(t={text:e.name}),t.value=e,t})},this.setUpQuestionsRequired=function(){c.questionsRequiredOptions=c._.filter(c.questionsRequiredOptions,function(e){return e.value>=c.rulesMetadata.questionsRequiredMetadata.minimumQuestions&&e.value<=c.rulesMetadata.questionsRequiredMetadata.maximumQuestions})},this.getPasswordStrengthTypeMetadata=function(){return c._.find(c.rulesMetadata.passwordStrengthTypeMetadata.options,function(e){return e.value.name===c.rules.passwordStrengthType})},this.isCustomType=function(){return c.rules.passwordStrengthType===i.RULES_CUSTOM_TYPE},this.savePasswordRules=function(){c.rules.expirePasswordDays=c.expirePasswordDaysModel,c._dsPasswordRules.updatePasswordRules(c.rules).then(function(){c._dsNotification.show({msg:c._$translate.instant(i.RULES_SAVED_MESSAGE),type:"success"}),c._oliveModal.closeAllModals()},function(){c._$scope.passwordRulesModal.addMessage(c._$translate.instant(i.RULES_ERROR_MESSAGE),i.RULES_ERROR_MSG_ID,"error")})},this.cancelPasswordRules=function(){c._initPasswordRules(),c._oliveModal.closeAllModals()},this._$scope.$watch(this._expirePassword.bind(this),this.updateExpirePasswordDaysModel.bind(this)),this._initPasswordRules()}return e.prototype._initPasswordRules=function(){var e=this;this._dsPasswordRules.getPasswordRules().then(function(t){e.rulesMetadata=e._.pick(t,e._.keys(e.rulesMetadata)),e.rules=e._.pick(t,e._.keys(e.rules)),e.rules.expirePassword&&(e.expirePasswordDaysModel=e.rules.expirePasswordDays),e.setUpSecurityType(),e.setUpQuestionsRequired()})},e}();a.SecuritySettingsModule.controller("PasswordRulesModalController",["lodash","dsPasswordRules","$scope","oliveModal","dsNotification","$translate",r])},function(e,t){var n="security-settings/document-retention-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DocumentRetentionModalController as documentRetentionCtrl" ds-form>\n\n  <div class="modal_header" olive-modal-header translate="Document Retention"></div>\n\n  <div class="modal_content" olive-modal-content>\n    <form name="documentRetentionForm">\n      <div class="form-group cb" ui-cfr ui-hint ui-models="[documentRetentionCtrl.settings.documentRetentionMetadata]">\n        <input class="cb_input" type="checkbox" id="document-retention-always"\n               data-qa="security_settings_document_retention_always_retain_cb"\n               ng-model="documentRetentionCtrl.alwaysKeepDocuments">\n        <label class="cb_label" for="document-retention-always"\n               data-qa="security_settings_document_retention_always_retain_cb_lbl"\n               translate="Always retain documents from completed envelopes"\n               setting-key-map="DocumentRetention">\n        </label>\n      </div>\n\n      <div class="form-group" ui-cfr ui-hint\n           ui-models="[documentRetentionCtrl.settings.documentRetentionMetadata, documentRetentionCtrl.settings.documentRetentionDurationMetadata]">\n        <label class="label" for="document-retention-duration"\n               translate="Number of days to retain documents from completed envelopes:">\n        </label>\n        <input type="text" class="input-text input-number" id="document-retention-duration"\n               data-qa="security_settings_document_retention_duration_txtb"\n               required ds-valid="integer" ds-valid-min="0" ds-valid-max="9999"\n               ng-model="documentRetentionCtrl.documentRetentionDuration">\n      </div>\n\n      <div class="form-group cb" ui-cfr ui-hint\n           ui-models="[documentRetentionCtrl.settings.documentRetentionMetadata]">\n        <input class="cb_input" type="checkbox" id="document-retention-purge-tabs"\n               data-qa="security_settings_document_retention_remove_data_cb"\n               ng-model="documentRetentionCtrl.settings.documentRetentionPurgeTabs">\n        <label class="cb_label" for="document-retention-purge-tabs"\n               data-qa="security_settings_document_retention_remove_data_cb_lbl"\n               translate="Remove metadata, including DocuSign fields, attachments, etc." setting-key-map="DocumentRetentionPurgeTabs">\n        </label>\n      </div>\n    </form>\n  </div>\n\n  <div class="modal_footer" olive-modal-footer\n       ds-ackbar="documentRetentionForm"\n       ds-ackbar-modal="true"\n       ds-ackbar-save="documentRetentionCtrl.saveDocumentRetention(securitySettingsForm)"\n       ds-ackbar-cancel="documentRetentionCtrl.cancelDocumentRetention(securitySettingsForm)">\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(75);t.NOT_SET="Not Set",t.NOT_AVAILABLE="not-available",t.AVAILABLE="available",t.EDITABLE="editable";var i=function(){function e(e,n,a,i,s,o,r){var l=this;this._=e,this._appUser=n,this._dsAccount=a,this._$scope=i,this._oliveModal=s,this._dsNotification=o,this._$translate=r,this.settings={documentRetention:t.NOT_SET,documentRetentionPurgeTabs:!1,documentRetentionMetadata:null,documentRetentionDurationMetadata:null},this.alwaysKeepDocuments=!0,this.saveDocumentRetention=function(){var e={title:l._$translate.instant("Confirm Document Retention Policy"),text:l._$translate.instant("Setting a document retention period will cause each envelope within the account to be purged at the end of the period, as measured from the date the envelope is completed, voided or declined."),completeLabel:l._$translate.instant("Confirm"),escapeLabel:l._$translate.instant("Cancel"),completeFunction:l.saveConfirmedDocumentRetention};l._oliveModal.confirmationModal(e)},this.saveConfirmedDocumentRetention=function(){l.alwaysKeepDocuments?l.settings.documentRetention="-1":l.settings.documentRetention=l.documentRetentionDuration.toString(),l._dsAccount.updateSettings(l._appUser.getCurrentAccountId(),l.settings).then(function(){l._dsNotification.show({msg:l._$translate.instant("Saved Successfully!"),type:"success"}),l._appUser.refreshAccountSettings(),l._oliveModal.closeAllModals()},function(){l._$scope.documentRetentionModal.addMessage(l._$translate.instant("An error occurred!"),void 0,"error")})},this.cancelDocumentRetention=function(){l._initDocumentRetention(),l._oliveModal.closeAllModals()},this._$scope.$watch(function(){return this.alwaysKeepDocuments}.bind(this),function(e){this.settings.documentRetentionDurationMetadata.uiHint=e?t.NOT_AVAILABLE:t.AVAILABLE,this.documentRetentionDuration=e?0:this._.isNumber(this.settings.documentRetention)?this.settings.documentRetention:void 0}.bind(this)),this._initDocumentRetention()}return e.prototype._initDocumentRetention=function(){var e=this;this._appUser.currentAccountInfo.settingsRetrieved.then(function(){e.settings=e._.pick(e._appUser.currentAccountInfo.settings,e._.keys(e.settings)),e.settings.documentRetention===t.NOT_SET?e.alwaysKeepDocuments=!0:(e.alwaysKeepDocuments=!1,e.documentRetentionDuration=e.settings.documentRetention),e.settings.documentRetentionDurationMetadata={rights:t.EDITABLE,uiHint:e.alwaysKeepDocuments?t.NOT_AVAILABLE:t.AVAILABLE}})},e}();a.SecuritySettingsModule.controller("DocumentRetentionModalController",["lodash","appUser","dsAccount","$scope","oliveModal","dsNotification","$translate",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){function e(e,t,n,a,i,s){this.oliveMessage=e,this.dsAccount=t,this.appUser=n,this.$translate=a,this._=i,this.util=s,this.remindersSettings={writeReminderToEnvelopeHistory:!1,writeReminderToEnvelopeHistoryMetadata:null,allowReminders:!1,allowRemindersMetadata:null,accountNotification:{userOverrideEnabled:!1,reminders:{reminderEnabled:!1,reminderDelay:0,reminderFrequency:0},expirations:{expireEnabled:!1,expireAfter:1,expireWarn:0}}},this._updateDisplayedSettings()}return e.prototype.save=function(e){var t=this,n=this.util.updatedSettings(this.savedSettings,this.remindersSettings);this.dsAccount.updateSettings(this.appUser.getCurrentAccountId(),n).then(function(){return t.appUser.refreshAccountSettings()}).then(function(){return t._updateDisplayedSettings.call(t,e)}).then(function(){t.oliveMessage.show(t.$translate.instant("Saved Successfully!"),"saveSettingsSuccess","success")}).catch(function(){t.oliveMessage.show(t.$translate.instant("There is an error. Please try again in a moment."),"saveSettingsError","error")})},e.prototype.cancel=function(e){this._updateDisplayedSettings(e)},e.prototype.allowReminderSettings=function(e){return{rights:this.remindersSettings.accountNotification.reminders.reminderEnabled?"editable":"read_only",uiHint:e?e.uiHint:"available"}},e.prototype.changeSendAutoReminder=function(){this.remindersSettings.accountNotification.reminders.reminderEnabled||(this.remindersSettings.accountNotification.reminders.reminderDelay=this.savedSettings.accountNotification.reminders.reminderDelay,this.remindersSettings.accountNotification.reminders.reminderFrequency=this.savedSettings.accountNotification.reminders.reminderFrequency)},e.prototype.validateReminderDays=function(){var e=this;return function(t){return!e.remindersSettings.accountNotification.reminders.reminderEnabled||function(e){var t=parseInt(e);return!isNaN(e)&&parseInt(e)===t&&t.toString()===e.toString()&&t>0&&t<1e3}(t)}},e.prototype._updateDisplayedSettings=function(e){var t=this;return this.appUser.currentAccountInfo.settingsRetrieved.then(function(){t._.merge(t.remindersSettings,t._.pick(t.appUser.currentAccountInfo.settings,t._.keys(t.remindersSettings))),t.savedSettings=t._.cloneDeep(t.remindersSettings),e&&e.$setPristine()})},e}();a.RADminControllers.controller("RemindersSettingsController",["dsNotification","dsAccount","appUser","$translate","lodash","RADminUtil",i])},function(e,t){var n="reminders and expirations/reminders.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="reminders site-main" ng-controller="RemindersSettingsController as reminder" ds-form>\n  <div class="section">\n    <h1 class="header-title" translate="Reminders and Expiration"></h1>\n    <div class="header-description"\n         translate="Set default reminders and expiration behavior for all envelopes sent from this account."></div>\n    <div class="header-actions" ds-ackbar="remindersForm" ds-ackbar-save="reminder.save(remindersForm)"\n         ds-ackbar-cancel="reminder.cancel(remindersForm)"></div>\n  </div>\n  <form name="remindersForm" class="section reminders">\n    <div class="header-title"\n        ng-if="reminder.remindersSettings.writeReminderToEnvelopeHistoryMetadata.uiHint === \'available\'">\n      <h2 translate="Envelope History"></h2>\n    </div>\n    <div class="form_unit"\n        ng-if="reminder.remindersSettings.writeReminderToEnvelopeHistoryMetadata.uiHint === \'available\'">\n      <div class="inline-input cb" ui-hint ui-cfr\n          ui-models="[reminder.remindersSettings.writeReminderToEnvelopeHistoryMetadata]">\n        <input class="cb_input" type="checkbox" id="envelope-history-enabled"\n               ng-model="reminder.remindersSettings.writeReminderToEnvelopeHistory"\n               data-qa="envelope_history_allow_users_to_save_reminders_to_envelope_history_cb">\n        <label class="cb_label" for="envelope-history-enabled" data-qa="envelope_history_allow_users_to_save_reminders_to_envelope_history_cb_lbl"\n               translate="Add reminder events to envelope history"></label>\n      </div>\n    </div>\n    <div class="header-title">\n      <h2 translate="Reminders and Expiration"></h2>\n    </div>\n    <div class="form_unit">\n      <div class="inline-input cb">\n        <input class="cb_input" type="checkbox" id="reminders-override"\n               ng-model="reminder.remindersSettings.accountNotification.userOverrideEnabled"\n               data-qa="reminders_allow_users_to_override_settings_cb">\n        <label class="cb_label" for="reminders-override" data-qa="reminders_allow_users_to_override_settings_cb_lbl"\n               translate="Allow senders to override account defaults" setting-key-map="UserOverrideEnabled"></label>\n      </div>\n    </div>\n    <div class="m-left-medium">\n      <div>\n        <div>\n          <h3 translate="Reminders"></h3>\n        </div>\n        <div class="form_unit">\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[reminder.remindersSettings.allowRemindersMetadata]">\n            <input class="cb_input" type="checkbox" id="reminders-enabled"\n                   ng-model="reminder.remindersSettings.accountNotification.reminders.reminderEnabled"\n                   ng-click="reminder.changeSendAutoReminder()"\n                   data-qa="reminders_send_auto_reminders_cb">\n            <label class="cb_label" for="reminders-enabled" data-qa="reminders_send_auto_reminders_cb_lbl"\n                   translate="Send automatic reminders" setting-key-map="AllowReminders"></label>\n          </div>\n        </div>\n        <div class="form_unit" ui-cfr ui-hint\n             ui-models="[reminder.allowReminderSettings(reminder.remindersSettings.allowRemindersMetadata)]">\n          <label for="reminder-delay-in-days" translate="Days before sending first reminder:" setting-key-map="ReminderDelay"></label>\n          <input type="text" class="input-text input-xxs input-inline" ds-valid="function"\n                 ds-valid-function="reminder.validateReminderDays()" id="reminder-delay-in-days"\n                 ng-model="reminder.remindersSettings.accountNotification.reminders.reminderDelay"\n                 data-qa="reminders_num_days_before_send_first_reminder_txtb" />\n        </div>\n        <div class="form_unit" ui-cfr ui-hint\n             ui-models="[reminder.allowReminderSettings(reminder.remindersSettings.allowRemindersMetadata)]">\n          <label for="reminder-frequency-in-days" translate="Days between reminders:" setting-key-map="ReminderFrequency"></label>\n          <input type="text" class="input-text input-xxs input-inline" required ds-valid="integer" ds-valid-min="0"\n                 ds-valid-max="999" id="reminder-frequency-in-days"\n                 ng-model="reminder.remindersSettings.accountNotification.reminders.reminderFrequency"\n                 data-qa="reminders_num_days_between_reminders_txtb" />\n        </div>\n      </div>\n      <div>\n        <h3 translate="Expiration"></h3>\n        <div class="form_unit">\n          <label for="expire-after-in-days" translate="Days before request expires:" setting-key-map="ExpireAfter"></label>\n          <input type="text" class="input-text input-xxs input-inline"\n                 ui-cfr ui-hint ui-models="[reminder.remindersSettings.allowRemindersMetadata]"\n                 ds-valid="integer"\n                 ds-valid-min="1"\n                 ds-valid-max="999"\n                 id="expire-after-in-days"\n                 ng-model="reminder.remindersSettings.accountNotification.expirations.expireAfter"\n                 data-qa="reminders_num_days_before_request_expires_txtb" />\n        </div>\n        <div class="form_unit">\n          <label for="expire-warn-in-days" translate="Days to warn signers before expiration:" setting-key-map="ExpireWarn"></label>\n          <input type="text" class="input-text input-xxs input-inline" required ds-valid="integer"\n                 ui-cfr ui-hint ui-models="[reminder.remindersSettings.allowRemindersMetadata]"\n                 ds-valid-min="0"\n                 ds-valid-max="{{reminder.remindersSettings.accountNotification.expirations.expireAfter}}"\n                 id="expire-warn-in-days" ng-model="reminder.remindersSettings.accountNotification.expirations.expireWarn"\n                 data-qa="reminders_num_days_to_warn_user_before_expiration_txtb" />\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class="section">\n    <div class="header-actions" ds-ackbar="remindersForm" ds-ackbar-save="reminder.save(remindersForm)"\n         ds-ackbar-cancel="reminder.cancel(remindersForm)"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(29);a.RADminControllers.controller("RegionalSettingsController",["$scope","$q","dsNotification","dsAccount","dsModals","appUser","$translate","lodash",function(e,t,n,a,r,l,c){function d(){l.currentAccountInfo.settingsRetrieved.then(function(){_.merge(e.regionalSettings.settings,_.pick(l.currentAccountInfo.settings,_.keys(e.regionalSettings.settings))),e.showAccountDateTimeFormat=null!==e.regionalSettings.settings.accountDateTimeFormat,l.currentAccountInfo.userInformationRetrieved.then(function(){var t=l.currentAccountInfo.userInformation.userSettings.timezoneOffset;if(!_.isEmpty(t)&&t.match(/^tz_\d*/)){var n=t.slice(3);e.timezoneOffSet=_.find([{index:1,display:"(UTC+04:30) Kabul",utcOffset:"4.5",name:"Afghanistan Standard Time",key:"TZ_01_AfghanistanStandardTime"},{index:2,display:"(UTC-09:00) Alaska",utcOffset:"-9",name:"Alaskan Standard Time",key:"TZ_02_AlaskanStandardTime"},{index:3,display:"(UTC+03:00) Kuwait, Riyadh",utcOffset:"3",name:"Arab Standard Time",key:"TZ_03_ArabStandardTime"},{index:4,display:"(UTC+04:00) Abu Dhabi, Muscat",utcOffset:"4",name:"Arabian Standard Time",key:"TZ_04_ArabianStandardTime"},{index:5,display:"(UTC+03:00) Baghdad",utcOffset:"3",name:"Arabic Standard Time",key:"TZ_05_ArabicStandardTime"},{index:6,display:"(UTC-03:00) Buenos Aires",utcOffset:"-3",name:"Argentina Standard Time",key:"TZ_06_ArgentinaStandardTime"},{index:7,display:"(UTC-04:00) Atlantic Time (Canada)",utcOffset:"-4",name:"Atlantic Standard Time",key:"TZ_07_AtlanticStandardTime"},{index:8,display:"(UTC+09:30) Darwin",utcOffset:"9.5",name:"AUS Central Standard Time",key:"TZ_08_AUS_CentralStandardTime"},{index:9,display:"(UTC+10:00) Canberra, Melbourne, Sydney",utcOffset:"10",name:"AUS Eastern Standard Time",key:"TZ_09_AUS_EasternStandardTime"},{index:10,display:"(UTC+04:00) Baku",utcOffset:"4",name:"Azerbaijan Standard Time",key:"TZ_10_AzerbaijanStandardTime"},{index:11,display:"(UTC-01:00) Azores",utcOffset:"-1",name:"Azores Standard Time",key:"TZ_11_AzoresStandardTime"},{index:12,display:"(UTC+06:00) Dhaka",utcOffset:"6",name:"Bangladesh Standard Time",key:"TZ_12_BangladeshStandardTime"},{index:13,display:"(UTC-06:00) Saskatchewan",utcOffset:"-6",name:"Canada Central Standard Time",key:"TZ_13_CanadaCentralStandardTime"},{index:14,display:"(UTC-01:00) Cape Verde Is.",utcOffset:"-1",name:"Cape Verde Standard Time",key:"TZ_14_CapeVerdeStandardTime"},{index:15,display:"(UTC+04:00) Yerevan",utcOffset:"4",name:"Caucasus Standard Time",key:"TZ_15_CaucasusStandardTime"},{index:16,display:"(UTC+09:30) Adelaide",utcOffset:"9.5",name:"Cen. Australia Standard Time",key:"TZ_16_CentralAustraliaStandardTime"},{index:17,display:"(UTC-06:00) Central America",utcOffset:"-6",name:"Central America Standard Time",key:"TZ_17_CentralAmericaStandardTime"},{index:18,display:"(UTC+06:00) Astana",utcOffset:"6",name:"Central Asia Standard Time",key:"TZ_18_CentralAsiaStandardTime"},{index:19,display:"(UTC-04:00) Cuiaba",utcOffset:"-4",name:"Central Brazilian Standard Time",key:"TZ_19_CentralBrazilianStandardTime"},{index:20,display:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utcOffset:"1",name:"Central Europe Standard Time",key:"TZ_20_CentralEuropeStandardTime"},{index:21,display:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utcOffset:"1",name:"Central European Standard Time",key:"TZ_21_CentralEuropeanStandardTime"},{index:22,display:"(UTC+11:00) Solomon Is., New Caledonia",utcOffset:"11",name:"Central Pacific Standard Time",key:"TZ_22_CentralPacificStandardTime"},{index:23,display:"(UTC-06:00) Central Time (US & Canada)",utcOffset:"-6",name:"Central Standard Time",key:"TZ_23_CentralStandardTime"},{index:24,display:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utcOffset:"-6",name:"Central Standard Time (Mexico)",key:"TZ_24_CentralStandardTimeMexico"},{index:25,display:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utcOffset:"8",name:"China Standard Time",key:"TZ_25_ChinaStandardTime"},{index:26,display:"(UTC-12:00) International Date Line West",utcOffset:"-12",name:"Dateline Standard Time",key:"TZ_26_DatelineStandardTime"},{index:27,display:"(UTC+03:00) Nairobi",utcOffset:"3",name:"E. Africa Standard Time",key:"TZ_27_E_AfricaStandardTime"},{index:28,display:"(UTC+10:00) Brisbane",utcOffset:"10",name:"E. Australia Standard Time",key:"TZ_28_E_AustraliaStandardTime"},{index:29,display:"(UTC+03:00) Minsk",utcOffset:"3",name:"E. Europe Standard Time",key:"TZ_29_E_EuropeStandardTime"},{index:30,display:"(UTC-03:00) Brasilia",utcOffset:"-3",name:"E. South America Standard Time",key:"TZ_30_E_SouthAmericaStandardTime"},{index:31,display:"(UTC-05:00) Eastern Time (US & Canada)",utcOffset:"-5",name:"Eastern Standard Time",key:"TZ_31_EasternStandardTime"},{index:32,display:"(UTC+02:00) Cairo",utcOffset:"2",name:"Egypt Standard Time",key:"TZ_32_EgyptStandardTime"},{index:33,display:"(UTC+05:00) Ekaterinburg (RTZ 4)",utcOffset:"5",name:"Ekaterinburg Standard Time",key:"TZ_33_EkaterinburgStandardTime"},{index:34,display:"(UTC+12:00) Fiji",utcOffset:"12",name:"Fiji Standard Time",key:"TZ_34_FijiStandardTime"},{index:35,display:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utcOffset:"2",name:"FLE Standard Time",key:"TZ_35_FLE_StandardTime"},{index:36,display:"(UTC+04:00) Tbilisi",utcOffset:"4",name:"Georgian Standard Time",key:"TZ_36_GeorgianStandardTime"},{index:37,display:"(UTC) Dublin, Edinburgh, Lisbon, London",utcOffset:"0",name:"GMT Standard Time",key:"TZ_37_GMT_StandardTime"},{index:38,display:"(UTC-03:00) Greenland",utcOffset:"-3",name:"Greenland Standard Time",key:"TZ_38_GreenlandStandardTime"},{index:39,display:"(UTC) Monrovia, Reykjavik",utcOffset:"0",name:"Greenwich Standard Time",key:"TZ_39_GreenwichStandardTime"},{index:40,display:"(UTC+02:00) Athens, Bucharest",utcOffset:"2",name:"GTB Standard Time",key:"TZ_40_GTB_StandardTime"},{index:41,display:"(UTC-10:00) Hawaii",utcOffset:"-10",name:"Hawaiian Standard Time",key:"TZ_41_HawaiianStandardTime"},{index:42,display:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utcOffset:"5.5",name:"India Standard Time",key:"TZ_42_IndiaStandardTime"},{index:43,display:"(UTC+03:30) Tehran",utcOffset:"3.5",name:"Iran Standard Time",key:"TZ_43_IranStandardTime"},{index:44,display:"(UTC+02:00) Jerusalem",utcOffset:"2",name:"Israel Standard Time",key:"TZ_44_IsraelStandardTime"},{index:45,display:"(UTC+02:00) Amman",utcOffset:"2",name:"Jordan Standard Time",key:"TZ_45_JordanStandardTime"},{index:46,display:"(UTC+02:00) Kaliningrad (RTZ 1)",utcOffset:"2",name:"Kaliningrad Standard Time",key:"TZ_46_KaliningradStandardTime"},{index:47,display:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utcOffset:"12",name:"Kamchatka Standard Time",key:"TZ_47_KamchatkaStandardTime"},{index:48,display:"(UTC+09:00) Seoul",utcOffset:"9",name:"Korea Standard Time",key:"TZ_48_KoreaStandardTime"},{index:49,display:"(UTC+10:00) Magadan",utcOffset:"10",name:"Magadan Standard Time",key:"TZ_49_MagadanStandardTime"},{index:50,display:"(UTC+04:00) Port Louis",utcOffset:"4",name:"Mauritius Standard Time",key:"TZ_50_MauritiusStandardTime"},{index:51,display:"(UTC-02:00) Mid-Atlantic - Old",utcOffset:"-2",name:"Mid-Atlantic Standard Time",key:"TZ_51_MidAtlanticStandardTime"},{index:52,display:"(UTC+02:00) Beirut",utcOffset:"2",name:"Middle East Standard Time",key:"TZ_52_MiddleEastStandardTime"},{index:53,display:"(UTC-03:00) Montevideo",utcOffset:"-3",name:"Montevideo Standard Time",key:"TZ_53_MontevideoStandardTime"},{index:54,display:"(UTC) Casablanca",utcOffset:"0",name:"Morocco Standard Time",key:"TZ_54_MoroccoStandardTime"},{index:55,display:"(UTC-07:00) Mountain Time (US & Canada)",utcOffset:"-7",name:"Mountain Standard Time",key:"TZ_55_MountainStandardTime"},{index:56,display:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utcOffset:"-7",name:"Mountain Standard Time (Mexico)",key:"TZ_56_MountainStandardTimeMMexico"},{index:57,display:"(UTC+06:30) Yangon (Rangoon)",utcOffset:"6.5",name:"Myanmar Standard Time",key:"TZ_57_MyanmarStandardTime"},{index:58,display:"(UTC+06:00) Novosibirsk (RTZ 5)",utcOffset:"6",name:"N. Central Asia Standard Time",key:"TZ_58_N_CentralAsiaStandardTime"},{index:59,display:"(UTC+01:00) Windhoek",utcOffset:"1",name:"Namibia Standard Time",key:"TZ_59_NamibiaStandardTime"},{index:60,display:"(UTC+05:45) Kathmandu",utcOffset:"5.75",name:"Nepal Standard Time",key:"TZ_60_NepalStandardTime"},{index:61,display:"(UTC+12:00) Auckland, Wellington",utcOffset:"12",name:"New Zealand Standard Time",key:"TZ_61_NewZealandStandardTime"},{index:62,display:"(UTC-03:30) Newfoundland",utcOffset:"-3.5",name:"Newfoundland Standard Time",key:"TZ_62_NewfoundlandStandardTime"},{index:63,display:"(UTC+08:00) Irkutsk (RTZ 7)",utcOffset:"8",name:"North Asia East Standard Time",key:"TZ_63_NorthAsiaEastStandardTime"},{index:64,display:"(UTC+07:00) Krasnoyarsk (RTZ 6)",utcOffset:"7",name:"North Asia Standard Time",key:"TZ_64_NorthAsiaStandardTime"},{index:65,display:"(UTC-04:00) Santiago",utcOffset:"-4",name:"Pacific SA Standard Time",key:"TZ_65_PacificSAStandardTime"},{index:66,display:"(UTC-08:00) Pacific Time (US & Canada)",utcOffset:"-8",name:"Pacific Standard Time",key:"TZ_66_PacificStandardTime"},{index:67,display:"(UTC-08:00) Baja California",utcOffset:"-8",name:"Pacific Standard Time (Mexico)",key:"TZ_67_PacificStandardTimeMexico"},{index:68,display:"(UTC+05:00) Islamabad, Karachi",utcOffset:"5",name:"Pakistan Standard Time",key:"TZ_68_PakistanStandardTime"},{index:69,display:"(UTC-04:00) Asuncion",utcOffset:"-4",name:"Paraguay Standard Time",key:"TZ_69_ParaguayStandardTime"},{index:70,display:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utcOffset:"1",name:"Romance Standard Time",key:"TZ_70_RomanceStandardTime"},{index:71,display:"(UTC+03:00) Moscow, St. Petersburg, Volgograd (RTZ 2)",utcOffset:"3",name:"Russian Standard Time",key:"TZ_71_RussianStandardTime"},{index:72,display:"(UTC-03:00) Cayenne, Fortaleza",utcOffset:"-3",name:"SA Eastern Standard Time",key:"TZ_72_SAEasternStandardTime"},{index:73,display:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",utcOffset:"-5",name:"SA Pacific Standard Time",key:"TZ_73_SAPacificStandardTime"},{index:74,display:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utcOffset:"-4",name:"SA Western Standard Time",key:"TZ_74_SAWesternStandardTime"},{index:75,display:"(UTC+13:00) Samoa",utcOffset:"13",name:"Samoa Standard Time",key:"TZ_75_SamoaStandardTime"},{index:76,display:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utcOffset:"7",name:"SE Asia Standard Time",key:"TZ_76_SE_AsiaStandardTime"},{index:77,display:"(UTC+08:00) Kuala Lumpur, Singapore",utcOffset:"8",name:"Singapore Standard Time",key:"TZ_77_SingaporeStandardTime"},{index:78,display:"(UTC+02:00) Harare, Pretoria",utcOffset:"2",name:"South Africa Standard Time",key:"TZ_78_SouthAfricaStandardTime"},{index:79,display:"(UTC+05:30) Sri Jayawardenepura",utcOffset:"5.5",name:"Sri Lanka Standard Time",key:"TZ_79_SriLankaStandardTime"},{index:80,display:"(UTC+02:00) Damascus",utcOffset:"2",name:"Syria Standard Time",key:"TZ_80_SyriaStandardTime"},{index:81,display:"(UTC+08:00) Taipei",utcOffset:"8",name:"Taipei Standard Time",key:"TZ_81_TaipeiStandardTime"},{index:82,display:"(UTC+10:00) Hobart",utcOffset:"10",name:"Tasmania Standard Time",key:"TZ_82_TasmaniaStandardTime"},{index:83,display:"(UTC+09:00) Osaka, Sapporo, Tokyo",utcOffset:"9",name:"Tokyo Standard Time",key:"TZ_83_TokyoStandardTime"},{index:84,display:"(UTC+13:00) Nuku'alofa",utcOffset:"13",name:"Tonga Standard Time",key:"TZ_84_TongaStandardTime"},{index:85,display:"(UTC+02:00) Istanbul",utcOffset:"2",name:"Turkey Standard Time",key:"TZ_85_TurkeyStandardTime"},{index:86,display:"(UTC+08:00) Ulaanbaatar",utcOffset:"8",name:"Ulaanbaatar Standard Time",key:"TZ_86_UlaanbaatarStandardTime"},{index:87,display:"(UTC-05:00) Indiana (East)",utcOffset:"-5",name:"US Eastern Standard Time",key:"TZ_87_US_EasternStandardTime"},{index:88,display:"(UTC-07:00) Arizona",utcOffset:"-7",name:"US Mountain Standard Time",key:"TZ_88_USMountainStandardTime"},{index:89,display:"(UTC-04:30) Caracas",utcOffset:"-4.5",name:"Venezuela Standard Time",key:"TZ_89_VenezuelaStandardTime"},{index:90,display:"(UTC+10:00) Vladivostok, Magadan (RTZ 9)",utcOffset:"10",name:"Vladivostok Standard Time",key:"TZ_90_VladivostokStandardTime"},{index:91,display:"(UTC+08:00) Perth",utcOffset:"8",name:"W. Australia Standard Time",key:"TZ_91_W_AustraliaStandardTime"},{index:92,display:"(UTC+01:00) West Central Africa",utcOffset:"1",name:"W. Central Africa Standard Time",key:"TZ_92_W_CentralAfricaStandardTime"},{index:93,display:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utcOffset:"1",name:"Central Europe Standard Time",key:"TZ_93_W_EuropeStandardTime"},{index:94,display:"(UTC+05:00) Ashgabat, Tashkent",utcOffset:"5",name:"West Asia Standard Time",key:"TZ_94_WestAsiaStandardTime"},{index:95,display:"(UTC+10:00) Guam, Port Moresby",utcOffset:"10",name:"West Pacific Standard Time",key:"TZ_95_WestPacificStandardTime"},{index:96,display:"(UTC+09:00) Yakutsk (RTZ 8)",utcOffset:"9",name:"Yakutsk Standard Time",key:"TZ_96_YakutskStandardTime"}],{index:parseInt(n)}).display}e.locale=l.currentAccountInfo.userInformation.userSettings.locale,e.showAccountDateTimeFormat&&(e.regionalSettings.settings.accountDateTimeFormat=u(e.regionalSettings.settings.accountDateTimeFormat),e.dateTimeFormatList=function(e,t){var n=[{key:"Default",format:{_:"M/D/YYYY | hh:mm:ss a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MM-dd-yyyy | HH:mm",format:{_:"MM-DD-YYYY | HH:mm"}},{key:"MM/dd/yyyy | HH:mm",format:{_:"MM/DD/YYYY | HH:mm"}},{key:"M/d/yyyy | hh:mm a",format:{_:"M/D/YYYY | hh:mm a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MMM-dd-yyyy | HH:mm",format:{_:"MMM-DD-YYYY | HH:mm",zh_CN:"M-DD-YYYY | HH:mm",zh_TW:"M-DD-YYYY | HH:mm",ja:"M-DD-YYYY | HH:mm",ko:"M-DD-YYYY | HH:mm"}},{key:"MMM d, yyyy | HH:mm",format:{_:"MMM D, YYYY | HH:mm",zh_CN:"M D, YYYY | HH:mm",zh_TW:"M D, YYYY | HH:mm",ja:"M D, YYYY | HH:mm",ko:"M D, YYYY | HH:mm"}},{key:"MMMM d, yyyy | HH:mm",format:{_:"MMMM D, YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}},{key:"d/M/yyyy | HH:mm",format:{_:"D/M/YYYY | HH:mm"}},{key:"dd-MM-yy | HH:mm",format:{_:"DD-MM-YY | HH:mm"}},{key:"dd-MM-yyyy | HH:mm",format:{_:"DD-MM-YYYY | HH:mm"}},{key:"dd-MMM-yy | HH:mm",format:{_:"DD-MMM-YY | HH:mm",zh_CN:"DD-M-YY | HH:mm",zh_TW:"DD-M-YY | HH:mm",ja:"DD-M-YY | HH:mm",ko:"DD-M-YY | HH:mm"}},{key:"dd-MMM-yyyy | HH:mm",format:{_:"DD-MMM-YYYY | HH:mm",zh_CN:"DD-M-YYYY | HH:mm",zh_TW:"DD-M-YYYY | HH:mm",ja:"DD-M-YYYY | HH:mm",ko:"DD-M-YYYY | HH:mm"}},{key:"dd MMMM yyyy | HH:mm",format:{_:"DD MMMM YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm"}},{key:"yyyy-MM-dd | HH:mm",format:{_:"YYYY-MM-DD | HH:mm"}},{key:"yyyy-MMM-dd | HH:mm",format:{_:"YYYY-MMM-DD | HH:mm",zh_CN:"YYYY-M-DD | HH:mm",zh_TW:"YYYY-M-DD | HH:mm",ja:"YYYY-M-DD | HH:mm",ko:"YYYY-M-DD | HH:mm"}},{key:"yyyy/MM/dd | HH:mm",format:{_:"YYYY/MM/DD | HH:mm"}},{key:"yyyy MMMM d | HH:mm",format:{_:"YYYY MMMM D | HH:mm"}},{key:"LongFormat | HH:mm",format:{_:"LL | HH:mm",en:"MMMM D, YYYY | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}}];"LongFormat | HH:mm"!==t&&_.includes(["nl","fr","it","en"],e)&&(n=_.reject(n,{key:"LongFormat | HH:mm"}));return _.map(n,function(t){return{key:t.key,format:t.format[e]||t.format._}})}(e.locale,e.regionalSettings.settings.accountDateTimeFormat),e.dateTimeFormatList.forEach(function(e){e.resolved=i("2018-04-27 16:00").format(e.format)}));var a=l.currentAccountInfo.userInformation.userSettings.timezoneMask;if(a=u(a),!_.isEmpty(a)){var s=_.find([{key:"Default",format:{_:"M/D/YYYY | hh:mm:ss a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MM-dd-yyyy | HH:mm",format:{_:"MM-DD-YYYY | HH:mm"}},{key:"MM/dd/yyyy | HH:mm",format:{_:"MM/DD/YYYY | HH:mm"}},{key:"M/d/yyyy | hh:mm a",format:{_:"M/D/YYYY | hh:mm a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MMM-dd-yyyy | HH:mm",format:{_:"MMM-DD-YYYY | HH:mm",zh_CN:"M-DD-YYYY | HH:mm",zh_TW:"M-DD-YYYY | HH:mm",ja:"M-DD-YYYY | HH:mm",ko:"M-DD-YYYY | HH:mm"}},{key:"MMM d, yyyy | HH:mm",format:{_:"MMM D, YYYY | HH:mm",zh_CN:"M D, YYYY | HH:mm",zh_TW:"M D, YYYY | HH:mm",ja:"M D, YYYY | HH:mm",ko:"M D, YYYY | HH:mm"}},{key:"MMMM d, yyyy | HH:mm",format:{_:"MMMM D, YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}},{key:"d/M/yyyy | HH:mm",format:{_:"D/M/YYYY | HH:mm"}},{key:"dd-MM-yy | HH:mm",format:{_:"DD-MM-YY | HH:mm"}},{key:"dd-MM-yyyy | HH:mm",format:{_:"DD-MM-YYYY | HH:mm"}},{key:"dd-MMM-yy | HH:mm",format:{_:"DD-MMM-YY | HH:mm",zh_CN:"DD-M-YY | HH:mm",zh_TW:"DD-M-YY | HH:mm",ja:"DD-M-YY | HH:mm",ko:"DD-M-YY | HH:mm"}},{key:"dd-MMM-yyyy | HH:mm",format:{_:"DD-MMM-YYYY | HH:mm",zh_CN:"DD-M-YYYY | HH:mm",zh_TW:"DD-M-YYYY | HH:mm",ja:"DD-M-YYYY | HH:mm",ko:"DD-M-YYYY | HH:mm"}},{key:"dd MMMM yyyy | HH:mm",format:{_:"DD MMMM YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm"}},{key:"yyyy-MM-dd | HH:mm",format:{_:"YYYY-MM-DD | HH:mm"}},{key:"yyyy-MMM-dd | HH:mm",format:{_:"YYYY-MMM-DD | HH:mm",zh_CN:"YYYY-M-DD | HH:mm",zh_TW:"YYYY-M-DD | HH:mm",ja:"YYYY-M-DD | HH:mm",ko:"YYYY-M-DD | HH:mm"}},{key:"yyyy/MM/dd | HH:mm",format:{_:"YYYY/MM/DD | HH:mm"}},{key:"yyyy MMMM d | HH:mm",format:{_:"YYYY MMMM D | HH:mm"}},{key:"LongFormat | HH:mm",format:{_:"LL | HH:mm",en:"MMMM D, YYYY | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}}],{key:a}).format[e.locale];_.isEmpty(s)&&(s=_.find([{key:"Default",format:{_:"M/D/YYYY | hh:mm:ss a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MM-dd-yyyy | HH:mm",format:{_:"MM-DD-YYYY | HH:mm"}},{key:"MM/dd/yyyy | HH:mm",format:{_:"MM/DD/YYYY | HH:mm"}},{key:"M/d/yyyy | hh:mm a",format:{_:"M/D/YYYY | hh:mm a",de:"DD.MM.YYYY | HH:mm",es:"DD/MM/YYYY | HH:mm",ru:"DD.MM.YYYY | HH:mm",fr:"DD/MM/YYYY | HH:mm",it:"DD/MM/YYYY | HH:mm",nl:"DD/MM/YYYY | HH:mm",pt_BR:"DD/MM/YYYY | HH:mm",pt:"DD/MM/YYYY | HH:mm",zh_CN:"YYYY/M/D | HH:mm",zh_TW:"YYYY/M/D | HH:mm",ja:"YYYY/M/D | HH:mm",ko:"YYYY/M/D | HH:mm"}},{key:"MMM-dd-yyyy | HH:mm",format:{_:"MMM-DD-YYYY | HH:mm",zh_CN:"M-DD-YYYY | HH:mm",zh_TW:"M-DD-YYYY | HH:mm",ja:"M-DD-YYYY | HH:mm",ko:"M-DD-YYYY | HH:mm"}},{key:"MMM d, yyyy | HH:mm",format:{_:"MMM D, YYYY | HH:mm",zh_CN:"M D, YYYY | HH:mm",zh_TW:"M D, YYYY | HH:mm",ja:"M D, YYYY | HH:mm",ko:"M D, YYYY | HH:mm"}},{key:"MMMM d, yyyy | HH:mm",format:{_:"MMMM D, YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}},{key:"d/M/yyyy | HH:mm",format:{_:"D/M/YYYY | HH:mm"}},{key:"dd-MM-yy | HH:mm",format:{_:"DD-MM-YY | HH:mm"}},{key:"dd-MM-yyyy | HH:mm",format:{_:"DD-MM-YYYY | HH:mm"}},{key:"dd-MMM-yy | HH:mm",format:{_:"DD-MMM-YY | HH:mm",zh_CN:"DD-M-YY | HH:mm",zh_TW:"DD-M-YY | HH:mm",ja:"DD-M-YY | HH:mm",ko:"DD-M-YY | HH:mm"}},{key:"dd-MMM-yyyy | HH:mm",format:{_:"DD-MMM-YYYY | HH:mm",zh_CN:"DD-M-YYYY | HH:mm",zh_TW:"DD-M-YYYY | HH:mm",ja:"DD-M-YYYY | HH:mm",ko:"DD-M-YYYY | HH:mm"}},{key:"dd MMMM yyyy | HH:mm",format:{_:"DD MMMM YYYY | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm"}},{key:"yyyy-MM-dd | HH:mm",format:{_:"YYYY-MM-DD | HH:mm"}},{key:"yyyy-MMM-dd | HH:mm",format:{_:"YYYY-MMM-DD | HH:mm",zh_CN:"YYYY-M-DD | HH:mm",zh_TW:"YYYY-M-DD | HH:mm",ja:"YYYY-M-DD | HH:mm",ko:"YYYY-M-DD | HH:mm"}},{key:"yyyy/MM/dd | HH:mm",format:{_:"YYYY/MM/DD | HH:mm"}},{key:"yyyy MMMM d | HH:mm",format:{_:"YYYY MMMM D | HH:mm"}},{key:"LongFormat | HH:mm",format:{_:"LL | HH:mm",en:"MMMM D, YYYY | HH:mm",de:"DD. MMMM YYYY | HH:mm",es:"DD [de] MMMM [de] YYYY | HH:mm",fr:"D MMMM YYYY | HH:mm",it:"D MMMM YYYY | HH:mm",nl:"D MMMM YYYY | HH:mm",pt_BR:"DD [de] MMMM [de] YYYY | HH:mm",pt:"DD [de] MMMM [de] YYYY | HH:mm",ru:"DD MMMM YYYY [г.] | HH:mm",zh_CN:"YYYY[年]M[月]D[日] | HH:mm",zh_TW:"YYYY[年]M[月]D[日] | HH:mm",ja:"YYYY[年]M[月]D[日] | HH:mm",ko:"YYYY[년]M[월]D[일] | HH:mm"}}],{key:a}).format._),e.currentUserDateTimeFormatSelection=i().format(s)}})})}function u(e){var t=e.replace("hh:mm "+o,"hh:mm "+s);return t.replace("hh:mm:ss "+o,"hh:mm:ss "+s)}e.regionalSettings={settings:{allowMemberTimeZone:null,timezoneOffsetUI:null,accountDateTimeFormat:null,allowMemberTimeZoneMetadata:null,timezoneOffsetUIMetadata:null}},e.timeZoneList=_.sortBy([{index:1,display:"(UTC+04:30) Kabul",utcOffset:"4.5",name:"Afghanistan Standard Time",key:"TZ_01_AfghanistanStandardTime"},{index:2,display:"(UTC-09:00) Alaska",utcOffset:"-9",name:"Alaskan Standard Time",key:"TZ_02_AlaskanStandardTime"},{index:3,display:"(UTC+03:00) Kuwait, Riyadh",utcOffset:"3",name:"Arab Standard Time",key:"TZ_03_ArabStandardTime"},{index:4,display:"(UTC+04:00) Abu Dhabi, Muscat",utcOffset:"4",name:"Arabian Standard Time",key:"TZ_04_ArabianStandardTime"},{index:5,display:"(UTC+03:00) Baghdad",utcOffset:"3",name:"Arabic Standard Time",key:"TZ_05_ArabicStandardTime"},{index:6,display:"(UTC-03:00) Buenos Aires",utcOffset:"-3",name:"Argentina Standard Time",key:"TZ_06_ArgentinaStandardTime"},{index:7,display:"(UTC-04:00) Atlantic Time (Canada)",utcOffset:"-4",name:"Atlantic Standard Time",key:"TZ_07_AtlanticStandardTime"},{index:8,display:"(UTC+09:30) Darwin",utcOffset:"9.5",name:"AUS Central Standard Time",key:"TZ_08_AUS_CentralStandardTime"},{index:9,display:"(UTC+10:00) Canberra, Melbourne, Sydney",utcOffset:"10",name:"AUS Eastern Standard Time",key:"TZ_09_AUS_EasternStandardTime"},{index:10,display:"(UTC+04:00) Baku",utcOffset:"4",name:"Azerbaijan Standard Time",key:"TZ_10_AzerbaijanStandardTime"},{index:11,display:"(UTC-01:00) Azores",utcOffset:"-1",name:"Azores Standard Time",key:"TZ_11_AzoresStandardTime"},{index:12,display:"(UTC+06:00) Dhaka",utcOffset:"6",name:"Bangladesh Standard Time",key:"TZ_12_BangladeshStandardTime"},{index:13,display:"(UTC-06:00) Saskatchewan",utcOffset:"-6",name:"Canada Central Standard Time",key:"TZ_13_CanadaCentralStandardTime"},{index:14,display:"(UTC-01:00) Cape Verde Is.",utcOffset:"-1",name:"Cape Verde Standard Time",key:"TZ_14_CapeVerdeStandardTime"},{index:15,display:"(UTC+04:00) Yerevan",utcOffset:"4",name:"Caucasus Standard Time",key:"TZ_15_CaucasusStandardTime"},{index:16,display:"(UTC+09:30) Adelaide",utcOffset:"9.5",name:"Cen. Australia Standard Time",key:"TZ_16_CentralAustraliaStandardTime"},{index:17,display:"(UTC-06:00) Central America",utcOffset:"-6",name:"Central America Standard Time",key:"TZ_17_CentralAmericaStandardTime"},{index:18,display:"(UTC+06:00) Astana",utcOffset:"6",name:"Central Asia Standard Time",key:"TZ_18_CentralAsiaStandardTime"},{index:19,display:"(UTC-04:00) Cuiaba",utcOffset:"-4",name:"Central Brazilian Standard Time",key:"TZ_19_CentralBrazilianStandardTime"},{index:20,display:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utcOffset:"1",name:"Central Europe Standard Time",key:"TZ_20_CentralEuropeStandardTime"},{index:21,display:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utcOffset:"1",name:"Central European Standard Time",key:"TZ_21_CentralEuropeanStandardTime"},{index:22,display:"(UTC+11:00) Solomon Is., New Caledonia",utcOffset:"11",name:"Central Pacific Standard Time",key:"TZ_22_CentralPacificStandardTime"},{index:23,display:"(UTC-06:00) Central Time (US & Canada)",utcOffset:"-6",name:"Central Standard Time",key:"TZ_23_CentralStandardTime"},{index:24,display:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utcOffset:"-6",name:"Central Standard Time (Mexico)",key:"TZ_24_CentralStandardTimeMexico"},{index:25,display:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utcOffset:"8",name:"China Standard Time",key:"TZ_25_ChinaStandardTime"},{index:26,display:"(UTC-12:00) International Date Line West",utcOffset:"-12",name:"Dateline Standard Time",key:"TZ_26_DatelineStandardTime"},{index:27,display:"(UTC+03:00) Nairobi",utcOffset:"3",name:"E. Africa Standard Time",key:"TZ_27_E_AfricaStandardTime"},{index:28,display:"(UTC+10:00) Brisbane",utcOffset:"10",name:"E. Australia Standard Time",key:"TZ_28_E_AustraliaStandardTime"},{index:29,display:"(UTC+03:00) Minsk",utcOffset:"3",name:"E. Europe Standard Time",key:"TZ_29_E_EuropeStandardTime"},{index:30,display:"(UTC-03:00) Brasilia",utcOffset:"-3",name:"E. South America Standard Time",key:"TZ_30_E_SouthAmericaStandardTime"},{index:31,display:"(UTC-05:00) Eastern Time (US & Canada)",utcOffset:"-5",name:"Eastern Standard Time",key:"TZ_31_EasternStandardTime"},{index:32,display:"(UTC+02:00) Cairo",utcOffset:"2",name:"Egypt Standard Time",key:"TZ_32_EgyptStandardTime"},{index:33,display:"(UTC+05:00) Ekaterinburg (RTZ 4)",utcOffset:"5",name:"Ekaterinburg Standard Time",key:"TZ_33_EkaterinburgStandardTime"},{index:34,display:"(UTC+12:00) Fiji",utcOffset:"12",name:"Fiji Standard Time",key:"TZ_34_FijiStandardTime"},{index:35,display:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utcOffset:"2",name:"FLE Standard Time",key:"TZ_35_FLE_StandardTime"},{index:36,display:"(UTC+04:00) Tbilisi",utcOffset:"4",name:"Georgian Standard Time",key:"TZ_36_GeorgianStandardTime"},{index:37,display:"(UTC) Dublin, Edinburgh, Lisbon, London",utcOffset:"0",name:"GMT Standard Time",key:"TZ_37_GMT_StandardTime"},{index:38,display:"(UTC-03:00) Greenland",utcOffset:"-3",name:"Greenland Standard Time",key:"TZ_38_GreenlandStandardTime"},{index:39,display:"(UTC) Monrovia, Reykjavik",utcOffset:"0",name:"Greenwich Standard Time",key:"TZ_39_GreenwichStandardTime"},{index:40,display:"(UTC+02:00) Athens, Bucharest",utcOffset:"2",name:"GTB Standard Time",key:"TZ_40_GTB_StandardTime"},{index:41,display:"(UTC-10:00) Hawaii",utcOffset:"-10",name:"Hawaiian Standard Time",key:"TZ_41_HawaiianStandardTime"},{index:42,display:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utcOffset:"5.5",name:"India Standard Time",key:"TZ_42_IndiaStandardTime"},{index:43,display:"(UTC+03:30) Tehran",utcOffset:"3.5",name:"Iran Standard Time",key:"TZ_43_IranStandardTime"},{index:44,display:"(UTC+02:00) Jerusalem",utcOffset:"2",name:"Israel Standard Time",key:"TZ_44_IsraelStandardTime"},{index:45,display:"(UTC+02:00) Amman",utcOffset:"2",name:"Jordan Standard Time",key:"TZ_45_JordanStandardTime"},{index:46,display:"(UTC+02:00) Kaliningrad (RTZ 1)",utcOffset:"2",name:"Kaliningrad Standard Time",key:"TZ_46_KaliningradStandardTime"},{index:47,display:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utcOffset:"12",name:"Kamchatka Standard Time",key:"TZ_47_KamchatkaStandardTime"},{index:48,display:"(UTC+09:00) Seoul",utcOffset:"9",name:"Korea Standard Time",key:"TZ_48_KoreaStandardTime"},{index:49,display:"(UTC+10:00) Magadan",utcOffset:"10",name:"Magadan Standard Time",key:"TZ_49_MagadanStandardTime"},{index:50,display:"(UTC+04:00) Port Louis",utcOffset:"4",name:"Mauritius Standard Time",key:"TZ_50_MauritiusStandardTime"},{index:51,display:"(UTC-02:00) Mid-Atlantic - Old",utcOffset:"-2",name:"Mid-Atlantic Standard Time",key:"TZ_51_MidAtlanticStandardTime"},{index:52,display:"(UTC+02:00) Beirut",utcOffset:"2",name:"Middle East Standard Time",key:"TZ_52_MiddleEastStandardTime"},{index:53,display:"(UTC-03:00) Montevideo",utcOffset:"-3",name:"Montevideo Standard Time",key:"TZ_53_MontevideoStandardTime"},{index:54,display:"(UTC) Casablanca",utcOffset:"0",name:"Morocco Standard Time",key:"TZ_54_MoroccoStandardTime"},{index:55,display:"(UTC-07:00) Mountain Time (US & Canada)",utcOffset:"-7",name:"Mountain Standard Time",key:"TZ_55_MountainStandardTime"},{index:56,display:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utcOffset:"-7",name:"Mountain Standard Time (Mexico)",key:"TZ_56_MountainStandardTimeMMexico"},{index:57,display:"(UTC+06:30) Yangon (Rangoon)",utcOffset:"6.5",name:"Myanmar Standard Time",key:"TZ_57_MyanmarStandardTime"},{index:58,display:"(UTC+06:00) Novosibirsk (RTZ 5)",utcOffset:"6",name:"N. Central Asia Standard Time",key:"TZ_58_N_CentralAsiaStandardTime"},{index:59,display:"(UTC+01:00) Windhoek",utcOffset:"1",name:"Namibia Standard Time",key:"TZ_59_NamibiaStandardTime"},{index:60,display:"(UTC+05:45) Kathmandu",utcOffset:"5.75",name:"Nepal Standard Time",key:"TZ_60_NepalStandardTime"},{index:61,display:"(UTC+12:00) Auckland, Wellington",utcOffset:"12",name:"New Zealand Standard Time",key:"TZ_61_NewZealandStandardTime"},{index:62,display:"(UTC-03:30) Newfoundland",utcOffset:"-3.5",name:"Newfoundland Standard Time",key:"TZ_62_NewfoundlandStandardTime"},{index:63,display:"(UTC+08:00) Irkutsk (RTZ 7)",utcOffset:"8",name:"North Asia East Standard Time",key:"TZ_63_NorthAsiaEastStandardTime"},{index:64,display:"(UTC+07:00) Krasnoyarsk (RTZ 6)",utcOffset:"7",name:"North Asia Standard Time",key:"TZ_64_NorthAsiaStandardTime"},{index:65,display:"(UTC-04:00) Santiago",utcOffset:"-4",name:"Pacific SA Standard Time",key:"TZ_65_PacificSAStandardTime"},{index:66,display:"(UTC-08:00) Pacific Time (US & Canada)",utcOffset:"-8",name:"Pacific Standard Time",key:"TZ_66_PacificStandardTime"},{index:67,display:"(UTC-08:00) Baja California",utcOffset:"-8",name:"Pacific Standard Time (Mexico)",key:"TZ_67_PacificStandardTimeMexico"},{index:68,display:"(UTC+05:00) Islamabad, Karachi",utcOffset:"5",name:"Pakistan Standard Time",key:"TZ_68_PakistanStandardTime"},{index:69,display:"(UTC-04:00) Asuncion",utcOffset:"-4",name:"Paraguay Standard Time",key:"TZ_69_ParaguayStandardTime"},{index:70,display:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utcOffset:"1",name:"Romance Standard Time",key:"TZ_70_RomanceStandardTime"},{index:71,display:"(UTC+03:00) Moscow, St. Petersburg, Volgograd (RTZ 2)",utcOffset:"3",name:"Russian Standard Time",key:"TZ_71_RussianStandardTime"},{index:72,display:"(UTC-03:00) Cayenne, Fortaleza",utcOffset:"-3",name:"SA Eastern Standard Time",key:"TZ_72_SAEasternStandardTime"},{index:73,display:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",utcOffset:"-5",name:"SA Pacific Standard Time",key:"TZ_73_SAPacificStandardTime"},{index:74,display:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utcOffset:"-4",name:"SA Western Standard Time",key:"TZ_74_SAWesternStandardTime"},{index:75,display:"(UTC+13:00) Samoa",utcOffset:"13",name:"Samoa Standard Time",key:"TZ_75_SamoaStandardTime"},{index:76,display:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utcOffset:"7",name:"SE Asia Standard Time",key:"TZ_76_SE_AsiaStandardTime"},{index:77,display:"(UTC+08:00) Kuala Lumpur, Singapore",utcOffset:"8",name:"Singapore Standard Time",key:"TZ_77_SingaporeStandardTime"},{index:78,display:"(UTC+02:00) Harare, Pretoria",utcOffset:"2",name:"South Africa Standard Time",key:"TZ_78_SouthAfricaStandardTime"},{index:79,display:"(UTC+05:30) Sri Jayawardenepura",utcOffset:"5.5",name:"Sri Lanka Standard Time",key:"TZ_79_SriLankaStandardTime"},{index:80,display:"(UTC+02:00) Damascus",utcOffset:"2",name:"Syria Standard Time",key:"TZ_80_SyriaStandardTime"},{index:81,display:"(UTC+08:00) Taipei",utcOffset:"8",name:"Taipei Standard Time",key:"TZ_81_TaipeiStandardTime"},{index:82,display:"(UTC+10:00) Hobart",utcOffset:"10",name:"Tasmania Standard Time",key:"TZ_82_TasmaniaStandardTime"},{index:83,display:"(UTC+09:00) Osaka, Sapporo, Tokyo",utcOffset:"9",name:"Tokyo Standard Time",key:"TZ_83_TokyoStandardTime"},{index:84,display:"(UTC+13:00) Nuku'alofa",utcOffset:"13",name:"Tonga Standard Time",key:"TZ_84_TongaStandardTime"},{index:85,display:"(UTC+02:00) Istanbul",utcOffset:"2",name:"Turkey Standard Time",key:"TZ_85_TurkeyStandardTime"},{index:86,display:"(UTC+08:00) Ulaanbaatar",utcOffset:"8",name:"Ulaanbaatar Standard Time",key:"TZ_86_UlaanbaatarStandardTime"},{index:87,display:"(UTC-05:00) Indiana (East)",utcOffset:"-5",name:"US Eastern Standard Time",key:"TZ_87_US_EasternStandardTime"},{index:88,display:"(UTC-07:00) Arizona",utcOffset:"-7",name:"US Mountain Standard Time",key:"TZ_88_USMountainStandardTime"},{index:89,display:"(UTC-04:30) Caracas",utcOffset:"-4.5",name:"Venezuela Standard Time",key:"TZ_89_VenezuelaStandardTime"},{index:90,display:"(UTC+10:00) Vladivostok, Magadan (RTZ 9)",utcOffset:"10",name:"Vladivostok Standard Time",key:"TZ_90_VladivostokStandardTime"},{index:91,display:"(UTC+08:00) Perth",utcOffset:"8",name:"W. Australia Standard Time",key:"TZ_91_W_AustraliaStandardTime"},{index:92,display:"(UTC+01:00) West Central Africa",utcOffset:"1",name:"W. Central Africa Standard Time",key:"TZ_92_W_CentralAfricaStandardTime"},{index:93,display:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utcOffset:"1",name:"Central Europe Standard Time",key:"TZ_93_W_EuropeStandardTime"},{index:94,display:"(UTC+05:00) Ashgabat, Tashkent",utcOffset:"5",name:"West Asia Standard Time",key:"TZ_94_WestAsiaStandardTime"},{index:95,display:"(UTC+10:00) Guam, Port Moresby",utcOffset:"10",name:"West Pacific Standard Time",key:"TZ_95_WestPacificStandardTime"},{index:96,display:"(UTC+09:00) Yakutsk (RTZ 8)",utcOffset:"9",name:"Yakutsk Standard Time",key:"TZ_96_YakutskStandardTime"}],function(e){return parseInt(e.utcOffset)}),e.getData=d,e.cancel=function(t){e.getData(),t.$setPristine()},e.save=function(i){var u=c.instant("Saved Successfully!"),p="success";e.showAccountDateTimeFormat&&(e.regionalSettings.settings.accountDateTimeFormat=function(e){return e.replace("hh:mm "+s,"hh:mm "+o).replace("hh:mm:ss "+s,"hh:mm:ss "+o)}(e.regionalSettings.settings.accountDateTimeFormat));var m={updateSettings:a.updateSettings(l.getCurrentAccountId(),e.regionalSettings.settings)};t.all(m).then(function(){l.refreshAccountSettings(),d(),i.$setPristine()},function(e){u=c.instant("An error occurred!"),p="alert"}).finally(function(){r.closeModal(),n.show({msg:u,type:p})})},e.showAccountDateTimeFormat=!1,d()}]);var s="a",o="tt"},function(e,t){var n="regional-settings/regional-settings.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="regional-settings site-main" ng-controller="RegionalSettingsController" ds-form>\n  <div class="section">\n    <h1 class="header-title" translate="Regional Settings"></h1>\n\n    <div class="header-actions" ds-ackbar="regionalSettingsForm" ds-ackbar-save="save(regionalSettingsForm)"\n         ds-ackbar-cancel="cancel(regionalSettingsForm)"></div>\n  </div>\n  <form name="regionalSettingsForm" class="section">\n    <h2 translate="Time Zone"></h2>\n    <div class="grid">\n      <div class="col-1-3">\n        <div class="form-group cb" ui-cfr ui-hint ui-models="[regionalSettings.settings.allowMemberTimeZoneMetadata]">\n          <input class="cb_input" type="checkbox" id="allow-member-timezone"\n                 data-qa="regional_settings_allow_user_to_set_time_zone_format_cb"\n                 ng-model="regionalSettings.settings.allowMemberTimeZone">\n          <label class="cb_label" for="allow-member-timezone"\n                 data-qa="regional_settings_allow_user_to_set_time_zone_format_cb_lbl"\n                 translate="Allow users to set their own Time Zone and Date Format" setting-key-map="AllowMemberTimeZone"></label>\n\n        </div>\n\n        <div class="form-group" ng-show="regionalSettings.settings.allowMemberTimeZone && timezoneOffSet">\n          <label class="label" translate="Your Time Zone as set in My Preferences:"></label><br>\n          <label>{{ timezoneOffSet | translate }}</label>\n        </div>\n        <div class="form-group" ng-show="regionalSettings.settings.allowMemberTimeZone && showAccountDateTimeFormat && currentUserDateTimeFormatSelection">\n          <label class="label" translate="Your Date/Time format as set in My Preferences:"></label><br>\n          <label>{{ currentUserDateTimeFormatSelection }}</label>\n        </div>\n\n        <div class="form-group">\n          <label class="label" for="time-zone-set" translate="Default Time Zone for the account" setting-key-map="TimezoneOffsetUI"></label>\n          <div class="select-wrap"\n               ui-cfr ui-hint ui-models="[regionalSettings.settings.timezoneOffsetUIMetadata]">\n            <select id="time-zone-set"\n                    ng-model="regionalSettings.settings.timezoneOffsetUI"\n                    data-qa="regional_settings_default_time_zone_for_the_account_option"\n                    ng-options="timeZone.key as timeZone.display | translate for timeZone in timeZoneList"></select>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="label" for="date-time-format-set" translate="Default Date/Time format for the account" setting-key-map="AccountDateTimeFormat" ng-show="showAccountDateTimeFormat"></label>\n          <div class="select-wrap"\n               ui-cfr ui-hint ui-models="[regionalSettings.settings.accountDateTimeFormatMetadata]"\n               ng-show="showAccountDateTimeFormat">\n            <select id="date-time-format-set"\n                    ng-model="regionalSettings.settings.accountDateTimeFormat"\n                    data-qa="regional_settings_default_date_time_format_for_the_account_option"\n                    ng-options="item.key as item.resolved for item in dateTimeFormatList"></select>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </form>\n\n  <div class="section">\n    <div class="header-actions" ds-ackbar="regionalSettingsForm" ds-ackbar-save="save(regionalSettingsForm)"\n         ds-ackbar-cancel="cancel(regionalSettingsForm)"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/welcome.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="emptyState welcome-organization top p-around-none p-top-medium p-bottom-medium"\n     data-qa="orgadmin_welcome_div">\n  <i class="icon icon-company emptyState_icon icon-welcome-organization"></i>\n  <h2 class="emptyState_text" translate="DocuSign Organization Administration"></h2>\n  <div class="emptyState_text" data-qa="orgadmin_welcome_text">\n    <p class="p-left-medium p-right-medium">\n    <span\n      translate="Introducing a powerful infrastructure for advanced administrative capabilities that helps you manage, configure, and control your company\'s use of DocuSign. Organization Administration centralizes account, user, and identity management so you can better govern how DocuSign is used in your company."></span>\n      &nbsp;<span><a href="https://support.docusign.com/en/guides/org-admin-guide" target="_blank"\n                     data-qa="orgadmin_welcome_learn_more_link" translate="Learn more"></a></span>\n    </p>\n\n  </div>\n  <div ng-if="org.organizations.length === 0">\n    <button class="btn btn-main" data-qa="orgadmin_create_org_btn" translate="Create Organization"\n            ng-class="{\'disabled\': !org.canCreateOrg()}"\n            olive-tooltip="{{ !org.canCreateOrg() ? \'requiresDsAdminTooltip\' : \'\' }}"\n            olive-tooltip-position="below center" olive-tooltip-events="hover" ng-click="org.goToCreate()"></button>\n    <br> <br> <a class="p-top-small text-small" data-qa="orgadmin_welcome_setup_later"\n                 translate="No thanks, I\'ll set it up later" ui-sref="authenticated.account-admin"></a>\n  </div>\n  <div ng-if="org.organizations.length > 0">\n    <button class="btn btn-main" data-qa="orgadmin_join_org_btn" translate="Link Account"\n            ng-disabled="!org.organizationsToLink.length"\n            ng-click="org.showOrganizations()"></button>\n    <br><br> <a class="p-top-small text-small" data-qa="orgadmin_create_org_link" translate="Create Organization"\n                ng-if="org.canCreateOrg()" ng-click="org.goToCreate()"></a>\n  </div>\n  <div class="callout invisible" id="requiresDsAdminTooltip">\n    <div class="callout_content">\n        <span\n          translate=\'You must have the "All Administration Capabilities" permission to create an organization. Contact your account administrator to gain the appropriate level of permission.\'></span>\n    </div>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationUsersController as users" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: users.organizationId})"> {{ users.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Users"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <h1 class="header-title" data-qa="users_header" translate="Users"></h1>\n  </div>\n\n  <div class="section">\n    <button class="btn btn-secondary"\n      ng-click="users.createUser()"\n      radmin-logging\n      data-qa="users_add_user_button"\n      translate="Add User">\n    </button>\n\n    <div class="fgrid fgrid-gutters fgrid-alignItems-center">\n      <div class="fgrid_cell fgrid_cell-1" data-qa="users_seach_panel">\n        <div class="form_unit input-md u-page-center">\n          <h5 class="m-bottom-xx-small" data-qa="users_search_input_label" translate="Enter a full email address to search for a user."></h5>\n          <form class="form_group form_group-unified" name="users.searchUserForm">\n            <div class="form_item form_item-iconLeft form_item-iconRight"\n                 ng-class="{\'form_unit-hasError\': users.errorMessage.length > 0}">\n              <span class="icon icon-search"></span>\n              <input ng-model="users.searchPhrase" class="input-text input-md" name="searchInput"\n                     id="field11" placeholder="john.doe@acme.com" ds-valid="function"\n                     ds-valid-function="users.isValidEmail()" aria-describedby="textInput-error-description"\n                     ng-keypress="users.submitSearch($event)" data-qa="users_search_input"/>\n              <button type="button" class="button-icon" ng-if="users.submittedSearch.length > 0"\n                      ng-click="users.resetSearch()" data-qa="users_search_reset_button">\n                <span class="icon icon-circle-x"></span>\n              </button>\n            </div>\n            <button class="btn btn-primary" ng-disabled="users.isSearching"\n                    ng-class="{\'btn-loading\': users.isSearching}"\n                    radmin-logging\n                    ng-click="users.submitSearch()"\n                    data-qa="users_search_button">\n              <span ng-if="users.isSearching" translate="Searching"></span>\n              <span ng-if="!users.isSearching" translate="Search"></span>\n            </button>\n          </form>\n          <div>\n            <p class="helper-text error-msg" ng-if="users.errorMessage.length > 0" id="textInput-error-description">\n              {{ users.errorMessage }}</p>\n          </div>\n        </div>\n      </div>\n\n      <div class="fgrid_cell fgrid_cell-1 p-top-xx-large">\n        <div class="input-md u-page-center">\n          <h5 translate="Quick Lists" class="m-bottom-xx-small" data-qa="users_quick_list_header"></h5>\n          <table class="table quick-list">\n            <tbody>\n            <tr class="table_row-clickable">\n              <td ng-if="users.canFilterByDomain"\n                  ng-click="users.filterByDomain()"\n                  radmin-logging\n                  data-qa="users_domain_users_button">\n                <span translate="Domain Users"></span>\n                <i class="icon icon-caret-right u-float-right"></i>\n              </td>\n            </tr>\n            <tr class="table_row-clickable">\n              <td ng-if="users.hasDefaultAccountID"\n                  ng-click="users.filterByAccount()"\n                  radmin-logging\n                  data-qa="users_account_users_button">\n                <span translate="Account Users"></span>\n                <i class="icon icon-caret-right u-float-right"></i>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="p-top-medium text-center">\n          <span ng-if="users.showBulkActionNewIcon && users.bulkActionNotificationText" class="badge badge-yellow" translate="New DS_CONTEXT=(feature)"></span>\n          <span translate="{{users.bulkActionNotificationText}}"\n                translate-interpolation="bracket" translate-compile\n                translate-values="{\n                linkStart: \'<a ui-sref=\\\'authenticated.organization-bulk-actions({organization_id:users.organization.id})\\\'>\',\n                linkEnd: \'</a>\'\n              }">\n            </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/user-security.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <form class="m-left-none" name="userProfile.securityForm">\n    <div class="form_unit" ng-if="userProfile.isDomainUser">\n      <label for="loginPolicies" class="label p-vertical-xx-small"\n             translate="Login Policy" label-required="*"></label>\n      <div class="select-wrap input-md">\n        <select id="loginPolicies" ng-disabled="!userProfile.isSuperOrgAdmin"\n                data-qa="organization_user_security_login_policy_select"\n                ng-options="policyKey as policyName | translate for (policyKey, policyName) in userProfile.loginPolicies"\n                ng-model="userProfile.defaultProfile.federated_status" ds-valid required> </select>\n      </div>\n      <div class="text-muted p-top-small" ng-if="userProfile.isDomainUser"\n           data-qa="organization_user_security_domain_policy_message">{{ userProfile.domainPolicy | translate }}\n      </div>\n      <div class="text-muted p-top-small" ng-if="userProfile.differentPolicy()"\n                  data-qa="organization_user_security_domain_policy_warning_message"\n                  translate="Warning! You are creating an exception to a domain wide policy. This should probably only be used for advanced administrators in the organization."></div>\n    </div>\n    <div class="form-group" ng-if="userProfile.showFederatedIds()"\n         data-qa="organization_user_security_federated_id_container">\n      <h5 class="m-bottom-xx-small" translate="Federated IDs"></h5>\n      <table class="table table-tight" ng-if="userProfile.userIdentities.length">\n        <thead>\n          <tr>\n            <th translate="Identity Provider"></th>\n            <th translate="Federated ID"></th>\n            <th><span class="vh" translate="Actions"></span></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="idp in userProfile.userIdentities">\n            <td>{{ idp.IdentityProviderName }}</td>\n            <td>{{ idp.ImmutableId }}</td>\n            <td class="text-right">\n              <button class="btn btn-secondary"\n                      ng-click="userProfile.clearIdentity(idp.IdentityProviderId, idp.UserId)"\n                      translate="Clear">\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <span ng-if="!userProfile.userIdentities.length"\n           translate="No Federated IDs are configured for this user."></span>\n    </div>\n  </form>\n  <div class="m-left-none section">\n    <button type="submit" class="btn btn-primary" ng-class="{\'btn-loading\': !userProfile.saved}"\n            ng-disabled="userProfile.securityForm.$pristine" ds-form-submit="userProfile.updateSecurity(userProfile.securityForm)"\n            data-qa="organization_user_security_update_btn">\n      <span ng-if="!userProfile.saved"><span translate="Saving"></span>&hellip;</span>\n      <span ng-if="userProfile.saved" translate="Update"></span>\n    </button>\n    <button type="button" class="btn btn-minor"\n            data-qa="organization_user_security_cancel_btn"\n            translate="Cancel"\n            ng-click="userProfile.cancelSecurity(userProfile.securityForm)"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/user-profile.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <form class="m-left-none" name="userProfile.profileForm">\n    <div class="form_unit"\n         ng-class="{\'form_unit-hasError\': userProfile.pendingFullNameError}">\n      <label for="textInputFullName" class="label" translate="Full name" label-required="*"\n             ng-if="!userProfile.disableUpdateProfile"></label>\n      <label for="textInputFullName" class="label" translate="Full name"\n             ng-if="userProfile.disableUpdateProfile"></label>\n      <input id="textInputFullName" type="text" class="input-text input-md" ds-valid required\n             ng-if="!userProfile.disableUpdateProfile"\n             ng-model="userProfile.defaultProfile.user_name" aria-describedby="fullName-error-description"\n             data-qa="organization_user_profile_user_name_txt"/>\n      <div ng-if="userProfile.disableUpdateProfile">{{userProfile.defaultProfile.user_name}}</div>\n      <p class="helper-text error-msg" id="fullName-error-description" ng-if="userProfile.pendingFullNameError"\n         translate="Unable to update name while the membership status is pending. Update the name once the membership status is active."></p>\n    </div>\n    <div class="form_unit input-md">\n      <label class="label" for="email" translate="Email" label-required="*"\n             ng-if="!userProfile.disableUpdateProfile"></label>\n      <label class="label" for="email" translate="Email" ng-if="userProfile.disableUpdateProfile"></label>\n      <div class="form_group form_group-unified" ng-if="!userProfile.disableUpdateProfile">\n        <span class="form_item">\n          <input type="text" class="input-text" id="email" required\n            data-qa="organization_user_profile_email_txt"\n            translate-attr-placeholder="Enter email address" translate\n            ng-model="userProfile.email1"\n            ng-disabled="!userProfile.isDomainUser || userProfile.disableUpdateProfile"\n            ds-valid="function" ds-valid-function="userProfile.isValidEmail()"/>\n        </span>\n        <div class="select-wrap form_addon-select" ng-if="userProfile.isDomainUser">\n          <select class="input-md" id="domainList" ng-model="userProfile.domain" ds-valid required\n            ng-disabled="userProfile.disableUpdateProfile"\n            data-qa="organization_user_profile_email_domain_select"\n            ng-options="d as \'@ \' + d.host_name for d in userProfile.domains"></select>\n        </div>\n      </div>\n      <div ng-if="userProfile.disableUpdateProfile">{{userProfile.email}}</div>\n    </div>\n    <div class="form_unit input-sm">\n      <label for="userLocale" class="label" translate="Language" label-required="*"\n             ng-if="!userProfile.disableUpdateProfile"></label>\n      <label for="userLocale" class="label" translate="Language"\n             ng-if="userProfile.disableUpdateProfile"></label>\n      <div class="select-wrap" ng-if="!userProfile.disableUpdateProfile">\n        <select id="userLocale" ng-model="userProfile.defaultProfile.language_culture" ds-valid required\n                ng-disabled="userProfile.disableUpdateProfile"\n                data-qa="organization_user_profile_language_select"\n                ng-options="locale.key as locale.englishLanguageName | translate for locale in userProfile.locales">\n          <option translate="Select language"></option>\n        </select>\n      </div>\n      <div ng-if="userProfile.disableUpdateProfile">{{userProfile.getLanguageName()}}</div>\n    </div>\n  </form>\n  <div class="section m-left-none" ng-if="!userProfile.disableUpdateProfile">\n    <button type="submit" class="btn btn-primary" ng-disabled="!userProfile.canUpdateProfile()"\n            ds-form-submit="userProfile.updateProfile(userProfile.profileForm)"\n            data-qa="organization_user_profile_submit_btn">\n      <span ng-if="!userProfile.saved"><span translate="Saving"></span>&hellip;</span>\n      <span ng-if="userProfile.saved" translate="Update"></span>\n    </button>\n    <button type="button" class="btn btn-minor" translate="Cancel" ng-disabled="userProfile.profileForm.$pristine"\n            ng-click="userProfile.cancelProfile(userProfile.profileForm)"\n            data-qa="organization_user_profile_cancel_btn"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/user-organization.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <form novalidate name="userProfile.organizationAdminForm">\n    <div class="p-top-x-small">\n      <dl class="def-list" data-qa="user_organization_details">\n        <dt translate="Organization Admin Status"></dt>\n        <dd ng-switch="userProfile.orgAdminProfile.organization_admin_status">\n          <i class="icon" ng-class="{\n              \'active\':\'icon-circle text-success\',\n              \'invitation_sent\':\'icon-circle icon-pending\',\n            }[userProfile.orgAdminProfile.organization_admin_status]"></i>\n          <span ng-switch-when="invitation_sent" translate="Pending"></span>\n          <span ng-switch-when="active" translate="Active"></span>\n        </dd>\n        <dt translate="Permission Set" label-required="*"></dt>\n        <dd>\n          <div class="select-wrap input-sm">\n            <select id="select-permissionSet" class="select-list" ds-valid required\n                    ng-disabled="!userProfile.canUpdateOrganizationAdmin(userProfile.orgAdminProfile.user_id)"\n                    ng-model="userProfile.organizationPermissionId"\n                    data-qa="user_organization_select_permission"\n                    ng-options="p.id as p.name | translate for p in userProfile.orgAdminPermissions">\n              <option translate="Select Permission Set"></option>\n            </select>\n          </div>\n        </dd>\n        <dt translate="Created"></dt>\n        <dd>{{ ::userProfile.orgAdminProfile.created_on | moment:userProfile.dateTimeFormat:userProfile.timeZone }}</dd>\n        <dt translate="Last modified"></dt>\n        <dd>{{ ::userProfile.orgAdminProfile.last_modified_on | moment:userProfile.dateTimeFormat:userProfile.timeZone }}</dd>\n      </dl>\n    </div>\n    <div class="section m-left-none" ng-if="userProfile.canUpdateOrganizationAdmin(userProfile.orgAdminProfile.user_id)">\n      <button type="submit" class="btn btn-primary"\n              ng-class="{\'btn-loading\': !userProfile.saved}"\n              ng-disabled="userProfile.disableUpdateOrganizationAdminProfile(userProfile.orgAdminProfile.user_id) || !userProfile.saved"\n              ds-form-submit="userProfile.updateOrganizationAdmin(userProfile.organizationAdminForm)">\n        <span ng-if="!userProfile.saved"><span translate="Saving"></span>&hellip;</span>\n        <span ng-if="userProfile.saved" translate="Update"></span>\n      </button>\n      <button type="button" class="btn btn-minor" translate="Cancel"\n              ng-disabled="userProfile.organizationAdminForm.$pristine"\n              ng-click="userProfile.cancelOrganizationAdmin(userProfile.organizationAdminForm)"\n              data-qa="organization_user_profile_cancel_btn"></button>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/user-membership.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form class="p-top-large">\n  <div class="sidebar-fields  p-horizontal-large">\n    <div class="fgrid p-top-xxx-small">\n      <div class="fgrid_cell-1-3 m-top-xxx-small">\n        <ds-filter-applied filterable="userProfile"></ds-filter-applied>\n      </div>\n      <div class="fgrid_cell-2-3">\n        <ds-filter-controls filterable="userProfile">\n          <div class="form-group">\n            <label class="label" for="status" translate="Status"></label>\n            <div ng-repeat="option in userProfile.statusFilterOptions" class="inline-input cb" id="status">\n              <input id="status-{{option.name}}" class="cb_input" type="checkbox" ng-model="option.value"\n                     ng-disabled="option.disabled"\n                     data-qa="user_membership_filter_status_{{option.name}}_cb">\n              <label class="cb_label" for="status-{{option.name}}">\n                {{option.name | translate}}\n              </label>\n            </div>\n          </div>\n        </ds-filter-controls>\n      </div>\n    </div>\n  </div>\n  <form name="userProfile.membershipForm">\n    <div class="form-group" ng-repeat="user in userProfile.workingList">\n      <div ng-if="userProfile.workingList.length > 1">\n        <h2 class="m-bottom-xx-small">{{ user.user_name }}:&nbsp;{{ user.site_name }}</h2>\n        <h4 class="m-bottom-small">\n          <span translate="User ID:"></span> &nbsp;{{ user.id }}\n        </h4>\n        <button class="btn btn-secondary m-bottom-medium"\n                ng-if="userProfile.canCloseMemberships(user)"\n                ng-click="userProfile.confirmCloseUser(user)"\n                translate="Close User"></button>\n      </div>\n      <table class="table">\n        <thead>\n        <tr>\n          <th translate="Membership"></th>\n          <th translate="Account"></th>\n          <th translate="Account ID"></th>\n          <th translate="External"></th>\n          <th translate="Permission set"></th>\n          <th translate="Groups"></th>\n          <th translate="Site"></th>\n          <th translate="Actions" class="text-right"></th>\n        </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="m in user.memberships track by m.account_id">\n            <td data-qa="user_membership_status_td" ng-switch="m.membership_status">\n              <i class="icon" ng-class="{\n              \'active\':\'icon-circle text-success\',\n              \'activationRequired\':\'icon-circle icon-pending\',\n              \'activationSent\':\'icon-circle icon-pending\',\n              \'closed\':\'icon-circleclosed\',\n              \'disabled\':\'icon-circleclosed\'\n            }[m.membership_status]"></i>\n\n              <span class="hidden-sm-down" ng-switch-default translate="Pending"></span> <span class="hidden-sm-down" ng-switch-when="active" translate="Active"></span>\n              <span class="hidden-sm-down" ng-switch-when="closed" translate="Closed"></span> <span class="hidden-sm-down" ng-switch-when="disabled" translate="Closed"></span>\n            </td>\n            <td data-qa="user_membership_account_name_td">\n              <span>\n                {{ m.account_name }}\n                <span class="badge badge-turquoise m-left-small" ng-if="userProfile.isDefaultAccount(user, m)"\n                      data-qa="user_membership_default_badge"\n                      translate="Default"></span>\n              </span>\n            </td>\n            <td data-qa="user_membership_acc_id_td">{{ m.external_account_id }}</td>\n            <td data-qa="user_membership_ext_acc_td">{{ m.is_external_account ? \'Yes\' : \'No\' | translate }}</td>\n            <td data-qa="user_membership_ps_td">{{ m.permission_profile_name }}</td>\n            <td data-qa="user_membership_group_td">{{ m.group_names }}</td>\n            <td data-qa="user_membership_site_td">{{user.site_name}}</td>\n            <td class="text-right">\n              <button class="btn btn-minor btn-icon"\n                      ng-class="{\'disabled\': !userProfile.showActionsLink(user, m)}"\n                      olive-menu="membershipActions{{ m.id }}"\n                      olive-menu-position="below right"\n                      olive-tooltip="{{ userProfile.showExternalAccountTooltip(m) ? \'externalAccountTooltip_\' + $index : \'\' }}"\n                      olive-tooltip-position="before center"\n                      olive-tooltip-events="hover "\n                      data-qa="user_membership_actions_btn">\n                <span class="icon icon-menu-overflow-vertical"></span>\n                <span class="sr-text" translate="Actions"></span>\n              </button>\n              <div class="menu invisible" id="membershipActions{{ m.id }}" ng-if="userProfile.showActionsLink(user, m)">\n                <ul>\n                  <li ng-if="userProfile.showActivateMembershipLink(user, m)">\n                    <a class="item"\n                       ng-click="userProfile.forceActivateMembership(user, m)"\n                       radmin-logging="Page: Organization > Users > User Name > Membership (tab) > Actions"\n                       data-qa="user_membership_actions_activate"\n                       translate="Activate Membership"></a>\n                  </li>\n                  <li ng-if="userProfile.showResend(user, m)">\n                    <a class="item"\n                       ng-click="userProfile.resend(user, m)"\n                       radmin-logging="Page: Organization > Users > User Name > Membership (tab) > Actions"\n                       data-qa="user_membership_actions_resend_inv"\n                       translate="{{ userProfile.invitationText(m) }}"></a>\n                  </li>\n                  <li ng-if="userProfile.showEditLink(user, m)">\n                    <a class="item"\n                       ng-click="userProfile.addMembership(user, m)"\n                       radmin-logging="Page: Organization > Users > User Name > Membership (tab) > Actions"\n                       data-qa="user_membership_actions_edit"\n                       translate="Edit"></a>\n                  </li>\n                  <li ng-if="userProfile.showCloseLink(user, m)">\n                    <a class="item"\n                       ng-click="userProfile.closeMembership(user, m)"\n                       radmin-logging="Page: Organization > Users > User Name > Membership (tab) > Actions"\n                       data-qa="user_membership_actions_close"\n                       translate="DS_CONTEXT=(account membership) Close"></a>\n                  </li>\n                  <li ng-if="userProfile.showSetDefaultLink(user, m)">\n                    <a class="item"\n                       ng-click="userProfile.setDefaultAccount(user, m)"\n                       radmin-logging="Page: Organization > Users > User Name > Membership (tab) > Actions"\n                       data-qa="user_membership_actions_set_default"\n                       translate="Set as default"></a>\n                  </li>\n                </ul>\n              </div>\n              <div class="callout invisible" id="externalAccountTooltip_{{ $index }}">\n                <div class="callout_content" translate=\'External accounts cannot be managed from within this organization.\'></div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class="emptyState" ng-if="userProfile.showEmptyState()">\n      <i class="icon icon-search emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p translate="The search by membership status \'[[searchQuery]]\' produced no results."\n           translate-interpolation="bracket"\n           translate-values="{searchQuery: userProfile.statusSearchQuery()}"></p>\n      </div>\n    </div>\n\n  </form>\n</div>\n')}]),e.exports=n},function(e,t,n){e.exports=n.p+"images/no-profile-image.png"},function(e,t,n){var a="organization/user-detail.html",i='<div ng-controller="OrganizationUserProfileController as userProfile">\n\n  <div class="site_toolbar toolbar">\n    <div class="toolbar_wrap">\n      <div class="fgrid fgrid-lg">\n        <div class="fgrid_cell fgrid_cell-2-3">\n          <div class="crumbs p-horizontal-none">\n            <ul class="crumbs_list">\n              <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                   ui-sref="authenticated.organization-dashboard({organization_id: userProfile.organizationId})"> {{ userProfile.organization.name }}</a>\n              </li>\n              <li class="crumbs_listItem">\n                <a class="crumbs_item" translate="Users"\n                   ui-sref="authenticated.organization-users({organization_id: userProfile.organizationId})"></a>\n              </li>\n              <li class="crumbs_listItem">\n                <span class="crumbs_item">{{ userProfile.defaultProfile.user_name }}</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class="fgrid_cell fgrid_cell-1-3 right p-top-small" ds-form>\n          <form class="form_group form_group-unified">\n            <div class="form_item form_item-iconLeft form_item-iconRight">\n              <span class="icon icon-search"></span>\n              <input ng-model="userProfile.userSearchPhrase" class="input-text input-md" name="searchInput"\n                     id="user-email" placeholder="john.doe@acme.com" ds-valid="function"\n                     ds-valid-function="userProfile.isValidSearchEmail()"\n                     aria-describedby="textInput-error-description"\n                     ng-keypress="userProfile.submitUserSearch($event)" />\n              <button type="button" class="button-icon"\n                      ng-if="userProfile.submittedUserSearch.length > 0"\n                      ng-click="userProfile.resetUserSearch()">\n                <span class="icon icon-circle-x"></span>\n              </button>\n            </div>\n            <button class="btn btn-primary" ng-disabled="userProfile.isUserSearching"\n                    ng-class="{\'btn-loading\': userProfile.isUserSearching}" radmin-logging\n                    ds-form-submit="userProfile.submitUserSearch()">\n              <span ng-if="userProfile.isUserSearching">\n                <span translate="Searching"></span>&hellip;\n              </span>\n              <span ng-if="!userProfile.isUserSearching" translate="Search Users"></span>\n            </button>\n          </form>\n          <div class="text-muted" translate="Enter a full email address to search for a user."></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="site_content content" ng-if="userProfile.loaded && userProfile.users.length"\n       data-qa="user_detail_container">\n    <div class="p-around-large">\n      <div class="l-media">\n        <div class="l-media_image">\n          <span class="avatar avatar-large avatar-placeholder">\n            <img src="'+n(539)+'" />\n          </span>\n        </div>\n        <div class="l-media_body">\n          <div class="block_content">\n            <h1>\n              {{ userProfile.defaultProfile.user_name }}\n            </h1>\n          </div>\n          <div>\n              <span class="badge" ng-if="userProfile.isOrganizationAdmin || userProfile.isOrganizationAdminInvited"\n                    ng-class="{\n                    \'badge-green\': userProfile.isOrganizationAdmin,\n                    \'badge-yellow\': userProfile.isOrganizationAdminInvited\n                  }" data-qa="user_detail_nav_org_admin_badge" translate="Organization Admin">\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="p-horizontal-large">\n      <div class="tabs-wrap">\n        <div class="col-2-5">\n          <ul class="tabs" olive-tabset="{{userProfile.nav.title}}" data-qa="user_detail_tabs_container">\n            <li class="tab-wrap" ng-repeat="x in userProfile.nav.items" ng-if="userProfile.showNavItem(x)">\n              <button type="button" class="tab" olive-tab-id="{{x.id }}"\n                      id="{{x.id}}"\n                      radmin-logging="organization-user-{{x.id}}-tab"\n                      ng-click="userProfile.selectNavItem(x.id)"\n                      ng-class="{\'on\': x.id && x.id === userProfile.nav.selectedId}">{{x.display}}\n              </button>\n            </li>\n          </ul>\n        </div>\n        <div class="u-float-right">\n          <div class="callout callout-invisible" olive-callout="callout_extend_org_admin_rights"\n               olive-callout-position-to="#callout1" olive-callout-alignment="center" olive-callout-events="hover"\n               olive-callout-location="after">\n            <div class="callout_header" translate="What is this?"></div>\n            <div class="callout_content"\n                 translate="To extend organization admin rights to all memberships associated with this user\'s email address, click here. This will grant organization access to all logins associated with the email address"></div>\n          </div>\n          <div class="btn-row m-bottom-x-small">\n            <button class="btn btn-secondary"\n                    olive-button="btnExtendRights"\n                    olive-ng-button-is-loading="userProfile.loadUpdateUsersToOrgAdmins"\n                    olive-button-text-replace="{{\'Saving\' | translate }}&hellip;"\n                    ng-if="userProfile.canApplyUsersAsOrganizationAdmin()" id="callout1"\n                    ng-click="userProfile.applyUsersAsOrganizationAdmin()">\n              {{ "Extend Rights To All Memberships" | translate }}</button>\n            <button type="submit"\n                    ng-if="userProfile.nav.selectedId === \'membership\'"\n                    class="btn btn-secondary"\n                    ng-click="userProfile.addMembership()"\n                    ng-disabled="!userProfile.canAddMembership()"\n                    radmin-logging="Page: Organization > Users > User Name > Membership (tab)"\n                    data-qa="user_membership_add_account_membership_btn" translate="Add account membership"></button>\n            <button type="submit"\n                    ng-if="userProfile.nav.selectedId === \'application\'"\n                    class="btn btn-secondary"\n                    ng-click="userProfile.addApplication(user)"\n                    ng-disabled="!userProfile.canShowAuthorizeApplication()"\n                    radmin-logging="Page: Organization > Users > User Name > Application (tab)"\n                    data-qa="user_application_authorize_application_btn" translate="Authorize Application"></button>\n            <button class="btn btn-secondary"\n                    ng-if="userProfile.nav.selectedId === \'organization\' && userProfile.canUpdateOrganizationAdmin(userProfile.orgAdminProfile.user_id)"\n                    ng-click="userProfile.remove(userProfile.orgAdminProfile)" data-qa="user_organization_remove"\n                    translate="Remove Organization Admin"></button>\n            <button class="btn btn-secondary disabled" olive-tooltip="removeSelfTooltip"\n                    olive-tooltip-position="after middle" olive-tooltip-events="hover"\n                    ng-if="userProfile.nav.selectedId === \'organization\' && userProfile.isCurrentUser(userProfile.orgAdminProfile.user_id)"\n                    data-qa="user_organization_remove_self" translate="Remove Organization Admin"></button>\n            <button class="btn btn-secondary"\n                    ng-if="userProfile.nav.selectedId === \'organization\' && userProfile.canResendOrgAdminInvitation()"\n                    ng-click="userProfile.resendOrgAdminInvitation(userProfile.orgAdminProfile)"\n                    data-qa="user_organization_resend_inv" translate="Resend Invitation"></button>\n            <button class="btn btn-secondary"\n                    ng-if="userProfile.nav.selectedId === \'profile\' && userProfile.canMakeOrganizationAdmin()"\n                    ng-click="userProfile.sendOrgAdminInvitation()"\n                    data-qa="organization_user_profile_make_org_admin"\n                    translate="Make Organization Admin"></button>\n            <button class="btn btn-secondary"\n                    ng-if="userProfile.nav.selectedId === \'profile\' && userProfile.nav.selectedId === \'profile\' && userProfile.canCloseUser()"\n                    ng-click="userProfile.confirmCloseUser()"\n                    data-qa="organization_user_profile_close_user"\n                    translate="Close user"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="site_content content" ng-if="userProfile.loaded && userProfile.users.length > 0"\n       data-qa="user_detail_container">\n    <div class="p-horizontal-large" ng-switch="userProfile.nav.selectedId"\n         data-qa="user_detail_nav_container">\n      <div olive-tabset-parent="userMenu" olive-tab-id="profile">\n        <div ng-include="\'organization/user-profile.html\'" include-replace></div>\n      </div>\n      <div olive-tabset-parent="userMenu" olive-tab-id="membership">\n        <div ng-include="\'organization/user-membership.html\'" include-replace></div>\n      </div>\n      <div olive-tabset-parent="userMenu" olive-tab-id="security">\n        <div ng-include="\'organization/user-security.html\'" include-replace></div>\n      </div>\n      <div olive-tabset-parent="userMenu" olive-tab-id="organization">\n        <div ng-include="\'organization/user-organization.html\'" include-replace></div>\n      </div>\n      <div olive-tabset-parent="userMenu" olive-tab-id="application">\n        <div ng-include="\'organization/user-application.html\'" include-replace></div>\n      </div>\n    </div>\n  </div>\n  <div class="site_content content text-center" ds-loading="userProfile.loading"\n       ds-loading-succeeded="userProfile.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your user. Go ahead and try that again.\' | translate}}"></div>\n</div>';window.angular.module("templates").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t){var n="organization/user-application.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form class="p-top-large">\n  <form name="userProfile.applicationForm">\n      <div class="form-group" ng-if="!userProfile.isConnectedToAnyApplications()">\n          <table class="table">\n              <thead>\n              <tr>\n                  <th translate="Application Name"></th>\n                  <th translate="Permissions"></th>\n                  <th translate="Actions" class="text-right"></th>\n              </tr>\n              </thead>\n          </table>\n      </div>\n    <div class="form-group" ng-repeat="user in userProfile.users">\n      <div ng-if="user.user_status !== \'closed\'">\n          <div ng-if="userProfile.isUserConnectedToAnyApplications(user)">\n           <table class="table">\n           <div ng-if="userProfile.users.length > 1 && userProfile.isMutipleUserConnectedToAnyApplications()">\n               <h2 class="m-bottom-xx-small">{{ user.user_name }}:&nbsp;{{ user.site_name }}</h2>\n               <h4 class="m-bottom-small">\n                   <span translate="User ID:"></span> &nbsp;{{ user.id }}\n               </h4>\n           </div>\n            <thead>\n            <tr>\n              <th translate="Application Name"></th>\n              <th translate="Permissions"></th>\n              <th translate="Actions" class="text-right"></th>\n            </tr>\n            </thead>\n\n            <tbody>\n                <tr ng-repeat="connectedApplication in userProfile.connectedApplicationDictionary[user.id]">\n                  <td data-qa="user_connected_apps_app_name_td">{{::connectedApplication.name}}</td>\n                  <td data-qa="user_connected_apps_app_scope_td">{{::connectedApplication.scopes}}</td>\n                  <td class="text-right">\n                    <button class="btn btn-minor btn-icon" olive-menu="accountActions{{$parent.$index * 10 + $index}}" olive-menu-position="below right"\n                            ng-disabled="!userProfile.isSuperOrgAdmin"\n                            data-qa="user_application_actions_btn">\n                      <span class="icon icon-menu-overflow-vertical"></span>\n                      <span class="sr-text" translate="Actions"></span>\n                    </button>\n\n                    <div class="menu invisible" id="accountActions{{$parent.$index * 10 + $index}}">\n                      <ul>\n                        <li><a class="item" ng-click="userProfile.editApplication(user, connectedApplication)"\n                               radmin-logging="Page: Organization > Users > User Name > Applications (tab) > Actions"\n                               data-qa="user_application_action_edit"\n                               translate="Edit"></a></li>\n                        <li><a class="item" ng-click="userProfile.removeApplication(connectedApplication)"\n                               data-qa="user_connected_apps_actions_revoke_link"\n                               translate="Revoke"></a></li>\n                      </ul>\n                    </div>\n                  </td>\n                </tr>\n            </tbody>\n          </table>\n          </div>\n    </div>\n    </div>\n    <div class="emptyState" ng-if="loaded && !userProfile.isConnectedToAnyApplications()">\n      <i class="icon icon-menu-waffle emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p translate="This user does not have any authorized applications."></p>\n      </div>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/user-activity.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<h1>user activity</h1>")}]),e.exports=n},function(e,t){var n="organization/unlink-organization.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="UnlinkAccountController as orgAccount" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title"\n        data-qa="organization_unlink_account_header"\n        translate="Unlink Account"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content\n       data-qa="organization_unlink_account_message">\n    <div class="form_unit">\n      <p\n        translate="Are you sure you want to unlink this account from the organization?"></p>\n      <p\n        translate="By unlinking, this account will no longer be administered by the organization. All configurations associated to the organization will be lost."></p>\n    </div>\n    <div class="form_unit">\n      <label for="unlinkReason" class="label"\n             data-qa="organization_unlink_account_reason_label"\n             translate="Please type a reason for unlinking this account"\n             label-required="*"></label>\n      <input id="unlinkReason" type="text" class="input-text" ng-model="orgAccount.reason" ds-valid required\n             data-qa="organization_unlink_account_reason_txt"/>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button type="button"\n            data-qa="organization_unlink_account_confirm_btn"\n            translate="Confirm" class="btn btn-primary btn-lg" ds-form-submit="orgAccount.unlink()"\n            olive-modal-complete></button>\n    <button type="button"\n            data-qa="organization_unlink_account_cancel_btn"\n            translate="Cancel" class="btn btn-minor btn-lg" olive-modal-escape></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a){this._$scope=e,this._organizationService=t,this._oliveMessage=n,this._$translate=a,this._account=this._$scope.account,this._organization=this._$scope.organization}return e.prototype.unlink=function(){var e=this,t={accounts:[{account_id:this._account.account_id}]};this._organizationService.unlinkOrganizationAccounts(this._organization.id,t).then(function(t){e._oliveMessage.show(e._$translate.instant("Account unlinked successfully"),"unlinkSuccess","success"),e._$scope.refresh()},function(){e._oliveMessage.show(e._$translate.instant("There is an error unlink account from organization"),"unlinkError","error")})},e}();a.OrganizationModule.controller("UnlinkAccountController",["$scope","OrganizationService","oliveMessage","$translate",i])},function(e,t,n){e.exports=n.p+"images/Icon_OrgAdmin-Invitation_Gray.png"},function(e,t,n){var a="organization/review-invitation.html",i='<div class="section" ng-controller="ReviewInvitationController as review">\n  <div class="max-width-700 u-page-center u-text-center">\n    <img src="'+n(545)+'" height="100" width="100" class="m-bottom-medium" />\n    <h1 class="section-title" translate="Organization Administrator Activation"></h1>\n    <button class="btn btn-primary btn-lg m-top-medium m-bottom-medium"\n            ng-disabled="review.invalidInvitation || review.activating"\n            ng-class="{\'btn-loading\': review.activating}"\n            ng-click="review.accept()"\n            translate="Activate">\n      <span ng-if="review.activating" translate="Activating"></span>\n      <span ng-if="!review.activating" translate="Activate"></span>\n    </button>\n    <p translate="To activate your [[orgName]] administrator membership, click Activate. Once activated, your membership grants administration access to the [[orgName]] organization, providing centralized management of all linked accounts and users. Thank you for choosing DocuSign."\n      translate-interpolation="bracket"\n      translate-values="{\n        orgName: review.invitation.organization_name,\n        userName: review.userName,\n      }">\n    </p>\n  </div>\n</div>\n';window.angular.module("templates").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r,l){var c=this;this._$scope=e,this._organizationService=t,this._=n,this._$stateParams=a,this._appUser=i,this._$window=s,this._oliveMessage=o,this._$translate=r,this._$timeout=l,this.invalidInvitation=!1,this.activating=!1,this._organizationId=this._$stateParams.organization_id,this._organizationAdminId=this._$stateParams.org_admin_id,this._.isEmpty(this._organizationId)||this._.isEmpty(this._organizationAdminId)?this._showError():this._organizationService.getOrganizationInvitation(this._organizationId,this._organizationAdminId).then(function(e){c._appUser.currentAccountInfo.informationRetrieved.then(function(){c.userName=c._appUser.currentAccountInfo.userInformation.userName}),c.invitation=e},function(e){c._showError()})}return e.prototype.accept=function(){var e=this,t={organization_admin_status:"active",email:this._appUser.currentAccountInfo.userInformation.email,organization_permission_id:this.invitation.organization_permission_id};this.activating=!0,this._organizationService.updateOrganizationInvitation(this._organizationId,this._organizationAdminId,t).then(function(t){e._appUser.organizationAdminStatus="active",e._appUser.loadOrganizationPermissions().then(function(){e._$window.location.href="/redirectToAuth?goTo=organizationDashboard"})},function(t){var n=e._.get(t,"data.error"),a="";if(!e._.isEmpty(n))switch(n){case"unauthorized":a="Invalid user. Please log out and try again."}e._showError(a),e.activating=!1})},e.prototype._showError=function(e){void 0===e&&(e=""),this.invalidInvitation=!0,this._.isEmpty(e)&&(e="Invitation is no longer valid. Please contact the Organization Administrator."),this._oliveMessage.show(this._$translate.instant(e),"invitationError","error")},e}();a.OrganizationModule.controller("ReviewInvitationController",["$scope","OrganizationService","lodash","$stateParams","appUser","$window","oliveMessage","$translate","$timeout",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(4),s=n(14),o=n(238),r=function(){function e(e,t,n,a,i,o,r,l){this._$scope=e,this._=t,this._organizationService=n,this._$translate=a,this._$q=i,this._oliveMessage=o,this._oliveModal=r,this._UsageMessages=l,this.accessCode="",this.chargeMessage="",this.accessCodePattern=s.accessCodePattern,this._initialize()}return e.prototype.send=function(){var e=this,t={users:[{id:this.user.id,site_id:this.user.site_id,memberships:[{account_id:this.membership.account_id,send_activation:!0,access_code:this.accessCode}]}]};this._organizationService.resendInvitation(this._organizationId,t).then(function(){e._oliveMessage.show(e._$translate.instant(o.RESEND_SUCCESSFUL_MESSAGE),"invitation_sent_success","success")},function(t){e._oliveMessage.show(e._$translate.instant(o.RESEND_FAIL_MESSAGE),"invitation_sent_fail","error")}).finally(function(){e._oliveModal.closeAllModals()})},e.prototype._initialize=function(){var e=this;a.isEmpty(this._$scope.organizationId)||(this._organizationId=this._$scope.organizationId,this.user=this._$scope.user,this.membership=this._$scope.membership,"closed"===this.membership.membership_status&&this._organizationService.getAccountBilling(this.membership.account_id).then(function(t){e._pricingModel=t,e._showUsageWarning(e._pricingModel)}))},e.prototype._showUsageWarning=function(e){e.hasOneUserLeft()?this.chargeMessage=this._displayLastUserWarning(e):e.hasMetUserLimit()&&e.hasUnlimitedUsers()&&e.isChargedPerSeat()?this.chargeMessage=this._$translate.instant(this._UsageMessages.UserLimitReachedBillable,{price:e.pricePerSeat()}):e.hasMetUserLimit()&&!e.hasUnlimitedUsers()&&(this.chargeMessage=this._$translate.instant(this._UsageMessages.UserLimitReachedNotBillable),this._disableAdd=!0),this.chargeMessage&&this._oliveMessage.show({content:this.chargeMessage,name:"seatLimitMessage",type:"info",modal:!0})},e.prototype._displayLastUserWarning=function(e){var t="";return e.hasUnlimitedUsers()?e.isChargedPerSeat()&&(t=this._$translate.instant(this._UsageMessages.LastUserAndCannotUpgrade,{price:e.pricePerSeat()})):t=this._UsageMessages.LastUserOnLimitedUpgradablePlan,t},e}();i.OrganizationModule.controller("OrganizationResendInvitationController",["$scope","lodash","OrganizationService","$translate","$q","oliveMessage","oliveModal","UsageMessages",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(283),s=n(3),o=n(109),r=function(){function e(e,t,n,i,s,o,r,l,c,d){this._$scope=e,this._=t,this._organizationService=n,this._$state=i,this._$stateParams=s,this._$translate=o,this._dsUtilities=r,this._oliveMessage=l,this._featureNotificationService=c,this._userPermissions=d,this.domains=[],this.hasDefaultAccountID=!1,this.isSearching=!1,this.bulkActionNotificationText=this._userPermissions.canAccessOrganizationBulkAction()?a.BULK_ACTION_NOTIFICATION:"",this.showBulkActionNewIcon=!1,this.organizationId=this._$stateParams.organization_id;var u=this._$stateParams.error_code,p=this._$stateParams.error_params;this._.isEmpty(u)||this._showError(u,p),this._.isEmpty(this.organizationId)?this._$state.go("authenticated"):this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization,this._initDefaultAccountId(),this._getActiveDomains(),this.showBulkActionNewIcon=this._featureNotificationService.isNotificationOn(this.organizationId,a.TILE_KEYS.ORG_BULK_ACTION))}return e.prototype._getActiveDomains=function(){this._.isEmpty(this.organization.reserved_domains)||(this.domains=this._.filter(this.organization.reserved_domains,function(e){return"active"===e.status.toString().toLowerCase()})),this.canFilterByDomain=this.domains.length>0},e.prototype._initDefaultAccountId=function(){var e=this.organization.default_account_id===s.GUID_EMPTY?this._.head(this.organization.account_ids):this.organization.default_account_id;this.defaultAccountId=e||s.GUID_EMPTY,this.hasDefaultAccountID=this.defaultAccountId!==s.GUID_EMPTY},e.prototype._showError=function(e,t){var n=[];this._.isEmpty(t)||(n=t.split(","));var a=this._$translate.instant("We are having trouble loading the user, please try again.");switch(e.toString()){case i.ERROR_TYPES.invalid_user_email.toString():this._.isEmpty(n)||(a=this._$translate.instant("No results for {{email}}",{email:n[0]}))}this._oliveMessage.show(a,"userInvalidMessage","error")},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this.errorMessage=""},e.prototype.submitSearch=function(e){var t=this;e&&13!==e.keyCode||(this.errorMessage="",this.submittedSearch=this.searchPhrase,this.isValidEmail()&&(this.isSearching=!0,this._organizationService.getUserDetail(this.organizationId,this.submittedSearch).then(function(e){t._.isEmpty(e.users)||t._$state.go("authenticated.organization-user-profile",{organization_id:t.organizationId,email:t.submittedSearch}),t.errorMessage=t._$translate.instant("No results for '{{email}}'.",{email:t.submittedSearch})},function(e){}).finally(function(){t.isSearching=!1})))},e.prototype.isValidEmail=function(){this.submittedSearch=this.searchPhrase;var e=this._dsUtilities.isValidEmail(this.submittedSearch);return e||(this.errorMessage=this._$translate.instant("Enter a valid email address.")),e},e.prototype.createUser=function(){this._$state.go("authenticated.organization-create-user",{organization_id:this.organizationId})},e.prototype.filterByDomain=function(){var e=this._.head(this.domains),t={organization_id:this.organizationId};t[o.DOMAIN_FILTER_OPTION]=e.id,t[o.STATUS_FILTER_OPTION]="active",this._$state.go("authenticated.organization-manage-users",t)},e.prototype.filterByAccount=function(){var e={organization_id:this.organizationId};e[o.ACCOUNT_FILTER_OPTION]=this.defaultAccountId,e[o.STATUS_FILTER_OPTION]="active",this._$state.go("authenticated.organization-manage-users",e)},e}();a.OrganizationModule.controller("OrganizationUsersController",["$scope","lodash","OrganizationService","$state","$stateParams","$translate","dsUtilities","oliveMessage","FeatureNotificationService","userPermissions",r])},function(e,t){var n="organization/organization-user-new-membership.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationUserMembershipController as orgUserMembershipController" ds-form>\n  <div class="modal_header">\n    <h1 class="modal_title" data-qa="organization_edit_membership_header">{{ orgUserMembershipController.modalTitle }}</h1>\n  </div>\n\n  <div class="modal_content">\n    <form name="editMembershipForm">\n      <div class="fgrid">\n        <div class="fgrid_cell fgrid_cell-1-2">\n          <div class="form_unit" ng-if="orgUserMembershipController.isAddView ||  orgUserMembershipController.isReactivate">\n            <label for="accountList" class="label" translate="Account" label-required="*"></label>\n            <div class="select-wrap">\n              <select id="accountList" ng-model="orgUserMembershipController.selectedAccount" ds-valid required\n                      ng-disabled="orgUserMembershipController.isEdit" ng-change="orgUserMembershipController.loadByAccount()"\n                      ng-options="account as account.account_name_with_id for account in orgUserMembershipController.accounts"\n                      data-qa="add_user_membership_choose_acc">\n                <option translate="Choose an account"></option>\n              </select>\n            </div>\n          </div>\n          <dl class="def-list" ng-if="!orgUserMembershipController.isAddView && !orgUserMembershipController.isReactivate">\n            <dt translate="Status"></dt>\n            <dd ng-switch="orgUserMembershipController.membership.membership_status">\n              <i class="icon" ng-class="{\n              \'active\':\'icon-circle text-success\',\n              \'activationRequired\':\'icon-circle icon-pending\',\n              \'activationSent\':\'icon-circle icon-pending\',\n              \'closed\':\'icon-circleclosed\',\n              \'disabled\':\'icon-circleclosed\'\n            }[orgUserMembershipController.membership.membership_status]"></i>\n              <span class="hidden-sm-down" ng-switch-default translate="Pending"></span>\n              <span class="hidden-sm-down" ng-switch-when="active" translate="Active"></span>\n              <span class="hidden-sm-down" ng-switch-when="closed" translate="Closed"></span>\n              <span class="hidden-sm-down" ng-switch-when="disabled" translate="Closed"></span>\n            </dd>\n\n            <dt translate="API Username"></dt>\n            <dd>{{ orgUserMembershipController.user.id }}</dd>\n\n            <dt translate="Account"></dt>\n            <dd>{{ orgUserMembershipController.membership.account_name }}</dd>\n\n            <dt translate="Account ID"></dt>\n            <dd>{{ orgUserMembershipController.membership.external_account_id }}</dd>\n\n            <dt translate="External"></dt>\n            <dd>\n              <span translate="Yes" ng-if="orgUserMembershipController.membership.is_external_account"></span>\n              <span translate="No" ng-if="!orgUserMembershipController.membership.is_external_account"></span>\n            </dd>\n\n            <dt translate="Added Date"></dt>\n            <dd>\n              {{ orgUserMembershipController.membership.created_on | moment:orgUserMembershipController.dateTimeFormat:orgUserMembershipController.timeZone }}\n            </dd>\n\n            <dt translate="Site"></dt>\n            <dd>{{ orgUserMembershipController.user.site_name }}</dd>\n          </dl>\n          <div class="form_unit"\n               ng-class="{\'display-none\' : !orgUserMembershipController.selectedAccount}">\n            <label for="permissionList" class="label" translate="Permission Set" label-required="*"></label>\n            <div class="select-wrap">\n              <select id="permissionList" ds-valid required\n                      ng-model="orgUserMembershipController.selectedPermissionSet"\n                      ng-disabled="orgUserMembershipController.loading"\n                      ng-options="p as p.permission_profile_name for p in orgUserMembershipController.permissionProfiles"\n                      data-qa="organization_edit_membership_choose_perm">\n                <option translate="Choose a permission set"></option>\n              </select>\n            </div>\n\n            <div class="form_unit">\n              <label for="org_multiSelectGroup" class="label" translate="Groups"></label>\n              <div class="select-wrap">\n                <select olive-app-select2 multiple class="select-wrap" ng-disabled="orgUserMembershipController.loading"\n                        id="org_multiSelectGroup"></select>\n              </div>\n            </div>\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="orgUserMembershipController.membership.company" translate="Company"></label>\n            <input class="input-text input-md"\n                   id="orgUserMembershipController.membership.company"\n                   data-qa="organization_edit_membership_company_txb"\n                   ng-model="orgUserMembershipController.membership.company_name" />\n          </div>\n\n          <div class="form_unit">\n            <label class="label" for="orgUserMembershipController.membership.jobTitle" translate="Job Title"></label>\n            <input class="input-text input-md" id="orgUserMembershipController.membership.jobTitle"\n                   data-qa="organization_edit_membership_job_title_txb"\n                   ng-model="orgUserMembershipController.membership.job_title" />\n          </div>\n\n          <div class="form_unit" ng-if="orgUserMembershipController.isAddView">\n            <label class="label" for="phone2" translate="Phone Number"></label>\n            <input class="input-text input-md" id="phone2" ng-model="orgUserMembershipController.address.phone"\n                   data-qa="organization_edit_membership_phone" maxlength="20" />\n          </div>\n\n          <div class="form_unit" ng-if="orgUserMembershipController.showAutoActivateCheckbox">\n            <input id=\'auto-activate-membership\' class="cb_input"\n                   type="checkbox" ng-model=\'orgUserMembershipController.autoActivateMembership\'\n                   data-qa="organization_edit_membership_auto_activate_membership_checkbox" />\n            <label class="cb_label" for="auto-activate-membership"\n                   data-qa="organization_edit_membership_auto_activate_membership_label" translate="Auto-activate membership"></label>\n          </div>\n        </div>\n        <div class="fgrid_cell fgrid_cell-1-2">\n          <div class="form_unit" ng-if="!orgUserMembershipController.isAddView">\n            <label class="label" for="phone" translate="Phone Number"></label>\n            <input class="input-text input-md" id="phone" ng-model="orgUserMembershipController.address.phone"\n                   data-qa="organization_edit_membership_phone" maxlength="20" />\n          </div>\n\n          <div ng-switch on="orgUserMembershipController.addressFormat">\n            <div ng-switch-when="ja_jp">\n              <div ng-include="\'editMembershipAddress.postalCode\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.regionProvince\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.city\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.address\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.country\'" include-replace></div>\n            </div>\n            <div ng-switch-default>\n              <div ng-include="\'editMembershipAddress.address\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.city\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.country\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.regionProvince\'" include-replace></div>\n              <div ng-include="\'editMembershipAddress.postalCode\'" include-replace></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n\n    <script type="text/ng-template" id="editMembershipAddress.address">\n      <div class="form_unit">\n        <label class="label" for="address1" translate="Address 1"></label>\n        <input class="input-text input-md" id="address1" data-qa="organization_edit_membership_address1_txb" maxlength="100"\n               ng-model="orgUserMembershipController.address.street_address" />\n      </div>\n      <div class="form_unit">\n        <label class="label" for="address2" translate="Address 2"></label>\n        <input class="input-text input-md" id="address2" data-qa="organization_edit_membership_address2_txb" maxlength="100"\n               ng-model="orgUserMembershipController.address.street_address_2" />\n      </div>\n    <\/script>\n    <script type="text/ng-template" id="editMembershipAddress.city">\n      <div class="form_unit">\n        <label class="label" for="city" translate="City"></label>\n        <input class="input-text input-md" id="city" data-qa="organization_edit_membership_city_txb"\n               ng-model="orgUserMembershipController.address.locality" maxlength="100" />\n      </div>\n    <\/script>\n    <script type="text/ng-template" id="editMembershipAddress.regionProvince">\n      <div class="form_unit">\n        <label class="label" for="state" translate="{{orgUserMembershipController.stateLabel}}"></label>\n        <input class="input-text input-md" id="state" ng-show="!orgUserMembershipController.showStateList"\n               data-qa="organization_edit_membership_state_txb" maxlength="100"\n               ng-model="orgUserMembershipController.address.region" />\n\n        <div class="select-wrap input-md" ng-show="orgUserMembershipController.showStateList">\n          <select id="stateList" ng-options="k as v | translate for (k, v) in orgUserMembershipController.states"\n                  data-qa="organization_edit_membership_state_option" ng-model="orgUserMembershipController.address.region">\n            <option value="" translate="-- Select --"></option>\n          </select>\n        </div>\n      </div>\n    <\/script>\n    <script type="text/ng-template" id="editMembershipAddress.postalCode">\n      <div class="form_unit">\n        <label class="label" for="postal-code" translate="Postal Code"></label>\n        <input class="input-text input-md" id="postal-code" data-qa="organization_edit_membership_postal_code_txb"\n               maxlength="20" ng-model="orgUserMembershipController.address.postal_code" />\n      </div>\n    <\/script>\n    <script type="text/ng-template" id="editMembershipAddress.country">\n      <div class="form_unit">\n        <label class="label" for="editMembershipAddress.countries" translate="Country"></label>\n        <div class="select-wrap input-md">\n          <select id="editMembershipAddress.countries"\n                  ng-options="country.value as country.name for country in orgUserMembershipController.countries"\n                  ng-model="orgUserMembershipController.address.country" data-qa="organization_edit_membership_country_option"\n                  ng-change="orgUserMembershipController.changeCountry()">\n            <option value="" translate="-- Select --"></option>\n          </select>\n        </div>\n      </div>\n    <\/script>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" data-qa="organization_edit_membership_save_btn"\n            olive-button="btnEditMembership" olive-ng-button-is-loading="orgUserMembershipController.isSaving"\n            ds-form-submit="orgUserMembershipController.save()"\n            ng-disabled="orgUserMembershipController.disableSubmitButton(editMembershipForm)"\n            olive-button-text-replace="{{\'Saving\' | translate }}&hellip;">\n      {{ orgUserMembershipController.saveButtonText }}\n    </button>\n    <button class="btn btn-lg btn-minor" data-qa="organization_edit_membership_cancel_btn" olive-modal-escape\n            translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/organization-user-new-application.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationUserApplicationController as userApplication" ds-form>\n    <div class="modal_header" ng-switch="userApplication.isAddingNewConnectedApplication">\n      <h1 class="modal_title" ng-switch-when="true"\n          data-qa="user_add_connected_app_header"\n          translate="Add New Application"></h1>\n      <h1 class="modal_title" ng-switch-default\n          data-qa="user_edit_connected_app_header"\n          translate="Edit Application"></h1>\n    </div>\n\n    <div class="modal_content">\n      <div>\n        <div class="form_unit" ng-if="userApplication.isAddingNewConnectedApplication">\n          <div>\n          <label class="label" for="selected-client-application"\n                 translate="Select an application from your organization">\n          </label>\n          <div class="select-wrap">\n            <select id="selected-client-application" ng-model="userApplication.selectedApplication"\n                    ng-options="application.name for application in userApplication.availableApplications"\n                    data-qa="user_add_connected_app_select">\n              <option value="" selected translate="Select an application"></option>\n            </select>\n          </div>\n          </div>\n        </div>\n        <div ng-if="userApplication.users.length > 1">\n          <div class="form_unit" ng-if="userApplication.isAddingNewConnectedApplication && userApplication.selectedApplication">\n          <label class="label" for="selected-user"\n                 translate="Select a user">\n          </label>\n          <div class="select-wrap">\n            <select id="selected-user" ng-model="userApplication.selectedUser"\n                    ng-options="user.user_name for user in userApplication.availableApplicationMaps[userApplication.selectedApplication.client_id]"\n                    data-qa="user_add_connected_user_select">\n              <option value="" selected translate="Select an user"></option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="form_unit" ng-show="userApplication.selectedApplication && userApplication.selectedUser"\n         data-qa="user_add_edit_connected_app_info_div">\n      <dl class="def-list m-top-none">\n        <dt translate="User Name"></dt>\n        <dd>{{userApplication.selectedUser.user_name}}</dd>\n\n        <dt translate="User ID"></dt>\n        <dd>{{userApplication.selectedUser.id}}</dd>\n\n        <dt translate="Application Name"></dt>\n        <dd>{{userApplication.selectedApplication.name}}</dd>\n\n        <dt translate="Application ID"></dt>\n        <dd>{{userApplication.selectedApplication.client_id}}</dd>\n\n        <dt translate="Privacy Policy"></dt>\n        <dd ng-switch="userApplication.selectedApplication.privacy_policy.length > 0">\n          <a ng-switch-when="true" ng-href="{{userApplication.selectedApplication.privacy_policy}}" target="_blank">\n            {{userApplication.selectedApplication.privacy_policy}}\n          </a>\n          <span ng-switch-default translate="none"></span>\n        </dd>\n\n        <dt translate="Terms of Use"></dt>\n        <dd ng-switch="userApplication.selectedApplication.terms_of_use.length > 0">\n          <a ng-switch-when="true" ng-href="{{userApplication.selectedApplication.terms_of_use}}" target="_blank">\n            {{userApplication.selectedApplication.terms_of_use}}\n          </a>\n          <span ng-switch-default translate="none"></span>\n        </dd>\n      </dl>\n\n      <label for="client-application-scopes" class="label">\n      <span class="strong" label-required="*"\n            data-qa="user_add_edit_connected_app_permission_label"\n            translate="Permissions"></span>\n      </label>\n      <input id="client-application-scopes" type="text" class="input-text"\n             ng-model="userApplication.selectedApplication.scopes"\n             data-qa="user_add_edit_connected_app_permission_txt"/>\n      <p class="helper-text" translate="(space-delimited list of supported OAuth scopes)"></p>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete\n            ng-disabled="!userApplication.selectedApplication.scopes"\n            ng-switch="isAddingNewConnectedApplication"\n            ds-form-submit="userApplication.saveSelectedApplication()"\n            data-qa="user_add_edit_connected_app_save_btn">\n      <span ng-switch-when="true" translate="Add"></span>\n      <span ng-switch-default translate="Save"></span>\n    </button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="user_add_edit_connected_app_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(29),s="Add",o="Save",r="Add Membership",l="Edit Membership",c="Reactivate Membership",d=function(){function e(e,t,n,a,d,u,p,m,g,h,f,v,_){var b=this;if(this._$scope=e,this._=t,this._organizationService=n,this._$q=a,this._$translate=d,this._oliveMessage=u,this._UsageMessages=p,this._userPermissions=m,this._dsi18nlayer=g,this._countryStatePicker=h,this._dateTimeService=f,this._$timeout=v,this.configuration=_,this.selectedGroups=[],this.groups=[],this.isEdit=!1,this.isAddView=!1,this.chargeMessage="",this.modalTitle="",this.isSaving=!1,this.showStateList=!1,this.showAutoActivateCheckbox=!1,this.autoActivateMembership=!1,this.address={street_address:"",street_address_2:"",region:"",locality:"",fax:"",country:"",phone:"",postal_code:""},this.isReactivate=this._$scope.isReactivate,this._disableAdd=!1,this._originalGroups=[],this._initDateTimeProperties(f),this.addressFormat=this._dsi18nlayer.getAddressFormat(),this.countries=this._countryStatePicker.getCountries(),this.stateLabel=this._countryStatePicker.getStateLabel(),this._.isEmpty(this._$scope.accounts)||(this.accounts=this._.cloneDeep(this._$scope.accounts.sort(this._byAccountName))),this._.isEmpty(this._$scope.user)?this._.isEmpty(this._$scope.orgAddUserController)||(this.user=this._.cloneDeep(this._$scope.orgAddUserController)):this.user=this._.cloneDeep(this._$scope.user),this._.isEmpty(this._$scope.address)||(this.address=this._.cloneDeep(this._$scope.address),this.changeCountry()),this._.isEmpty(this._$scope.updateMembership)?(this.saveButtonText=this._$translate.instant(s),this.modalTitle=this._$translate.instant(r),this.isDefault=!1,this.membership={}):(this.isEdit=!0,this.membership=this._.cloneDeep(this._$scope.updateMembership,function(e){return e.created_on=i(e.created_on),e}),this.selectedAccount=this._.find(this.accounts,{account_id:this.membership.account.account_id}),this.loadByAccount().then(function(){b.membership.permissionSet&&(b.selectedPermissionSet=b._.find(b.permissionProfiles,{id:b.membership.permissionSet.id}))}),this.saveButtonText=this._$translate.instant(o),this.modalTitle=this._$translate.instant(this.isReactivate?c:l),this.isDefault=this.membership.isDefault),this.isAddView=!this.isEdit||this._.isEmpty(this.user.id),this._$scope.isExistingUser){var y=this._organizationService.currentOrg.organization,A=this._.find(y.reserved_domains,function(e){return"active"===e.status.toLowerCase()&&this._.endsWith(this._$scope.userEmail.toLowerCase(),e.host_name.toLowerCase())}.bind(this));if(null!==A&&void 0!==A){var S=this._.find(A.settings,{key:"require_identity_provider_auth"}).value;if(this.isAddView){var w="pending"===this._$scope.userProfile.userStatus.toLowerCase();this.showAutoActivateCheckbox=S&&w}else{var C="activationsent"===this.membership.membership_status.toLowerCase();this.showAutoActivateCheckbox=S&&C}if(this.showAutoActivateCheckbox){var P=this._.find(A.settings,{key:"auto_activate_memberships"}).value;this.autoActivateMembership=P}}}}return e.prototype.save=function(){if(this._$scope.addMembership&&this.selectedAccount&&this.selectedPermissionSet){var e={id:this.membership&&this.membership.id?this.membership.id:"",account:this.selectedAccount,permissionSet:this.selectedPermissionSet,groups:[],isDefault:this.isDefault,chargeMessage:this.chargeMessage,job_title:this.membership.job_title||"",company_name:this.membership.company_name||"",address:this.address};if(this.selectedGroups=this._getSelectedGroups(),this._.isEmpty(this.selectedGroups)){if("DS Admin"===this.selectedPermissionSet.permission_profile_name){var t=this._.find(this._originalGroups,{group_type:"adminGroup"});this._.isEmpty(t)||(e.groups=[t])}}else e.groups=this._.uniq(this.selectedGroups);this.isSaving=!0,this._$scope.addMembership(e,this.autoActivateMembership)}},e.prototype.changeCountry=function(){this.states=this._countryStatePicker.getStateList(this.address.country),this.stateLabel=this._countryStatePicker.getStateLabel(this.address.country),this.stateSelectLabel=this._countryStatePicker.getStateSelectLabel(this.address.country),this.showStateList=this._countryStatePicker.countryHasEnumeratedRegions(this.address.country)},e.prototype.loadByAccount=function(){var e=this;if(this._disableAdd=!1,this.chargeMessage="",this.selectedPermissionSet=void 0,this.loading=!0,this.permissionProfiles=[],this.groups=[],this.selectedGroups=[],this._oliveMessage.closeAll(),!this._.isEmpty(this.selectedAccount))return this._setGroupSelect(""),this._organizationService.getAccountBilling(this.selectedAccount.account_id).then(function(t){var n=[];return e.pricingModel=t,e.pricingModel.showMarketing()&&!e.isEdit&&(e._disableAdd=e._showUsageWarning(e.pricingModel)),!e._disableAdd||e.isEdit?n=[e._getPermissionSets(),e._getAccountGroups()]:e._setGroupSelect("noOptions"),e.isEdit&&!e._$scope.address&&n.push(e._getAddress()),e._$q.all(n).finally(function(){e.loading=!1})}).catch(function(){e._oliveMessage.show(e._$translate.instant("An error occurred while loading groups and permission sets, please try again."),"loadingGroupSAndPermissionsError","error"),e.loading=!1})},e.prototype.disableSubmitButton=function(e){return!(!this._disableAdd&&!this.loading)||e.$pristine&&(!this.isEdit||!this._isGroupUpdated())},e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getAddress=function(){var e=this;return this._organizationService.getOrganizationMembershipAddress(this._$scope.organizationId,this.selectedAccount.account_id,this.user.id).then(function(t){e.address=t,e.changeCountry()})},e.prototype._getSelectedGroups=function(){var e=$("#org_multiSelectGroup").first();if(e){var t=e.select2("data");return this._.map(t,function(e){return e&&e.id&&this._.find(this.groups,{group_id:parseInt(e.id)})}.bind(this))}return[]},e.prototype._getPermissionSets=function(){var e=this;if(!this._.isEmpty(this.selectedAccount))return this._organizationService.getPermissionProfiles(this.selectedAccount.account_id,this._userPermissions.isSuperOrganizationAdmin()).then(function(t){e.permissionProfiles=t.permission_profiles})},e.prototype._getAccountGroups=function(){var e=this;if(this._setGroupSelect(""),!this._.isEmpty(this.selectedAccount))return this._organizationService.getAccountGroups(this.selectedAccount.account_id,{start:0,take:500}).then(function(t){e._originalGroups=e._.cloneDeep(t.groups),e.groups=e._.filter(e._originalGroups,{group_type:"customGroup"}),e._appendOptions.call(e,e.groups)})},e.prototype._appendOptions=function(e){var t=$("#org_multiSelectGroup").first();t&&(e.length?(e.forEach(function(e){var n=new Option(e.group_name,e.group_id,!1,!1);t.append(n).trigger("change")}),this._setGroupSelect("loaded",t)):this._setGroupSelect("noOptions",t)),this._.isEmpty(this.membership.groups)||this._setExistingGroups(this.membership.groups)},e.prototype._isGroupUpdated=function(){var e=this.membership&&this.membership.groups?this.membership.groups.map(function(e){return e.group_id}):[],t=this.loading?[]:this._getSelectedGroups().map(function(e){return e.group_id});return!this._.isEqual(e.sort(),t.sort())},e.prototype._setGroupSelect=function(e,t){var n=t||$("#org_multiSelectGroup").first();if(n)switch(e){case"":case"loading":n.html("").select2({width:"100%",placeholder:this._$translate.instant("Loading Groups...")});break;case"loaded":n.select2({placeholder:this._$translate.instant("-- Search / Select --")});break;case"noOptions":n.select2({placeholder:this._$translate.instant("There are no groups available")})}},e.prototype._setExistingGroups=function(e){var t=this._.map(e,function(e){return e&&e.group_id&&e.group_id.toString()}.bind(this));$("#org_multiSelectGroup").first().val(t).trigger("change")},e.prototype._showUsageWarning=function(e){return this._oliveMessage.closeAll(),e.hasMetUserLimit()&&!e.hasUnlimitedUsers()?(this._displayInlineMessage(this._UsageMessages.UserLimitReachedNotBillable),!0):(e.hasOneUserLeft()?this._displayLastUserWarning(e):function(e){return e.hasMetUserLimit()&&e.hasUnlimitedUsers()&&e.isChargedPerSeat()}(e)&&(this.chargeMessage=this._displayInlineMessage(this._UsageMessages.UserLimitReachedBillable,{price:e.pricePerSeat()})),!1)},e.prototype._displayLastUserWarning=function(e){e.hasUnlimitedUsers()?e.isChargedPerSeat()&&this._displayInlineMessage(this._UsageMessages.LastUserAndCannotUpgrade,{price:e.pricePerSeat()}):this._displayInlineMessage(this._UsageMessages.LastUserOnLimitedUpgradablePlan)},e.prototype._displayInlineMessage=function(e,t){var n=this._$translate.instant(e,t);return this._oliveMessage.show({content:n,name:"seatLimitMessage",type:"info",modal:!0}),n},e.prototype._byAccountName=function(e,t){return e.account_name.toLowerCase()<t.account_name.toLowerCase()?-1:1},e}();a.OrganizationModule.controller("OrganizationUserMembershipController",["$scope","lodash","OrganizationService","$q","$translate","oliveMessage","UsageMessages","userPermissions","dsi18nlayer","countryStatePicker","DateTimeService","$timeout","configuration",d])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r){this._$scope=e,this._$stateParams=t,this._$state=n,this._organizationService=a,this._clientApplicationService=i,this._oliveModal=s,this._oliveMessage=o,this._$translate=r,this.availableApplications=[],this.availableApplicationMaps={},this.users=this._$scope.users,this.organizationId=this._$scope.organizationId,this.selectedUser=this._$scope.user,this.selectedApplication=this._$scope.updatedApplication,this.availableApplicationsPerUser=this._$scope.availableApplicationsPerUser,this.connectedApplicationsPerUser=this._$scope.connectedApplicationsPerUser,this.isAddingNewConnectedApplication=this._$scope.isAddingNewConnectedApplication,this.availableApplications=this._getAvailableApplications(),this.availableApplicationMaps=this._getAvailableApplicationMaps(),this.users&&1===this.users.length&&(this.selectedUser=this.users[0])}return e.prototype.saveSelectedApplication=function(){var e=this;this._updateClientApplication(this.selectedApplication).then(function(t){var n,a;200===t.status&&e._checkResponseScopesAreEqualToRequested(t.data,e.selectedApplication)?(n="Your application was successfully saved.",a="success"):(n="There was a problem saving your application.",a="error"),e._oliveMessage.closeAll(),e._oliveMessage.show({content:e._$translate.instant(n),name:"save-connected-app-message",type:a})})},e.prototype._getAvailableApplications=function(){var e=[];for(var t in this.availableApplicationsPerUser)for(var n=0,a=this.availableApplicationsPerUser[t];n<a.length;n++){var i=a[n];s(e,i)&&e.push(i)}return e;function s(e,t){for(var n=0,a=e;n<a.length;n++){if(a[n].client_id===t.client_id)return!1}return!0}},e.prototype._getAvailableApplicationMaps=function(){var e=this,t={};return this.availableApplications.forEach(function(n){e.users.filter(function(e){return"closed"!==e.user_status}).forEach(function(a){var i=e.connectedApplicationsPerUser[a.id];(function(e,t){if(null===t)return!1;return t.some(function(t){return e.client_id===t.client_id})})(n,i)||(t.hasOwnProperty(n.client_id)||(t[n.client_id]=[]),t[n.client_id].push(a))})}),t},e.prototype._checkResponseScopesAreEqualToRequested=function(e,t){return(e.scope&&e.scope.replace(/\s*/," ").trim())===(t.scopes&&t.scopes.replace(/\s*/," ").trim())},e.prototype._updateClientApplication=function(e){var t=e.client_id,n=e.scopes&&e.scopes.replace(/\s*/," ").trim();return this._clientApplicationService.updateUserClientApplication(this.selectedUser.id,t,n)},e}();a.OrganizationModule.controller("OrganizationUserApplicationController",["$scope","$stateParams","$state","OrganizationService","DocuSignAccountServerApiClientApplication","oliveModal","oliveMessage","$translate",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.UsageMessages={LastUserOnLimitedUpgradablePlan:"You are adding the last user included in your plan. If you choose to add more users after this one, you will need to upgrade your plan.",LastUserOnLimitedNonUpgradablePlan:"What to do about the last user on a non-upgradable plan.",LastUserAndCannotUpgrade:"You are adding the last user included in your plan. If you choose to add more users after this one, your account will be subject to charges of up to {{price}} per user",UserLimitReachedBillable:"You have reached the number of memberships included in this account's plan. If you choose to add new memberships to this account, your account will be subject to charges up to {{price}} per user.",UserLimitReachedNotBillable:"Unable to add membership as the maximum number of users for the account has been reached."},a.OrganizationModule.constant("UsageMessages",t.UsageMessages)},function(e,t){var n="organization/organization-summary.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="section-header">\n  <h1 class="header-title" translate="Organization"></h1>\n</div>\n<div class="section">\n  <dl class="def-list">\n    <dt translate="Organization Name"></dt>\n    <dd>{{ ::org.accountOrganization.name }}</dd>\n    <dt ng-if="org.accountOrganization.description" translate="Description"></dt>\n    <dd ng-if="org.accountOrganization.description">{{ ::org.accountOrganization.description }}</dd>\n  </dl>\n  <p class="text-muted">\n    <span>*</span>\n    <span translate="To unlink this account from the above Organization, or make other changes, contact an organization administrator."></span>\n  </p>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(4),s=n(104),o=n(357);t.permissionSetNames={"Organization Admin":"Organization","Delegated User Admin":"User"};var r=function(){function e(e,t,n,a,i,r,l,c,d,u,p){var m=this;this._api=e,this._accountServerApi=t,this._accountServerClientApplicationApi=n,this._=a,this._$q=i,this._storage=r,this._systemRoleNameMapper=l,this._userPricingPlan=c,this._auditTypes=d,this._auditEvents=u,this._$translate=p,this.currentOrg=null,this.currentAccount=null,this.crossSiteAccounts=[],this.organizations=[],this.initialized=!1,this._getAdminAccountsInOrg=function(e,t){var n=[];return m.crossSiteAccounts.forEach(function(a){m._.includes(t,a.id)&&(a.organization_id=e.id,a.organization_name=e.name,n.push(a))}),n},this._updateOrganizationAccountsCache=function(e,t){var n=m._.find(m.organizations,{id:e});if(!m._.isEmpty(n)){var a=m._.map(t,"account_id");n.adminAccountsInOrganization=m._getAdminAccountsInOrg(n.organization,a),m.currentOrg&&m.currentOrg.id===e&&(m.currentOrg=m._.cloneDeep(n)),m.saveState()}},this.getDefaultOrgAccount=function(e){return e.defaultOrgAccount||(e.defaultOrgAccount=m._.cloneDeep(m._.find(m.crossSiteAccounts,function(t){return t.id===e.organization.default_account_id}))),e.defaultOrgAccount},this.getOrganizationFromCache=function(e){if(m._.isEmpty(m.organizations)||m._.isEmpty(e))return null;var t=m._.find(m.organizations,{id:e});return m._.isEmpty(t)?null:m._.cloneDeep(t)},this.getAllAccounts=function(){var e=m._.flatten(m._.map(m.organizations,"adminAccountsInOrganization")),t=m._.filter(m.crossSiteAccounts,function(t){return!m._.some(e,{id:t.id})});return{organization:e,nonOrganization:t}},this.initialize=function(){return m._$q.all([m.getCrossSiteAccounts(),m.getOrganizationsByOrgAdmin()]).then(function(){m._.isEmpty(m.organizations)||m.organizations.forEach(function(e){e.adminAccountsInOrganization=m._getAdminAccountsInOrg(e.organization,e.organization.account_ids),m.getDefaultOrgAccount(e),e.isOrgAdmin&&m._$q.all([m.loadOrganizationPermissionProfiles(e.id),m.loadOrganizationEntitlements(e)]).then(function(){return m.saveState})}),m.initialized=!0,m.currentOrg&&(m.currentOrg=m._.find(m.organizations,{id:m.currentOrg.id})),m.saveState()},function(e){401===e.status&&(m.initializationError=401)})},this.loadOrganizationEntitlements=function(e){return e.entitlements={allow_delegated_user_administration:!1,allow_display_appliance:!1,allow_envelope_custody_transfer:!1,allow_external_membership_management:!1,allow_security_appliance:!1,allow_security_appliance_hsm:!1,allow_signing_appliance:!1,allow_storage_appliance:!1,allow_directory_provider:!1,allow_user_list_export:!1,allow_account_settings_export:!1},m.getOrganizationEntitlements(e.id).then(function(t){e.entitlements=t.entitlements}).catch(m._onError.bind(m))},this.loadOrganizationPermissionProfiles=function(e){return(m._.isEmpty(m.organizations)?m.getOrganizationsByAccount():m._$q.when(m.organizations)).then(function(){var t=m._.find(m.organizations,{id:e});return(m._.isUndefined(t)?m.getOrganizationById(e):m._$q.when(t)).then(function(t){return t?m._.isEmpty(t.permissionSets)?m.getOrganizationPermissions(e).then(function(e,t){e.permissionSets=t,this.currentOrg&&this.currentOrg.id===e.id&&this._.isUndefined(this.currentOrg.permissionSets)&&(this.currentOrg.permissionSets=t);return this.saveState(),t}.bind(m,t)).catch(m._onError.bind(m)):m._$q.when(t.permissionSets):m._$q.when([])})})},this.setCurrentAccount=function(e){if(!m._.isEmpty(m.crossSiteAccounts)){var t=m.getAllAccounts().organization,n=m._.find(t,{id:e});return m.currentOrg=n?m._.find(m.organizations,{id:n.organization_id}):null,m.currentAccount=m._.find(m.crossSiteAccounts,{id:e}),m.saveState(),m.currentAccount}},this.saveState=function(){m._storage.organizationService=m._.pick(m,["organizations","currentOrg","currentAccount","crossSiteAccounts"])},this.getOrganizationById=function(e){var t=m._api.organizationEndPoint().organizations(e).uri();return m._accountServerApi.get(t).then(function(e){return e.data},m._onError.bind(m))},this.postOrganization=function(e){var t=m._api.organizationEndPoint().organizations().uri();return m._accountServerApi.post(t,e).then(function(e){return e.data},m._onError.bind(m))},this.putOrganization=function(e,t){var n=m._api.organizationEndPoint().organizations(e).uri();return m._accountServerApi.post(n,t).then(function(e){return e.data},m._onError.bind(m))},this.getOrganizationsByAccount=function(){return m.getOrganizations("account_membership")},this.getOrganizationsByOrgAdmin=function(){return m.getOrganizations("org_admin")},this.putOrganizationAccounts=function(e,t){var n=m._api.organizationEndPoint().organizations(e).accounts().uri();return m._accountServerApi.post(n,t).then(function(e){return e.data},m._onError.bind(m))},this.getOrganizationAccounts=function(e){var t=m._api.organizationEndPoint().organizations(e).accounts().uri();return m._accountServerApi.get(t).then(function(t){var n=t.data.accounts||[];return m._updateOrganizationAccountsCache(e,n),n},m._onError.bind(m))},this.getOrganizations=function(e){var t=m._api.organizationEndPoint().organizations().uri({mode:e});return m._accountServerApi.get(t).then(function(t){if(!t.data)return[];var n=m._.cloneDeep(m._.sortBy(t.data.organizations,"name"));return n.forEach(function(t){var n=m._.findIndex(m.organizations,function(e){return e.id===t.id});if(n>-1){var a=m.organizations[n];a.organization=t,a.isOrgAdmin=a.isOrgAdmin||"org_admin"===e}else m.organizations.push({id:t.id,organization:t,isOrgAdmin:"org_admin"===e})}),n})},this.getAccountAdminAccounts=function(){var e=m._api.organizationEndPoint().accounts().uri({account_admin_type:"account_admin"});return m._accountServerApi.get(e).then(function(e){return m._.map(e.data.accounts,m._toAccountClientModel.bind(m))})},this.getCrossSiteAccounts=function(){var e=m._api.organizationEndPoint().accounts().uri({account_admin_type:"any"});return m.crossSiteAccountsLoaded=m._accountServerApi.get(e).then(function(e){var t=m._.map(e.data.accounts,m._toAccountClientModel.bind(m));return m._.isEmpty(t)||(m.crossSiteAccounts=m._.cloneDeep(t),m.saveState()),t},m._onError.bind(m)),m.crossSiteAccountsLoaded},this.getPermissionProfiles=function(e,t){void 0===t&&(t=!0);var n=m._api.organizationEndPoint().accounts(e).permissionProfiles().uri();return m._accountServerApi.get(n).then(function(e){var n=e.data?e.data.permission_profiles:[];return{permission_profiles:(t?n:n.filter(function(e){return!e.is_admin_permission})).map(function(e){return e.permission_profile_name=this._systemRoleNameMapper.map(e.permission_profile_name),e.isSystemRole=this._systemRoleNameMapper.isSystemRole(e.permission_profile_name),e}.bind(m))}},m._onError.bind(m))},this.unlinkOrganizationAccounts=function(e,t){var n=m._api.organizationEndPoint().organizations(e).accounts().uri();return m._accountServerApi.delete(n,t).then(function(t){var n=t.data.ids||[];return m._removeUnlinkedAccountId(n,e),n},m._onError.bind(m))},this.getOrganizationInvitations=function(e){var t=m._api.organizationEndPoint().organizations(e).adminInvitations().uri();return m._accountServerApi.get(t).then(function(e){return e.data},m._onError.bind(m))},this.getOrganizationInvitation=function(e,t){var n=m._api.organizationEndPoint().organizations(e).adminInvitations(t).uri();return m._accountServerApi.get(n).then(function(e){return e.data},m._onError.bind(m))},this.getOrganizationAdmins=function(e){var t=m._api.organizationEndPoint().organizations(e).admins().uri();return m._accountServerApi.get(t).then(function(e){return e.data},m._onError.bind(m))},this.sendOrganizationInvitation=function(e,t){var n=m._api.organizationEndPoint().organizations(e).adminInvitations().uri();return m._accountServerApi.post(n,t).then(function(e){return e.data},m._onError.bind(m))},this.updateOrganizationInvitation=function(e,t,n){var a=m._api.organizationEndPoint().organizations(e).adminInvitations(t).uri();return m._accountServerApi.post(a,n).then(function(e){return e.data},m._onError.bind(m))},this.updateOrganizationAdmin=function(e,t,n){var a=m._api.organizationEndPoint().organizations(e).admins(t).uri();return m._accountServerApi.post(a,n).then(function(e){return e.data},m._onError.bind(m))},this.deleteOrganizationInvitation=function(e,t){var n=m._api.organizationEndPoint().organizations(e).adminInvitations(t).uri();return m._accountServerApi.delete(n).catch(m._onError.bind(m))},this.getOrganizationUsers=function(e,t){m._.isEmpty(t.membership_status)||(t=m._toApiModel(t));var n=m._api.organizationEndPoint().organizations(e).users().uri(t);return m._accountServerApi.get(n).then(function(e){var t=e.data.users||[];return t=m._.map(t,m._toClientModel.bind(m)),e.data.users=t,e.data},m._onError.bind(m))},this.postOrganizationUsers=function(e,t){var n=m._api.organizationEndPoint().organizations(e).users().uri();return m._accountServerApi.post(n,t).then(function(e){return e.data},m._onError.bind(m))},this.getDomains=function(e){var t="/organizations/"+e+"/domains";return m._accountServerApi.get(t).then(function(e){return e.data},m._onError.bind(m))},this.getAccountGroups=function(e,t){var n=m._api.organizationEndPoint().accounts(e).groups().uri(t);return m._accountServerApi.get(n).then(function(e){return e.data},m._onError.bind(m))},this.getUserDetail=function(e,t){var n=m._api.organizationEndPoint().organizations(e).users().profile().uri({email:t});return m._accountServerApi.get(n).then(function(e){return e.data.users=m._.map(e.data.users,m._mapToUserDetail.bind(m))||[],e.data},m._onError.bind(m))},this.resendInvitation=function(e,t){var n=m._api.organizationEndPoint().organizations(e).users().profiles().uri();return m._accountServerApi.post(n,t).catch(m._onError.bind(m))},this.closeMemberships=function(e,t,n){var a=m._api.organizationEndPoint().organizations(e).users(t).accounts().uri();return m._accountServerApi.delete(a,n).then(function(e){return e.data},m._onError.bind(m))},this.forceActivateMembership=function(e,t,n,a){var i=m._api.organizationEndPoint().organizations(e).users(t).memberships(n).uri();return m._accountServerApi.put(i,a).then(function(e){return e.data},m._onError.bind(m))},this.getClientApplications=function(e){var t=m._api.organizationEndPoint().organizations(e).applications().uri();return m._accountServerApi.get(t).then(function(e){return e.data},m._onError.bind(m))},this.updateClientApplication=function(e,t,n){var a={consent_request_type:"organization",organization_id:e,client_id:t,scope:n||null};return m._accountServerClientApplicationApi.updateClientApplicationConsent(a).then(function(e){return e.data}).catch(m._onError.bind(m))},this.deleteOrganizationAdmin=function(e,t){var n=m._api.organizationEndPoint().organizations(e).admins(t).uri();return m._accountServerApi.delete(n).catch(m._onError.bind(m))},this.postUserProfiles=function(e,t){var n=m._api.organizationEndPoint().organizations(e).users().profiles().uri();return m._accountServerApi.post(n,t).catch(m._onError.bind(m))},this.getAccountBilling=function(e){var t=m._api.organizationEndPoint().accounts(e).seatsBillingCharge().uri();return m._accountServerApi.get(t).then(function(e){var t=e.data;return m._userPricingPlan(t,t)},m._onError.bind(m))},this.getAuditLogs=function(e,t){var n=m._api.organizationEndPoint().organizations(t).auditLogs().uri();return m._accountServerApi.post(n,e).then(function(e){return m._createAuditLogFromResponseModel(e.data)},m._onError.bind(m))},this.getAuditLogsByCorrelationId=function(e,t){var n=m._api.organizationEndPoint().organizations(t).correlatedAuditLogs(e).uri();return m._accountServerApi.post(n,{page:0,page_size:50}).then(function(e){return m._createAuditLogFromResponseModel(e.data)||[]},m._onError.bind(m))},this.getAvailableDirectoryProviders=function(e){var t=m._api.organizationEndPoint().organizations(e).directoryproviders().available().uri();return m._accountServerApi.get(t).then(function(e){return m._.map(e.data.providers,o.DirectoryProviderAvailableModel.create)})},this.getAllDirectoryProviders=function(e){var t=m._api.organizationEndPoint().organizations(e).directoryproviders().uri();return m._accountServerApi.get(t).then(function(e){return m._.map(e.data.providers,s.DirectoryProviderModel.create)})},this.saveDirectoryProvider=function(e,t,n){var a=m._api.organizationEndPoint().organizations(e).directoryproviders(t).uri();return m._accountServerApi.post(a,s.DirectoryProviderModel.toApiJson(n)).then(function(e){return e.data})},this.addDirectoryProvider=function(e,t){var n=m._api.organizationEndPoint().organizations(e).directoryproviders().uri();return m._accountServerApi.post(n,s.DirectoryProviderModel.toApiJson(t)).then(function(e){return e.data}).catch(m._onError.bind(m))},this.deleteDirectoryProvider=function(e,t){var n=m._api.organizationEndPoint().organizations(e).directoryproviders(t).uri();return m._accountServerApi.delete(n).catch(m._onError.bind(m))},this.getDirectoryProviderConsentUrl=function(e,t){var n=m._api.organizationEndPoint().organizations(e).directoryproviders(t).start().uri();return m._accountServerApi.get(n).then(function(e){return e.data})},this.deactivateDirectoryProvider=function(e,t){var n=m._api.organizationEndPoint().organizations(e).directoryproviders(t).deactivate().uri();return m._accountServerApi.post(n,null).then(function(e){return e.data})},this.clearUserIdentities=function(e){var t=e.organization_id,n=e.user_id,a={identity_provider_ids:e.identity_provider_ids},i=m._api.organizationEndPoint().organizations(t).users(n).identities().uri();return m._accountServerApi.delete(i,a).then(function(e){return e},m._onError.bind(m))},this.changeEmail=function(e,t){var n=m._api.organizationEndPoint().organizations(e).users().emailAddresses().uri();return m._accountServerApi.post(n,t).catch(m._onError.bind(m))},this.updateOrganization=function(e){var t=m._api.organizationEndPoint().organizations(e.id).uri();return m._accountServerApi.post(t,e).then(function(e){return e.data}).catch(m._onError.bind(m))},this.getOrganizationPermissions=function(e){var t=m._api.organizationEndPoint().organizations(e).permissions().uri();return m._accountServerApi.get(t).then(function(e){var t=e.data&&e.data.permissions||[];return m._.filter(t,m._permissionsWithValidNameOnly).sort(n)}).catch(m._onError.bind(m));function n(e,t){return e.name<t.name?-1:1}},this.getOrganizationPermissionById=function(e,t){var n=m._api.organizationEndPoint().organizations(e).permissions(t).uri();return m._accountServerApi.get(n).catch(m._onError.bind(m))},this.updateOrganizationPermission=function(e,t){var n=m._api.organizationEndPoint().organizations(e).permissions(t.id).uri();return m._accountServerApi.post(n,t).catch(m._onError.bind(m))},this.deleteOrganizationPermission=function(e,t){var n=m._api.organizationEndPoint().organizations(e).permissions(t).uri();return m._accountServerApi.delete(n).catch(m._onError.bind(m))},this.addOrganizationPermission=function(e,t){var n=m._api.organizationEndPoint().organizations(e).permissions().uri();return m._accountServerApi.post(n,t).catch(m._onError.bind(m))},this.getOrganizationEntitlements=function(e){var t=m._api.organizationEndPoint().organizations(e).entitlements().uri();return m._accountServerApi.get(t).then(function(e){return e.data})},this.getOrganizationMembershipAddress=function(e,t,n){var a=m._api.organizationEndPoint().organizations(e).accounts(t).users(n).address().uri();return m._accountServerApi.get(a).then(function(e){return e.data})},this.postOrganizationMembershipAddress=function(e,t,n,a){var i=m._api.organizationEndPoint().organizations(e).accounts(t).users(n).address().uri();return m._accountServerApi.post(i,a)},this.updateUsersToOrgAdmins=function(e,t){var n=m._api.organizationEndPoint().organizations(e).admins(t).applyAllUsers().uri();return m._accountServerApi.post(n,null).then(function(e){return e.data})},this._restoreState()}return e.prototype.getSelectedUser=function(){var e;return this._.isUndefined(this._selectedUser)||(e=this._selectedUser,this._selectedUser=void 0),e},e.prototype.setSelectedUser=function(e){this._selectedUser=e},e.prototype._mapToUserDetail=function(e){var t=this;return e.memberships.forEach(function(e){e.permission_profile_name=t._systemRoleNameMapper.map(e.permission_profile_name),e.created_on=a.utc(e.created_on)}),e.federated_status=e.federated_status||"RemoveStatus",e},e.prototype._toAccountClientModel=function(e){var t=this._.find(this.organizations,function(t){return t.organization&&this._.includes(t.organization.account_ids,e.id)}.bind(this)),n={organization_id:t?t.organization.id:"",organization_name:t?t.organization.name:this._$translate.instant("None")};return e=this._.defaults(e,n)},e.prototype._restoreState=function(){var e=this._storage.organizationService;this._.isObject(e)&&this._.assign(this,e)},e.prototype.loadOrganizationPermissionsAndAdminsByOrgId=function(e){var t=[this.loadOrganizationPermissionProfiles(e),this.getOrganizationAdmins(e)];return this._$q.all(t)},e.prototype._createAuditLogFromResponseModel=function(e){return(e.events||[]).map(function(e){return{id:e.id,dateTime:e.event_time,type:this._auditTypes[e.subject_type],event:function(e){var t=this._.find(this._auditEvents,{key:e});return t&&t.displayName||e}.call(this,e.event_type),status:"",userId:e.actor_id,userName:e.actor_properties.user_name,userEmail:e.actor_properties.email,attribute:"",ipAddress:e.actor_properties.ip_address,properties:e.event_properties,correlation_id:e.correlation_id,subject_id:e.subject_id,subject_type:e.subject_type,subject_changes:e.subject_changes,event_properties:e.event_properties}}.bind(this))},e.prototype._toApiModel=function(e){return this._.isEmpty(e.membership_status)||"pending"!==e.membership_status||(e.membership_status="activation_sent,activation_required"),e},e.prototype._toClientModel=function(e){if(!this._.isEmpty(e.membership_status)){var t=e.membership_status.toString().toLowerCase();!this._.isEmpty(t)&&this._.includes(["activation_sent","activation_required"],t)?e.membership_status="pending":e.membership_status=t}return e.created_on&&(e.created_on=a.utc(e.created_on)),e.membership_created_on&&(e.membership_created_on=a.utc(e.membership_created_on)),e},e.prototype._onError=function(e){return this._$q.reject(e)},e.prototype._removeUnlinkedAccountId=function(e,t){var n=this,a=this._.find(this.organizations,{id:t});a&&this._.get(a,"organization.account_ids")&&this._.remove(a.organization.account_ids,function(t){return n._.includes(e,t)}),this.saveState()},e.prototype._permissionsWithValidNameOnly=function(e){if(e.name=t.permissionSetNames[e.name],e.name&&e.name.length)return e},e}();i.OrganizationModule.service("OrganizationService",["dsApiClient","DocuSignAccountServerApiClient","DocuSignAccountServerApiClientApplication","lodash","$q","$sessionStorage","SystemRolesNameMapper","UserPricingPlanModel","AuditTypes","AuditEvents","$translate",r])},function(e,t){var n="organization/organization-resend-invitation.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationResendInvitationController as invitation">\n  <div ds-form>\n    <div class=\'modal_header\'>\n      <h1 data-qa="organization_resend_invitation_header"\n          translate="Access Code"></h1>\n    </div>\n\n    <div class=\'modal_content enter-access-code\'\n         data-qa="organization_resend_invitation_message">\n      <p translate="If you want, add a new access code for this user. You will need to communicate the following access code with the user so they can activate their account."></p>\n\n      <input type=\'text\' class=\'input-text\' ng-model=\'invitation.accessCode\'\n             maxlength="50"\n             ds-valid="regex"\n             ds-valid-regex="invitation.accessCodePattern"\n             data-qa="organization_resend_invitation_access_code_txt"/>\n    </div>\n\n    <div class=\'modal_footer\'>\n      <button class=\'btn btn-lg btn-primary\' ds-form-submit=\'invitation.send()\'\n              data-qa="organization_resend_invitation_send_btn"\n              translate="Send"></button>\n      <button class=\'btn btn-lg btn-minor\' olive-modal-escape\n              data-qa="organization_resend_invitation_cancel_btn"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.ORGANIZATION_COOKIE_NAME="docusign.org",t.FeatureList={org_bulkaction:{default:!0,days:30}};var i=function(){function e(e,t,n){this._$cookieStore=e,this._=t,this._configuration=n}return e.prototype.initFeatureNotification=function(e){var n,a=this;if(this._configuration.featureFlags.enableOrganizationUserListExport){if(this.features=this._.cloneDeep(t.FeatureList),!e)return this.features;var i=this._$cookieStore.get(t.ORGANIZATION_COOKIE_NAME)||[],s=this._organizationCookies(i,e),o=[],r=new Date;for(var l in this._.remove(s.settings,function(e){return!a.features[e.key]}),this.features){var c=this._.find(s.settings,{key:l});if(c)this.features[l].display=!c.value.expired&&r.getDate()<c.value.expire_date;else{var d={key:l,value:{expired:!1,expire_date:(new Date).setDate(r.getDate()+this.features[l].days)}};this.features[l].display=!0,o.push(d)}}o.length&&((n=s.settings).push.apply(n,o),this._.remove(i,function(t){return t.organization_id===e}),i.push(s)),this._$cookieStore.put(t.ORGANIZATION_COOKIE_NAME,i)}},e.prototype.killNotification=function(e,t){this.features&&this.features[t]&&this.features[t].display&&(this.features[t].display=!1,this._killNotificationInCookies(e,t))},e.prototype.isNotificationOn=function(e,t){return this.features||this.initFeatureNotification(e),this.features&&this.features[t]&&this.features[t].display},e.prototype._killNotificationInCookies=function(e,n){var a=this._$cookieStore.get(t.ORGANIZATION_COOKIE_NAME)||[],i=this._.find(a,{organization_id:e});if(i){var s=this._.find(i.settings,{key:n});s&&s.value&&!this._.isUndefined(s.value.expired)&&(s.value.expired=!0,this._$cookieStore.remove(t.ORGANIZATION_COOKIE_NAME),this._$cookieStore.put(t.ORGANIZATION_COOKIE_NAME,a))}},e.prototype._organizationCookies=function(e,t){return this._.find(e||[],{organization_id:t})||{organization_id:t,settings:[]}},e}();t.FeatureNotificationService=i,a.OrganizationModule.service("FeatureNotificationService",["$cookieStore","lodash","configuration",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e){this._$q=e}return e.prototype.onError=function(e){return this._$q.reject(e)},e}();t.OrganizationErrorHandlerService=i,a.OrganizationModule.service("OrganizationErrorHandlerService",["$q",i])},function(e,t){var n="organization/organization-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationDetailsController as details" ds-form>\n  <div class="site_toolbar toolbar">\n    <div class="toolbar_wrap">\n      <div class="crumbs p-horizontal-none">\n        <ul class="crumbs_list">\n          <li class="crumbs_listItem">\n            <a class="crumbs_item"\n                ui-sref="authenticated.organization-dashboard({organization_id: details.organizationId})"> {{\n              details.organization.name }}</a>\n          </li>\n          <li class="crumbs_listItem">\n            <span class="crumbs_item" translate="Organization"></span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div class="section">\n    <div class="col-1-3">\n      <h1 data-qa="organization_details_header" class="m-top-medium">{{ details.organization.name }}</h1>\n    </div>\n  </div>\n  <form class="section" name="details.profileForm">\n    <div class="form_unit">\n      <label class="label" for="textInputOrganizationName" label-required="*"\n             data-qa="organization_details_org_name_label" \n             translate="Organization Name"></label>\n      <input class="input-text input-md" type="text" id="textInputOrganizationName"\n             ng-model="details.organizationModel.name"\n             maxlength="256" ds-valid required \n             data-qa="organization_details_org_name_input"/>\n    </div>\n    <div class="form_unit">\n      <label class="label"\n          data-qa="organization_details_org_id_label" \n          translate="Organization ID"></label>\n        </br>\n        <label\n          data-qa="organization_details_org_id">\n          {{ details.organization.id }}\n        </label>\n    </div>\n    <div class="form_unit">\n      <label class="label" for="textInputOrganizationDescription" data-qa="organization_details_org_detail_label" translate="Description"></label>\n      <textarea class="input-textarea input-md" id="textInputOrganizationDescription"\n                ng-model="details.organizationModel.description"\n                maxlength="256" ds-valid\n                data-qa="organization_details_org_detail_input" />\n    </div>\n  </form>\n  <div class="section">\n    <button type="submit" ds-form-submit="details.save()" class="btn btn-lg btn-primary" data-qa="organization_details_submit_button">\n      <span ng-if="details.saving"><span translate="Saving"></span>&hellip;</span>\n      <span ng-if="!details.saving" translate="Update"></span>\n    </button>\n    <button type="button" class="btn btn-lg btn-minor" ng-click="details.reset()"\n            data-qa="organization_details_cancel_button"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s){if(this._$translate=e,this._organizationService=t,this._=n,this._$state=a,this._$stateParams=i,this._oliveMessage=s,this.saving=!1,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId))return this._$state.go("authenticated");this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization,this._initOrganizationModel())}return e.prototype.reset=function(){this._initOrganizationModel(),this.profileForm.$setPristine()},e.prototype.save=function(){this.saving=!0,this._saveOrganization()},e.prototype._saveOrganization=function(){var e=this;this._organizationService.updateOrganization(this.organizationModel).then(function(t){e._organizationService.currentOrg.organization=e.organization=t,e._oliveMessage.show(e._$translate.instant("Organization profile has been updated."),"organizationProfileUpdateSuccess","success")}).catch(function(){e._oliveMessage.show(e._$translate.instant("An error occurred while updating organization profile. Please try again."),"organizationProfileUpdateError","error")}).finally(function(){e.saving=!1})},e.prototype._initOrganizationModel=function(){this.organizationModel=this._.cloneDeep(this.organization)},e}();a.OrganizationModule.controller("OrganizationDetailsController",["$translate","OrganizationService","lodash","$state","$stateParams","oliveMessage",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i="../images/",s=function(){function e(e,t,n,a,i,s,o,r,l,c){if(this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._$stateParams=i,this._$translate=s,this._appUser=o,this._userPermissions=r,this._featureNotificationService=l,this._configuration=c,this.tiles=[],this._organizationId=this._$stateParams.organization_id,!this._.isEmpty(this._organizationId)){var d=this._.find(this._organizationService.organizations,{id:this._organizationId});d?(this._organizationService.currentOrg=d,this.organization=d.organization,this.entitlements=d.entitlements,this._organizationService.currentAccount=this._organizationService.getDefaultOrgAccount(d),this.initializeTiles()):this._$state.go("authenticated")}}return e.prototype.initializeTiles=function(){this.tiles=[{allowed:this._canManageOrganizationUsers(),title:"Users",icon:i+"users-blue.png",goTo:this._goToOrganizationUsers.bind(this),dataqa:"orgAdmin_users_tile"},{allowed:this._canManageOrganizationUsers(),title:"Accounts",icon:i+"accounts-blue.png",goTo:this._goToOrganizationAccounts.bind(this),dataqa:"orgAdmin_accounts_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Identity Providers",icon:i+"providers-blue.png",goTo:this._goToIdentityProviders.bind(this),dataqa:"orgAdmin_ips_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Domains",icon:i+"domains-blue.png",goTo:this._goToDomains.bind(this),dataqa:"orgAdmin_domains_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Applications",icon:i+"connected-apps-blue.png",goTo:this._goToConnectedApplications.bind(this),dataqa:"orgAdmin_apps_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Organization Admins",icon:i+"org-admins-blue.png",goTo:this._goToOrganizationAdmins.bind(this),dataqa:"orgAdmin_org_admins_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Audit Logs",icon:i+"audit-logs-blue.png",goTo:this._goToAuditLogs.bind(this),dataqa:"orgAdmin_audit_logs_tile"},{allowed:this._isSuperOrganizationAdmin(),title:"Organization",icon:i+"org-details.png",goTo:this._goToOrganizationDetails.bind(this),dataqa:"orgAdmin_org_info_tile"},{allowed:this._canAccessOrganizationEnvelopeTransfer(),title:"Envelope Transfer",icon:i+"envelope-transfer.svg",goTo:this._goToEnvelopeTransfer.bind(this),dataqa:"orgAdmin_envelope_transfer_tile"},{allowed:this._isSuperOrganizationAdmin()&&this.allowApplianceManagement(),title:"Appliance Pools",icon:i+"appliance-pool-1x.png",goTo:this._goToAppliancePools.bind(this),dataqa:"orgAdmin_appliance_pools_tile"},{allowed:this._isSuperOrganizationAdmin()&&this.allowDirectoryProviderManagement(),title:"Directory Providers",icon:i+"directory-routing-blue.png",goTo:this._goToDirectoryProviders.bind(this),dataqa:"orgAdmin_directory_providers_tile"},{key:a.TILE_KEYS.ORG_BULK_ACTION,allowed:this._canManageBulkActions(),title:"Bulk Actions",icon:i+"bulk-actions.svg",goTo:this._goToBulkActions.bind(this),dataqa:"orgAdmin_bulk_actions"}]},e.prototype._goToOrganizationAccounts=function(){this._$state.go("authenticated.organization-accounts",{organization_id:this._organizationId})},e.prototype._goToOrganizationUsers=function(){this._$state.go("authenticated.organization-users",{organization_id:this._organizationId})},e.prototype._goToOrganizationAdmins=function(){this._$state.go("authenticated.organization-manage-admins",{organization_id:this._organizationId})},e.prototype._goToIdentityProviders=function(){this._$state.go("authenticated.organization-identity-providers",{organization_id:this._organizationId})},e.prototype._goToDomains=function(){this._$state.go("authenticated.organization-domains",{organization_id:this._organizationId})},e.prototype._goToConnectedApplications=function(){this._$state.go("authenticated.organization-connected-applications",{organization_id:this._organizationId})},e.prototype._goToAuditLogs=function(){this._$state.go("authenticated.organization-audit-log",{organization_id:this._organizationId})},e.prototype._goToDirectoryProviders=function(){this._$state.go("authenticated.organization-directory-providers",{organization_id:this._organizationId})},e.prototype._goToAppliancePools=function(){this._$state.go("authenticated.organization-appliance-pools-dashboard",{organization_id:this._organizationId})},e.prototype._goToOrganizationDetails=function(){this._$state.go("authenticated.organization-details",{organization_id:this._organizationId})},e.prototype._goToEnvelopeTransfer=function(){this._$state.go("authenticated.organization-envelope-transfer",{organization_id:this._organizationId})},e.prototype._goToBulkActions=function(){this._$state.go("authenticated.organization-bulk-actions",{organization_id:this._organizationId})},e.prototype._isSuperOrganizationAdmin=function(){return this._userPermissions.isSuperOrganizationAdmin()},e.prototype._canManageBulkActions=function(){return this._userPermissions.canAccessOrganizationBulkAction()},e.prototype._canManageOrganizationUsers=function(){return this._userPermissions.canManageOrganizationUsers()},e.prototype._canAccessOrganizationEnvelopeTransfer=function(){return this.entitlements.allow_envelope_custody_transfer&&this._isSuperOrganizationAdmin()},e.prototype.displayNewBadge=function(e){return void 0===e&&(e=""),e&&this._featureNotificationService.isNotificationOn(this._organizationId,e)},e.prototype.allowApplianceManagement=function(){return this._userPermissions.canManageAppliances()},e.prototype.allowDirectoryProviderManagement=function(){return this._userPermissions.canManageProviders()},e}();t.OrganizationDashboardController=s,a.OrganizationModule.controller("OrganizationDashboardController",["$scope","OrganizationService","lodash","$state","$stateParams","$translate","appUser","userPermissions","FeatureNotificationService","configuration",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r){this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._oliveModal=i,this._$q=s,this._appUser=o,this._userPermissions=r,this.organizations=[],this.accounts=[],this.organizationsToLink=[],this.loaded=this._initialize()}return e.prototype._initialize=function(){var e=this;this._.isNumber(this._organizationService.initializationError&&!this._appUser.SSO_v1)&&this._$state.go("logout");var t=[this._organizationService.getOrganizationsByAccount()];return this._organizationService.initialized||"active"!==this._appUser.organizationAdminStatus||t.push(this._organizationService.initialize()),this._$q.all(t).then(function(){if(!e._.isEmpty(e._organizationService.organizations)){var t=e._.cloneDeep(e._organizationService.organizations),n=e._getCurrentOrganization(t);if(n&&(e._organizationService.currentOrg=n),e._.isEmpty(e._organizationService.organizations)||(e.organizations=e._.map(t,"organization")),n&&!0===n.isOrgAdmin)(e._appUser.currentOrganizationAdminUser?e._$q.when():e._appUser.loadOrganizationPermissions()).then(function(){e._.isEmpty(e.accountOrganization)?e._.isEmpty(n)||e._$state.go("authenticated.organization-dashboard",{organization_id:n.id}):(e._organizationService.currentAccount=e._.find(e._organizationService.crossSiteAccounts,{id:e._appUser.getCurrentAccountId()}),e._organizationService.saveState(),e._$state.go("authenticated.organization-dashboard",{organization_id:e.accountOrganization.id}))});else(function(e,t){var n=t.currentAccount.organization;return e.isSuperAdmin()&&(!n||!n.organization_id)})(e._userPermissions,e._appUser)&&e._organizationsToLink.call(e)}},function(e){})},e.prototype._getCurrentOrganization=function(e){var t=this;this.accountOrganization={};var n=null;if(e.forEach(function(e){if(e.organization.account_ids&&t._.includes(e.organization.account_ids,t._appUser.getCurrentAccountId()))return t.accountOrganization=e.organization,void(n=e)}),this._.isEmpty(n)&&this._$state.is("authenticated.organization-main-dashboard")&&!this._.isEmpty(e)){var a=this._.find(e,{isOrgAdmin:!0});n=a||null}return n},e.prototype._organizationsToLink=function(){var e=this,t=this._appUser.organizationAdmins&&this._appUser.organizationAdmins.organizationAdminUsers||[];function n(e,t){!this._.isUndefined(t)&&t.settings.organization_admin&&this.organizationsToLink.push(e)}this.organizations.forEach(function(a){var i=e._.find(t,{organizationId:a.id});i?n.call(e,a,i.permissionProfile):e._organizationService.loadOrganizationPermissionsAndAdminsByOrgId(a.id).then(function(t){var i=t[0].permissions,s=e._.find(t[1].admins,{user_id:e._appUser.currentAccount.userId});if(s&&"active"===s.organization_admin_status&&!e._.isEmpty(s.organization_permission_id)){var o=e._.find(i,{id:s.organization_permission_id});n.call(e,a,o)}})})},e.prototype.canCreateOrg=function(){return this._userPermissions.canAccessOrganization()&&this._userPermissions.isSuperAdmin()},e.prototype.goToCreate=function(){this.canCreateOrg()&&this._$state.go("authenticated.organization-create")},e.prototype.isAssociatedToOrg=function(){return this.accountOrganization&&!this._.isEmpty(this.accountOrganization.id)},e.prototype.showOrganizations=function(){var e=this._$scope.$new();e.organizations=this.organizationsToLink,this._oliveModal.openModal({scope:e,templateUrl:"organization/join-organization.html",showClose:!0})},e}();a.OrganizationModule.controller("OrganizationController",["$scope","OrganizationService","lodash","$state","oliveModal","$q","appUser","userPermissions",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,i,s,o){this._$scope=e,this._$stateParams=t,this._$state=n,this._organizationService=i,this._oliveModal=s,this._oliveMessage=o,this.organizationId=this._$stateParams.organization_id;var r=function(e,t){return e&&e.id===t?e.organization:null}(this._organizationService.currentOrg,this.organizationId);return this.organizationName=r&&r.name,void(this.organizationId?this.organizationName?this.loading=this._refreshClientApplications():this._$state.go(a.AUTHENTICATED_STATE.Organization.Dashboard,{organization_id:this.organizationId}):this._$state.go(a.AUTHENTICATED_STATE.Organization.Main))}return e.prototype.displayAdd=function(){this.selectedApplication=null;var e=this._$scope.$new();e.isAddingNewConnectedApplication=!0,this._oliveModal.openModal({name:"add-connected-application",scope:e,templateUrl:"organization/add-edit-connected-application.html",showClose:!0,size:"md",onComplete:this._saveSelectedApplication.bind(this)})},e.prototype.displayEdit=function(e){this.selectedApplication=e;var t=this._$scope.$new();this._oliveModal.openModal({name:"edit-connected-application",scope:t,templateUrl:"organization/add-edit-connected-application.html",showClose:!0,size:"md",onComplete:this._saveSelectedApplication.bind(this)})},e.prototype.remove=function(e){e.scopes=null,this.loading=this._updateClientApplication(e).then(this._refreshClientApplications.bind(this)),this.loading.then(this._displayRemoveMessageForApplication(e))},e.prototype._saveSelectedApplication=function(){this.loading=this._updateClientApplication(this.selectedApplication).then(this._refreshClientApplications.bind(this)),this.loading.then(this._displaySaveMessageForApplication(this.selectedApplication))},e.prototype._displaySaveMessageForApplication=function(e){var t=this;return function(){var n,a;switch(t.connectedApplications.some(function(t){return t.client_id===e.client_id})){case!0:n="Your application was successfully saved.",a="success";break;default:n="There was a problem saving your application.",a="error"}t._oliveMessage.closeAll(),t._oliveMessage.show({content:n,name:"save-connected-app-message",type:a})}},e.prototype._displayRemoveMessageForApplication=function(e){var t=this;return function(){var n,a;switch(t.availableApplications.some(function(t){return t.client_id===e.client_id})){case!0:n="Your application was successfully removed.",a="success";break;default:n="There was a problem removing your application.",a="error"}t._oliveMessage.closeAll(),t._oliveMessage.show({content:n,name:"remove-connected-app-message",type:a})}},e.prototype._refreshClientApplications=function(){return this._organizationService.getClientApplications(this.organizationId).then(function(e){var t=e.organization_applications.reduce(function(e,t){return function(e){return e.organization_id&&e.scopes}(t)&&e.connected.push(t),function(e){return e.organization_id&&!e.scopes}(t)&&e.available.push(t),e},{connected:[],available:[]});this.connectedApplications=t.connected,this.availableApplications=t.available}.bind(this))},e.prototype._updateClientApplication=function(e){var t=e.client_id,n=e.scopes&&e.scopes.replace(/\s*/," ").trim();return this._organizationService.updateClientApplication(this.organizationId,t,n)},e}();a.OrganizationModule.controller("OrganizationConnectedApplicationsController",["$scope","$stateParams","$state","OrganizationService","oliveModal","oliveMessage",i])},function(e,t){var n="organization/organization-admins.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management" ng-controller="OrganizationAdminsController as manage" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: manage.organizationId})"> {{ manage.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Admins"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 data-qa="org_admins_header" translate="Organization Admins"></h1>\n      </div>\n      <ds-filter-controls filterable="manage" searchable="manage">\n        <div class="form-group">\n          <label class="label" for="status" translate="Status"></label>\n          <div ng-repeat="option in manage.statusFilterOptions" class="inline-input cb" id="status">\n            <input id="status-{{option.name}}" class="cb_input" type="checkbox" ng-model="option.value"\n                   data-qa="org_admins_search_filter_status_{{option.name}}_cb">\n            <label class="cb_label" for="status-{{option.name}}" data-qa="org_admins_search_filter_status_{{option.name}}_cb_lbl">\n              {{option.name | translate}}\n            </label>\n          </div>\n        </div>\n      </ds-filter-controls>\n    </div>\n    <div class="grid header-action u-float-left">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary"\n                data-qa="org_admins_create_admin_btn"\n                translate="Add Admin" ng-click="manage.createAdmin()"></button>\n      </div>\n      <ds-page-controls pageable="manage"></ds-page-controls>\n    </div>\n  </div>\n  <ds-filter-applied filterable="manage"></ds-filter-applied>\n  <table class="table">\n    <thead>\n    <tr data-qa="org_admins_tr">\n      <th translate="Name"></th>\n      <th translate="Email"></th>\n      <th translate="Permission Set"></th>\n      <th translate="Status"></th>\n      <th translate="Actions" class="text-right"></th>\n    </tr>\n    </thead>\n    <tbody ng-if="manage.loaded">\n    <tr ng-repeat="admin in manage.list | orderBy: \'user_name\'">\n      <td data-qa="org_admins_user_name">{{ admin.user_name }}</td>\n      <td data-qa="org_admins_user_email">{{ admin.email }}</td>\n      <td>{{admin.organization_permission_name}}</td>\n      <td ng-switch="admin.organization_admin_status">\n        <span ng-switch-when="invitation_sent" translate="Pending"></span>\n        <span ng-switch-when="active" translate="Active"></span>\n      </td>\n      <td class="text-right">\n        <button olive-menu="adminActions{{$index}}" olive-menu-position="below right" class="btn btn-md btn-icon"\n                ng-if="manage.hasMenuActions(admin)" data-qa="org_admins_actions_btn">\n          <span class="icon icon-ellipsis-horiz" aria-hidden="true"></span>\n          <span class="sr-text" translate="Actions"></span>\n        </button>\n        <div class="menu invisible" id="adminActions{{$index}}">\n          <ul>\n            <li><a class="item" ng-click="manage.edit(admin)"\n                   ng-if="manage.canEditMembership(admin)"\n                   translate="Edit"></a></li>\n            <li><a class="item" ng-if="manage.isPending(admin)" ng-click="manage.resend(admin, $index)"\n                   data-qa="org_admins_action_resendInv"\n                   translate="Resend invitation"></a></li>\n            <li><a class="item" ng-if="manage.isPending(admin)"\n                   data-qa="org_admins_action_deleteInv"\n                   translate="Delete invitation"\n                   ng-click="manage.deleteInvitation(admin)"></a></li>\n            <li><a class="item" ng-if="manage.canRemove(admin)"\n                   data-qa="org_admins_action_remove"\n                   translate="Remove"\n                   ng-click="manage.deleteAdmin(admin)"></a></li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div class="section" ng-if="manage.loaded">\n    <div class="grid action-row">\n      <ds-page-controls pageable="manage"></ds-page-controls>\n    </div>\n  </div>\n  <div ds-loading="manage.loading" ds-loading-succeeded="manage.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization admins. Go ahead and try that again.\' | translate}}"></div>\n\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o){var r=this;this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._appUser=i,this._$q=s,this._$translate=o,this._.isEmpty(this._organizationService.organizations)?(this.accounts=this._getAllAccounts(),this.loading=this._$q.when()):this.loading=this._organizationService.initialize().then(function(){r.organizations=r._.cloneDeep(r._organizationService.organizations),r.orgAdminOrganizations=r._.filter(r.organizations,{isOrgAdmin:!0}),r.accounts=r._getAllAccounts()})}return e.prototype._getAllAccounts=function(){var e=this._organizationService.getAllAccounts();return this._.union(e.organization,e.nonOrganization)},e.prototype.goToOrg=function(e){var t=this;this._organizationService.currentOrg=e,this._appUser.loadOrganizationPermissions().then(function(){t._$state.go("authenticated.organization-dashboard",{organization_id:e.id})})},e.prototype.goToAccount=function(e){var t=this;return this._appUser.setCurrentAccount(e.id).then(function(){!t._.isEmpty(e.organization_id)&&t._.some(t.organizations,{id:e.organization_id})?t._organizationService.currentOrg=t._.find(t.organizations,{id:e.organization_id}):t._organizationService.currentOrg=null,t._$state.go("authenticated.account-admin",null,{reload:!0})})},e.prototype.organizationName=function(e){var t=this;if(e.organization_id)return e.organization_name;var n="";return this._organizationService.organizations.forEach(function(a){(t._.includes(a.organization.account_ids,e.id)||a.organization.default_account_id===e.id)&&(n=a.organization.name)}),n||this._$translate.instant("None")},e}();a.OrganizationModule.controller("OrganizationAdminLandingController",["$scope","OrganizationService","lodash","$state","appUser","$q","$translate",i])},function(e,t){var n="organization/organization-add-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="multiStepWrapper" ng-controller="OrganizationAddUserController as orgAddUserController">\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id:orgAddUserController.organization.id})">{{ orgAddUserController.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.organization-users({organization_id:orgAddUserController.organization.id})"\n           translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" ng-if="!orgAddUserController.existingUser" translate="Add user"></span>\n        <span class="crumbs_item" ng-if="orgAddUserController.existingUser" translate="Reactivate user"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section-header">\n    <h1 class="header-title"\n        ng-if="!orgAddUserController.existingUser"\n        data-qa="add_user_header"\n        translate="Add User"></h1>\n    <h1 class="header-title"\n        ng-if="orgAddUserController.existingUser"\n        data-qa="reactivate_user_header"\n        translate="Reactivate User"></h1>\n  </div>\n  <div class="multiStep" ng-if="successfullyLoaded">\n    <div class="multiStep_section" ds-form\n         ng-class="{\'multiStep_section-isOpen\':orgAddUserController.step === 1, \'multiStep_section-isComplete\': orgAddUserController.step > 1, \'multiStep_section-isClosed\': orgAddUserController.step < 1}">\n      <span class="multiStep_order" data-multistep="1"></span>\n      <span class="multiStep_summary" ng-click="orgAddUserController.step = 1">\n        <strong translate="Email:"></strong>&nbsp;{{ orgAddUserController.email }}\n      </span>\n      <h2 class="multiStep_title"\n          data-qa="add_user_enter_email_title"\n          translate="Enter Email Address"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit">\n          <label for="textInput_helper" class="label" translate="Email Address" label-required="*"></label>\n          <input id="textInput_helper" type="text" class="input-text input-sm" maxlength="100"\n                 aria-describedby="textInput_helper-description" ng-model="orgAddUserController.email" ds-valid="email" required\n                 data-qa="add_user_email_txt" />\n          <p class="helper-text error-msg" id="textInput-error-description" translate="Valid email address is required."\n             ng-show="orgAddUserController.emailError"></p>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary"\n                  data-qa="add_user_add_email_next_btn"\n                  translate="Next" ds-form-submit="orgAddUserController.nextStep()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_add_email_cancel_btn"\n                  translate="Cancel" ng-click="orgAddUserController.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section" ds-form\n         ng-class="{\'multiStep_section-isOpen\':orgAddUserController.step === 2, \'multiStep_section-isComplete\': orgAddUserController.step > 2, \'multiStep_section-isClosed\': orgAddUserController.step < 2}">\n      <span class="multiStep_order" data-multistep="2"></span>\n      <span class="multiStep_summary" ng-click="orgAddUserController.step = 2">\n        <strong translate="Profile Information:"></strong>&nbsp;{{ orgAddUserController.userName }},&nbsp;{{ orgAddUserController.language.englishLanguageName | translate }}\n      </span>\n      <h2 class="multiStep_title"\n          data-qa="add_user_profile_information_title"\n          translate="Profile Information"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit">\n          <label for="textInput_fullName" class="label" translate="Full Name"\n                 label-required="*"></label>\n          <input id="textInput_fullName" type="text" class="input-text input-sm" maxlength="100"\n                 aria-describedby="fullName" ng-model="orgAddUserController.userName" ds-valid required />\n        </div>\n        <div class="form_unit">\n          <label for="userLocale" class="label" translate="Language" label-required="*"></label>\n          <div class="select-wrap input-sm">\n            <select id="userLocale" ng-model="orgAddUserController.language" ds-valid required\n                    data-qa="add_user_language_option"\n                    ng-options="locale as locale.englishLanguageName | translate for locale in orgAddUserController.locales"></select>\n          </div>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary"\n                  data-qa="add_user_profile_info_next_btn"\n                  translate="Next"\n                  ds-form-submit="orgAddUserController.nextStep()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_profile_info_back_btn"\n                  translate="Back" ng-click="orgAddUserController.goBack()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_profile_info_cancel_btn"\n                  translate="Cancel" ng-click="orgAddUserController.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section" ds-form\n         ng-class="{\'multiStep_section-isOpen\':orgAddUserController.step === 3, \'multiStep_section-isComplete\': orgAddUserController.step > 3, \'multiStep_section-isClosed\': orgAddUserController.step < 3}">\n      <span class="multiStep_order" data-multistep="3"></span>\n      <span class="multiStep_summary" ng-click="orgAddUserController.step = 3">\n        <strong translate="Security:"></strong>&nbsp;\n        <span ng-if="orgAddUserController.isDomainUser">{{ orgAddUserController.loginPolicies[orgAddUserController.federatedStatus] | translate }}</span>\n        <span ng-switch="orgAddUserController.accessCode.length > 0" ng-if="!orgAddUserController.isDomainUser">\n          <span ng-switch-when="true" translate="Access Code - [[code]]"\n                translate-interpolation="bracket" translate-values="{code: orgAddUserController.accessCode}"></span>\n          <span ng-switch-default translate="No Access Code"></span>\n        </span>\n      </span>\n      <h2 class="multiStep_title"\n          data-qa="add_user_security_title"\n          translate="Security"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit" ng-if="!orgAddUserController.isDomainUser">\n          <blockquote class="highlight highlight-attention"\n                      data-qa="add_user_access_code_message"\n                      translate="For additional security, add an access code to the activation process and communicate the code to the user. The user must provide the code to activate the account membership."></blockquote>\n          <label for="textInput_accessCode" class="label" translate="Access Code"></label>\n          <input id="textInput_accessCode" type="text" class="input-text input-sm" aria-describedby="accessCode"\n                 ng-model="orgAddUserController.accessCode"\n                 maxlength="50"\n                 ds-valid="regex"\n                 ds-valid-regex="orgAddUserController.accessCodePattern"\n                 data-qa="add_user_access_code_txt" />\n        </div>\n        <div class="form_unit" ng-if="orgAddUserController.isDomainUser">\n          <blockquote class="highlight highlight-attention"\n                      data-qa="add_user_domain_policy_message">\n            {{ orgAddUserController.domainPolicy | translate }}\n          </blockquote>\n          <blockquote class="highlight highlight-attention" ng-if="orgAddUserController.differentPolicy()"\n                      translate="Warning! You are creating an exception to a domain wide policy. This should probably only be used for advanced administrators in the organization."></blockquote>\n          <label for="loginPolicies" class="label" translate="Login Policy" label-required="*"></label>\n          <div class="select-wrap input-md">\n            <select id="loginPolicies"\n                    data-qa="add_user_login_policy_option"\n                    ng-options="policyKey as policyName | translate for (policyKey, policyName) in orgAddUserController.loginPolicies"\n                    ng-model="orgAddUserController.federatedStatus" ds-valid required></select>\n          </div>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary"\n                  data-qa="add_user_security_next_btn"\n                  translate="Next" ds-form-submit="orgAddUserController.nextStep()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_security_back_btn"\n                  translate="Back" ng-click="orgAddUserController.goBack()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_security_cancel_btn"\n                  translate="Cancel" ng-click="orgAddUserController.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section"\n         ng-class="{\'multiStep_section-isOpen\':orgAddUserController.step === 4, \'multiStep_section-isComplete\': orgAddUserController.step > 4, \'multiStep_section-isClosed\': orgAddUserController.step < 4}">\n\n      <span class="multiStep_order" data-multistep="4"></span>\n\n      <span class="multiStep_summary" ng-click="orgAddUserController.step = 4">\n        <strong translate="Accounts:"></strong>&nbsp;{{ orgAddUserController.selectedAccounts.length }}\n      </span>\n\n      <h2 class="multiStep_title"\n          data-qa="add_user_accounts_title"\n          translate="Accounts"></h2>\n      <form class="multiStep_content">\n        <button class="btn btn-secondary m-bottom-medium"\n                data-qa="add_user_add_acc_membership_btn"\n                translate="Add Account Membership"\n                ng-if="!orgAddUserController.existingUser"\n                ng-disabled="orgAddUserController.cachedAccounts.length === orgAddUserController.selectedMemberships.length"\n                ng-click="orgAddUserController.showAddMembershipModal()"></button>\n        <div class="table-scroll-200" ng-if="orgAddUserController.selectedMemberships.length > 0">\n          <table class="table">\n            <thead>\n              <tr>\n                <th translate="Account"></th>\n                <th translate="Permission Set"></th>\n                <th translate="Groups"></th>\n                <th translate="Actions" class="text-right"></th>\n                <th>&nbsp;</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="membership in orgAddUserController.selectedMemberships | orderBy: \'account.account_name\'">\n                <td>\n                  <span>{{ ::membership.account.account_name }}</span>\n                  <span ng-show="membership.isDefault" translate="Default" class="badge badge-turquoise m-left-small"></span>\n                </td>\n                <td>{{ ::membership.permissionSet.permission_profile_name }}</td>\n                <td>\n                  <span class="u-ellipsis">{{ membership.groupNames }}</span>\n                </td>\n                <td>\n                  <button class="btn btn-md btn-icon u-float-right" olive-menu="accountActions-{{ $index }}"\n                          olive-menu-position="below right"\n                          data-qa="add_user_membership_actions_btn">\n                    <span class="icon icon-ellipsis-horiz" aria-hidden="true"></span>\n                    <span class="sr-text" translate="Actions"></span>\n                  </button>\n                  <div id="accountActions-{{ $index }}" class="menu invisible">\n                    <ul>\n                      <li>\n                        <a class="item" ng-click="orgAddUserController.showAddMembershipModal(membership)"\n                           data-qa="add_user_membership_edit"\n                           translate="Edit"></a>\n                      </li>\n                      <li>\n                        <a class="item" ng-if="!orgAddUserController.existingUser" ng-click="orgAddUserController.deleteAccount(membership)"\n                           data-qa="add_user_membership_delete"\n                           translate="DS_CONTEXT=(account membership) Delete"></a>\n                      </li>\n                      <li ng-if="!membership.isDefault">\n                        <a class="item"\n                           data-qa="add_user_membership_set_as_default"\n                           translate="Set as default account" ng-click="orgAddUserController.setAsDefault(membership)"></a>\n                      </li>\n                    </ul>\n                  </div>\n                </td>\n                <td>\n                  <i ng-if="membership.chargeMessage.length > 0" class="icon icon-alert"\n                     olive-tooltip="chargeMessage-{{ $index }}"\n                     olive-tooltip-position="after middle"\n                     olive-tooltip-events="hover"></i>\n                  <div class="callout invisible" id="chargeMessage-{{ $index }}">\n                    <div class="callout_content">\n                      {{ membership.chargeMessage }}\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="form_unit" ng-if="orgAddUserController.showAutoActivateCheckbox">\n          <div class="inline-input cb">\n            <input id=\'auto-activate-membership\' class="cb_input"\n                   type="checkbox" ng-model=\'orgAddUserController.autoActivateMemberships\' data-qa="add_user_auto_activate_membership_checkbox" />\n            <label class="cb_label" for="auto-activate-membership"\n                   data-qa="add_user_auto_activate_membership_checkbox_label" translate="Auto-activate memberships"></label>\n          </div>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary" ng-class="{\'btn-loading\': orgAddUserController.saving}"\n                  ng-disabled="orgAddUserController.checkRequirements()" ng-click="orgAddUserController.processMemberships()"\n                  data-qa="add_user_submit_btn">\n            <span ng-if="!orgAddUserController.saving && !orgAddUserController.existingUser" translate="Add User"></span>\n            <span ng-if="!orgAddUserController.saving && orgAddUserController.existingUser" translate="Reactivate User"></span>\n            <span ng-if="orgAddUserController.saving"><span translate="Saving"></span>&hellip;</span>\n          </button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_back_btn"\n                  translate="Back" ng-click="orgAddUserController.goBack()"></button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="add_user_cancel_btn"\n                  translate="Cancel" ng-click="orgAddUserController.cancel()"></button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div ds-loading="orgAddUserController.loading" ds-loading-succeeded="successfullyLoaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization accounts. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(30),s="Accounts",o=function(){function e(e,t,n,a,i,o,r,l,c,d,u,p){var m=this;this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._$stateParams=i,this._$q=o,this._oliveModal=r,this._appUser=l,this._$translate=c,this._$filter=d,this._$window=u,this._userPermissions=p,this._crossSiteAccounts=[],this.list=[],this.originalList=[],this.searchPhrase="",this.submittedSearch="",this.pageItemType="",this.placeholderText="Search Account Name",this.hasUnlinkedAccounts=!1,this.isOrgAdmin=this._userPermissions.isSuperOrganizationAdmin(),this._unlinkedAccounts=[],this._filterSearch=function(){var e=m._.cloneDeep(m.originalList),t="";return m._.isEmpty(m.searchPhrase)||(t=m.searchPhrase.toLowerCase(),e=m._$filter("filter")(m.originalList,function(e){if(this._.includes(this._.trim(e.account_name).toLowerCase(),t))return e}.bind(m)),m._updateSearchOption(e)),e=m._$filter("orderBy")(e,"account_name",!1)},this._search=function(){var e=m._filterSearch();m.currentPage.totalCount=e.length,m.jumpToFirstPage(),m.submittedSearch=m.searchPhrase},this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId?this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId}):this.organization=this._organizationService.currentOrg.organization,this.loading=this._getAccounts(),this.pageItemType=this._$translate.instant(s)}return e.prototype._getAccounts=function(){var e=this;this.originalList=[],this.list=[];var t={accounts:this._organizationService.getOrganizationAccounts(this.organizationId),crossSiteAccounts:this._organizationService.getAccountAdminAccounts()};return this._$q.all(t).then(function(t){e.originalList=t.accounts||[],e._crossSiteAccounts=e._.cloneDeep(t.crossSiteAccounts),e._hasMoreAccounts(),e.currentPage={totalCount:e.originalList.length,startIndex:0,endIndex:e.originalList.length-1,hasPreviousPage:!1,hasNextPage:!1},e.jumpToFirstPage()})},e.prototype._refresh=function(){this._organizationService.initialized=!1,this._$window.location.href="/redirectToAuth?goTo=organizationAccount&organization_id="+this.organizationId},e.prototype._hasMoreAccounts=function(){var e=this,t=this._.filter(this._crossSiteAccounts,function(t){return!e._.some(e.originalList,{account_id:t.id})});this.hasUnlinkedAccounts=t.length>0,this._unlinkedAccounts=this._.cloneDeep(t)},e.prototype._getPage=function(e){this.currentPage=e;var t=this._filterSearch();this.list=t.slice(e.startIndex,e.endIndex+1)},e.prototype._updateSearchOption=function(e){this.currentPage.totalCount=e.length||0},e.prototype.unlink=function(e){var t=this._$scope.$new();t.account=e,t.organization=this.organization,t.refresh=this._refresh.bind(this),this._oliveModal.openModal({scope:t,templateUrl:"organization/unlink-organization.html",showClose:!0})},e.prototype.showUnlinkedAccounts=function(){var e=this._$scope.$new();e.organizationId=this.organizationId,e.accounts=this._unlinkedAccounts,e.refresh=this._refresh.bind(this),this._oliveModal.openModal({scope:e,templateUrl:"organization/add-accounts.html",showClose:!0,size:"lg"})},e.prototype.canLinkAccount=function(){return this.hasUnlinkedAccounts&&this.isOrgAdmin},e.prototype.isDefaultAccount=function(e){return e.account_id===this.organization.default_account_id||1===this.list.length&&this._.isEmpty(this.submittedSearch)},e.prototype.viewUsers=function(e){this._$state.go("authenticated.organization-manage-users",{organization_id:this.organizationId,account_id:e.account_id})},e.prototype.canSwitchTo=function(e){return!this._.isEmpty(this._crossSiteAccounts)&&!this._.isEmpty(e)&&this._.some(this._crossSiteAccounts,{id:e.account_id})},e.prototype.switchAccountTo=function(e){var t=this;this.canSwitchTo(e)&&(this.loaded=this._appUser.setCurrentAccount(e.account_id).then(function(){t._$state.go("authenticated.account-admin",null,{reload:!0})}))},e.prototype.jumpToFirstPage=function(){var e=new i.FirstPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.pageBackward=function(){var e=new i.PreviousPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.pageForward=function(){var e=new i.NextPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new i.LastPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.submitSearch=function(e){13===e.keyCode&&this._search()},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this.currentPage.totalCount=this.originalList.length,this.jumpToFirstPage(),this._updateSearchOption(this.originalList)},e}();a.OrganizationModule.controller("OrganizationAccountsController",["$scope","OrganizationService","lodash","$state","$stateParams","$q","oliveModal","appUser","$translate","$filter","$window","userPermissions",o])},function(e,t){var n="organization/manage-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management" ng-controller="ManageOrganizationUsersController as manage" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: manage.organizationId})"> {{ manage.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" translate="Users"\n           ui-sref="authenticated.organization-users({organization_id: manage.organizationId})"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" ng-if="!manage.isAccountFilter()"\n              data-qa="manage_users_domain_users_crumbs"\n              translate="Domain Users">\n        </span>\n        <span class="crumbs_item" ng-if="manage.isAccountFilter()"\n              data-qa="manage_users_account_users_crumbs"\n              translate="Account Users">\n        </span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-5">\n        <h1 ng-if="!manage.isAccountFilter()"\n            data-qa="manage_users_domain_users_header"\n            translate="Domain Users"></h1>\n        <h1 ng-if="manage.isAccountFilter()"\n            data-qa="manage_users_account_users_header"\n            translate="Account Users"></h1>\n      </div>\n      <div class="col-4-5">\n            <ds-filter-controls filterable="manage" searchable="false">\n              \x3c!-- Domains --\x3e\n              <div class="form-group">\n                <label class="label" for="domains" translate="Domains"></label>\n                <div class="select-wrap">\n                  <select id="domains" data-qa="org_users_search_filter_domains_option" ng-model="manage.selectedDomainOption"\n                      ng-options="domain.name for domain in manage.domainFilterOptions">\n                    <option translate="DS_CONTEXT=(domains) All" value="" ng-if="manage.isAccountFilter()"></option>\n                  </select>\n                </div>\n              </div>\n\n              \x3c!-- Accounts --\x3e\n              <div class="form-group" ng-if="manage.isAccountFilter()">\n                <label class="label" for="account" translate="Accounts"></label>\n                <div class="select-wrap">\n                  <select id="account" data-qa="org_users_search_filter_accounts" ng-model="manage.selectedAccountOption"\n                          ng-options="account.name for account in manage.accountFilterOptions"> </select>\n                </div>\n              </div>\n\n              \x3c!-- Status --\x3e\n              <div class="form-group">\n                <label class="label" for="status" translate="Status"></label>\n                <div class="select-wrap">\n                  <select id="status" data-qa="org_users_search_filter_status_option" ng-model="manage.selectedStatusOption"\n                          ng-options="status.name | translate for status in manage.statusFilterOptions track by status.name"> </select>\n                </div>\n              </div>\n            </ds-filter-controls>\n    </div>\n  </div>\n  <div class="grid header-action">\n    <div ng-if="!manage.isAccountFilter()"\n       translate="This list includes all users with an email address in one of your reserved domains. Use the filters to select the domain to view."></div>\n    <div ng-if="manage.isAccountFilter()"\n       translate="This list includes all users who are members of one of the accounts linked to your organization. Use the filters to select the account to view."></div>\n    <div>\n      <span ng-if="manage.showBulkActionNewIcon && manage.bulkActionNotificationText" class="badge badge-yellow" translate="New DS_CONTEXT=(feature)"></span>\n      <span translate="{{manage.bulkActionNotificationText}}"\n            translate-interpolation="bracket"\n            translate-compile\n            translate-values="{\n              linkStart: \'<a ui-sref=\\\'authenticated.organization-bulk-actions({organization_id:manage.organization.id})\\\'>\',\n              linkEnd: \'</a>\'\n            }"></span>\n    </div>\n\n  </div>\n  <div class="grid header-action">\n    <ds-page-controls pageable="manage"></ds-page-controls>\n  </div>\n  <ds-filter-applied filterable="manage"></ds-filter-applied>\n\n  <table class="table">\n    <thead>\n    <tr>\n      <th translate="Full Name"></th>\n      <th translate="Email"></th>\n      <th translate="Status" ng-if="manage.isDomainFilter()"></th>\n      <th translate="Membership Status" ng-if="manage.isAccountFilter()"></th>\n      <th translate="Created"></th>\n    </tr>\n    </thead>\n    <tbody ng-if="manage.loaded">\n    <tr ng-repeat="user in manage.list" class="table_row-clickable">\n      <td ng-click="manage.userProfile(user)" data-qa="manage_users_user_name_td">{{ user.user_name }}</td>\n      <td ng-click="manage.userProfile(user)" data-qa="manage_users_user_email_td">{{ user.email }}</td>\n      <td ng-click="manage.userProfile(user)" ng-switch="user.user_status" ng-if="manage.isDomainFilter()"\n          data-qa="manage_users_user_status_td">\n        <i class="icon" ng-class="{\n              \'active\':\'icon-circle text-success\',\n              \'created\':\'icon-circle icon-pending\',\n              \'closed\':\'icon-circleclosed\'\n            }[user.user_status]"></i>\n        <span class="hidden-sm-down" ng-switch-when="created" translate="Pending"></span>\n        <span class="hidden-sm-down" ng-switch-when="active" translate="Active"></span>\n        <span class="hidden-sm-down" ng-switch-when="closed" translate="Closed"></span>\n      </td><td ng-click="manage.userProfile(user)" ng-switch="user.membership_status" ng-if="manage.isAccountFilter()"\n               data-qa="manage_users_user_status_td">\n        <i class="icon" ng-class="{\n              \'active\':\'icon-circle text-success\',\n              \'pending\':\'icon-circle icon-pending\',\n              \'closed\':\'icon-circleclosed\'\n            }[user.membership_status]"></i>\n        <span class="hidden-sm-down" ng-switch-when="pending" translate="Pending"></span>\n        <span class="hidden-sm-down" ng-switch-when="active" translate="Active"></span>\n        <span class="hidden-sm-down" ng-switch-when="closed" translate="Closed"></span>\n      </td>\n      <td ng-click="manage.userProfile(user)" ng-if="manage.isDomainFilter()" data-qa="manage_users_user_created_date_td">\n        {{ user.created_on | moment:manage.dateTimeFormat:manage.timeZone }}</td>\n      <td ng-click="manage.userProfile(user)" ng-if="manage.isAccountFilter()" data-qa="manage_users_user_created_date_td">\n        {{ user.membership_created_on | moment:manage.dateTimeFormat:manage.timeZone }}</td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="manage.loaded && !manage.list.length">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="manage.submittedSearch && manage.appliedFilters.length"\n         translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{searchQuery: manage.submittedSearch}"></p>\n      <p ng-if="manage.submittedSearch && !manage.appliedFilters.length"\n         translate="The selected search query \'[[searchQuery]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{searchQuery: manage.submittedSearch}"></p>\n      <p ng-if="!manage.submittedSearch && manage.appliedFilters.length"\n         translate="The selected filters produced no results."></p>\n    </div>\n  </div>\n\n  <div class="section" ng-if="manage.loaded">\n    <div class="grid action-row">\n      <ds-page-controls pageable="manage"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="manage.loading" ds-loading-succeeded="manage.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization users. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/main.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationController as org">\n  <div ng-if="!successfullyLoaded" ng-include="\'login/loading.html\'"></div>\n  <div ng-if="successfullyLoaded">\n    <div ng-if="!org.isAssociatedToOrg()">\n      <div ng-include="\'organization/welcome.html\'"></div>\n    </div>\n    <div ng-if="org.isAssociatedToOrg()">\n      <div ng-include="\'organization/organization-summary.html\'" include-replace></div>\n    </div>\n  </div>\n  <div ds-loading="org.loaded" ds-loading-succeeded="successfullyLoaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/join-organization.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="JoinOrganizationController as org">\n  <div class="modal_header">\n    <h1 class="modal_title" translate="Link Account to Organization"></h1>\n  </div>\n  <div class="modal_content modal_content-list">\n    <table class="table">\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox">&nbsp;</th>\n        <th translate="Name"></th>\n        <th translate="Description"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr class="table_row-clickable" ng-repeat="o in org.organizations" ng-click="org.selectedOrg = o">\n        <td>\n            <span class="rb rb-noText">\n                <input class="rb_input" type="radio" name="group2a" id="rb_org_{{$index}}" olive-table-select-row\n                       ng-model="org.selectedOrg" ng-value="o" />\n                <label class="rb_label" for="rb_org_{{$index}}">Select</label>\n            </span>\n        </td>\n        <td>{{ ::o.name }}</td>\n        <td>{{ ::o.description }}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-primary btn-lg" translate="Confirm" ng-click="org.join(org.selectedOrg)" olive-modal-complete\n            ng-disabled="org.selectedOrg === null"></button>\n    <button class="btn btn-minor btn-lg" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i){this._$scope=e,this._=t,this._organizationService=n,this._appUser=a,this._$window=i,this.organizations=[],this.organizations=this._$scope.organizations,this.selectedOrg=this._.head(this.organizations)}return e.prototype.join=function(e){var t=this,n={accounts:[{account_id:this._appUser.getCurrentAccountId()}]};this._organizationService.putOrganizationAccounts(e.id,n).then(function(e){e&&!t._.isEmpty(e.accounts)&&(t._$window.location.href="/redirectToAuth?goTo=organizationDashboard")})},e}();a.OrganizationModule.controller("JoinOrganizationController",["$scope","lodash","OrganizationService","appUser","$window",i])},function(e,t){var n="organization/invite-admin.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="InviteAdminController as invite" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title"\n        data-qa="org_admins_invite_header"\n        translate="{{ invite.modalHeaderText }}"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div ng-if="!invite.addUserFromUserProfile">\n      <p ng-if="!invite.invitationId"\n        translate="Add a DocuSign user as an administrator for your organization. Select one of the permission set options to specify the organization management rights to grant to this user. The user will receive an email activation to complete their administrator membership."></p>\n      <div class="form_unit" ng-class="{\'form_unit-disabled\': invite.disableUpdateName}">\n        <label for="inviteeName" class="label" translate="Name" label-required="*"></label>\n        <input id="inviteeName" type="text" class="input-text input-md" aria-describedby="inviteeName-error"\n               ng-disabled="invite.disableUpdateName"\n               ng-change="invite.hasBeenEdited = true"\n               ng-model="invite.inviteeName" ds-valid-reason="\'name\'" ds-valid required />\n        <p class="helper-text error-msg" id="inviteeName-error" translate="Name is required."\n           ng-show="invite.inviteeNameRequired"></p>\n      </div>\n      <div class="form_unit" ng-if="invite.invitationId">\n        <label for="inviteeEmail" class="label" translate="Email" label-required="*"></label>\n        <div>\n          <span>{{invite.inviteeEmail}}</span>\n        </div>\n      </div>\n      <div class="form_unit" ng-if="!invite.invitationId">\n        <label for="inviteeEmail" class="label" translate="Email" label-required="*"></label>\n        <input id="inviteeEmail" type="text" class="input-text input-md" aria-describedby="inviteeEmail-error"\n               ng-disabled="invite.invitationId"\n               ng-change="invite.hasBeenEdited = true"\n               ng-model="invite.inviteeEmail" ds-valid-reason="\'email\'" ds-valid="email" required />\n        <p class="helper-text error-msg" id="inviteeEmail-error" translate="Valid email address is required."\n           ng-show="invite.inviteeEmailRequired"></p>\n      </div>\n      <div class="form_unit">\n        <label for="permissionSet" class="label" translate="Permission Set" label-required="*"></label>\n        <div class="select-wrap input-md">\n          <select id="permissionSet" class="select-list" ds-valid required\n                  ng-model="invite.organizationPermissionId"\n                  ng-change="invite.hasBeenEdited = true"\n                  ng-options="p.id as p.name | translate for p in invite.orgAdminPermissions">\n            <option translate="Select Permission Set"></option>\n          </select>\n        </div>\n      </div>\n\n    </div>\n    <div ng-if="invite.addUserFromUserProfile"\n         data-qa="org_admins_invite_from_user_profile">\n\n      <p translate="By making this user an organization admin, you are granting them permission to manage your organization.">\n      </p>\n\n      <p translate="[[userName]] will receive an email activation to complete their administrator membership."\n         translate-interpolation="bracket"\n         translate-values="{userName: invite.userInfo.user_name}"></p>\n      <p translate="Select the appropriate Permission Set for this user from the following list:"></p>\n      <div class="form_unit">\n        <label for="select-permissionSet" class="label" translate="Permission Set" label-required="*"></label>\n        <div class="select-wrap input-md">\n          <select id="select-permissionSet" class="select-list" ds-valid required\n                  ng-model="invite.organizationPermissionId"\n                  ng-change="invite.hasBeenEdited = true"\n                  data-qa="org_admins_select_permission"\n                  ng-options="p.id as p.name | translate for p in invite.orgAdminPermissions">\n            <option translate="Select Permission Set"></option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary"\n      ng-if="!invite.invitationId"\n      ng-class="{\'btn-loading\': invite.saving}"\n      ds-form-error="invite.getError()"\n      ng-disabled="!invite.hasBeenEdited || !formIsValid() || invite.saving"\n      ds-form-submit="invite.inviteOrgAdmin()"\n      data-qa="org_admins_invite_send_btn"\n      translate="{{invite.saveButtonText}}">\n    </button>\n\n    <button class="btn btn-lg btn-primary"\n      ng-if="invite.invitationId"\n      ng-class="{\'btn-loading\': invite.saving}"\n      ng-disabled="!invite.hasBeenEdited || !formIsValid() || invite.disableEditAdmin()"\n      ds-form-submit="invite.editOrgAdmin()"\n      translate="Edit Organization Admin">\n    </button>\n\n    <button class=" btn btn-lg btn-minor" olive-modal-escape\n      data-qa="org_admins_invite_cancel_btn"\n      translate="Cancel">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.INVITATION_SENT_SUCCESSFUL="Invitation sent successfully.";var i="You successfully edited the organization admin {{name}}.",s="There is an error editing organization admin. Please try again later.",o=function(){function e(e,t,n,a,i,s,o){this._$scope=e,this._=t,this._organizationService=n,this._oliveMessage=a,this._oliveModal=i,this._$translate=s,this._$timeout=o,this.addUserFromUserProfile=!1,this.disableUpdateName=!1,this.hasBeenEdited=!1,this.invitationId="",this.saving=!1,this._initialize()}return e.prototype._initialize=function(){this.inviteeName="",this.inviteeEmail="",this._organizationId=this._$scope.organizationId,this.userInfo=this._$scope.userInfo,this.invitationId=this._$scope.invitationId,this.organizationPermissionId="",this.disableUpdateName=this.invitationId&&this.userInfo&&"active"===this.userInfo.organization_admin_status,this._.isUndefined(this.userInfo)?(this.modalHeaderText=this._$translate.instant("Add Organization Admin"),this.saveButtonText=this._$translate.instant("Add Organization Admin")):this.invitationId?(this.inviteeEmail=this.userInfo.email,this.inviteeName=this.userInfo.user_name,this._originalPermissionId=this.organizationPermissionId=this.userInfo.organization_permission_id,this.modalHeaderText=this._$translate.instant("Edit Organization Admin")):(this.addUserFromUserProfile=!0,this.modalHeaderText=this.saveButtonText=this._$translate.instant("Make Organization Admin")),this.orgAdminPermissions=this._organizationService.currentOrg.permissionSets},e.prototype.getError=function(){var e=this;if(!this._$scope.formIsValid()){this.inviteeEmailRequired=!1,this.inviteeNameRequired=!1;var t=this._$scope.getReasons();this._.isEmpty(t)||t.forEach(function(t){switch(t){case"email":e.inviteeEmailRequired=!0;break;case"name":e.inviteeNameRequired=!0}})}},e.prototype.disableEditAdmin=function(){return this.userInfo&&"active"===this.userInfo.organization_admin_status?this.saving||function(){return this.userInfo.user_name===this.inviteeName&&this.userInfo.organization_permission_id===this.organizationPermissionId}.call(this):this.saving},e.prototype.editOrgAdmin=function(){this.saving=!0,this.userInfo&&"active"===this.userInfo.organization_admin_status?this._editOrgAdmin():this._.isEmpty(this._originalPermissionId)?this._deleteAndInvite():this._updateInvitation()},e.prototype.inviteOrgAdmin=function(){var e=this;this.saving=!0,this.inviteeEmailRequired=!1,this.inviteeNameRequired=!1;var n={email:this._.isEmpty(this.userInfo)?this.inviteeEmail:this.userInfo.email,user_name:this._.isEmpty(this.userInfo)?this.inviteeName:this.userInfo.user_name,organization_permission_id:this.organizationPermissionId};this._organizationService.sendOrganizationInvitation(this._organizationId,n).then(function(n){e._.isEmpty(n)||e._$scope.refresh(),e._oliveMessage.show(e._$translate.instant(t.INVITATION_SENT_SUCCESSFUL),"invitationSent","success"),e._oliveModal.closeAllModals()},function(t){var a=e._.get(t,"data.error");if(a)switch(a){case"admin_email_already_mapped_to_organization":var i=e._$translate.instant("{{email}} is already an administrator in this organization",{email:n.email});e._oliveMessage.show({content:i,name:"inviteError",type:"error",modal:!0})}e.saving=!1})},e.prototype._deleteAndInvite=function(){var e=this;this.inviteeEmailRequired=!1,this.inviteeNameRequired=!1;var t=this._organizationService.deleteOrganizationInvitation(this._organizationId,this.invitationId);this._$timeout(function(){return t},2e3).then(function(){var e={email:this.inviteeEmail,user_name:this.inviteeName,organization_permission_id:this.organizationPermissionId};return this._organizationService.sendOrganizationInvitation(this._organizationId,e)}.bind(this)).then(function(t){e._.isEmpty(t)||e._$scope.refresh(),e._oliveMessage.show(e._$translate.instant(i,{name:t.user_name}),"editOrganizationSuccess","success"),e._oliveModal.closeAllModals()}).catch(function(){e._oliveMessage.show(e._$translate.instant(s),"editOrganizationError","error"),e.saving=!1})},e.prototype._editOrgAdmin=function(){var e=this,t={organization_permission_id:this.organizationPermissionId};this._organizationService.updateOrganizationAdmin(this._organizationId,this.invitationId,t).then(function(t){e._.isEmpty(t)||e._$scope.refresh(),e._oliveMessage.show(e._$translate.instant(i,{name:e.inviteeName}),"editOrganizationSuccess","success"),e._oliveModal.closeAllModals()}).catch(function(){e._oliveMessage.show(e._$translate.instant(s),"editOrganizationError","error"),e.saving=!1})},e.prototype._updateInvitation=function(){var e=this,t={email:this.userInfo.email,user_name:this.inviteeName,organization_permission_id:this.organizationPermissionId};this._organizationService.updateOrganizationInvitation(this._organizationId,this.invitationId,t).then(function(t){e._.isEmpty(t)||e._$scope.refresh(),e._oliveMessage.show(e._$translate.instant(i,{name:t.user_name}),"editOrganizationSuccess","success"),e._oliveModal.closeAllModals()}).catch(function(){e._oliveMessage.show(e._$translate.instant(s),"editOrganizationError","error"),e.saving=!1})},e}();a.OrganizationModule.controller("InviteAdminController",["$scope","lodash","OrganizationService","oliveMessage","oliveModal","$translate","$timeout",o])},function(e,t){var n="organization/existing-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ExistingOrganizationUserController as existing">\n  <div class="modal_header" olive-modal-header\n       data-qa="organization_existing_user_header"\n       translate="Existing User"></div>\n  <div class="modal_content" olive-modal-content>\n    <div ng-if="existing.activeMembership">\n      <p data-qa="organization_existing_user_description" translate="This user already exists. To edit the user, go to their user profile."></p>\n      <div class="grid">\n        <div class="col">\n          <dl class="def-list">\n            <dt data-qa="organization_existing_user_user_name" translate="User Name"></dt>\n            <dd data-qa="organization_existing_user_user_name_value">{{ existing.username }}</dd>\n            <dt data-qa="organization_existing_user_email" translate="Email"></dt>\n            <dd data-qa="organization_existing_user_email_value">{{ existing.email }}</dd>\n          </dl>\n        </div>\n      </div>\n    </div>\n    <div ng-if="existing.closedMemberships.length">\n      <p data-qa="organization_existing_user_view_profile_add_new_user"\n         translate="This email address already exists. You can view the existing profile or add a new user."></p>\n\n      <table class="table m-top-x-small">\n        <thead>\n          <tr>\n            <th data-qa="organization_existing_user_email_table_header" translate="Email"></th>\n            <th>&nbsp;</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td data-qa="organization_existing_user_email_existing_email_value">{{ ::existing.email  }}</td>\n            <td class="text-right">\n              <button class="btn btn-secondary" ng-click="existing.viewProfile()"\n                      data-qa="organization_existing_user_view_profile_button_inside_table"\n                      translate="View Profile"></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary"\n            ng-if="existing.activeMembership"\n            ng-click="existing.viewProfile()"\n            data-qa="organization_existing_user_view_profile_button"\n            translate="View Profile"></button>\n    <button class="btn btn-lg btn-primary" olive-modal-complete\n            ng-if="!existing.activeMembership"\n            data-qa="organization_existing_user_add_new_user_button"\n            translate="Add new User"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="organization_existing_user_cancel_button"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a){this._$scope=e,this._=t,this._$state=n,this._oliveModal=a,this.closedMemberships=[],this._initialize()}return e.prototype.viewProfile=function(){this._oliveModal.closeAllModals(),this._$state.go("authenticated.organization-user-profile",{organization_id:this._organizationId,email:this.email})},e.prototype._initialize=function(){this._organizationId=this._$scope.organizationId,this._.isEmpty(this._$scope.activeMembership)?(this.closedMemberships=this._$scope.closedMemberships,this.email=this._.isEmpty(this.closedMemberships)?"":this.closedMemberships[0].email):(this.activeMembership=this._$scope.activeMembership,this.email=this.activeMembership&&!this._.isEmpty(this.activeMembership.memberships)?this.activeMembership.memberships[0].email:"",this.username=this.activeMembership.user_name)},e}();a.OrganizationModule.controller("ExistingOrganizationUserController",["$scope","lodash","$state","oliveModal",i])},function(e,t){var n="organization/envelope-transfer.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationEnvelopeTransferController as org">\n  <div class="crumbs" data-qa="organization_accounts_crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: org.organizationId})"> {{ org.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Envelope Transfer"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section" ng-if="org.loaded">\n      <div class="l-flex-between">\n        <h1 class="header-title" data-qa="organization_accounts_header" translate="Envelope Transfer"></h1>\n        <ds-search-control searchable="org" filterable="false"></ds-search-control>\n      </div>\n    <div class="header-description">\n      <p\n        translate="Transfer envelopes between users on any organization account. You can transfer envelopes from any account for which you are an administrator with full administration capabilities. Use the Actions menu to transfer envelopes or view logs."></p>\n    </div>\n  </div>\n  <table class="table" ng-if="org.loaded">\n    <thead data-qa="organization_accounts_table_header">\n    <tr>\n      <th translate="Account Name"></th>\n      <th translate="Account ID"></th>\n      <th translate="Site"></th>\n      <th translate="Actions" class="text-right"></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-repeat="account in org.list">\n      <td data-qa="organization_accounts_acc_name_td">{{ ::account.account_name }}</td>\n      <td data-qa="organization_accounts_acc_id_td">{{ ::account.external_account_id }}</td>\n      <td data-qa="organization_accounts_acc_site_name_td">{{ ::account.site_name }}</td>\n      <td class="text-right">\n        <button olive-menu="accountActions{{$index}}" olive-menu-position="below right" class="btn btn-minor btn-icon"\n                data-qa="organization_accounts_actions_btn">\n          <span class="icon icon-menu-overflow-vertical" aria-hidden="true"></span>\n          <span class="sr-text" translate="Actions"></span>\n        </button>\n        <div class="menu invisible" id="accountActions{{$index}}">\n          <ul class="menu_list">\n            <li class="menu_listItem">\n              <a class="menu_item" data-qa="organization_accounts_transfer_envelopes" translate="Transfer Envelopes"\n                 ui-sref="authenticated.organization-envelopes({organization_id: org.organizationId, account_id: account.account_id, action: \'transfer-now\'})"></a>\n            </li>\n            <li class="menu_listItem">\n              <a class="menu_item" data-qa="organization_accounts_bulk_actions" translate="Logs"\n                 ui-sref="authenticated.organization-envelope-transfer-logs({organization_id: org.organizationId, account_id: account.account_id, bulkType: \'organization\'})"></a>\n            </li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div class="emptyState" ng-if="org.loaded && !org.list.length">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="org.submittedSearch" translate="No results. Try a different search term."></p>\n      <p ng-if="!org.submittedSearch"\n         translate="You must be a Full Capability Admin of a linked account in order to transfer the envelopes."></p>\n    </div>\n  </div>\n  <div class="section">\n    <div class="grid action-row">\n      <ds-page-controls pageable="org" ng-if="org.list.length > 0"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="org.loading" ds-loading-succeeded="org.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization accounts. Go ahead and try that again.\' | translate}}"></div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),i=n(4),s="Accounts",o=function(){function e(e,t,n,a,i,o,r,l,c,d){var u=this;this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._$stateParams=i,this._$q=o,this._appUser=r,this._$translate=l,this._$filter=c,this._userPermissions=d,this._crossSiteAccounts=[],this.list=[],this.originalList=[],this.searchPhrase="",this.submittedSearch="",this.pageItemType="",this.placeholderText="Search Account Name",this.isOrgAdmin=this._userPermissions.isSuperOrganizationAdmin(),this._filterSearch=function(){var e=u._.cloneDeep(u.originalList);e=u._.filter(e,function(e){return u._.some(u._crossSiteAccounts,{id:e.account_id})});var t="";return u._.isEmpty(u.searchPhrase)||(t=u.searchPhrase.toLowerCase(),e=u._$filter("filter")(u.originalList,function(e){if(this._.includes(this._.trim(e.account_name).toLowerCase(),t))return e}.bind(u)),u._updateSearchOption(e)),e=u._$filter("orderBy")(e,"account_name",!1)},this._search=function(){var e=u._filterSearch();u.currentPage.totalCount=e.length,u.jumpToFirstPage(),u.submittedSearch=u.searchPhrase},this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId?this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId}):this.organization=this._organizationService.currentOrg.organization,this.loading=this._getAccounts(),this.pageItemType=this._$translate.instant(s)}return e.prototype._getAccounts=function(){var e=this;this.originalList=[],this.list=[];var t={accounts:this._organizationService.getOrganizationAccounts(this.organizationId),crossSiteAccounts:this._organizationService.getAccountAdminAccounts()};return this._$q.all(t).then(function(t){e.originalList=t.accounts||[],e._crossSiteAccounts=e._.cloneDeep(t.crossSiteAccounts),e.currentPage={totalCount:e.originalList.length,startIndex:0,endIndex:e.originalList.length-1,hasPreviousPage:!1,hasNextPage:!1},e.jumpToFirstPage()})},e.prototype._getPage=function(e){this.currentPage=e;var t=this._filterSearch();this.list=t.slice(e.startIndex,e.endIndex+1),this.currentPage={totalCount:t.length,startIndex:0,endIndex:t.length-1,hasPreviousPage:!1,hasNextPage:!1}},e.prototype._updateSearchOption=function(e){this.currentPage.totalCount=e.length||0},e.prototype.jumpToFirstPage=function(){var e=new a.FirstPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.pageBackward=function(){var e=new a.PreviousPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.pageForward=function(){var e=new a.NextPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new a.LastPageOptions(this.currentPage,25);this._getPage(e)},e.prototype.submitSearch=function(e){13===e.keyCode&&this._search()},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this.currentPage.totalCount=this.originalList.length,this.jumpToFirstPage(),this._updateSearchOption(this.originalList)},e}();i.OrganizationModule.controller("OrganizationEnvelopeTransferController",["$scope","OrganizationService","lodash","$state","$stateParams","$q","appUser","$translate","$filter","userPermissions",o])},function(e,t){var n="organization/dashboard.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationDashboardController as dashboard">\n  <div class="section">\n    <h1 class="header-title" data-qa="orgAdmin_dashboard_header">{{ dashboard.organization.name }}</h1>\n  </div>\n  <div class="section">\n    <div class="tiles">\n      <div class="tile tile-large" ng-class="{\'tile-new\': dashboard.displayNewBadge(x.key)}"\n           ng-repeat="x in dashboard.tiles"\n           ng-click="x.goTo()"\n           ng-if="x.allowed"\n           data-qa="{{::x.dataqa}}">\n        <div ng-if="dashboard.displayNewBadge(x.key)"\n             class="float-right badge badge-yellow tile-badge-top-right" translate="New DS_CONTEXT=(feature)"></div>\n        <div class="tile_icon">\n          <img ng-src="{{x.icon}}" />\n        </div>\n        <div class="tile_text">\n          {{x.title | translate}}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/create-organization.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="multiStepWrapper" ng-controller="CreateOrganizationController as createOrg" ds-form>\n  <div class="section-header">\n    <h1 class="header-title"\n        data-qa="orgAdmin_create_org_header"\n        translate="Create Organization"></h1>\n  </div>\n  <div class="multiStep" ng-if="createOrg.loaded">\n    <div class="multiStep_section"\n         ng-class="{\'multiStep_section-isOpen\':createOrg.step === 1, \'multiStep_section-isComplete\': createOrg.step > 1, \'multiStep_section-isClosed\': createOrg.step < 1}">\n      <span class="multiStep_order" data-multistep="1"></span>\n      <span class="multiStep_summary" ng-click="createOrg.step = 1">\n        <strong translate="Organization Name:"></strong>&nbsp;{{ createOrg.name }}\n      </span>\n      <h2 class="multiStep_title"\n          data-qa="orgAdmin_create_org_enter_org_details_header"\n          translate="Enter Organization Details"></h2>\n      <div class="multiStep_content">\n        <div class="form_unit">\n          <label for="textInput_helper" class="label"\n                 data-qa="orgAdmin_create_org_org_name_lbl"\n                 translate="Organization Name" label-required="*"></label>\n          <input id="textInput_helper" type="text" class="input-text input-sm"\n                 ds-form-ignore="createOrg.ignoreValidation" aria-describedby="textInput_helper-description"\n                 ng-model="createOrg.name" ds-valid required\n                 data-qa="orgAdmin_create_org_org_name_txt"/>\n          <p class="helper-text error-msg" id="textInput-error-description" translate="Organization name is required."\n             ng-show="createOrg.nameError && (!createOrg.name || createOrg.name.length === 0)"></p>\n        </div>\n        <div class="form_unit">\n          <label for="orgDescription" class="label"\n                 data-qa="orgAdmin_create_org_org_desc_lbl"\n                 translate="Description"></label>\n          <textarea id="orgDescription" class="input-textarea input-md" ng-model="createOrg.description"\n                    data-qa="orgAdmin_create_org_org_desc"></textarea>\n        </div>\n        <div class="multiStep_footer">\n          <button type="submit" class="btn btn-lg btn-primary"\n                  data-qa="orgAdmin_create_org_next_btn"\n                  translate="Next"\n                  ds-form-error="createOrg.meetStepRequirements(1)" ds-form-submit="createOrg.nextStep()"></button>\n          <button class="btn btn-minor"\n                  data-qa="orgAdmin_create_org_cancel_btn_1"\n                  translate="Cancel" ng-click="createOrg.cancel()"></button>\n        </div>\n      </div>\n    </div>\n    <div class="multiStep_section"\n         ng-class="{\'multiStep_section-isOpen\':createOrg.step === 2, \'multiStep_section-isComplete\': createOrg.step > 2, \'multiStep_section-isClosed\': createOrg.step < 2}">\n\n      <span class="multiStep_order" data-multistep="2"></span>\n\n      <span class="multiStep_summary" ng-click="createOrg.step = 2">\n        <strong translate="Accounts Linked:"></strong>&nbsp;{{ createOrg.selectedAccounts.length }}</span>\n\n      <h2 class="multiStep_title"\n          data-qa="orgAdmin_create_org_link_account_header"\n          translate="Link Accounts ([[totalAccounts]])" translate-interpolation="bracket"\n          translate-values="{totalAccounts: createOrg.accounts.length}"></h2>\n\n      <form class="multiStep_content">\n        <p data-qa="orgAdmin_create_org_link_account_desc"\n          translate="Here are the DocuSign accounts for which you are an account administrator. Select which accounts you would like to link to this organization to gain centralized management of the DocuSign accounts and users."></p>\n        <div class="table-scroll-400">\n          <ds-search-control searchable="createOrg" filterable="false"></ds-search-control>\n          <div class="m-bottom-medium p-bottom-large"></div>\n          <table class="table" olive-table-select>\n            <thead>\n            <tr>\n              <th class="table_cell-checkbox">\n            <span class="cb cb-noText">\n                <input class="cb_input" type="checkbox" id="selectAll"\n                       ng-disabled="!createOrg.workingList.length"\n                       ng-click="createOrg.selectAll()"\n                       ng-checked="createOrg.isSelectAll()" />\n                <label class="cb_label" for="selectAll" translate="Select All"></label>\n            </span>\n              </th>\n              <th translate="Name"></th>\n              <th translate="Account ID"></th>\n              <th translate="Organization"></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="account in createOrg.workingList">\n              <td>\n            <span class="cb cb-noText">\n                <input class="cb_input" type="checkbox" id="input_1a-{{$index}}" olive-table-select-row\n                       ng-click="createOrg.addRemoveAccount(account)" ng-checked="createOrg.isSelected(account.id)"\n                       ng-disabled="createOrg.isNotAllowed(account)" />\n                <label class="cb_label" for="input_1a-{{$index}}" translate="Select"></label>\n            </span>\n              </td>\n              <td data-qa="orgAdmin_create_org_link_account_name_td">{{ ::account.account_name }}</td>\n              <td data-qa="orgAdmin_create_org_link_account_id_td">{{ ::account.external_account_id }}</td>\n              <td data-qa="orgAdmin_create_org_link_org_name_td" translate="None"></td>\n            </tr>\n            </tbody>\n          </table>\n          <div class="m-bottom-medium p-bottom-large"></div>\n        </div>\n        <div class="multiStep_footer">\n          <button type="button" class="btn btn-lg btn-primary" ng-class="{\'btn-loading\': createOrg.creating}"\n                  ds-form-error="createOrg.meetStepRequirements(2)" ds-form-submit="createOrg.create()"\n                  data-qa="orgAdmin_create_org_create_btn">\n\n            <span ng-if="!createOrg.creating" translate="Create"></span>\n            <span ng-if="createOrg.creating"><span translate="Saving"></span>&hellip;</span>\n          </button>\n          <button type="button" class="btn btn-lg btn-minor"\n                  data-qa="orgAdmin_create_org_back_btn"\n                  translate="Back" ng-click="createOrg.goBack()"></button>\n          <button type="button" class="btn btn-minor"\n                  data-qa="orgAdmin_create_org_cancel_btn_2"\n                  translate="Cancel" ng-click="createOrg.cancel()"></button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div ds-loading="createOrg.loading" ds-loading-succeeded="createOrg.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization. Go ahead and try that again.\' | translate}}"></div>\n\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r,l,c,d){var u=this;this._$scope=e,this._organizationService=t,this._=n,this._$state=a,this._oliveModal=i,this._$q=s,this._$window=o,this._appUser=r,this._dateTimeService=l,this._userPermissions=c,this._$translate=d,this.organizations=[],this.step=1,this.selectedAccounts=[],this.allAccounts=[],this.accounts=[],this.workingList=[],this.defaultAccount={},this.nameError=!1,this.accountCountError=!1,this.ignoreValidation=!1,this._search=function(){""!==u.searchPhrase?u.workingList=u._.filter(u.accounts,function(e){return e.account_name.toLowerCase().indexOf(u.searchPhrase)>=0}):u.workingList=u._.cloneDeep(u.accounts),u.submittedSearch=u.searchPhrase},this._initDateTimeProperties(l),this.loaded=this._initialize()}return e.prototype._initialize=function(){var e=this;this._.isNumber(this._organizationService.initializationError)&&!this._appUser.SSO_v1&&this._$state.go("logout"),this.defaultAccount.id=this._appUser.currentAccount.accountIdGuid,this.selectedAccounts.push(this.defaultAccount),this.canCreateOrg()&&(this.loading=this._getDefaultPermissionProfile().then(function(){e._.isEmpty(e._organizationService.crossSiteAccounts)||(e.accounts=e._getNonOrgAccounts(e._organizationService.crossSiteAccounts),e.workingList=e._.cloneDeep(e.accounts))}))},e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getNonOrgAccounts=function(e){var t=this,n=this._.filter(e,function(e){return t._.isEmpty(e.organization_id)});return this._.sortBy(n,"account_name")},e.prototype._getDefaultPermissionProfile=function(){return this._organizationService.getPermissionProfiles(this.defaultAccount.id).then(function(e){var t=this._.find(e.permission_profiles,{permission_profile_name:"DS Viewer"});t=t||this._.find(e.permission_profiles,{permission_profile_name:"DS Sender"}),this.defaultPermissionProfile=t||this._.orderBy(e.permission_profiles,["permission_profile_name"],["desc"])[0]}.bind(this))},e.prototype.canCreateOrg=function(){return this._userPermissions.isSuperAdmin()},e.prototype.create=function(){var e,t=this,n={default_account_id:this.defaultAccount.id,default_permission_profile_id:this.defaultPermissionProfile.id,name:this.name,description:this.description};this._organizationService.postOrganization(n).then(function(n){return e=n,t._appUser.organizationAdminStatus="active",t._.defaults(t._appUser.currentAccount,{organization:{organization_id:""}}),t._appUser.currentAccount.organization.organization_id=e.id,t._appUser.loadOrganizationPermissions()}).then(function(){var n=t._.filter(t.selectedAccounts,function(e){return e.id!==t.defaultAccount.id});t.organizationAccountModel={accounts:t._.map(n,function(e){return{account_id:e.id}})},t.organizationAccountModel.accounts.length>0?t._organizationService.putOrganizationAccounts(e.id,t.organizationAccountModel).then(function(e){e&&!t._.isEmpty(e.accounts)&&(t._$window.location.href="/redirectToAuth?goTo=organizationDashboard")}):t._$window.location.href="/redirectToAuth?goTo=organizationDashboard"})},e.prototype.isNotAllowed=function(e){return e.id===this._appUser.currentAccount.accountIdGuid||!this._.isEmpty(e.organization_id)},e.prototype.isAssociatedToOrg=function(){return this.accountOrganization&&!this._.isEmpty(this.accountOrganization.id)},e.prototype.goBack=function(){--this.step},e.prototype.addRemoveAccount=function(e){var t=this._.find(this.selectedAccounts,{id:e.id});this._.isEmpty(t)?this.selectedAccounts.push(e):this._.remove(this.selectedAccounts,function(e){return e===t})},e.prototype.selectAll=function(){var e=this;this.isSelectAll()?(this.workingList.forEach(function(t){e._.remove(e.selectedAccounts,function(e){return e.id===t.id})}),this._.some(this.selectedAccounts,{id:this.defaultAccount.id})||this.selectedAccounts.push(this.defaultAccount)):this.workingList.forEach(function(t){e._.some(e.selectedAccounts,{id:t.id})||e.selectedAccounts.push(t)})},e.prototype.isSelected=function(e){return this._.some(this.selectedAccounts,{id:e})},e.prototype.isSelectAll=function(){var e=this,t=!this._.isEmpty(this.workingList);return this.workingList.forEach(function(n){!1!==e._.some(e.selectedAccounts,{id:n.id})||(t=!1)}),t},e.prototype.nextStep=function(){++this.step},e.prototype.meetStepRequirements=function(e){switch(e){case 1:this.nameError=this._.isEmpty(this.name);break;case 2:this.accountCountError=this.selectedAccounts.length<1}},e.prototype.cancel=function(){var e=this;this.ignoreValidation=!0;var t={title:this._$translate.instant("Cancel Create Organization?"),text:this._$translate.instant("Your changes are unsaved and will be discarded. Are you sure you want to cancel creating this organization?"),completeLabel:this._$translate.instant("Confirm"),completeFunction:function(){e._$state.go("authenticated.organization-main")},escapeLabel:this._$translate.instant("Cancel"),escapeFunction:function(){e.ignoreValidation=!1}};this._oliveModal.confirmationModal(t)},e.prototype.submitSearch=function(e){13===e.keyCode&&this._search()},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this._search()},e}();a.OrganizationModule.controller("CreateOrganizationController",["$scope","OrganizationService","lodash","$state","oliveModal","$q","$window","appUser","DateTimeService","userPermissions","$translate",i])},function(e,t){var n="organization/connected-applications.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationConnectedApplicationsController as org">\n  <div class="crumbs" data-qa="org_connected_apps_crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.organization-dashboard({organization_id: org.organizationId})">\n          {{org.organizationName}}\n       </a>\n      </li>\n\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Applications"></span>\n      </li>\n    </ul>\n  </div>\n\n  <div class="section">\n    <div class="grid">\n      <h1 class="header-title"\n          data-qa="org_connected_apps_header"\n          translate="Applications"></h1>\n      <p\n        data-qa="org_connected_apps_message"\n        translate="Manage the applications that can access your DocuSign organization. Applications are authorized for all domain users and access is limited by the permissions you specify."></p>\n    </div>\n\n    <div class="grid header-action">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary m-top-x-small"\n          ng-disabled="!(loaded && org.availableApplications.length)"\n          ng-click="org.displayAdd()"\n          data-qa="org_connected_apps_authorize_app_btn"\n          translate="Authorize Application">\n        </button>\n      </div>\n    </div>\n\n    <table class="table">\n      <thead>\n        <tr>\n          <th translate="Name"></th>\n          <th translate="Permissions"></th>\n          <th translate="Actions" class="text-right"></th>\n        </tr>\n      </thead>\n\n      <tbody ng-if="loaded">\n        <tr ng-repeat="connectedApplication in org.connectedApplications">\n          <td data-qa="org_connected_apps_app_name_td">{{::connectedApplication.name}}</td>\n          <td data-qa="org_connected_apps_app_scope_td">{{::connectedApplication.scopes}}</td>\n          <td class="text-right">\n            <button class="btn btn-md btn-icon" olive-menu="accountActions{{$index}}" olive-menu-position="below right"\n                    data-qa="org_connected_apps_app_actions_btn">\n              <span class="icon icon-ellipsis-horiz" aria-hidden="true"></span>\n              <span class="sr-text" translate="Actions"></span>\n            </button>\n\n            <div class="menu invisible" id="accountActions{{$index}}">\n              <ul>\n                <li><a class="item" ng-click="org.displayEdit(connectedApplication)"\n                       data-qa="org_connected_apps_actions_edit_link"\n                       translate="Edit"></a></li>\n                <li><a class="item" ng-click="org.remove(connectedApplication)"\n                       data-qa="org_connected_apps_actions_revoke_link"\n                       translate="Revoke"></a></li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class="emptyState" ng-if="loaded && !org.connectedApplications.length">\n      <i class="icon icon-menu-waffle emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p translate="The Organization does not have any authorized applications."></p>\n      </div>\n    </div>\n\n    <div ds-loading="org.loading" ds-loading-succeeded="loaded" class="section text-center"\n      ds-loading-error="{{\'We had trouble loading your connected applications. Please try again.\' | translate}}">\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/confirm-change-email.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ChangeEmailController as change">\n  <div class="modal_header">\n    <h1 class="modal_title" data-qa="confirm_change_email_header" translate="{{change.title}}"></h1>\n  </div>\n  <div class="modal_content">\n    <div data-qa="organization_confirm_change_email_change_name_message" ng-if="changeName">\n      <p\n        translate="Changing the user\'s name will update the name of the user on all memberships. The user may change their name on the individual account membership."></p>\n      <p ng-if="!changeEmail" translate="Are you sure you want to proceed?"></p>\n    </div>\n    <div data-qa="organization_confirm_change_email_change_email_message" ng-if="changeEmail">\n      <p\n        translate="Changing the email address associated with DocuSign should be done carefully. The email address is used to:"></p>\n      <ul>\n        <li translate="Log into DocuSign."></li>\n        <li translate="Receive documents to sign from others."></li>\n      </ul>\n      <p\n        translate="Once you have completed this change, [[styleStart]]existing documents that were sent or received:[[styleEnd]]"\n        translate-interpolation="bracket" translate-values="{styleStart: \'<strong>\', styleEnd: \'</strong>\'}"></p>\n      <ul>\n        <li translate="Will still appear in the user\'s documents list."></li>\n        <li translate="Notifications about these documents will be sent to the new email address."></li>\n      </ul>\n      <p translate="If someone sends a new document to the old email address:"></p>\n      <ul>\n        <li translate="DocuSign will send a notification to the old address."></li>\n        <li translate="It will not appear in the documents list of the account."></li>\n      </ul>\n      <p\n        translate="This change of email address will be applied to [[styleStart]]all the user\'s account memberships.[[styleEnd]]"\n        translate-interpolation="bracket" translate-values="{styleStart: \'<strong>\', styleEnd: \'</strong>\'}"></p>\n      <p translate="Are you sure you want to proceed?"></p>\n    </div>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete            \n            radmin-logging\n            data-qa="organization_confirm_change_email_update_button"\n            translate="Update"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="organization_confirm_change_email_cancel_button"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/close-user-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="CloseOrganizationUserController as closeUser">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title"\n        data-qa="organization_close_user_header"\n        translate="Close User"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content\n       data-qa="organization_close_user_message">\n    <div ds-loading="closeUser.loading" class="text-center" ds-loading-succeeded="closeUser.loaded"\n         ds-loading-error="{{\'We had trouble loading user. Go ahead and try that again.\' | translate}}"></div>\n    <div ng-if="closeUser.loaded">\n      <p>{{ closeUser.warningText }}</p>\n      <p\n        translate="Closing this user will remove their access to the following DocuSign accounts:"> </p>\n      <ul>\n        <li ng-repeat="m in closeUser.memberships">\n          {{ m.account_name }}\n        </li>\n      </ul>\n      <p\n        translate="By default, closed users are removed from any signing groups they belong to. You can uncheck the following option and leave this closed user in their signing groups."></p>\n      <div class="cb">\n        <input ng-model="closeUser.removeSigningGroupsEmail" id="removeSigningGroupsEmail"\n               name="removeSigningGroupsEmail" type="checkbox" class="cb_input" />\n        <label for="removeSigningGroupsEmail" class="cb_label" translate="Remove user from all signing groups" />\n      </div>\n    </div>\n\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ng-click="closeUser.close()"\n            data-qa="organization_close_user_confirm_btn"\n            translate="Close User"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="organization_close_user_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a){this._$scope=e,this._=t,this._organizationService=n,this._$q=a,this.removeSigningGroupsEmail=!0,this._targetMembership=this._$scope.membership,this._initialize()}return e.prototype.close=function(){this._.isFunction(this._$scope.close)&&this._$scope.close(this.users,this._targetMembership,this.removeSigningGroupsEmail)},e.prototype._initialize=function(){this._.isEmpty(this._$scope.organizationId)||(this._organizationId=this._$scope.organizationId,this._.isEmpty(this._$scope.user)||(this.user=this._$scope.user,this._.isEmpty(this._$scope.users)?this.loading=this._getUserDetails(this._$scope.email):(this.users=this._$scope.users,this._getUserMemberships(this.users),this.loading=this._$q.when(),this.loaded=!0)))},e.prototype._getUserDetails=function(e){var t=this;return this._organizationService.getUserDetail(this._organizationId,e).then(function(e){t.users=e.users,t._getUserMemberships(t.users)})},e.prototype._getUserMemberships=function(e){var t=this,n=this._targetMembership?[this._targetMembership]:this._.flatten(this._.map(e,"memberships"));this.memberships=this._.filter(n,function(e){var n="closed"!==e.membership_status;return null===t._targetMembership||void 0===t._targetMembership?n&&!e.is_external_account:n})},e}();a.OrganizationModule.controller("CloseOrganizationUserController",["$scope","lodash","OrganizationService","$q",i])},function(e,t){var n="organization/clear-identity-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="header-title" translate="Clear Federated ID"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p translate="Clear the Federated ID if the ID has been changed on your identity provider. A new Federated ID will be populated automatically the next time the user logs in."></p>\n    <p translate="Are you sure you want to clear the Federated ID?"></p>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" translate="Confirm" olive-modal-complete></button>\n    <button class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.CHANGE_DEFAULT_ACCOUNT_SUCCESS="Default Account and Permission Set changed successfully.";var i=function(){function e(e,t,n,a,i){var s=this;this._$scope=e,this._=t,this._organizationService=n,this._oliveMessage=a,this._$translate=i,this.permissionSets=[],this.accounts=[],this._.isEmpty(this._$scope.accounts)||(this.accounts=this._$scope.accounts),this._.isEmpty(this._$scope.defaultAccountId)||(this.defaultAccountId=this._$scope.defaultAccountId,this.getPermissionSets(this.defaultAccountId).then(function(){s.defaultPermissionId=s._$scope.organization.default_permission_profile_id}))}return e.prototype.save=function(){var e=this,t=this._.cloneDeep(this._$scope.organization);t.default_account_id=this.defaultAccountId,t.default_permission_profile_id=this.defaultPermissionId,this._organizationService.putOrganization(this._$scope.organization.id,t).then(function(t){e._$scope.refreshOrganization(t),e._showSuccessMessage()})},e.prototype.getPermissionSets=function(e){var t=this;return this.defaultPermissionId=null,this._organizationService.getPermissionProfiles(e).then(function(e){t.permissionSets=t._.orderBy(e.permission_profiles,["isSystemRole",function(e){return e.permission_profile_name.toLowerCase()}],["desc","asc"])})},e.prototype._showSuccessMessage=function(){var e=this._$translate.instant(t.CHANGE_DEFAULT_ACCOUNT_SUCCESS);this._oliveMessage.show(e,"changeSuccess","success")},e}();a.OrganizationModule.controller("ChangeOrganizationDefaultsController",["$scope","lodash","OrganizationService","oliveMessage","$translate",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i="Change Email Address",s="Change Name",o="Change Profile",r=function(){return function(e){this._$scope=e,this._$scope.changeEmail&&this._$scope.changeName?this.title=o:this._$scope.changeEmail?this.title=i:this._$scope.changeName&&(this.title=s)}}();a.OrganizationModule.controller("ChangeEmailController",["$scope",r])},function(e,t){var n="organization/change-defaults.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ChangeOrganizationDefaultsController as changeDefaults" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" data-qa="organization_change_default_account_permission_set_title" translate="Change Default Account and Permission Set"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p data-qa="organization_change_default_account_permission_set_description"\n       translate="The default account is used for automatic provisioning of new users if just in time provisioning is enabled. New users are assigned the default permission set"></p>\n    <div class="form_unit">\n      <label for="defaultAccount" class="label"\n             data-qa="organization_change_default_default_account_label"\n             translate="Default Account" label-require="*"></label>\n      <div class="select-wrap">\n        <select id="defaultAccount" ng-model="changeDefaults.defaultAccountId" required ds-valid\n                ng-change="changeDefaults.getPermissionSets(changeDefaults.defaultAccountId)"\n                ng-options="a.account_id as a.account_name_with_external_id for a in changeDefaults.accounts"\n                data-qa="organization_change_default_default_account_drop_down_list">\n          <option translate="Select One"></option>\n        </select>\n      </div>\n    </div>\n    <div class="form_unit">\n      <label for="defaultPermission" class="label"\n             data-qa="organization_change_default_default_permission_set_label"\n             translate="Default Permission Set" label-require="*"></label>\n      <div class="select-wrap">\n        <select id="defaultPermission" ng-model="changeDefaults.defaultPermissionId" required ds-valid\n                ng-options="p.id as p.permission_profile_name for p in changeDefaults.permissionSets"\n                data-qa="organization_change_default_default_permission_set_drop_down_list">\n          <option translate="Select One"></option>\n        </select>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ds-form-submit="changeDefaults.save()"\n            data-qa="organization_change_default_change_button"\n            translate="Change"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="organization_change_default_cancel_button"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/bulk-actions/organization-bulk-actions.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationBulkActionsController as bulkActions">\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: bulkActions._organizationId})">\n          {{ bulkActions.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Bulk Actions"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <h1 class="header-title" translate="Bulk Actions"></h1>\n    <div class="header-description">\n      <span\n         translate="Manage key areas of your organization through bulk actions. Track all bulk actions through the activity log." ></span><br />\n      <span translate=\'For more information, see "Bulk Actions" in the [[linkStart]]Organization Administration Guide[[linkEnd]]\'\n            translate-interpolation="bracket"\n            translate-values="{linkStart: \'<a target=\\\'_blank\\\' href=\\\'{{bulkActions.organizationAdminGuide}}\\\'>\', linkEnd: \'</a>\'}" ></span></div>\n  </div>\n  <div class="tabs-wrap">\n    <div class="col-2-5">\n      <ul class="tabs" olive-tabset="{{bulkActions.bulkActionsTab.tabSetName}}">\n        <li class="tab-wrap">\n          <button type="button" class="tab" olive-tab-id="{{bulkActions.bulkActionsTab.tabs.actions.id}}" data-qa="organization_bulk_actions_actions_tab_button" translate="Actions"></button>\n        </li>\n        <li class="tab-wrap">\n          <button type="button" class="tab" olive-tab-id="{{bulkActions.bulkActionsTab.tabs.activity.id}}" data-qa="organization_bulk_actions_activities_tab_button" translate="Activity"></button>\n        </li>\n      </ul>\n    </div>\n    <div ng-if="bulkActions.showFileExpiration()" class="u-float-right">\n      <div class="text-muted right" translate="Export files are stored on the server for 90 days"/>\n    </div>\n  </div>\n  <div class="section">\n    <div class="p-horizontal-small" olive-tabset-parent="{{bulkActions.bulkActionsTab.tabSetName}}"\n         olive-tab-id="{{bulkActions.bulkActionsTab.tabs.actions.id}}">\n      <div class="cards-responsive">\n        <article ng-if="bulkActions._canExportUserList" class="card">\n          <section class="card_content">\n            <h4 class="card_title" translate="Users"></h4>\n          </section>\n          <section class="card_content card_content-grouped card-content-min-height">\n            <p translate="Export organization user and account membership details."></p>\n          </section>\n          <section class="card_content-grouped card_title-centered">\n            <button class="btn btn-secondary"  ng-click="bulkActions.userExport()" data-qa="organization_bulk_actions_user_list_export_button" translate="Export"></button>\n          </section>\n        </article>\n        <article ng-if="bulkActions._canExportAccountSetting" class="card">\n          <section class="card_content">\n            <h4 class="card_title" data-qa="organization_bulk_actions_accounts_card_title" translate="Accounts"></h4>\n          </section>\n          <section class="card_content card_content-grouped card-content-min-height">\n            <p data-qa="organization_bulk_actions_accounts_card_description" translate="Export organization account details and settings."></p>\n          </section>\n          <section class="card_content-grouped card_title-centered card-button-bottom">\n            <button class="btn btn-secondary"  ng-click="bulkActions.accountSettingExport()" data-qa="organization_bulk_actions_account_settings_export_button" translate="Export"></button>\n          </section>\n        </article>\n      </div>\n    </div>\n    <div olive-tabset-parent="{{bulkActions.bulkActionsTab.tabSetName}}"\n         olive-tab-id="{{bulkActions.bulkActionsTab.tabs.activity.id}}">\n      <table class="tbl table respTable respTable-alignRight">\n        <thead>\n        <tr>\n          <th translate="DS_CONTEXT=(bulk action) Activity"></th>\n          <th translate="Type"></th>\n          <th translate="Summary"></th>\n          <th translate="Administrator"></th>\n          <th class="table_cell-date" translate="Timestamp"></th>\n          <th class="table_cell-status" translate="Status"></th>\n          <th class="table_cell-action text-right" translate="Actions"></th>\n        </tr>\n        </thead>\n        <tbody ng-if="bulkActions.loaded">\n        <tr ng-repeat="activity in bulkActions.list"\n            ng-class="{\'queued\': \'text-muted\', \'in_process\': \'text-muted\'}[activity.status]">\n          <td translate="{{::activity.activity_type}}"></td>\n          <td translate="{{::activity.type_display_name}}"></td>\n          <td>\n            <div ng-if="activity.completed">\n              <span>{{bulkActions.activityCompletedSummary(activity)}}</span>\n            </div>\n            <div ng-if="activity.status=== \'queued\'">\n              <span translate="{{activity.status_display_name}}"></span>\n            </div>\n            <div ng-if="activity.status=== \'in_process\'">\n              <div class="progress-bar-wrap">\n                <div class="progress-bar-label" translate="In Progress">\n                  <div class="u-float-right">{{activity.percent_completed}}%</div>\n                </div>\n                <div class="progress-bar">\n                  <span class="fill" ng-style="{width: \'{{activity.percent_completed}}%\'}"></span>\n                </div>\n              </div>\n            </div>\n          </td>\n          <td>{{::activity.requestor.name}}</td>\n          <td class="u-nowrap">{{::activity.created | moment:bulkActions.dateTimeFormat:bulkActions.timeZone}}</td>\n          <td class="u-nowrap">\n            <i class="icon" ng-class="{\n              failed: \'icon-circle text-alert\',\n              queued: \'icon-circle text-muted\',\n              in_process: \'icon-circle text-muted\',\n              completed:\'icon-circle text-success\',\n              processed_with_errors: \'icon-circle text-attention\'\n            }[activity.status]"></i>\n            <span translate="{{activity.status_display_name}}"></span>\n          </td>\n          <td class="action-buttons">\n              <button class="btn btn-minor btn-icon" ng-if="!activity.completed"\n                      ng-disabled="bulkActions.isRefreshing"\n                      ng-click="bulkActions.refreshActivity(activity)">\n                <span class="icon icon-sync"></span>\n              </button>\n\n              <button class="btn btn-secondary"\n                      ng-if="activity.completed"\n                      ng-disabled="bulkActions.isRefreshing"\n                      ng-click="bulkActions.showDetails(activity)" translate="View">\n              </button>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <div ng-if="bulkActions.loaded && !bulkActions.list.length">\n        <div class="emptyState">\n          <i class="icon icon-voided emptyState_icon"></i>\n          <div class="emptyState_text">\n            <h3 translate="No Activities"></h3>\n            <p ng-if="!bulkActions.list.length" translate="There are no activities to display."></p>\n          </div>\n        </div>\n      </div>\n      <div>\n\n      </div>\n      <div class="text-center" ds-loading="bulkActions.loading"\n           ds-loading-succeeded="bulkActions.loaded"\n           ds-loading-error="{{\'We had trouble loading activities. Go ahead and try that again.\' | translate}}">\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(4),s=n(288),o=n(3);t.BULK_ACTION_ACTIVITY_TYPES={export:"Export",import:"Import"};var r=function(){function e(e,t,n,a,s,o,r,l,c){this._=e,this._organizationService=t,this._api=n,this._accountServerApi=a,this._organizationErrorHandlerService=s,this._moment=o,this._$q=r,this._userPermissions=l,this._translate=c,this.organizationAdminGuide=i.ORGANIZATION_ADMIN_GUID_LINK}return e.prototype.requestActivity=function(e,n,a){var o,r=this;switch(n){case i.EXPORT_TYPE.accountSettings.key:o=this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().accountSettings().uri();break;case i.EXPORT_TYPE.users.key:case i.EXPORT_TYPE.domainUsers.key:case i.EXPORT_TYPE.externalUsers.key:o=this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().userList().uri(),a={type:n}}return this._accountServerApi.post(o,a).then(function(e){return r._convertActivityToViewModel(t.BULK_ACTION_ACTIVITY_TYPES.export,e.data)}).catch(function(e){return r._organizationErrorHandlerService.onError(e)})},e.prototype.getActivities=function(e){var n=this;return this._$q.all({exportAccountSetting:this._userPermissions.canAccessOrganizationAccountSettingExport()?this._getAccountSettingExports(e):this._$q.when([]),exportUser:this._userPermissions.canAccessOrganizationUserListExport()?this._getUserExports(e):this._$q.when([])}).then(function(e){var a=e.exportAccountSetting.data?e.exportAccountSetting.data.exports:[],i=e.exportUser.data?e.exportUser.data.exports:[];return{activity_list:n._convertActivityListToViewModel(a,t.BULK_ACTION_ACTIVITY_TYPES.export).concat(n._convertActivityListToViewModel(i,t.BULK_ACTION_ACTIVITY_TYPES.export)).sort(function(e,t){return n._moment.utc(t.created).diff(n._moment.utc(e.created))})}}).catch(function(e){return n._organizationErrorHandlerService.onError(e)})},e.prototype.getActivity=function(e,n,a){var o,r=this;return o=a&&a===i.EXPORT_TYPE.accountSettings.key?this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().accountSettings(n).uri():this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().userList(n).uri(),this._accountServerApi.get(o).then(function(e){return r._convertActivityToViewModel(t.BULK_ACTION_ACTIVITY_TYPES.export,e.data)}).catch(function(e){return r._organizationErrorHandlerService.onError(e)})},e.prototype.downloadCsvStream=function(e){return this._api.get(e).then(function(e){return e.data})},e.prototype.deleteActivity=function(e,t,n){var a,o=this;return a=n&&n===i.EXPORT_TYPE.accountSettings.key?this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().accountSettings(t).uri():this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().userList(t).uri(),this._accountServerApi.delete(a).then(function(){}).catch(function(e){return o._organizationErrorHandlerService.onError(e)})},e.prototype.getContentFromResult=function(e,t,n){var a=this,i=this._createDownloadUri(e,t,!0,n);return this._api.get(i).then(function(e){return e.data}).catch(function(e){return a._organizationErrorHandlerService.onError(e)})},e.prototype._getAccountSettingExports=function(e){var t=this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().accountSettings().uri();return this._accountServerApi.get(t)},e.prototype._getUserExports=function(e){var t=this._api.organizationEndPoint(s.ENDPOINT_VER2).organizations(e).exports().userList().uri();return this._accountServerApi.get(t)},e.prototype._convertActivityListToViewModel=function(e,t){return this._.isEmpty(e)?[]:e.map(this._convertActivityToViewModel.bind(this,t))},e.prototype._convertActivityToViewModel=function(e,t){var n=this._.cloneDeep(t);return n.activity_type=e,n.type_display_name=this._exportTypeName(t.type),this._activityStatusWithDetails(t,n),n.results&&n.results.forEach(this._exportFileName.bind(this,t.type)),n},e.prototype._createDownloadUri=function(e,t,n,a){void 0===n&&(n=!1);var s,o={acceptHeader:"text/csv"};if(n&&t&&t.url){var r=/\bhttp[s]+:\/\/?\b([^\/]+)\/.*/i.exec(t.url);r[1]&&(o.site=r[1])}return s=a&&a===i.EXPORT_TYPE.accountSettings.key?this._api.extended().organizationExports(e).accountSettings(t.id).uri(o):this._api.extended().organizationExports(e).userList(t.id).uri(o),this._api.authorizationManager.authorizeUri(s)},e.prototype._exportFileName=function(e,t){var n=this._.find(i.EXPORT_TYPE,{key:e});t.file_name=(n?n.key:e)+"_"+o.SITE[t.site_id]},e.prototype._exportTypeName=function(e){var t=this._.find(i.EXPORT_TYPE,{key:e});return t?t.name:e},e.prototype._activityStatusWithDetails=function(e,t){var n="";switch(e.status){case i.BULK_ACTIVITY_STATUS.FAILED:(n=s.call(this,e.results))!==i.STATUS_DISPLAY_NAMES.FAILED&&(t.status=i.BULK_ACTIVITY_STATUS.PROCESSED_WITH_ERRORS);break;case i.BULK_ACTIVITY_STATUS.COMPLETED:n=s.call(this,e.results);break;case i.BULK_ACTIVITY_STATUS.QUEUED:case i.BULK_ACTIVITY_STATUS.IN_PROGRESS:n=i.STATUS_DISPLAY_NAMES.PROCESSING;break;default:n=i.STATUS_DISPLAY_NAMES.UNKNOWN}function s(t){var n="";if(e.success)n=i.STATUS_DISPLAY_NAMES.COMPLETED.PROCESSED_SUCCESS;else{var s=t&&t.filter(function(e){return a.isUndefined(e.error_details)})||[];n=t&&0!==s.length?1===s.length?i.STATUS_DISPLAY_NAMES.COMPLETED.PROCESSED_WITH_ERROR_SINGULAR:i.STATUS_DISPLAY_NAMES.COMPLETED.PROCESSED_WITH_ERROR_PLURAL:i.STATUS_DISPLAY_NAMES.FAILED}return n}t.status_display_name=n},e}();t.OrganizationBulkActionsService=r,i.OrganizationModule.service("OrganizationBulkActionsService",["lodash","OrganizationService","dsApiClient","DocuSignAccountServerApiClient","OrganizationErrorHandlerService","moment","$q","userPermissions","$translate",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=40,s=function(){function e(e,t,n,s,o,r,l,c,d,u,p,m,g,h){this._organizationService=e,this._organizationBulkActionsService=t,this._$scope=n,this._$stateParams=s,this._$state=o,this._$translate=r,this._$window=l,this._=c,this._dateTimeService=d,this._oliveModal=u,this._oliveMessage=p,this._featureNotificationService=m,this._$q=g,this._userPermissions=h,this.hasReservedDomains=!1,this.organizationAdminGuide=this._organizationBulkActionsService.organizationAdminGuide,this.tabs=this._$window.Olive.tabs,this.isRefreshing=!1,this.exporting=!1,this.bulkActionsTab={tabSetName:"bulkActionsTab",tabs:{actions:{id:"actions"},activity:{id:"activity"}}},this.userExportTypes=[],this.selectedExportType="",this.selectedAccounts=[],this.showAccountPickerForSettingExport=!1,this.maxAccountsAllowedForSettingExport=i,this._organizationAdmins=[],this._organizationId="",this._canExportAccountSetting=!1,this._canExportUserList=!1,this._canExportAccountSetting=h.canAccessOrganizationAccountSettingExport(),this._canExportUserList=h.canAccessOrganizationUserListExport(),this._organizationId=this._$stateParams.organization_id,this._createUserExportTypeList(),this._organizationId&&!this._.isEmpty(this._organizationService.currentOrg)&&this._organizationService.currentOrg.id===this._organizationId&&(this.organization=this._organizationService.currentOrg.organization),this._.isUndefined(this.organization)&&this._$state.go("authenticated"),this.hasReservedDomains=this.organization.reserved_domains.some(function(e){return"active"===e.status.toLocaleLowerCase()}),this._initController(),this._featureNotificationService.killNotification(this._organizationId,a.TILE_KEYS.ORG_BULK_ACTION)}return e.prototype.accountIsSelected=function(e){return this._.some(this.selectedAccounts,function(t){return t===e})},e.prototype.addRemoveAccount=function(e,t){var n=this.selectedAccounts.length>=i,a=this._.some(this.selectedAccounts,function(t){return t===e.account_id});n&&!a?(t.preventDefault(),this._oliveMessage.show(this._$translate.instant("Only {{number}} accounts can be selected at a time. Please export the currently selected accounts, then select additional accounts as needed",{number:i}),"exceededMaxAccountSelected","error")):a?this._.remove(this.selectedAccounts,function(t){return t===e.account_id}):this.selectedAccounts.push(e.account_id)},e.prototype.accountSettingExport=function(){var e=this;this.organizationAccounts?this.showAccountSettingModal():this._organizationService.getOrganizationAccounts(this._organizationId).then(function(t){e.organizationAccounts=t,e.showAccountSettingModal()})},e.prototype.showAccountSettingModal=function(){var e=this._$scope;this.showAccountPickerForSettingExport=this.organizationAccounts&&this.organizationAccounts.length>i,this._oliveModal.openModal({scope:e,templateUrl:"organization/bulk-actions/export-account-settings-modal.html",showClose:!1,size:"md"})},e.prototype.requestAccountSettingExport=function(){var e=this;this._oliveMessage.closeAll(),this.exporting=!0;var t={accounts:[]};this.showAccountPickerForSettingExport?t.accounts=this.selectedAccounts.map(function(e){return{account_id:e}}):t.accounts=this.organizationAccounts.map(function(e){return{account_id:e.account_id}}),this._organizationBulkActionsService.requestActivity(this._organizationId,a.EXPORT_TYPE.accountSettings.key,t).then(this.refreshList.bind(this)).then(function(t){e._oliveMessage.show(e._$translate.instant("Export request initiated."),"accountSettingExportRequest","success"),e.tabs.instances[e.bulkActionsTab.tabSetName].switchTo(e.bulkActionsTab.tabs.activity.id)}).catch(function(t){var n=e.requestErrorMessage.call(e,t);e._oliveMessage.show(n,"accountSettingExportRequest","error")}).finally(function(){e._oliveModal.closeAllModals(),e.exporting=!1})},e.prototype.userExport=function(){var e=this._$scope;this._oliveModal.openModal({scope:e,templateUrl:"organization/bulk-actions/export-users-modal.html",showClose:!1,size:"md"})},e.prototype.export=function(){var e=this;this._oliveMessage.closeAll();var t=a.EXPORT_TYPE[this.selectedExportType];this.exporting=!0,this._organizationBulkActionsService.requestActivity(this._organizationId,t.key).then(this.refreshList.bind(this)).then(function(t){e._oliveMessage.show(e._$translate.instant("Export request initiated."),"userListExportSuccess","success"),e.tabs.instances[e.bulkActionsTab.tabSetName].switchTo(e.bulkActionsTab.tabs.activity.id)}).catch(function(t){var n=e.requestErrorMessage.call(e,t);e._oliveMessage.show(n,"userListExportError","error")}).finally(function(){e._oliveModal.closeAllModals(),e.exporting=!1})},e.prototype.requestErrorMessage=function(e){var t="";switch(e.data.error){case"organization_export_task_max_allowed":var n=/\(\d*\)/g.exec(e.data.error_description);t=n&&n.length?this._$translate.instant("The maximum number of exports {{number}} has been reached. Delete previous exports and try again.",{number:n[0]}):this._$translate.instant("The maximum number of exports has been reached. Delete previous exports and try again.");break;case"organization_export_requests_pending":t=this._$translate.instant("Another export request is in progress.");break;default:t=this._$translate.instant("An error occurred while requesting export.")}return t},e.prototype.refreshList=function(e){var t=this;return this.list.filter(function(e){return t._.isUndefined(e.completed)}).length?this._initActivities():this._$q.when(this.list.unshift(e))},e.prototype.showDetails=function(e){var t=this._$scope.$new();t.selectedActivity=e,t.organizationId=this._organizationId,t.dateTimeFormat=this.dateTimeFormat,t.timeZone=this.timeZone,t.deleteActivity=this.deleteActivity.bind(this),this._oliveModal.openModal({scope:t,templateUrl:"organization/bulk-actions/activity-details.html",showClose:!1,size:"md"})},e.prototype.deleteActivity=function(e){var t=this;this._organizationBulkActionsService.deleteActivity(this._organizationId,e.id,e.type).then(function(){t._oliveMessage.show(t._$translate.instant("Your export has been deleted."),"userListDeleteSuccess","success"),t._.remove(t.list,function(t){return t.id===e.id})}).catch(function(e){t._oliveMessage.show(t._$translate.instant("An error occurred while deleting bulk action activity."),"userListDeleteError","error")}).finally(this._oliveModal.closeAllModals.bind(this))},e.prototype.refreshActivity=function(e){var t=this;this.isRefreshing=!0,this._organizationBulkActionsService.getActivity(this._organizationId,e.id,e.type).then(function(e){var n=t._.findIndex(t.list,{id:e.id});t.list.splice(n,1,e)}).catch(function(e){t._oliveMessage.show(t._$translate.instant("An error occurred while refreshing the activity."),"userListDeleteError","error")}).finally(function(){return t.isRefreshing=!1})},e.prototype.activityCompletedSummary=function(e){var t="";switch(e.type){case a.EXPORT_TYPE.accountSettings.key:t=1===e.number_rows?this._$translate.instant("1 Account Exported"):this._$translate.instant("{{number}} Accounts Exported",{number:e.number_rows});break;case a.EXPORT_TYPE.users.key:case a.EXPORT_TYPE.domainUsers.key:case a.EXPORT_TYPE.externalUsers.key:t=1===e.number_rows?this._$translate.instant("1 User Exported"):this._$translate.instant("{{number}} Users Exported",{number:e.number_rows})}return t},e.prototype.showFileExpiration=function(){return this.tabs.instances[this.bulkActionsTab.tabSetName]&&this.tabs.instances[this.bulkActionsTab.tabSetName].currentTab===this.bulkActionsTab.tabs.activity.id},e.prototype.selectedTypeDescription=function(){return this._.find(this.userExportTypes,{key:this.selectedExportType}).description},e.prototype._createUserExportTypeList=function(){for(var e in a.EXPORT_TYPE)if(a.EXPORT_TYPE[e].key!==a.EXPORT_TYPE.accountSettings.key){var t={key:e,name:this._$translate.instant(a.EXPORT_TYPE[e].name),description:this._$translate.instant(a.EXPORT_TYPE[e].description)};this.userExportTypes.push(t)}this.selectedExportType=this.userExportTypes[0].key},e.prototype._initController=function(){this._initDateTimeProperties(),this.loading=this._initActivities()},e.prototype._initDateTimeProperties=function(){this.dateTimeFormat=this._dateTimeService.getDateTimeFormat(),this.timeZone=this._dateTimeService.getTimeZone()},e.prototype._initActivities=function(){var e=this;return this._organizationBulkActionsService.getActivities(this._organizationId).then(function(t){e.list=t.activity_list||[]}).then(this._getAdminUsers.bind(this)).catch(function(t){e._oliveMessage.show(e._$translate.instant("An error occurred while getting the activities."),"getActivitiesError","error")})},e.prototype._getAdminUsers=function(){var e=this;!(this.list.length>0)||this.list[0].requestor&&this.list[0].requestor.name||this._organizationService.getOrganizationAdmins(this._organizationId).then(function(t){e._organizationAdmins=t.admins,e.list.forEach(function(t){var n=e._.find(e._organizationAdmins,{user_id:t.requestor.id});t.requestor.name=t.requestor.name?t.requestor.name:n?n.user_name:"-"})})},e}();t.OrganizationBulkActionsController=s,a.OrganizationModule.controller("OrganizationBulkActionsController",["OrganizationService","OrganizationBulkActionsService","$scope","$stateParams","$state","$translate","$window","lodash","DateTimeService","oliveModal","oliveMessage","FeatureNotificationService","$q","userPermissions",s])},function(e,t){var n="organization/bulk-actions/export-users-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 translate="Users"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <div ng-if="!bulkActions.hasReservedDomains">\n    <label class="label" translate="Users and Memberships"></label>\n    <div>\n      <p>{{bulkActions.selectedTypeDescription()}}</p>\n    </div>\n    <div class="p-top-large">\n      <button class="btn btn-primary"\n              ng-disabled="bulkActions.exporting"\n              ng-click="bulkActions.export()"\n              translate="Export"></button>\n    </div>\n  </div>\n  <div ng-if="bulkActions.hasReservedDomains">\n    <div class="fgrid">\n      <div class="form_group fgrid_cell">\n        <label class="label" translate="Select an Export Type"></label>\n      </div>\n    </div>\n    <div class="fgrid p-top-medium">\n      <div class="fgrid_cell fgrid_cell-2-3">\n        <div class="select-wrap">\n          <select id="user-export-list-types"\n                  ng-model="bulkActions.selectedExportType"\n                  ng-options="type.key as type.name for type in bulkActions.userExportTypes">\n          </select>\n\n        </div>\n      </div>\n      <div class="fgrid_cell fgrid_cell-1-3">\n        <button translate="Export" class="btn btn-primary" ng-click="bulkActions.export()"></button>\n      </div>\n    </div>\n    <div class="fgrid fgrid-gutters">\n      <div class="fgrid_cell fgrid_cell-2-3">\n        {{bulkActions.selectedTypeDescription()}}\n      </div>\n    </div>\n  </div>\n  <div class="p-top-medium">\n    <label class="label" translate="Have questions?"></label>\n    <div\n      translate=\'For more information, see "Bulk Actions" in the [[linkStart]]Organization Administration Guide[[linkEnd]]\'\n      translate-interpolation="bracket"\n      translate-values="{linkStart: \'<a target=\\\'_blank\\\' href=\\\'{{bulkActions.organizationAdminGuide}}\\\'>\', LinkEnd: \'</a>\'}"></div>\n\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <div class="btn-row right">\n    <button class="btn btn-secondary btn-lg" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/bulk-actions/export-account-settings-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 data-qa="organization_export_account_settings_modal_title" translate="Account Settings"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <label class="label" data-qa="organization_export_account_settings_modal_label" translate="Settings Data for Accounts"></label>\n  <div>\n    <p data-qa="organization_export_account_settings_modal_description" translate="Export a CSV of account settings for the accounts within your organization."></p>\n  </div>\n  <div ng-if="bulkActions.showAccountPickerForSettingExport">\n    <label class="label" translate="Select up to {{bulkActions.maxAccountsAllowedForSettingExport}} Accounts to Include" label-required="*"></label>\n    <div class="modal_content modal_content-list">\n      <ds-filter-applied filterable="bulkActions"></ds-filter-applied>\n\n      <table class="table" olive-table-select>\n        <thead data-qa="organization_accounts_settings_export_table_header">\n        <tr>\n          <th></th>\n          <th translate="Name"></th>\n          <th translate="Account ID"></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="account in bulkActions.organizationAccounts"\n            olive-tooltip="to be determined"\n            olive-tooltip-position="after middle" olive-tooltip-events="hover ">\n          <td>\n          <span class="cb cb-noText">\n              <input class="cb_input" type="checkbox" id="input_1a-{{$index}}" olive-table-select-row\n                     ng-click="bulkActions.addRemoveAccount(account, $event)"\n                     ng-checked="bulkActions.accountIsSelected(account.account_id)"\n                     data-qa="organization_add_accounts_checkbox"/>\n              <label class="cb_label" for="input_1a-{{$index}}"\n                     data-qa="organization_add_accounts_checkbox_label"\n                     translate="Select"></label>\n          </span>\n          </td>\n          <td data-qa="organization_add_accounts_acc_name">{{ ::account.account_name }}</td>\n          <td data-qa="organization_add_accounts_acc_id">{{ ::account.external_account_id }}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <div class="p-top-large">\n    <button class="btn btn-primary"\n            ng-disabled="bulkActions.exporting || (bulkActions.showAccountPickerForSettingExport && bulkActions.selectedAccounts.length < 1)"\n            ng-click="bulkActions.requestAccountSettingExport()"\n\t\t\tdata-qa="organization_export_account_settings_modal_export_button"\n            translate="Export"></button>\n  </div>\n\n  <div class="p-top-medium">\n    <label class="label" translate="Have questions?"></label>\n    <div\n\t  data-qa="organization_export_account_settings_modal_export_help_guide_div"\n      translate=\'For more information, see "Bulk Actions" in the [[linkStart]]Organization Administration Guide[[linkEnd]]\'\n      translate-interpolation="bracket"\n      translate-values="{linkStart: \'<a target=\\\'_blank\\\' href=\\\'{{bulkActions.organizationAdminGuide}}\\\'>\', LinkEnd: \'</a>\'}"></div>\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <div class="btn-row right">\n    <button class="btn btn-secondary btn-lg" data-qa="organization_export_account_settings_modal_export_cancel_button" translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/bulk-actions/activity-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-details" ng-controller="ActivityDetailsController as details">\n  <div class="modal_header" data-qa="organization_bulk_export_activity_details_title">{{details.modalTitle()}}</div>\n  <div class="modal_content">\n    <div  class="u-text-strong p-vertical-x-small">\n      <span data-qa="organization_bulk_export_activity_details_activity_summary_label" translate="DS_CONTEXT=(bulk action) Activity Summary"></span>:\n    </div>\n    <div ng-if="details.selectedActivity.activity_type === \'Export\'">\n      <div>{{details.exportSummary()}}</div>\n      <div ng-if="details.selectedActivity.requestor.name"\n\t\t   data-qa="organization_bulk_export_activity_details_username"\n           translate="DS_CONTEXT=(requested) By [[username]]"\n           translate-interpolation="bracket"\n           translate-values="{username: details.selectedActivity.requestor.name}"></div>\n      <div data-qa="organization_bulk_export_activity_details_completed_date"\n\t\t   translate="DS_CONTEXT=(completed) On [[date]]"\n           translate-interpolation="bracket"\n           translate-values="{date: (details.selectedActivity.completed| moment:details.dateTimeFormat:details.timeZone)}"></div>\n    </div>\n\n    <div class="section" ng-if="details.successActivityResults.length">\n      <div ng-repeat="result in details.selectedActivity.results" class="p-bottom-small">\n        <span ng-if="details.selectedActivity.type !== \'organization_account_settings_export\'" class="p-right-medium">\n          <button ng-disabled="result.error_details" target="_self" class="btn btn-secondary"\n             ng-click="details.downloadResult(result)" translate="Download"></button>\n        </span>\n        <span ng-if="details.selectedActivity.type === \'organization_account_settings_export\'" class="p-right-medium">\n          <button ng-disabled="result.error_details" class="btn btn-secondary"\n             ng-click="details.DownloadCsv(result)" \n             data-qa="organization_bulk_export_activity_details_accounts_download_button" \n             translate="Download"></button>\n        </span>\n        <span ng-if="!result.error_details" data-qa="organization_bulk_export_activity_details_filename">{{result.file_name}}</span>\n        <span ng-if="result.error_details" translate="This export failed with an error"></span>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-md btn-secondary" olive-modal-complete data-qa="organization_bulk_export_activity_details_close_button"\n            translate="DS_CONTEXT=(modal) Close"></button>\n    <button class="btn btn-md btn-secondary"\n            ng-if="details.selectedActivity.activity_type === \'Export\'"\n            ng-click="details.deleteActivity()" data-qa="organization_bulk_export_activity_details_delete_button"\n\t\t\ttranslate="Delete Export"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i="{{number}} Users and Memberships Exported",s="{{number}} User and Membership Exported",o="{{number}} Domain Users Exported",r="{{number}} Domain User Exported",l="{{number}} External Domain Users Exported",c="{{number}} External Domain User Exported",d=function(){function e(e,t,n,a,i,s,o,r,l){var c=this;this._=e,this._$q=t,this._$translate=n,this._$scope=a,this._oliveModal=i,this._oliveMessage=s,this._organizationBulkActionsService=o,this._downloader=r,this._settingTranslationMap=l,this.downloadLinks=[],this.successActivityResults=[],this.selectedActivity=this._$scope.selectedActivity,this.organizationId=this._$scope.organizationId,this.dateTimeFormat=this._$scope.dateTimeFormat,this.timeZone=this._$scope.timeZone,this.downloadLinks=this.selectedActivity.results||[],this.successActivityResults=this.selectedActivity.results?this.selectedActivity.results.filter(function(e){return c._.isUndefined(e.error_details)}):[]}return e.prototype.exportSummary=function(){if(this.selectedActivity.success){var e=function(e){var t="",n=e.number_rows;switch(e.type){case a.EXPORT_TYPE.users.name:t=1===n?s:i;break;case a.EXPORT_TYPE.externalUsers.name:t=1===n?c:l;break;case a.EXPORT_TYPE.domainUsers.name:t=1===n?r:o}return t}(this.selectedActivity);return this._$translate.instant(e,{number:this.selectedActivity.number_rows})}return this._$translate.instant("The export failed with error.")},e.prototype.deleteActivity=function(){var e={title:this._$translate.instant("Delete Export"),text:this._$translate.instant("Are you sure you want to delete this export?"),completeLabel:this._$translate.instant("Delete"),completeFunction:this._$scope.deleteActivity.bind(this,this.selectedActivity),escapeLabel:this._$translate.instant("Cancel")};this._oliveModal.closeAllModals(),this._oliveModal.confirmationModal(e)},e.prototype.modalTitle=function(){var e=this._$translate.instant(this.selectedActivity.type_display_name);return this._$translate.instant("Export {{type}}",{type:e})},e.prototype.downloadResult=function(e){var t=this;this._organizationBulkActionsService.getContentFromResult(this.organizationId,e).then(function(n){var a=n;t._downloader.downloadText(a,"text/csv",e.file_name+".csv")}).catch(function(e){t._oliveMessage.show(t._$translate.instant("An error occurred while downloading the CSV file"),"csv-download-error","error")})},e.prototype.DownloadCsv=function(e){var t=this;this._organizationBulkActionsService.getContentFromResult(this.organizationId,e,a.EXPORT_TYPE.accountSettings.key).then(function(n){var a=t.createTranslatedCsv(n);t._downloader.downloadText(a,"csv/text",e.file_name+".csv")})},e.prototype.createTranslatedCsv=function(e){var t=this,n=[],a=[],i=["","",""],s=["","",""];return a.push(this._$translate.instant("Category")),a.push(this._$translate.instant("Key")),a.push(this._$translate.instant("Name")),e.accounts.forEach(function(e){a.push(e.name),i.push(e.external_account_id?e.external_account_id:t._$translate.instant("AccountId: N/A")),s.push(e.environment?e.environment:t._$translate.instant("Environment: N/A"))}),n.push(o(a)),n.push(o(i)),n.push(o(s)),this._.sortBy(e.settings,function(e){return e.category}).forEach(function(e){var a=[t.mapTranslate(e.category),e.name,t.mapTranslate(e.name)];e.account_values.forEach(function(e){a.push(e.value)}),n.push('"'+a.join('","')+'"')}),n.join("\n");function o(e){return'"'+e.join('","')+'"'}},e.prototype.mapTranslate=function(e){var t=e;if("IdCheckExpireDays"===e||"IdCheckExpireMinutes"===e){var n=this._.find(this._settingTranslationMap,function(e){return"IdCheckExpireDuration"===e.settingKey});if(n)t=this._$translate.instant(n.translationKey)+("IdCheckExpireDays"===e?this._$translate.instant("Days"):this._$translate.instant("Minutes"))}else if("PayPalActive"===e||"StripeActive"===e)t=e.replace("Active","");else{var a=this._.find(this._settingTranslationMap,function(t){return t.settingKey===e});a&&(t=this._$translate.instant(a.translationKey))}return"SpecialCharacterRequired"===e&&(t=t.replace("[[characters]]","'<', '>', '&#'")),t},e}();t.ActivityDetailsController=d,a.OrganizationModule.controller("ActivityDetailsController",["lodash","$q","$translate","$scope","oliveModal","oliveMessage","OrganizationBulkActionsService","Downloader","settingTranslationMap",d])},function(e,t){var n="organization/audit-log-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management" ng-controller="OrganizationAuditLogListController as auditLog" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.organization-dashboard({organization_id: auditLog.organizationId})"> {{ auditLog.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Audit Logs"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section-header audit-log-list">\n    <div class="p-bottom-medium">\n      <h1 class="header-title" translate="Audit Logs"></h1>\n      <div class="header-description"\n        translate="Audit logs capture key events for changes to an organization made from within the organization. Logs include the events from the selected date range."></div>\n    </div>\n    <div class="fgrid fgrid--gutters">\n      <div class="fgrid_cell fgrid_cell-3-5">\n        <button type="button" class="btn btn-secondary btn-trigger btn-select-list btn-align-top"\n                data-qa="audit_logs_select_date_range_filter_btn" olive-menu="audit-log-date-range-filter"\n                translate="{{auditLog.selectedDateRange.text}}" id="audit-log-date-range-filter-btn"></button>\n        <div class="menu select-menu invisible" id="audit-log-date-range-filter">\n          <ul id="audit-log-date-range-filter-custom-item">\n            <li>\n              <a class="item" ng-class="{\'on\': auditLog.selectedDateRange.type === \'custom\'}"\n                 ng-click="auditLog.setCustomDateRange()" data-qa="audit_logs_filter_date_range_custom_item"> <span\n                translate="Custom"></span> </a>\n            </li>\n          </ul>\n          <ul>\n            <li ng-repeat="range in auditLog.auditDateRanges | filter:{display:true}" class="item" ng-if="range.display"\n                ng-class="{\'on\': range.text == auditLog.selectedDateRange.text}"\n                ng-click="auditLog.searchDateRange(range)" translate="{{range.text}}"></li>\n          </ul>\n        </div>\n        <div ng-if="auditLog.selectedDateRange.type === \'custom\'" class="column-date-picker side-by-side"\n             id="audit-log-custom-date-range-picker">\n          <div ds-cal ds-type="range" class="side-by-side">\n            <div class="cal-input">\n            <span class="input-group">\n              <span class="addon icon icon-field-date" ds-cal-start-date-icon></span>\n              <input translate translate-attr-placeholder=\'start date\' type=\'text\' readonly\n                     class="input-text ds-range-start"\n                     ng-model="auditLog.dateRangeStartDate"\n                     id="audit-log-custom-search-start-date-textbox" />\n            </span>\n            </div>\n            <div class="cal-input">\n            <span class="input-group">\n              <span class="addon icon icon-field-date" ds-cal-end-date-icon></span>\n              <input translate translate-attr-placeholder=\'end date\' type=\'text\' readonly\n                     class="input-text ds-range-end ds-valid"\n                     ng-model="auditLog.dateRangeEndDate"\n                     id="audit-log-custom-search-end-date-textbox" />\n            </span>\n            </div>\n          </div>\n          <button id="audit-log-custom-search-apply-button" class=\'btn btn-secondary btn-md btn-align-top\' ds-size=\'lg\'\n                  ng-click="auditLog.searchCustomDateRange()" ng-if="auditLog.selectedDateRange.type === \'custom\'">\n            <span translate="Apply"></span>\n          </button>\n        </div>\n      </div>\n      <div class="fgrid_cell fgrid_cell-2-5">\n        <ds-page-controls pageable="auditLog"></ds-page-controls>\n      </div>\n    </div>\n  </div>\n  <table class="table respTable">\n    <thead>\n    <tr>\n      <th translate="Date Time"></th>\n      <th translate="Event"></th>\n      <th translate="User"></th>\n      <th><span class="vh" translate="View"></span></th>\n    </tr>\n    </thead>\n    <tbody ng-if="auditLog.loaded">\n    <tr ng-repeat="event in auditLog.list">\n      <td class="column-names">\n        {{ ::event.dateTime | moment:auditLog.dateTimeFormat:auditLog.timeZone }}\n      </td>\n      <td class="column-names">\n        <span translate="{{ ::event.event }}"></span>\n      </td>\n      <td class="column-names">\n        <span ng-if="event.userName">{{ ::event.userName}} <br /> {{ ::event.userEmail }}</span>\n        <span ng-if="!event.userName" translate="DocuSign System"></span>\n      </td>\n      <td>\n        <button class="btn btn-secondary" ng-click="auditLog.showAuditLogDetail(event)" translate="View">\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div class="emptyState" ng-if="auditLog.loaded && auditLog.list.length === 0" id="audit-log-no-items-div">\n    <i class="icon icon-voided emptyState_icon"></i>\n    <div class="emptyState_text">\n      <h3 translate="No Audit Logs"></h3>\n      <p translate="There are no audit logs to display."></p>\n    </div>\n  </div>\n  <div class="section">\n    <div class="grid action-row">\n      <ds-page-controls pageable="auditLog"></ds-page-controls>\n    </div>\n  </div>\n  <div ds-loading="auditLog.loading" ds-loading-succeeded="auditLog.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization audit log. Go ahead and try that again.\' | translate}}"></div>\n\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/audit-log-detail-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal" ng-controller="AuditLogDetailController as detail">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Event Details"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="m-top-small">\n      <div class="fgrid">\n        <div class="fgrid_cell">\n          <span class="body" translate="Type:"></span> {{detail.logTypeName(detail.selectedEvent.type)}}\n        </div>\n        <div class="fgrid_cell">\n          <span class="body" translate="IP Address:"></span> {{::detail.selectedEvent.ipAddress}}\n        </div>\n      </div>\n    </div>\n    <div class="m-top-small">\n      <div class="fgrid">\n        <div class="fgrid_cell">\n          <span class="body" translate="Event:"></span> {{detail.eventTypeName(detail.selectedEvent.event)}}\n        </div>\n        <div class="fgrid_cell">\n          <span class="body" translate="ID:"></span> {{::detail.selectedEvent.id}}\n        </div>\n      </div>\n    </div>\n    <div class="m-top-small">\n      <div class="fgrid">\n        <div class="fgrid_cell">\n          <span class="body" translate="User:"></span>\n          <span ng-if="detail.selectedEvent.userName">\n            {{::detail.selectedEvent.userName}} | {{::detail.selectedEvent.userEmail}}</span>\n          <span ng-if="!detail.selectedEvent.userName" class="body" translate="DocuSign System"></span>\n        </div>\n      </div>\n    </div>\n    <div class="m-top-small">\n      <div class="fgrid">\n        <div class="fgrid_cell">\n          <span class="body" translate="Date:"></span>\n            {{::detail.selectedEvent.dateTime | moment:detail.dateTimeFormat:detail.timeZone }}\n        </div>\n      </div>\n    </div>\n    <div class="p-vertical-large" ng-repeat="auditLog in detail.auditLogList"\n         ng-if="detail.showEvents(auditLog)">\n      <div class="fgrid" ng-if="auditLog.eventProperties">\n        <div class="fgrid_cell">\n          <h3 class="body">{{auditLog.eventType}}</h3>\n        </div>\n      </div>\n      <div class="p-vertical-medium p-left-medium">\n        <table class="table">\n          <thead>\n          <tr>\n            <th translate="Property"></th>\n            <th translate="Value"></th>\n          </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="(key, value) in auditLog.eventProperties track by $index">\n              <td>{{::detail.propertyName(key)}}</td>\n              <td>{{::detail.propertyValue(value)}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class="p-top-medium p-left-medium" ng-repeat="subject in auditLog.subjects track by $index"\n           ng-if="auditLog.subjects.length && subject.subjectChanged.length">\n        <h5 class="body">{{subject.subjectType}}</h5>\n        <div class="m-top-medium">\n          <table class="table">\n            <thead>\n            <tr>\n              <th translate="Attribute Field"></th>\n              <th translate="Old Value"></th>\n              <th translate="New Value"></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="change in subject.subjectChanged track by $index">\n              <td>{{::change.property_name}}</td>\n              <td>{{::change.previous_value}}</td>\n              <td>{{::change.value}}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary"\n      olive-modal-complete\n      translate="DS_CONTEXT=(modal) Close">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(286),s=n(3),o=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u){this._$q=e,this._dateTimeService=t,this._$scope=n,this._$translate=a,this._=i,this._organizationService=s,this._subjectChangedTypes=o,this._eventPropertyNames=r,this._eventPropertyValues=l,this._locales=c,this._auditEvents=d,this._auditTypes=u,this.auditLogList=[],this.propertiesToDelete=["organization_delegated_admin_id","organization_reserved_domain_id"],this.hasChangedValues=!1,this._accountPermissionSets=[],this._initDateTimeProperties(t),this.selectedEvent=this._$scope.selectedEvent,this._organizationId=this._$scope.organizationId,this.loading=this._getEvents()}return e.prototype._getEvents=function(){var e=this,t=function(){var e=this._.find(this._auditEvents,{displayName:this.selectedEvent.event});return!!e&&this._.includes(["update_organization","update_membership"],e.key)}.call(this),n=function(){var e=this.selectedEvent&&this.selectedEvent.properties&&this.selectedEvent.properties.account_id;if(e)return e;var t=this._organizationService.currentOrg&&this._organizationService.currentOrg.defaultOrgAccount;return t?t.id:""}.call(this),a=[this._organizationService.getAuditLogsByCorrelationId(this.selectedEvent.correlation_id,this._organizationId)];(function(e){return e&&this._organizationService.currentOrg&&this._organizationService.currentOrg.adminAccountsInOrganization&&this._.find(this._organizationService.currentOrg.adminAccountsInOrganization,{id:e})}).call(this,n)&&t&&a.push(this._organizationService.getPermissionProfiles(n)),this._$q.all(a).then(function(t){e._accountPermissionSets=t.length>1?t[1].permission_profiles:[],e._createDetailViewModel.call(e,t[0])})},e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._createDetailViewModel=function(e){var t=this,n=[];function a(e){var t=this,n=e.subject_changes?e.subject_changes.map(function(e){var t=this._.find(this._subjectChangedTypes,{type:e.property_name});if(t&&t.hide)return;return{value:n.call(this,t,e.value),previous_value:n.call(this,t,e.previous_value),property_name:t?this._$translate.instant(t.displayName):e.property_name};function n(e,t){if(!t||s.GUID_EMPTY===t)return"--";if(!e)return t;switch(e.type){case"user_federated_status":return this._$translate.instant(i.FederatedStatus[t])||t;case"groups":return this._.isEmpty(t)?"--":JSON.parse(t).map(function(e){return e.groupName}).toString()||"--";case"user_locale":var n=this._.find(this._locales.sendingList,{key:t});return n?n.languageName:t;case"permission_profile_id":case"organization_default_permission_profile_id":var a=this._.find(this._accountPermissionSets,function(e){return e.id.toString()===t});return a?a.permission_profile_name:t;default:return t}}}.bind(this)).filter(function(e){return!t._.isUndefined(e)}):[];return{subjectTypeKey:e.subject_type,subjectType:this.logTypeName(e.subject_type),subjectChanged:n}}function o(e){return e&&this.propertiesToDelete.forEach(function(t){e.hasOwnProperty(t)&&delete e[t]}),e}e.forEach(function(e){var i=t._.find(n,{eventTypeKey:e.event});i?function(e,t){var n=this._.find(e.subjects,{subjectTypeKey:t.subject_type}),i=a.call(this,t);n?i.subjectChanges&&(n.subjectChanged=n.subjectChanged.concat(i.subjectChanges)):e.subjects.push(i);var s=o.call(this,t.event_properties);for(var r in s)e.eventProperties.hasOwnProperty(r)||(e.eventProperties[r]=t.event_properties[r])}.call(t,i,e):n.push({eventTypeKey:e.event,eventType:t.eventTypeName(e.event),eventProperties:o.call(t,e.event_properties),subjects:[a.call(t,e)]})}),this.hasChangedValues=this._.some(this._.flatten(this._.map(n,"subjects")),function(e){return e.subjectChanged.length>0}),this.auditLogList=n},e.prototype.propertyName=function(e){var t=this._.find(this._eventPropertyNames,{keyName:e});return t?this._$translate.instant(t.displayName):e},e.prototype.propertyValue=function(e){var t=this._.find(this._eventPropertyValues,{keyName:e});return t?this._$translate.instant(t.displayName):e},e.prototype.logTypeName=function(e){return this._$translate.instant(this._auditTypes[e]||e)},e.prototype.eventTypeName=function(e){var t=this._.find(this._auditEvents,{displayName:e});return t?this._$translate.instant(t.displayName):t},e.prototype.showEvents=function(e){if(this.auditLogList.length)return!this.hasChangedValues||function(e){return this._.some(this._.map(e.subjects,"subjectChanged"),function(e){return e&&e.length})}.call(this,e)},e}();a.OrganizationModule.controller("AuditLogDetailController",["$q","DateTimeService","$scope","$translate","lodash","OrganizationService","SubjectChangedTypes","EventPropertyNames","EventPropertyValues","Locales","AuditEvents","AuditTypes",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(30),s=n(3),o=n(29),r=function(){function e(e,t,n,a,i,s,o,r,l){this._$scope=e,this._=t,this._organizationService=n,this._$stateParams=a,this._$state=i,this._oliveModal=s,this._oliveMessage=o,this._dateTimeService=r,this._$translate=l,this.list=[],this.pageItemType=this._$translate.instant("Audit Logs"),this.dateRangeEndDate="",this.dateRangeStartDate="",this.customDateRange=!1,this.auditDateRanges=[{type:"preset",units:24,unitOfMeasure:"hours",display:!0,text:"Last 24 hours"},{type:"preset",units:7,unitOfMeasure:"days",display:!0,text:"Last 7 days"},{type:"preset",units:30,unitOfMeasure:"days",display:!0,text:"Last 30 days"},{type:"preset",units:6,unitOfMeasure:"months",display:!0,text:"Last 6 Months"},{type:"preset",units:1,unitOfMeasure:"years",display:!0,text:"Last Year"},{type:"custom",units:0,display:!1,text:"Custom"}],this.organizationId=this._$stateParams.organization_id||this._$state.go("authenticated"),this.organization=this._organizationService.currentOrg&&this._organizationService.currentOrg.id===this.organizationId&&this._organizationService.currentOrg.organization,this.selectedDateRange=this.auditDateRanges[0],this._initDateTimeProperties(r),this.list=[],this.searchDateRange(this.selectedDateRange)}return e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._getPage=function(e){var t,n;void 0===e&&(e=0),"custom"!==this.selectedDateRange.type?(n=o().utc(),t=o().utc().subtract(this.selectedDateRange.units,this.selectedDateRange.unitOfMeasure),this.dateRangeStartDate=t,this.dateRangeEndDate=n):(t=o(this.dateRangeStartDate,"L").startOf("day").utc(),n=o(this.dateRangeEndDate,"L").endOf("day").utc());var a={from:t,to:n,page:Math.floor(e/s.PAGE_SIZE),page_size:s.PAGE_SIZE};this.loading=this._getAuditLogs(a).then(this._getPageSuccess.bind(this,a.page))},e.prototype._getPageSuccess=function(e,t){void 0===t&&(t=[]),!function(e,t){return e>0&&0===t}(e,t.length)?this._displayNextPage(e,t):this._displayCurrentPageAsLastPage()},e.prototype._displayCurrentPageAsLastPage=function(){this.currentPage.totalCount=this.currentPage.endIndex+1,this.currentPage.hasNextPage=!1},e.prototype._displayNextPage=function(e,t){this.list=t,this.currentPage.totalCount=this.list.length===s.PAGE_SIZE?this.currentPage.totalCount:e*s.PAGE_SIZE+this.list.length,this.currentPage.startIndex=e*s.PAGE_SIZE,this.currentPage.endIndex=this.currentPage.startIndex+this.list.length-1,this.currentPage.hasPreviousPage=e>0,this.currentPage.hasNextPage=void 0===this.currentPage.totalCount||this.currentPage.endIndex<this.currentPage.totalCount-1},e.prototype._getAuditLogs=function(e){return this._organizationService.getAuditLogs(e,this.organizationId)},e.prototype.jumpToFirstPage=function(){var e=new i.FirstPageOptions(this.currentPage,s.PAGE_SIZE);this._getPage(e.startIndex)},e.prototype.pageBackward=function(){this._getPage(this.currentPage.startIndex-s.PAGE_SIZE)},e.prototype.pageForward=function(){this._getPage(this.currentPage.startIndex+s.PAGE_SIZE)},e.prototype.jumpToLastPage=function(){var e=new i.LastPageOptions(this.currentPage,s.PAGE_SIZE);this._getPage(e.startIndex)},e.prototype.showAuditLogDetail=function(e){var t=this._$scope.$new();t.selectedEvent=e,t.organizationId=this.organizationId,this._oliveModal.openModal({scope:t,templateUrl:"organization/audit-log-detail-modal.html",showClose:!0,size:"xl"})},e.prototype.searchDateRange=function(e){this.selectedDateRange=e,this.currentPage={},this._getPage()},e.prototype.searchCustomDateRange=function(){this._validateAndRunDatePicker()&&(this.currentPage={},this._getPage())},e.prototype.setCustomDateRange=function(){this.dateRangeEndDate=this.dateRangeStartDate="",this.loaded=!1,this.currentPage={},this.selectedDateRange=this._.find(this.auditDateRanges,{type:"custom"})},e.prototype._validateAndRunDatePicker=function(){var e,t=o(this.dateRangeStartDate,"L").utc(),n=o(this.dateRangeEndDate,"L").utc();return t.isValid()?n.isValid()?n.diff(t,"months")>=24?e=this._$translate.instant("The maximum date range is {{max}} months.",{max:24}):n.diff(t)<0&&(e=this._$translate.instant("The start date cannot be after the end date.")):e=this._$translate.instant("The end date is invalid."):e=this._$translate.instant("The start date is invalid."),!!this._.isEmpty(e)||(this._oliveMessage.show(e,"dateRangeError","alert"),!1)},e}();a.OrganizationModule.controller("OrganizationAuditLogListController",["$scope","lodash","OrganizationService","$stateParams","$state","oliveModal","oliveMessage","DateTimeService","$translate",r])},function(e,t){var n="organization/admin-landing.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationAdminLandingController as landing">\n  <div ng-if="successfullyLoaded">\n    <div class="section" ng-if="landing.organizations.length > 0">\n      <h2 class="m-bottom-medium" translate="Organizations"></h2>\n      <div class="tiles">\n        <div class="tile" ng-repeat="org in landing.orgAdminOrganizations | orderBy: \'name\'" ng-click="landing.goToOrg(org)"\n             data-qa="organization_admin_landing_org_page_div">\n          <div class="tile_icon">\n            <i class="icon icon-company icon-size-4-em" data-qa="organization_admin_landing_main_org_icon"></i>\n          </div>\n          <div class="tile_title" data-qa="organization_admin_landing_main_org_name">\n            {{org.organization.name}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="section">\n      <h2 class="m-bottom-medium" data-qa="organization_admin_landing_accounts_label" translate="Accounts"></h2>\n      <table class="table">\n        <thead>\n        <tr>\n          <th data-qa="organization_admin_landing_account_name_label" translate="Account Name"></th>\n          <th data-qa="organization_admin_landing_account_id_label" translate="Account ID"></th>\n          <th class="table_cell-icon">&nbsp;</th>\n          <th data-qa="organization_admin_landing_org_name_label" translate="Organization Name"></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr class="table_row-clickable table_row-icon"\n            ng-repeat="account in landing.accounts | orderBy: \'account_name\'" ng-click="landing.goToAccount(account)">\n          <td data-qa="organization_admin_landing_account_name_value">{{ account.account_name }}</td>\n          <td data-qa="organization_admin_landing_account_id_value">{{ account.external_account_id }}</td>\n          <td class="table_cell-icon">\n            <i class="icon icon-company" ng-if="account.organization_id !== \'\'"\n               data-qa="organization_admin_landing_org_icon"></i>\n          </td>\n          <td data-qa="organization_admin_landing_org_name_value">{{ landing.organizationName(account) }}</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div class="u-text-center m-top-large">\n  <div ds-loading="landing.loading" ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'We had trouble loading your admin information. Go ahead and try that again.\' | translate}}"\n       data-qa="organization_admin_landing_error_message"></div>\n  </div>\n</div>')}]),e.exports=n},function(e,t){var n="organization/add-edit-connected-application.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" ng-switch="isAddingNewConnectedApplication">\n  <h1 class="modal_title" ng-switch-when="true"\n      data-qa="org_add_connected_app_header"\n      translate="Add New Application"></h1>\n  <h1 class="modal_title" ng-switch-default\n      data-qa="org_edit_connected_app_header"\n      translate="Edit Application"></h1>\n</div>\n\n<div class="modal_content">\n  <div class="form_unit" ng-if="isAddingNewConnectedApplication">\n    <label class="label" for="selected-client-application"\n      translate="Select an application from your organization">\n    </label>\n    <div class="select-wrap">\n      <select id="selected-client-application" ng-model="org.selectedApplication"\n              ng-options="application.name for application in org.availableApplications"\n              data-qa="org_add_connected_app_select">\n        <option value="" selected translate="Select an application..."></option>\n      </select>\n    </div>\n  </div>\n\n  <div class="form_unit" ng-show="org.selectedApplication"\n       data-qa="org_add_edit_connected_app_app_info_div">\n    <dl class="def-list m-top-none">\n      <dt translate="Name"></dt>\n      <dd>{{org.selectedApplication.name}}</dd>\n\n      <dt translate="Account"></dt>\n      <dd>{{org.selectedApplication.account_name}}</dd>\n\n      <dt translate="Privacy Policy"></dt>\n      <dd ng-switch="org.selectedApplication.privacy_policy.length > 0">\n        <a ng-switch-when="true" ng-href="{{org.selectedApplication.privacy_policy}}" target="_blank">\n          {{org.selectedApplication.privacy_policy}}\n        </a>\n        <span ng-switch-default>{{\'none\' | translate}}</span>\n      </dd>\n\n      <dt translate="Terms of Use"></dt>\n      <dd ng-switch="org.selectedApplication.terms_of_use.length > 0">\n        <a ng-switch-when="true" ng-href="{{org.selectedApplication.terms_of_use}}" target="_blank">\n          {{org.selectedApplication.terms_of_use}}\n        </a>\n        <span ng-switch-default>{{\'none\' | translate}}</span>\n      </dd>\n    </dl>\n\n    <label for="client-application-scopes" class="label">\n      <span class="strong" label-required="*"\n            data-qa="org_add_edit_connected_app_permission_label"\n            translate="Permissions"></span>\n    </label>\n    <input id="client-application-scopes" type="text" class="input-text"\n           ng-model="org.selectedApplication.scopes"\n           data-qa="org_add_edit_connected_app_permission_txt"/>\n    <p class="helper-text" translate="(space-delimited list of supported OAuth scopes)"></p>\n  </div>\n</div>\n\n<div class="modal_footer">\n  <button class="btn btn-lg btn-primary" olive-modal-complete\n      ng-disabled="!org.selectedApplication.scopes"\n      ng-switch="isAddingNewConnectedApplication"\n      data-qa="org_add_edit_connected_app_save_btn">\n    <span ng-switch-when="true" translate="Add"></span>\n    <span ng-switch-default translate="Save"></span>\n  </button>\n  <button class="btn btn-lg btn-minor" olive-modal-escape\n          data-qa="org_add_edit_connected_app_cancel_btn"\n          translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="organization/add-accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddAccountsToOrgController as addAccounts">\n  <div class="modal_header">\n    <h1 class="modal_title"\n        data-qa="organization_add_accounts_header"\n        translate="Link Accounts"></h1>\n  </div>\n  <div class="modal_toolbar">\n    <div class="modal_description"\n         data-qa="organization_add_accounts_description"\n         translate="Here are the DocuSign accounts for which you are an account administrator. Select which accounts you would like to link to this organization to gain centralized management of the DocuSign accounts and users."></div>\n    <div class="toolbar">\n      <div class="fgrid">\n        <div class="fgrid_cell fgrid_cell-auto m-left-auto">\n            <span class="cheshire_visibleContent" olive-cheshire-visible="sampleHeaderCheshire">\n                <div class="form_item-iconLeft form_item-iconRight listHeader_search">\n                <span class="icon icon-search"></span>\n                <input type="text" class="input-text search" max-length="100" ng-disabled="!addAccounts.loaded"\n                       ng-model="addAccounts.searchPhrase" ng-keyup="addAccounts.submitSearch($event)"\n                       data-qa="organization_add_accounts_search_txt" translate translate-attr-placeholder="Search" />\n                <button type="button" class="button-icon"\n                  ng-if="addAccounts.submittedSearch.length > 0"\n                  ng-click="addAccounts.resetSearch()">\n                    <span class="icon icon-circle-x"></span>\n                </button>\n              </div>\n              <button type="button" class="btn btn-minor" olive-cheshire-trigger="sampleHeaderCheshire"\n                      data-qa="filter_control_filter_btn" ng-disabled="!addAccounts.loaded">\n                <span class="icon icon-filter"></span>\n                <span translate="Filters"></span>\n              </button>\n            </span>\n          <div class="cheshire" id="sampleHeaderCheshire" olive-cheshire="sampleHeaderCheshire">\n            <div class="cheshire_body">\n              <div olive-cheshire-placeholder></div>\n              <div>\n                <div class="form_unit">\n                  <div class="cb">\n                    <input id="showAccountsWithOrg" name="checkbox_group1" type="checkbox" class="cb_input"\n                           ng-model="addAccounts.includeHasOrganization"\n                           data-qa="organization_add_accounts_filter_has_org_checkbox"/>\n                    <label for="showAccountsWithOrg" class="cb_label"\n                           data-qa="organization_add_accounts_filter_has_org_checkbox_label"\n                           translate="Has Organization"></label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="cheshire_footer">\n              <button type="submit" class="btn btn-primary" olive-cheshire-close ng-click="addAccounts.applyFilters()"\n                      data-qa="filter_control_apply_btn" translate="Apply"></button>\n              <button type="button" class="btn btn-minor" olive-cheshire-close ng-click="addAccounts.resetFilters()"\n                      data-qa="filter_control_reset_btn" translate="Reset"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal_content modal_content-list">\n    <div class="callout invisible" id="alreadyLinkedTooltip">\n      <div class="callout_content">\n        <span\n          translate="Accounts can be linked to only one organization at a time. To link this account to your organization, you must first unlink it from its current organization."></span>\n      </div>\n    </div>\n\n    <ds-filter-applied filterable="addAccounts"></ds-filter-applied>\n\n    <table class="table" olive-table-select>\n      <thead data-qa="organization_add_accounts_table_header">\n      <tr>\n        <th class="table_cell-checkbox">\n            <span class="cb cb-noText">\n                <input class="cb_input" type="checkbox" id="selectAll" ng-click="addAccounts.selectAll()"\n                       ng-checked="addAccounts.isSelectAll()"\n                       ng-disabled="addAccounts.disableCheckAll()"\n                       data-qa="organization_add_accounts_select_all_checkbox"/>\n                <label class="cb_label" for="selectAll"\n                       data-qa="organization_add_accounts_select_all_checkbox_label"\n                       translate="Select All"></label>\n            </span>\n        </th>\n        <th translate="Name"></th>\n        <th translate="Organization"></th>\n        <th translate="Account ID"></th>\n        <th translate="Site"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="account in addAccounts.accounts"\n          olive-tooltip="{{ account.organization_id ? \'alreadyLinkedTooltip\' : \'\' }}"\n          olive-tooltip-position="after middle" olive-tooltip-events="hover ">\n        <td>\n            <span class="cb cb-noText">\n                <input class="cb_input" type="checkbox" id="input_1a-{{$index}}" olive-table-select-row\n                       ng-click="addAccounts.addRemoveAccount(account)" ng-disabled="account.organization_id"\n                       ng-checked="addAccounts.isSelected(account.id)"\n                       data-qa="organization_add_accounts_checkbox"/>\n                <label class="cb_label" for="input_1a-{{$index}}"\n                       data-qa="organization_add_accounts_checkbox_label"\n                       translate="Select"></label>\n            </span>\n        </td>\n        <td data-qa="organization_add_accounts_acc_name">{{ ::account.account_name }}</td>\n        <td data-qa="organization_add_accounts_org_name">{{ ::account.organization_name }}</td>\n        <td data-qa="organization_add_accounts_acc_id">{{ ::account.external_account_id }}</td>\n        <td data-qa="organization_add_accounts_acc_site_name">{{ ::account.site_name }}</td>\n      </tr>\n      </tbody>\n    </table>\n\n    <div class="emptyState" ng-if="!addAccounts.accounts.length">\n      <i class="icon icon-search emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p ng-if="addAccounts.submittedSearch.length > 0 && addAccounts.submittedIncludeHasOrganization"\n           translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n           translate-interpolation="bracket" translate-values="{searchQuery: addAccounts.submittedSearch}"></p>\n        <p ng-if="addAccounts.submittedSearch.length === 0 && addAccounts.submittedIncludeHasOrganization"\n           translate="The selected filters produced no results."></p>\n        <p ng-if="addAccounts.submittedSearch.length > 0 && !addAccounts.submittedIncludeHasOrganization"\n           translate="The search query \'[[searchQuery]]\' produced no results."\n           translate-interpolation="bracket" translate-values="{searchQuery: addAccounts.submittedSearch}"></p>\n        <p ng-if="addAccounts.submittedSearch.length === 0 && !addAccounts.submittedIncludeHasOrganization"\n           translate="No accounts to link. Please change the filter."></p>\n      </div>\n    </div>\n\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete ng-click="addAccounts.add()"\n            ng-disabled="!addAccounts.selectedAccounts.length || !addAccounts.accounts.length"\n            ng-class="{\'btn-loading\': addAccounts.saving}"\n            data-qa="organization_add_accounts_link_acc_btn">\n      <span ng-if="!addAccounts.saving" translate="Link Accounts"></span>\n      <span ng-if="addAccounts.saving"><span data-qa="organization_add_accounts_link_acc_saving"\n                                             translate="Saving"></span>&hellip;</span>\n    </button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="organization_add_accounts_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12} is already included in an organization.$/i,s=function(){function e(e,t,n,a,i){var s=this;this._$scope=e,this._=t,this._oliveMessage=n,this._organizationService=a,this._$translate=i,this.accounts=[],this.selectedAccounts=[],this.saving=!1,this._noOrgAccounts=[],this.loaded=!0,this.isModal=!1,this.includeHasOrganization=!1,this.submittedIncludeHasOrganization=!1,this.searchPhrase="",this.submittedSearch="",this.organizationId=this._$scope.organizationId,this._getAccounts(),this._noOrgAccounts=this._.filter(this.accounts,function(e){return s._.isEmpty(e.organization_id)})}return e.prototype.applyFilters=function(){this.submittedIncludeHasOrganization=this.includeHasOrganization,this._setAppliedFilters(),this._getAccounts()},e.prototype.resetFilters=function(){this.includeHasOrganization=!1,this.applyFilters()},e.prototype.submitSearch=function(e){13===e.keyCode&&(this.selectedAccounts=[],this.submittedSearch=this.searchPhrase||"",this._getAccounts())},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this._getAccounts()},e.prototype.addRemoveAccount=function(e){this._.find(this.selectedAccounts,{id:e.id})?this._.remove(this.selectedAccounts,{id:e.id}):this.selectedAccounts.push(e)},e.prototype.selectAll=function(){var e=this;this.isSelectAll()?this.accounts.forEach(function(t){e._.remove(e.selectedAccounts,function(e){return e.id===t.id})}):this.accounts.forEach(function(t){e._.some(e.selectedAccounts,{id:t.id})||e.selectedAccounts.push(t)})},e.prototype.isSelected=function(e){return this._.some(this.selectedAccounts,{id:e})},e.prototype.isSelectAll=function(){var e=this,t=!this._.isEmpty(this.accounts);return this.accounts.forEach(function(n){!1!==e._.some(e.selectedAccounts,{id:n.id})||(t=!1)}),t},e.prototype.add=function(){var e=this;if(this.selectedAccounts.length>0){var t={accounts:this._.map(this.selectedAccounts,function(e){return{account_id:e.id}})};this.saving=!0,this._organizationService.putOrganizationAccounts(this.organizationId,t).then(function(t){t&&!e._.isEmpty(t.accounts)&&(e._oliveMessage.show(e._$translate.instant("Accounts linked successfully."),"linkedSuccess","success"),e._$scope.refresh())},function(t){var n=e._$translate.instant("There is an error linking account to the organization.");if(t&&t.data&&t.data.error&&t.data.error_description)switch(t.data.error){case"account_already_mapped_to_an_organization":if(i.test(t.data.error_description)){var a=e._.trimEnd(t.data.error_description," is already included in an organization."),s=e._.find(e.selectedAccounts,function(e){return e.id===a});s&&(n=e._$translate.instant("{{account_name}} is already linked to an organization.",{account_name:s.account_name}))}}e._oliveMessage.show(n,"linkedError","error")}).finally(function(){e.saving=!1})}},e.prototype.disableCheckAll=function(){return this.submittedIncludeHasOrganization||0===this.accounts.length},e.prototype._getAccounts=function(){var e=this,t=this._.cloneDeep(this._$scope.accounts);this._.isEmpty(this.searchPhrase)||(t=this._.filter(t,function(t){return e._.includes(t.account_name.toLowerCase(),e.searchPhrase.toLowerCase())})),t=this.includeHasOrganization?this._.filter(t,function(t){return!e._.isEmpty(t.organization_id)}):this._.filter(t,function(t){return e._.isEmpty(t.organization_id)}),this.submittedSearch=this.searchPhrase,this.accounts=t},e.prototype._setAppliedFilters=function(){this.appliedFilters=[];var e={name:this.includeHasOrganization?"Yes":"No",value:this.includeHasOrganization};this.includeHasOrganization&&this.appliedFilters.push({name:"Has Organization",options:[e]})},e}();a.OrganizationModule.controller("AddAccountsToOrgController",["$scope","lodash","oliveMessage","OrganizationService","$translate",s])},function(e,t){var n="organization/accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="OrganizationAccountsController as org">\n  <div class="crumbs" data-qa="organization_accounts_crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: org.organizationId})"> {{ org.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Accounts"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section" ng-if="org.loaded">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class="header-title" data-qa="organization_accounts_header" translate="Manage Accounts"></h1>\n      </div>\n      <ds-search-control searchable="org" filterable="false"></ds-search-control>\n    </div>\n    <div class="grid m-top-medium u-float-left">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary btn-md" data-qa="organization_accounts_link_accounts_btn"\n                translate="Link Accounts" ng-click="org.showUnlinkedAccounts()"\n                ng-disabled="!org.canLinkAccount()"></button>\n      </div>\n      <ds-page-controls pageable="org"></ds-page-controls>\n    </div>\n  </div>\n  <table class="table" ng-if="org.loaded">\n    <thead data-qa="organization_accounts_table_header">\n    <tr>\n      <th translate="Account Name"></th>\n      <th translate="Account ID"></th>\n      <th translate="Site"></th>\n      <th ng-if="org.isOrgAdmin" translate="Actions" class="text-right"></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr ng-class="{\'table_row-clickable\': org.canSwitchTo(account)}" ng-repeat="account in org.list">\n      <td ng-click="org.switchAccountTo(account)" data-qa="organization_accounts_acc_name_td">\n        <span>{{ ::account.account_name }}</span>\n        <span ng-show="org.isDefaultAccount(account)" data-qa="organization_accounts_default_badge" translate="Default"\n              class="badge badge-turquoise m-left-small"></span>\n      </td>\n      <td ng-click="org.switchAccountTo(account)"\n          data-qa="organization_accounts_acc_id_td">{{ ::account.external_account_id }}\n      </td>\n      <td ng-click="org.switchAccountTo(account)"\n          data-qa="organization_accounts_acc_site_name_td">{{ ::account.site_name }}\n      </td>\n      <td ng-if="org.isOrgAdmin" class="text-right">\n        <button olive-menu="accountActions{{$index}}" olive-menu-position="below right" class="btn btn-md btn-icon"\n                ng-if="!org.isDefaultAccount(account)" data-qa="organization_accounts_actions_btn">\n          <span class="icon icon-ellipsis-horiz" aria-hidden="true"></span>\n          <span class="sr-text" translate="Actions"></span>\n        </button>\n        <div class="menu invisible" id="accountActions{{$index}}">\n          <ul>\n            <li><a class="item" ng-if="!org.isDefaultAccount(account)" data-qa="organization_accounts_unlink_acc"\n                   translate="Unlink from Organization" ng-click="org.unlink(account)"></a></li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n  <div class="section">\n    <div class="grid action-row">\n      <ds-page-controls pageable="org" ng-if="org.list.length > 0"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="org.loading" ds-loading-succeeded="org.loaded" class="text-center"\n       ds-loading-error="{{\'We had trouble loading your organization accounts. Go ahead and try that again.\' | translate}}"></div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.momentModule=a.module("moment",[]).constant("moment",moment)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).module("lodash",[]).constant("lodash",_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(289);a.module("dsi18nlayer",[]).constant("dsi18nlayer",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(287),i=function(){return function(e){this.config=e,this.flags=e.featureFlags}}();t.FeatureFlagController=i,a.ConfigurationModule.controller("FeatureFlagController",["configuration",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(85).ApiConversionModule.factory("ConversionExclusions",["lodash",function(e){var t=function(e){return"?("+e+")?"},n=function(e){return"[a-fA-F0-9]{"+e+"}"},a="("+[n(8),n(4),n(4),n(4),n(12)].join("-")+")",i=[{url:["api","accounts",".*?","billing_plan"],exclusions:["cardNumber","billingAddress","address"]},{url:["api","accounts",".*?","connect",t("\\d+")],exclusions:["urlToPublishTo","name","envelopeEvents","recipientEvents","soapNamespace"]},{url:["api","accounts",".*?","connect","\\d+",t("logs|failures"),t("\\d+")],exclusions:["accountId","envelopeId","connectId","logId","failureId"]},{url:["api","accounts",".*?","envelopes","transfer_rules",t("\\d+")],exclusions:["name","userName","groupName"]},{url:["api","accounts",".*?","connect","\\d+","envelopes","retry_queue"],exclusions:["failureId","logId","connectId"]},{url:["api","accounts",".*?","connect","\\d+","envelopes",a,"retry_queue"],exclusions:["failureId","logId","connectId"]},{url:["api","accounts",".*?","groups",t("\\d+"),t("users")],exclusions:["groupId","userId","permissionProfileId","groupType","groupName","userName","email","useType","useStatus","uri"]},{url:["api","accounts",".*?","permission_profiles",t("\\d+")],exclusions:["permissionProfileId","permissionProfileName","modifiedByUsername","userName"]},{url:["api","accounts",".*?","settings"],exclusions:["billingAddress"]},{url:["api","accounts",".*?","tabs",t(a)],exclusions:["font","fontColor","fontSize","anchor","customTabId","initialValue","tabLabel","name","type","validationMessage","validationPattern","lastModifiedByDisplayName","createdByDisplayName","items"]},{url:["api","accounts",".*?","tab_definitions",t(a)],exclusions:["font","fontColor","fontSize","anchor","customTabId","initialValue","tabLabel","name","type","validationMessage","validationPattern","lastModifiedByDisplayName","createdByDisplayName","items"]},{url:["api","accounts",".*?","users",t(a)],exclusions:["userName","userId","workAddress","homeAddress","permissionProfileId","permissionProfileName","groupId","groupName","company","jobTitle"]},{url:["api","accounts",".*?","users",a,"profile"],exclusions:["email","firstName","lastName","userName","title","companyName","address"]},{url:["api","accounts",".*?","custom_fields",t("\\d+")],exclusions:["name"]},{url:["api","accounts",".*?","signing_groups",t("\\d+")],exclusions:["groupName","userName"]},{url:["authenticate","credentials"],exclusions:["accountId","name","userName","siteDescription"]},{url:["authenticate","dsTransferToken"],exclusions:["accountId","name","userName","siteDescription","selectedAccountId"]},{url:["partner","apps",t(".*")],exclusions:["client_id"]},{url:["api","accounts",".*?","brands",t(a)],exclusions:["brandName"]}];return{by:function(t){var n=e.find(i,function(e){var n=new RegExp("^/"+e.url.join("/")+"/?$","i");return n.test(t)});return void 0!==n?n.exclusions:[]}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(85),i=n(13),s=n(29);function o(){}a.ApiConversionModule.service("ApiConverter",o),o.prototype.propertiesToJsonTypes=function(e,t){return!n(e)||i.isEmpty(e)?e:function e(t){i.forEach(t,function(o,r){!function(e){return i.isString(e)&&!i.isEmpty(e)}(o)?n(o)&&!a(r)&&e(o):(o=function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}(o),t[r]=a(r)?o:function(e){var t;if(t=function(e){var t;return/^\s*true\s*$/i.test(e)?t=!0:/^\s*false\s*$/i.test(e)&&(t=!1),t}(e),!i.isUndefined(t))return t;if(t=Number(e),!i.isNaN(t))return t;if((t=function(e){return s(e,s.ISO_8601)}(e)).isValid())return t;return e}(o))});return t}(e);function n(e){return i.isArray(e)||i.isObject(e)}function a(e){return i.includes(t,e)}},o.prototype.propertiesToStrings=function(e){return!i.isArray(e)&&!i.isObject(e)||i.isEmpty(e)?e:function e(t){i.forEach(t,function(n,a){if(s.isMoment(n))t[a]=s(n).toISOString();else if(i.isObject(n)||i.isArray(n))e(n);else{if(i.isNull(n)||i.isUndefined(n)||i.isNaN(n))return;var o;i.isString(n)||(o=i.isBoolean(n)?function(e){var t;!0===e?t="true":!1===e&&(t="false");return t}(n):i.isDate(n)?s(n).toISOString():n.toString(),t[a]=o)}});return t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(85).ApiConversionModule.factory("ApiConversionInterceptor",["ApiConverter","ConversionExclusions","lodash",function(e,t,n){function a(e){return![/^\/api\/accounts\/\d+\/brands/,/^\/authenticate\/renew/].some(t(e))&&[/^\/api/,/^\/partner/,/^\/authenticate/].some(t(e));function t(e){return function(t){return e.match(t)}}}return{request:function(t){var i=t.url.split("?")[0];return t.data&&a(i)&&(t.data=e.propertiesToStrings(n.cloneDeep(t.data))),t},response:function(n){var i=n.config.url.split("?")[0];return a(i)&&(n.data=e.propertiesToJsonTypes(n.data,t.by(i))),n}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(239).AngularTranslateCustomizationsModule.factory("htmlEscapeTranslationId",["$translateSanitization",function(e){return function(t){var n=e.sanitize(t,"text");return n}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(239),i=n(2);a.AngularTranslateCustomizationsModule.factory("bracketInterpolation",["$interpolate","$sanitize",function(e,t){var n=/\[\[/g,a=/\]\]/g;return{setLocale:function(e){},getInterpolationIdentifier:function(){return"bracket"},interpolate:function(s,o){var r=s.replace(n,e.startSymbol()).replace(a,e.endSymbol());if(i.isObject(o))for(var l in o)new RegExp("(linkstart)|(linkend)|(stylestart)|(styleend)$","i").test(l)||(o[l]=t(o[l]));return e(r)(o)}}}])},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(615);a.module("accounting",[]).constant("accounting",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionIdModule=angular.module("httpInterceptors.SessionId",[]),t.sessionIdModule.factory("SessionIdInterceptor",["$sessionStorage",function(e){return{request:function(t){return void 0===t&&(t={headers:{}}),e.sessionId&&(t.headers=t.headers||{},t.headers["x-radmin-session"]=e.sessionId),t}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).module("radmin.ErrorLogger",["radmin.Api"]).provider("RADminErrorLogger",["$provide",function(e){return e.decorator("$log",["$injector","$delegate",function(e,t){var n=t.error;return t.error=function(){e.get("RADminErrorLogger").sendLog.apply(null,arguments),n.apply(t,arguments)},t}]),void(this.$get=["RADminApiClient","appUser","configuration",function(e,t,n){return{sendLog:function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n.clientErrorLoggingEnabled&&t&&t.isLoggedIn())try{var s,o,r=/^<.*>$/,l=[];if(a.forEach(function(e){if("string"!=typeof e){if(e instanceof Error)return e.message&&l.push(e.message),void(s=e.stack);e.config&&e.config.headers&&e.config.headers["x-radmin-token"]&&delete e.config.headers["x-radmin-token"];var t=JSON.stringify(e);"{}"!==t&&(l.push("typeof errorDatum = "+typeof e),l.push(t))}else switch(!0){case r.test(e):o=e;break;default:l.push(e)}}),0===l.length)return;var c={message:l.join("\n"),details:{userId:t.currentAccount&&t.currentAccount.userId,accountId:t.getCurrentAccountId(),error:s,context:o}},d={type:"event",eventName:"RADmin Error",message:c};e.logClientMessage(d)}catch(e){}}}}])}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2).module("radmin.SecurityLogger",["radmin.Api"]).provider("WindowApiLogger",["$provide",function(e){return e.decorator("$window",["$injector","$delegate",function(e,t){var n=t.alert,a=t.prompt;return t.alert=i("alert",n),t.prompt=i("prompt",a),t;function i(n,a){return function(){var i=e.get("WindowApiLogger"),s=[].slice.call(arguments).join(", "),o=new Error,r=o.stack||"",l=r.replace(/^.*?\n/,"window."+n+"("+s+")\n");i.sendLog(l),a.apply(t,arguments)}}}]),void(this.$get=["RADminApiClient","appUser",function(e,t){return{sendLog:function(n){if(t&&t.isLoggedIn())try{var a={stack:n,details:{userId:t.currentAccount&&t.currentAccount.userId,accountId:t.getCurrentAccountId()}},i={type:"event",eventName:"Decorated Browser Function",message:a};e.logClientMessage(i)}catch(e){}}}}])}])},function(e,t,n){"use strict";n.r(t),n.d(t,"OFFLINE_ERROR_MESSAGE",function(){return a}),n.d(t,"OFFLINE_ERROR_ID",function(){return i});const a="Please check your internet connection and try again.",i="internetConnectionError"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(620);t.offlineNetworkModule=angular.module("httpInterceptors.NetworkOffline",[]),t.offlineNetworkModule.factory("NetworkOfflineInterceptor",["$q","$injector",function(e,t){return{responseError:function(n){var i=t.get("appUser"),s=t.get("$translate"),o=s.instant(a.OFFLINE_ERROR_MESSAGE);return n.message=o,function(e,n,i){if(function(e){return e.currentAccount}(n)&&function(e){return 0===e.status||500===e.status&&e.data&&e.data.error&&"API currently unavailable."===e.data.error}(i)&&!function(e){return e&&e.config&&e.config.data&&e.config.data.message&&"authenticated.classic-preferences"===e.config.data.message.LinkTo}(i)){var s=t.get("oliveMessage");s.show(e,a.OFFLINE_ERROR_ID,"error")}}(o,i,n),e.reject(n)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(240),i=function(){function e(e){this.$http=e}return e.prototype.renewToken=function(e){var t={headers:{}};return t.headers[e.acceptedHeaderName]=e.refreshToken,this.$http.get("authenticate/renew",t).then(function(t){return JSON.parse(t.headers(e.acceptedHeaderName))})},e}();t.TokenRenewalService=i,a.authorizationModule.service("RADminAuthorizationTokenRenewer",["$http",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(240),i=n(2),s=function(){function e(e,t,n){this.$sessionStorage=e,this.tokenRenewer=t,this._=n,this.authorizationFailureHandlers=[],this.managedClients=[],this.restoreState()}return e.prototype.addAuthorizationFailureHandler=function(e){this.authorizationFailureHandlers.push(e)},e.prototype.clearAuthorization=function(){this.setAuthorization(null)},e.prototype.setAuthorization=function(e){this.token=i.copy(e),this.saveState(),i.forEach(this.managedClients,function(t){t.setAuthorization(i.copy(e))}),this._.isEmpty(this.token)?this.cancelAuthorizationRenewal():this.scheduleAuthorizationRenewal()},e.prototype.hasAuthorization=function(){return!this._.isEmpty(this.token)&&(new Date).getTime()<this.token.expiresAt},e.prototype.registerClient=function(e){var t=this;this.managedClients.push(e),e.addAuthorizationFailureHandler(function(e,n){return t.reportAuthorizationFailure(e,n)}),this.hasAuthorization()&&e.setAuthorization(i.copy(this.token))},e.prototype.reportAuthorizationFailure=function(e,t){i.forEach(this.authorizationFailureHandlers,function(n){n(e,t)})},e.prototype.saveState=function(){this.$sessionStorage.authorization={token:this.token}},e.prototype.restoreState=function(){var e=this.$sessionStorage.authorization;this._.isObject(e)&&!this._.isEmpty(e.token)&&this.setAuthorization(e.token)},e.prototype.renewAuthorization=function(){var e=this;this.tokenRenewer.renewToken(this.token).then(function(t){e.setAuthorization(t)}).catch(function(){})},e.prototype.scheduleAuthorizationRenewal=function(){var e=this,t=(new Date).getTime(),n=Math.max(this.token.renewableAfter-t,0);this.cancelAuthorizationRenewal(),this.tokenRenewalTimer=setTimeout(function(){e.renewAuthorization()},n)},e.prototype.cancelAuthorizationRenewal=function(){this._.isNull(this.tokenRenewalTimer)||(clearTimeout(this.tokenRenewalTimer),this.tokenRenewalTimer=null)},e}();t.AuthorizationManagerService=s,a.authorizationModule.service("RADminAuthorizationManager",["$sessionStorage","RADminAuthorizationTokenRenewer","lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(86),i=function(){function e(e){this.$http=e}return e.prototype.authenticate=function(t,n,a){var i={username:n,password:a,apiHost:t},s={headers:{}};return s.headers[e.authHeader]=JSON.stringify(i),this.$http.get("authenticate/credentials",s).then(function(e){return{accessToken:e.data.token,associatedAccounts:e.data.loginAccounts,loginPreferences:{selectedAccountId:e.data.selectedAccountId}}})},e.authHeader="X-DocuSign-Authentication",e}();a.AuthenticationModule.service("RADminAuthenticationUsernameAndPasswordAuthenticator",["$http",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(86),i=function(){function e(e){this.$http=e}return e.prototype.authenticate=function(t){var n={token:t},a={headers:{}};return a.headers[e.authHeader]=JSON.stringify(n),this.$http.get("authenticate/dsTransferToken",a).then(function(e){return{accessToken:e.data.token,associatedAccounts:e.data.loginAccounts,loginPreferences:{selectedAccountId:e.data.selectedAccountId}}})},e.authHeader="X-DocuSign-Authentication",e}();a.AuthenticationModule.service("RADminAuthenticationTransferTokenAuthenticator",["$http",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(86),i=function(){function e(e){this.$http=e}return e.prototype.authenticate=function(t){var n={headers:{}};return n.headers[e.authHeader]=JSON.stringify(t),this.$http.get("authenticate/dsAccountServerToken",n).then(function(e){return{accessToken:e.data.token,associatedAccounts:e.data.loginAccounts,loginPreferences:{destination:e.data.destination,selectedAccountId:e.data.selectedAccountId,options:e.data.options}}})},e.authHeader="X-DocuSign-Authentication",e}();a.AuthenticationModule.service("RADminAuthenticationAccountServerAuthenticator",["$http",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),i=function(){function e(e,t,n,a){this.destinations=e,this.$state=t,this.storage=n,this._=a,a.isObject(n.exitRedirect)?this.exitRedirect=n.exitRedirect:this.exitRedirect={text:null,uri:null},n.exitRedirect=this.exitRedirect}return e.prototype.hasExitRedirect=function(){return!this._.isEmpty(this.exitRedirect.text)&&!this._.isEmpty(this.exitRedirect.uri)},e.prototype.setExitRedirect=function(e){e=e||{},this.exitRedirect.text=e.returnText,this.exitRedirect.uri=e.returnUri,this.storage.exitRedirect=this.exitRedirect},e.prototype.navigateToDestinationOrDefault=function(e,t,n){this._.isEmpty(e)||this._.isEmpty(e.goTo)||this._.isEmpty(this.destinations[e.goTo])?this.$state.go(t):this.$state.go(this.destinations[e.goTo],n)},e}();a.ExternalIntegrationModule.service("ExternalIntegration",["ExternalIntegrationDestinations","$state","$sessionStorage","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destinationsModule=angular.module("DestinationsModule",[]);var a=function(){return function(){this.accountProfile="authenticated.account-profile",this.legalDisclosure="authenticated.legal-disclosure",this.securityInfo="authenticated.security information",this.brands="authenticated.brands",this.connect="authenticated.connect",this.billing="billing usage",this.users="authenticated.users",this.roles="authenticated.roles",this.groups="authenticated.groups",this.sending="authenticated.document sending settings",this.reminders="authenticated.reminders expirations",this.customFields="authenticated.custom-fields",this.documentLabels="authenticated.document labels",this.regionalSettings="authenticated.regional-settings",this.apiIntegratorKey="authenticated.api-integrator-key",this.sharedDocuments="authenticated.shared-documents",this.auditLog="authenticated.audit-log",this.payments="authenticated.payments",this.orgInvite="authenticated.organization-review-invitation",this.organizationDashboard="authenticated.organization-main-dashboard",this.organizationAccount="authenticated.organization-accounts",this.limitedCanvas="authenticated.limited-canvas"}}();t.Destinations=a,t.destinationsModule.constant("ExternalIntegrationDestinations",new a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),i=function(){return function(e){this.exitRedirect=e.exitRedirect,this.hasExitRedirect=function(){return e.hasExitRedirect()}}}();a.ExternalIntegrationModule.controller("ExternalIntegrationController",["ExternalIntegration",i])},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(242),s=function(e){function t(t,n,a){var i=e.call(this)||this;return i.$http=t,i._=a,n.registerClient(i),i}return a(t,e),t.prototype.get=function(e){var t=this._determinePrefix(e),n=this.$http.get(t+e,this.authorizeRequestOptions());return this.monitorRequest(n),n},t.prototype.delete=function(e,t){var n=this._determinePrefix(e),a=this.authorizeRequestOptions({data:t});a.headers["Content-Type"]="application/json; charset=utf-8";var i=this.$http.delete(n+e,a);return this.monitorRequest(i),i},t.prototype.post=function(e,t){var n=this._determinePrefix(e),a=this.$http.post(n+e,t,this.authorizeRequestOptions());return this.monitorRequest(a),a},t.prototype.put=function(e,t){var n=this._determinePrefix(e),a=this.$http.put(n+e,t,this.authorizeRequestOptions());return this.monitorRequest(a),a},t.prototype.authorizeUri=function(t){return e.prototype.authorizeUri.call(this,t)},t.prototype.monitorRequest=function(e){var t=this;e.error(function(e,n,a,i){401===n&&t.reportAuthorizationFailure(i.url,e)})},t.prototype._determinePrefix=function(e){var n=t.resourcePrefix;return this._.startsWith(e.toLowerCase(),"/organizationapi/")&&(n=""),n},t.resourcePrefix="/accountServerApi/",t}(n(105).ManagedClient);i.DocuSignAccountServerApiModule.service("DocuSignAccountServerApiClient",["$http","RADminAuthorizationManager","lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),i=function(){return function(){this.redirect_uris=[],this.secrets=[]}}(),s=function(){function e(e,t){this.$http=e,this.api=t}return e.prototype.getClientApplication=function(t){var n=e.resourceUrls.applications+"/"+t;return this.api.get(n).then(function(e){return _.defaults(e.data,new i)})},e.prototype.getClientApplications=function(){return this.api.get(e.resourceUrls.applications).then(function(e){return _.map(e.data,function(e){return _.defaults(e,new i)})})},e.prototype.createClientApplication=function(t){return this.api.post(e.resourceUrls.applications,t).then(function(e){return _.defaults(e.data,new i)})},e.prototype.getUserClientApplications=function(t){var n=e.resourceUrls.userconsent+"/"+t;return this.api.get(n).then(function(e){return e.data.list})},e.prototype.updateUserClientApplication=function(t,n,a){var i={consent_request_type:"organizationUser",user_id:t,client_id:n,scope:a||null},s=""+e.resourceUrls.userconsent;return this.api.post(s,i).then(function(e){return e})},e.prototype.deleteClientApplication=function(t){var n=e.resourceUrls.applications+"/"+t;return this.api.delete(n).then(function(e){})},e.prototype.generateSecret=function(t){var n=e.resourceUrls.applications+"/"+t+"/secrets";return this.api.post(n,null).then(function(e){return _.defaults(e.data,new i)})},e.prototype.deleteSecret=function(t,n){var a=e.resourceUrls.applications+"/"+t+"/secrets/"+n;return this.api.delete(a).then(function(e){return e.data})},e.prototype.generateRsaKeypair=function(t){var n=e.resourceUrls.applications+"/"+t+"/keys";return this.api.post(n,null).then(function(e){return e.data})},e.prototype.deleteRsaKeypair=function(t,n){var a=e.resourceUrls.applications+"/"+t+"/keys";return this.api.delete(a,{key_id:n})},e.prototype.migrateIntegratorKeyToClientSecret=function(t){return this.api.post(e.resourceUrls.migrate,t).then(function(e){return e.data})},e.prototype.updateClientApplication=function(t,n){var a=e.resourceUrls.applications+"/"+t;return this.api.post(a,n).then(function(e){return e.data})},e.prototype.updateClientApplicationConsent=function(t){var n=e.resourceUrls.consent;return this.api.post(n,t).then(function(e){return e.data})},e.prototype.submitForReview=function(t,n,a,s){var o=""+e.resourceUrls.appreviewjobs;return this.api.post(o,{application_id:t,client_id:n,start_date:a,end_date:s}).then(function(e){return _.defaults(e.data,new i)})},e.prototype.getReviewResults=function(t){var n=e.resourceUrls.appreviewjobs+"/applications/"+t;return this.api.get(n).then(function(e){return _.defaults(e.data,new i)})},e.prototype.getProductionAccounts=function(t,n){var a=e.resourceUrls.appreviewjobs+"/"+t+"/accounts?code="+n;return this.api.get(a).then(function(e){return e.data})},e.prototype.updateAppReviewJob=function(t,n,a){var s=e.resourceUrls.appreviewjobs+"/"+t+"/promote";return this.api.post(s,{account_id:n,encrypted_account_id:a}).then(function(e){return _.defaults(e.data,new i)})},e.prototype.redirectToRadminProduction=function(e){return this.$http.post("/redirectToRadminProd",null).then(function(e){return e.data})},e.prototype.generateAppPromotionDestinationUri=function(){return this.$http.get("/redirectForAppPromotionDestination").then(function(e){return e.data})},e.resourceUrls={applications:"v1/applications",appreviewjobs:"v1/appreview/jobs",migrate:"v1/applications/migrate",consent:"v1/consent/admin",userconsent:"v1/consent/users"},e}();a.DocuSignAccountServerApiModule.service("DocuSignAccountServerApiClientApplication",["$http","DocuSignAccountServerApiClient",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12);function i(e){this.api=e}i.prototype.by=function(e,t,n){var a=this.api.endpoint().accounts(e).permissionProfiles(t).uri(n);return this.api.get(a).then(function(e){return e.data})},i.prototype.save=function(e,t){var n=t.permissionProfileId,a=this.api.endpoint().accounts(e).permissionProfiles(n).uri();return this.api.put(a,t).then(function(e){return e.data})},i.prototype.getAllRolesForAccount=function(e,t){var n=this.api.endpoint().accounts(e).permissionProfiles().uri(t);return this.api.get(n).then(function(e){return e.data.permissionProfiles})},i.prototype.add=function(e,t){var n=this.api.endpoint().accounts(e).permissionProfiles().uri();return this.api.post(n,t).then(function(e){return e.data})},i.prototype.settings=function(e,t){var n=this.api.endpoint().accounts(e).permissionProfiles(t).uri({include:"metadata"});return this.api.get(n).then(function(e){return e.data})},i.prototype.getRoleWithUsers=function(e,t){var n=this.api.endpoint().accounts(e).permissionProfiles(t).uri({include:"users"});return this.api.get(n).then(function(e){return e.data})},i.prototype.delete=function(e,t,n){var a=this.api.endpoint().accounts(e).permissionProfiles(t).uri(n);return this.api.delete(a)},i.prototype.getCsvDownloadUri=function(e){var t=this.api.extended().accounts(e).permissionProfiles().uri({acceptHeader:"text/csv",include:"user_count,account_management,settings"});return this.api.authorizationManager.authorizeUri(t)},a.DocuSignApiModule.service("dsRoles",["dsApiClient",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(29),s=function(){function e(e){this._=e}return e.prototype.convertApiNameValueArrayToObject=function(e){var t={};return this._.isArray(e)&&this._.forEach(e,function(e){t[e.name]=e.value}),t},e.prototype.convertObjectToApiNameValueArray=function(e){var t=[];return this._.forEach(e,function(e,n){t.push({name:n,value:e})}),t},e.prototype.convertApiArrayToObject=function(e,t){var n={};return this._.isArray(e)&&!this._.isEmpty(t)&&this._.forEach(e,function(e){n[e[t]]=e}),n},e.prototype.convertObjectToApiArray=function(e){var t=[];return this._.isObject(e)&&(t=this._.values(e)),t},e.prototype.parseApiDateTime=function(e){return i(e,i.ISO_8601)},e.prototype.parseMetadata=function(e){var t=this;return this._.forEach(e,function(e,n){/Metadata$/.test(n)&&t._.isArray(e.options)&&!t._.isEmpty(e.options)&&(e.options=t._.map(e.options,function(e){return{value:e}}))}),e},e}();a.DocuSignApiModule.service("DataTransformationService",["lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(12).DocuSignApiModule.constant("ApiUriParts",["accounts","account_settings","address","admins","admin_invitations","applications","apply_all_users","apps","appliance_pools","audit_logs","auth_url","authenticate","authorize_by_fields","available","bcc_email_archives","billing_charges","billing_invoices","billing_payments","billing_plan","brands","bulk_users","cloud_storage","consumer_disclosure","custom_fields","custom_settings","connect","deactivate","directoryproviders","display_appliance_pools","dynamic_system_settings","correlated_audit_logs","email","email_addresses","entitlements","enote_configuration","envelopes","exports","failures","feedback","file","folders","groups","hsm_keys","identities","image","landing_pages","linked_accounts","linked_accounts_v2","logs","logos","management","memberships","notification_defaults","oauth","object_hierarchy","organization_exports","organizations","partners","partner","password_rules","payment_gateways","payment_gateway_accounts","permissions","permission_profiles","preview","profile","profiles","publish","reconnect","renew","required_card_fields","resources","result_csv","retry_queue","seats_billing_charge","security_appliance_pools","security_appliance_legacy_pools","sending","settings","shared_access","signature_adoption_configurations","signatures","stamp_image","stamps","image_list","signing","signing_appliance_pools","signing_captive","signing_groups","start","storage_appliance_pools","system_updates","tabs","tab_definitions","transfer","transfer_rules","templates","user_list","users","validation","watermark"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(12).DocuSignApiModule.factory("ApiUriBuilder",["lodash","ApiUriParts",function(e,t){var n,a={};function i(e,t,n){return n?[e,t,n].join("/"):[e,t].join("/")}return t.forEach(function(t){var s=e.camelCase(t);a[s]=function(e){return n=i(n,t,e),a}}),a.concat=function(e){return n=i(n,e),this},a.uri=function(t){if(!e.isEmpty(t)){var a=e.map(e.keys(t),function(e){return e+"="+encodeURIComponent(t[e])}).join("&"),i=n.match(/\?/)?"&":"?";n=""+n+i+a}return n.replace(/\/{2,}/g,"/")},{endpoint:function(e,t){return void 0===t&&(t="api"),n=function(e){return e&&["POST","PUT"].some(function(t){return e.toUpperCase()===t})}(e)?"/upload/"+t.toLowerCase()+"/"+e.toLowerCase():"/"+t.toLowerCase(),a},extended:function(e){return void 0===e&&(e="extendedApi"),n="/"+e,a}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12);function i(e){this.api=e}i.prototype.getForAccount=function(e){var t=this.api.endpoint().accounts(e).watermark().uri();return this.api.get(t).then(function(e){return e.data})},i.prototype.setForAccount=function(e,t){var n=this.api.endpoint().accounts(e).watermark().uri();return this.api.put(n,t).then(function(e){return e.data})},i.prototype.generatePreviewImage=function(e,t){var n=this.api.endpoint().accounts(e).watermark().preview().uri();return this.api.put(n,t).then(function(e){return e.data})},a.DocuSignApiModule.service("dsWatermark",["dsApiClient",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e){this.api=e}return e.prototype.getAllGroupsForUser=function(e){var t=this.api.endpoint().accounts(e).signingGroups().uri({include_users:!0});return this.api.get(t).then(function(e){return e.data.groups||[]})},e.prototype.create=function(e,t){var n=this.api.endpoint().accounts(e).signingGroups().uri();return this.api.post(n,{groups:[t]}).then(function(e){return e.data})},e.prototype.delete=function(e,t){var n=this.api.endpoint().accounts(e).signingGroups().uri();return this.api.delete(n,{groups:[t]})},e.prototype.update=function(e,t){var n=this.api.endpoint().accounts(e).signingGroups(t.signingGroupId).uri();return this.api.put(n,t).then(function(e){return e.data})},e.prototype.removeUsers=function(e,t,n){var a=this.api.endpoint().accounts(e).signingGroups(t).uri()+"/users";return this.api.delete(a,{users:n}).then(function(e){return e.data.users})},e}();a.DocuSignApiModule.service("dsSigningGroups",["dsApiClient",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){return function(e,t){var n=this;this._dsApiClient=e,this._ApiUriBuilder=t,this.getForAccount=function(e){var t=n._ApiUriBuilder.endpoint().accounts(e).settings().landingPages().uri();return n._dsApiClient.get(t).then(function(e){return e.data})},this.setForAccount=function(e,t){var a=n._ApiUriBuilder.endpoint().accounts(e).settings().landingPages().uri();return n._dsApiClient.put(a,t).then(function(e){return e.data})}}}();a.DocuSignApiModule.service("dsSessionLandingPages",["dsApiClient","ApiUriBuilder",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e,t){this._api=e,this._appUser=t}return e.prototype.getPasswordRules=function(){var e=this._appUser.getCurrentAccountId(),t=this._api.endpoint().accounts(e).settings().passwordRules().uri({include_metadata:"true"});return this._api.get(t).then(function(e){return e.data})},e.prototype.updatePasswordRules=function(e){var t=this._appUser.getCurrentAccountId(),n=this._api.endpoint().accounts(t).settings().passwordRules().uri();return this._api.put(n,e).then(function(){})},e}();a.DocuSignApiModule.service("dsPasswordRules",["dsApiClient","appUser",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){function e(e,t){this.api=e,this.$q=t}return e.prototype.getAllIntegratorKeysForAccount=function(){var e=this.api.endpoint().partner().apps().uri();return this.api.get(e).then(function(e){return e.data.partnerApp})},e.prototype.create=function(e,t){var n=this.api.endpoint().partner().apps().uri(),a={name:e,redirectUri:t};return this.api.post(n,a).then(function(e){return e.data})},e.prototype.enable=function(e){var t=this.api.endpoint().partner().apps().uri(),n={client_id:e.client_id,enabled:!0,name:e.name,redirectUri:e.redirectUri};return e.enabled=!0,this.api.put(t,n).then(function(e){return e.data})},e.prototype.disable=function(e){var t=this.api.endpoint().partner().apps().uri(),n={client_id:e.client_id,enabled:!1,name:e.name,redirectUri:e.redirectUri};return e.enabled=!1,this.api.put(t,n).then(function(e){return e.data})},e.prototype.update=function(e){var t=this.api.endpoint().partner().apps().uri();return this.api.put(t,e).then(function(e){return e.data})},e}();a.APIIntegratorKeyModule.service("dsIntegratorKey",["dsApiClient","$q",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(53),s=function(){function e(e,t,n){this.api=e,this.appUser=t,this._=n,this.assignAction=i.GROUP_ASSIGN_OPTIONS.UNKNOWN}return e.prototype.getAllGroupsForAccount=function(e){var t=e;this._.isEmpty(e)?t={include_usercount:!1}:this._.isUndefined(t.include_usercount)&&(t.include_usercount=!1);var n=this.api.endpoint().accounts(this.appUser.getCurrentAccountId()).groups().uri(t);return this.api.get(n).then(function(e){return e.data})},e.prototype.getPage=function(e){var t=this;return this.getAllGroupsForAccount(e).then(function(e){return{page:t._.omit(e,"groups"),groups:e.groups}})},e.prototype.create=function(e,t){var n=this.api.endpoint().accounts(e).groups().uri();return this.api.post(n,{groups:[t]}).then(function(e){return e.data})},e.prototype.delete=function(e,t){var n=this.api.endpoint().accounts(e).groups().uri();return this.api.delete(n,{groups:[t]})},e.prototype.update=function(e,t,n){var a={groups:[{groupId:t,groupName:n.groupName}]},i=this.api.endpoint().accounts(e).groups().uri();return this.api.put(i,a).then(function(e){return e.data})},e.prototype.getGroupUsers=function(e,t,n){var a=this.api.endpoint().accounts(e).groups(t).users().uri(n);return this.api.get(a).then(function(e){return e.data})},e.prototype.addUsers=function(e,t,n){var a=this.api.endpoint().accounts(e).groups(t).users().uri();return this.api.put(a,{users:n}).then(function(e){return e.data.users})},e.prototype.addBrands=function(e,t,n){var a=this.api.endpoint().accounts(e).groups(t).brands().uri();return this.api.put(a,{brands:n}).then(function(e){return e.data.BrandOptions})},e.prototype.removeUsers=function(e,t,n){var a=this.api.endpoint().accounts(e).groups(t).users().uri();return this.api.delete(a,{users:n}).then(function(e){return e.data.users})},e.prototype.removeBrands=function(e,t,n){var a=this.api.endpoint().accounts(e).groups(t).brands().uri();return this.api.delete(a,{brands:n}).then(function(e){return e.data.BrandOptions})},e}();a.DocuSignApiModule.service("dsGroups",["dsApiClient","appUser","lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){return function(e,t,n){var a=this;this.api=e,this.appUser=t,this._=n,this.getFoldersForUser=function(e,t,n){var i=a.appUser.getCurrentAccountId(),s=a.api.endpoint().accounts(i).users(e).folders(n).uri(t);return a.api.get(s).then(function(e){return a._.remove(e.data.folders,function(e){return"recyclebin"===e.type||"draft"===e.type}),e.data.folders.forEach(function(e){e.isSystemFolder="inbox"===e.type||"sentitems"===e.type}),e.data})}}}();a.DocuSignApiModule.service("dsFolders",["dsApiClient","appUser","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(13);function s(e){this.api=e}function o(e,t){return i.each(e,function(e){e.customFieldType="text"}),i.each(t,function(e){e.customFieldType="list"}),i.sortBy(e.concat(t),function(e){return e.name.toString().toLowerCase()})}s.prototype.getForAccount=function(e){var t=this.api.endpoint().accounts(e).customFields().uri();return this.api.get(t).then(function(e){return o(e.data.textCustomFields,e.data.listCustomFields)})},s.prototype.update=function(e,t,n){var a=t.fieldId,i={apply_to_templates:n},s=this.api.endpoint().accounts(e).customFields(a).uri(i);return this.api.put(s,t).then(function(e){return o(e.data.textCustomFields,e.data.listCustomFields)})},s.prototype.create=function(e,t){var n=this.api.endpoint().accounts(e).customFields().uri({apply_to_templates:!0});return this.api.post(n,t).then(function(e){return o(e.data.textCustomFields,e.data.listCustomFields)})},s.prototype.remove=function(e,t,n){var a={apply_to_templates:n},i=this.api.endpoint().accounts(e).customFields(t).uri(a);return this.api.delete(i)},a.DocuSignApiModule.service("dsDocumentLabel",["dsApiClient",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e){this.api=e}return e.prototype.getSettingsByAccountId=function(e){var t=this.api.endpoint().dynamicSystemSettings().uri(),n={context:[{name:"accountId",value:e}]};return this.api.post(t,n).then(function(e){return e.data})},e}();a.DocuSignApiModule.service("dsDynamicSystemSettingsService",["dsApiClient",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){return function(){}}();function s(e){this.api=e}t.CustomFieldModel=i,s.prototype.getForAccount=function(e,t){var n={};t&&(n.custom_tab_only="false");var a=this.api.endpoint().accounts(e).tabDefinitions().uri(n);return this.api.get(a).then(function(e){return e.data.tabs})},s.prototype.getField=function(e,t){var n=this.api.endpoint().accounts(e).tabDefinitions(t).uri();return this.api.get(n).then(function(e){return e.data})},s.prototype.create=function(e,t){var n=this.api.endpoint().accounts(e).tabDefinitions().uri();return this.api.post(n,t).then(function(e){return e.data})},s.prototype.remove=function(e,t){var n=this.api.endpoint().accounts(e).tabDefinitions(t).uri();return this.api.delete(n)},s.prototype.update=function(e,t){var n=this.api.endpoint().accounts(e).tabDefinitions(t.customTabId).uri();return this.api.put(n,t).then(function(e){return e.data})},a.DocuSignApiModule.service("CustomFieldWrapper",["dsApiClient",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i="(Missing)",s=function(){return function(e,t,n,a,s){var o=this;this.api=e,this.appUser=t,this._=n,this.$q=a,this._$translate=s,this.activeRules=[],this.didProcessRules=!1,this.numberOfRulesProcessed=0,this.previousTotalNumberOfRules=0,this.totalNumberOfRules=0,this.getRules=function(){var e=o.api.endpoint().accounts(o.appUser.getCurrentAccountId()).envelopes().transferRules().uri();return o.api.get(e).then(function(e){var t=e.data.envelopeTransferRules;return o._.forEach(t,function(e){o.toRuleViewModel(e)}),o.previousTotalNumberOfRules=o.totalNumberOfRules,o.totalNumberOfRules=t.length,t},function(){o.didProcessRules=!1})},this.getRulesPage=function(e){var t=o.api.endpoint().accounts(o.appUser.getCurrentAccountId()).envelopes().transferRules().uri(e);return o.api.get(t).then(function(e){var t=o._.omit(e.data,"envelopeTransferRules"),n=e.data.envelopeTransferRules;return o._.forEach(n,function(e){o.toRuleViewModel(e)}),o.previousTotalNumberOfRules=o.totalNumberOfRules,o.totalNumberOfRules=t.totalSetSize,{page:t,transferRules:n}},function(){o.didProcessRules=!1})},this.addRule=function(e){var t=o.api.endpoint().accounts(o.appUser.getCurrentAccountId()).envelopes().transferRules().uri();return o.api.post(t,e).then(function(e){var t=e.data.envelopeTransferRules;return o.didProcessRules=!0,o.numberOfRulesProcessed=t.length,t},function(e){return o.$q.reject(e.data)})},this.removeRule=function(e){var t=o.api.endpoint().accounts(o.appUser.getCurrentAccountId()).envelopes().transferRules(e.envelopeTransferRuleId).uri();return o.api.delete(t).catch(function(e){return o.$q.reject(e.data)})},this.updateRule=function(e){var t=o.api.endpoint().accounts(o.appUser.getCurrentAccountId()).envelopes().transferRules(e.envelopeTransferRuleId).uri();return o.api.put(t,e).then(function(e){return o.toRuleViewModel(e.data)},function(e){return o.$q.reject(e.data)})},this.toRuleViewModel=function(e){return e.isAvailable=!!e.toFolder.name,e.toFolder=o.toFolderViewModel(e.toFolder),e.eventType=o._.startCase(e.eventType),e},this.toFolderViewModel=function(e){return{name:e.name||o._$translate.instant(i),folderId:e.folderId,isSystemFolder:o.checkSystemFolder(e.name)}},this.checkSystemFolder=function(e){return e&&("inbox"===e.toLowerCase()||"sent items"===e.toLowerCase())}}}();a.DocuSignApiModule.service("CustodyTransferService",["dsApiClient","appUser","lodash","$q","$translate",s])},function(e,t,n){"use strict";function a(e){this.api=e}Object.defineProperty(t,"__esModule",{value:!0}),n(12).DocuSignApiModule.service("dsConnect",["dsApiClient",a]),a.prototype.getAccountConfigurations=function(e){var t=this.api.endpoint().accounts(e).connect().uri();return this.api.get(t).then(function(e){return e.data})},a.prototype.addConfiguration=function(e,t){var n=this.api.endpoint().accounts(e).connect().uri();return this.api.post(n,t).then(function(e){return e.data})},a.prototype.updateConfiguration=function(e,t){var n=this.api.endpoint().accounts(e).connect().uri();return this.api.put(n,t).then(function(e){return e.data})},a.prototype.deleteConfiguration=function(e,t){var n=this.api.endpoint().accounts(e).connect(t).uri();return this.api.delete(n)},a.prototype.getLogs=function(e){var t=this.api.endpoint().accounts(e).connect().logs().uri({additional_info:"true"});return this.api.get(t).then(function(e){return e.data})},a.prototype.deleteLogs=function(e){var t=this.api.endpoint().accounts(e).connect().logs().uri();return this.api.delete(t)},a.prototype.getLog=function(e,t){var n=this.api.endpoint().accounts(e).connect().logs(t).uri({additional_info:"true"});return this.api.get(n).then(function(e){return e.data})},a.prototype.getFailures=function(e){var t=this.api.endpoint().accounts(e).connect().failures().uri();return this.api.get(t).then(function(e){return e.data})},a.prototype.deleteFailure=function(e,t){var n=this.api.endpoint().accounts(e).connect().failures(t).uri();return this.api.delete(n)},a.prototype.republishEnvelope=function(e,t){var n=this.api.endpoint().accounts(e).connect().envelopes(t).retryQueue().uri();return this.api.put(n).then(function(e){return e.data})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(13),s=function(){function e(e,t){this._=e,this.api=t}return e.prototype.getAccountPlan=function(e){var t=this.api.endpoint().accounts(e).billingPlan().uri();return this.api.get(t).then(function(e){return e.data})},e.prototype.getAccountInvoices=function(t){var n=this.api.endpoint().accounts(t).billingInvoices().uri(),a=this;return this.api.get(n).then(function(n){return e.transformInvoicesPageFromApi(n.data,t,a.api)})},e.prototype.generateInvoiceUri=function(e,t){var n=this.api.extended().accounts(e).billingInvoices(t).uri({acceptHeader:"application/pdf"});return this.api.authorizationManager.authorizeUri(n)},e.prototype.getAccountPayments=function(t){var n=this.api.endpoint().accounts(t).billingPayments().uri(),a=this;return this.api.get(n).then(function(n){return e.transformPaymentsPageFromApi(n.data,t,a.api)})},e.prototype.getAccountCharges=function(e){var t=this.api.endpoint().accounts(e).billingCharges().uri();return this.api.get(t).then(function(e){return e.data})},e.prototype.seatUsageSummary=function(e){var t=this.api.endpoint().accounts(e).billingCharges().uri({include_charges:"seats"});return this.api.get(t).then(function(e){return e.data})},e.transformInvoicesPageFromApi=function(t,n,a){return t.billingInvoices=t.billingInvoices||[],t.hasNextPage=!i.isEmpty(t.nextUri),t.getNextPage=function(){if(t.hasNextPage){var i=a.endpoint().accounts(n).concat(t.nextUri).uri();return a.get(i).then(function(t){return e.transformInvoicesPageFromApi(t.data||{},n,a)})}throw new Error("There are no subsequent pages available.")},t.hasPreviousPage=!i.isEmpty(t.previousUri),t.getPreviousPage=function(){if(t.hasPreviousPage){var i=a.endpoint().accounts(n).concat(t.previousUri).uri();return a.get(i).then(function(t){return e.transformInvoicesPageFromApi(t.data||{},n,a)})}throw new Error("There are no previous pages available.")},t},e.transformPaymentsPageFromApi=function(t,n,a){return t.billingPayments=t.billingPayments||[],t.hasNextPage=!i.isEmpty(t.nextUri),t.getNextPage=function(){if(t.hasNextPage){var i=a.endpoint().accounts(n).concat(t.nextUri).uri();return a.get(i).then(function(t){return e.transformPaymentsPageFromApi(t.data||{},n,a)})}throw new Error("There are no subsequent pages available.")},t.hasPreviousPage=!i.isEmpty(t.previousUri),t.getPreviousPage=function(){if(t.hasPreviousPage){var i=a.endpoint().accounts(n).concat(t.previousUri).uri();return a.get(i).then(function(t){return e.transformPaymentsPageFromApi(t.data||{},n,a)})}throw new Error("There are no previous pages available.")},t},e}();t.BillingService=s,a.DocuSignApiModule.service("dsBilling",["lodash","dsApiClient",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(2);function s(e,t){this.api=e,this.$q=t}function o(e,t){var n={search:"true"};return i.isUndefined(e)||(n.from_date=e.toISOString()),i.isUndefined(t)||(n.to_date=t.toISOString()),n}t.AuditLog=s,s.prototype.getAuditLogForAccount=function(e,t,n){var a=o(t,n),i=this.api.endpoint().accounts(e).auditLogs().uri(a);return this.api.get(i).then(function(e){return e.data})},s.prototype.generateAuditLogCsvDownloadUri=function(e,t,n){var a=o(t,n);a.acceptHeader="text/csv";var i=this.api.extended().accounts(e).auditLogs().uri(a);return this.api.authorizationManager.authorizeUri(i)},a.DocuSignApiModule.service("dsAuditLog",["dsApiClient","$q",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e,t,n){this.api=e,this.dsTransformer=t,this._=n}return e.prototype.retrieveUsers=function(t,n){var a=this.api.endpoint().accounts(t).users().uri(n),i=this.dsTransformer;return this.api.get(a).then(function(t){return e.transformUsersFromApi(t.data.users,i,this._)})},e.prototype.retrievePage=function(t,n){var a=this,i=this.api.endpoint().accounts(t).users().uri(n),s=this.dsTransformer;return this.api.get(i).then(function(t){return e.transformUsersFromApi(t.data.users,s,a._),t.data})},e.prototype.retrieveUser=function(e,t){var n=this.api.endpoint().accounts(e).users(t).uri();return this.api.get(n).then(function(e){return e.data})},e.prototype.addNewUsers=function(t,n){var a=this,i=this.dsTransformer,s=this.api.endpoint().accounts(t).users().uri(),o={newUsers:n};return this.api.post(s,o).then(function(t){return e.transformUsersFromApi(t.data.newUsers,i,a._)})},e.prototype.updateUser=function(e,t,n){var a=this.api.endpoint().accounts(e).users(t).uri();return this.api.put(a,n).then(function(e){return e.data})},e.prototype.removeUsersFromAccount=function(e,t,n){var a=this.api.endpoint().accounts(e).users().uri(n),i={users:this._.map(t,function(e){return{userId:e}})};return this.api.delete(a,i).then(function(e){return e.data.users})},e.prototype.resetUserPasswords=function(e,t){var n=this.api.endpoint().accounts(e).users().uri(),a={users:this._.map(t,function(e){return{userId:e,loginStatus:"password_reset"}})};return this.api.put(n,a).then(function(e){return e.data.users})},e.prototype.sendActivationMessages=function(e,t){var n=function(e){return e.map(function(e){var t={userId:e.id,sendActivationEmail:"send"};return e.accessCode&&(t.activationAccessCode=e.accessCode),t})}.call(this,t),a=this.api.endpoint().accounts(e).users().uri(),i={users:n};return this.api.put(a,i).then(function(e){return e.data.users})},e.prototype.createDownloadUri=function(e,t){t.acceptHeader="text/csv";var n=this.api.extended().accounts(e).users().uri(t);return this.api.authorizationManager.authorizeUri(n)},e.transformUsersFromApi=function(e,t,n){var a=e;return n.isArray(e)||(a=[e]),n.forEach(a,function(e){e.createdDateTime=t.parseApiDateTime(e.createdDateTime)}),e},e}();a.DocuSignApiModule.service("dsAccountUsers",["dsApiClient","DataTransformationService","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e,t,n){this.api=e,this.dsTransformer=t,this._=n}return e.prototype.getUserSettings=function(e,t,n){var a={};n&&(a.include_metadata="true");var i=this.api.endpoint().accounts(e).users(t).settings().uri(a),s=this.dsTransformer;return this.api.get(i).then(function(e){return s.parseMetadata(e.data)})},e.prototype.getAccountUserInformation=function(e,t,n){var a={};n&&(a.include_metadata="true");var i=this.api.endpoint().accounts(e).users(t).uri(a),s=this.dsTransformer;return this.api.get(i).then(function(e){return s.parseMetadata(e.data)})},e.prototype.updateAccountUserInformation=function(e,t,n){var a=this.api.endpoint().accounts(e).users(t).uri();return this.api.put(a,n).then(function(e){return e.data})},e.prototype.updateAccountUserSettings=function(e,t,n){var a=this.api.endpoint().accounts(e).users(t).settings().uri();return this.api.put(a,n).then(function(e){return e.data})},e.prototype.getAccountUserProfile=function(e,t){var n=this.api.endpoint().accounts(e).users(t).profile().uri();return this.api.get(n).then(function(e){return e.data})},e.prototype.updateAccountUserProfile=function(e,t,n){var a=this.api.endpoint().accounts(e).users(t).profile().uri();return this.api.put(a,n).then(function(e){return e.data})},e.prototype.getAccountUserCustomSettings=function(e,t){var n=this.api.endpoint().accounts(e).users(t).customSettings().uri(),a=this.dsTransformer;return this.api.get(n).then(function(e){return a.convertApiNameValueArrayToObject(e.data.customSettings)})},e.prototype.updateAccountUserCustomSettings=function(e,t,n){var a=this.dsTransformer,i=new RegExp("Metadata$"),s=this._.omit(this._.cloneDeep(n),function(e,t){return i.test(t)}),o=this.api.endpoint().accounts(e).users(t).customSettings().uri(),r={customSettings:a.convertObjectToApiNameValueArray(s)};return this.api.put(o,r).then(function(e){return a.convertApiNameValueArrayToObject(e.data.customSettings)})},e}();a.DocuSignApiModule.service("dsUser",["dsApiClient","DataTransformationService","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=function(){function e(e,t,n,a){var i=this;this.api=e,this.appUser=t,this.apiUriBuilder=n,this._=a,this.uploadAccountSignatureUrl=function(){var e=i.api.endpoint().accounts(i.appUser.getCurrentAccountId()).signatures().uri();return i.api.authorizeUri(e+"/stamp_image")}}return e.prototype.getAccountSignatures=function(e){var t=this.api.endpoint().accounts(e).signatures().uri({stamp_type:"stamp"});return this.api.get(t).then(function(e){return e.data})},e.prototype.getAccountSignature=function(e,t){var n=this.api.endpoint().accounts(e).signatures(t).uri({stamp_type:"stamp"});return this.api.get(n).then(function(e){return e.data})},e.prototype.deleteAccountSignature=function(e,t){var n=this.api.endpoint().accounts(e).signatures(t).uri({stamp_type:"stamp"});return this.api.delete(n).then(function(e){return e.data})},e.prototype.selectUserRights=function(e,t){return this._.find(t,"userId",e)||{userId:e,rights:"none"}},e.prototype.selectGroupRights=function(e,t){return this._.find(t,"groupId",e)||{groupId:e,rights:"none"}},e.prototype.getUserRights=function(e,t,n){var a=this,i=this.api.endpoint().accounts(e).signatures(t).uri({stamp_type:"stamp"});return this.api.get(i).then(function(e){var t=e.data;return a.selectUserRights(n,t.signatureUsers)})},e.prototype.getGroupRights=function(e,t,n){var a=this,i=this.api.endpoint().accounts(e).signatures(t).uri({stamp_type:"stamp"});return this.api.get(i).then(function(e){var t=e.data;return a.selectGroupRights(n,t.signatureGroups)})},e.prototype.updateUserRights=function(e,t,n){var a=this.api.endpoint().accounts(e).signatures(t).uri();return this.api.put(a,n).then(function(e){return e.data.signatureUsers})},e.prototype.updateGroupRights=function(e,t,n){var a=this.api.endpoint().accounts(e).signatures(t).uri();return this.api.put(a,n).then(function(e){return e.data.signatureGroups})},e.prototype.getNameStamps=function(e,t,n){var a={stamp_type:"name_stamp",stamp_name:encodeURIComponent(t),stamp_format:n?"NameDateHanko":"NameHanko"},i=this.api.endpoint().accounts(e).signatures().uri(a);return this.api.get(i).then(function(e){return e.data})},e.prototype.getIPXStamps=function(e,t){var n=this.api.endpoint().accounts(e).signatures().uri({decode_only:"true"}),a={headers:{},data:t};return a.headers["Content-Type"]="application/ipx",this.api.post(n,a).then(function(e){return e.data})},e.prototype.uploadIPXStamps=function(e,t){var n=this.api.endpoint().accounts(e).signatures().uri(),a={headers:{},data:t};return a.headers["Content-Type"]="application/ipx",this.api.post(n,a).then(function(e){return e.data})},e}();a.DocuSignApiModule.service("dsAccountSignature",["dsApiClient","appUser","ApiUriBuilder","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12);function i(e,t,n){this._=e,this.api=t,this.dsTransformer=n}i.prototype.transformFromApi=function(e,t){if(this._.isObject(e)){if(this._.isArray(e.colors)&&(e.colors=this.dsTransformer.convertApiNameValueArrayToObject(e.colors)),this._.isArray(e.landingPages)?e.landingPages=this.dsTransformer.convertApiNameValueArrayToObject(e.landingPages):e.landingPages={},this._.isArray(e.links)?(e.links.forEach(function(e){e.showLink=!e.showLink}),e.links=this.dsTransformer.convertApiArrayToObject(e.links,"linkType")):e.links={},this._.isObject(e.logos)){var n=this;this._.forEach(e.logos,function(a,i){var s=n.api.endpoint().accounts(t).concat(a).uri();e.logos[i]=n.api.authorizationManager.authorizeUri(s)})}this._.defaults(e.landingPages,{signingComplete:"",viewingComplete:"",finishLater:"",decline:"",sessionTimeout:"",failedAuthorization:""})}return e},i.prototype.transformForApi=function(e){return this._.isObject(e)&&(e=this._.cloneDeep(e),this._.isObject(e.colors)&&(e.colors=this.dsTransformer.convertObjectToApiNameValueArray(e.colors)),this._.isObject(e.landingPages)&&(e.landingPages=this.dsTransformer.convertObjectToApiNameValueArray(e.landingPages)),this._.isObject(e.links)&&(e.links=this.dsTransformer.convertObjectToApiArray(e.links),e.links.forEach(function(e){e.showLink=!e.showLink}))),e},i.prototype.getDefaultBrands=function(e,t,n){null===t&&(t=!1),null===n&&(n=!1)},i.prototype.getForAccount=function(e,t,n){var a={};t&&(a.include_logos="true"),n&&(a.exclude_distributor_brand="true");var i=this,s=this.api.endpoint().accounts(e).brands().uri(a);return this.api.get(s).then(function(t){return this._.each(t.data.brands,function(t){return i.transformFromApi(t,e)}),t.data.brands})},i.prototype.getBrand=function(e,t,n,a){var i={},s=this;n&&(i.include_logos="true"),a&&(i.include_external_references="true");var o=this.api.endpoint().accounts(e).brands(t).uri(i);return this.api.get(o).then(function(t){return s.transformFromApi(t.data,e)})},i.prototype.create=function(e,t){var n=this,a=this.api.endpoint().accounts(e).brands().uri();return this.api.post(a,n.transformForApi(t)).then(function(t){return n.transformFromApi(this._.head(t.data.brands),e)})},i.prototype.remove=function(e,t){var n=this.api.endpoint().accounts(e).brands(t).uri();return this.api.delete(n)},i.prototype.update=function(e,t){var n=this,a=this.api.endpoint().accounts(e).brands(t.brandId).uri();return this.api.put(a,n.transformForApi(t)).then(function(t){return n.transformFromApi(t.data,e)})},i.prototype.uploadLogo=function(e,t,n){null===n&&(n="primary")},i.prototype.generateLogoUploadUri=function(e,t,n){return this._.isEmpty(n)&&(n="primary"),this.api.authorizationManager.authorizeUri(["upload","api","put","accounts",e,"brands",t,"logos",n].join("/"))},i.prototype.removeLogo=function(e,t,n){null===n&&(n="primary");var a=this.api.endpoint().accounts(e).brands(t).logos(n).uri();return this.api.delete(a)},a.DocuSignApiModule.service("dsAccountBranding",["lodash","dsApiClient","DataTransformationService",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(13),s=function(){function e(e,t,n){this._=e,this.api=t,this.dsTransformer=n}return e.prototype.getInformation=function(e){var t=this.api.endpoint().accounts(e).uri();return this.api.get(t).then(function(e){return e.data})},e.prototype.getSettings=function(t){var n=this.api.endpoint().accounts(t).settings().uri({include_metadata:"true"}),a=this.dsTransformer;return this.api.get(n).then(function(t){return e.transformSettingsFromApi(t.data,a)})},e.prototype.updateSettings=function(t,n){var a=this.api.endpoint().accounts(t).settings().uri(),i=this.dsTransformer;return this.api.put(a,e.transformSettingsForApi(n)).then(function(t){return e.transformSettingsFromApi(t.data,i)})},e.prototype.getNotificationDefaults=function(e){var t=this.api.endpoint().accounts(e).settings().notificationDefaults().uri();return this.api.get(t).then(function(e){return e.data})},e.prototype.updateNotificationDefaults=function(e,t){var n=this.api.endpoint().accounts(e).settings().notificationDefaults().uri();return this.api.put(n,t).then(function(e){return e})},e.transformSettingsFromApi=function(e,t){return t.parseMetadata(e)},e.transformSettingsForApi=function(e){var t=new RegExp("Metadata$");return i.omitBy(i.cloneDeep(e),function(e,n){return t.test(n)})},e}();a.DocuSignApiModule.service("dsAccount",["lodash","dsApiClient","DataTransformationService",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("uiHint",["uiHintChecker","lodash",function(e,t){return{restrict:"A",link:function(n,a,i){var s=i.uiHint?"["+i.uiHint+"]":i.uiModels;if(!s)throw"No model(s) provided!";n.$watch(s,function(n){return function(a){a.some(t.isUndefined)||(function(t){return t.every(e.isAvailable)}(a)?(function(e){e.css("display","")}(n),function(t){return t.every(e.isEditable)}(a)?function(e){e.removeClass("disabled"),e.removeClass("form_unit-disabled"),e.children("label").removeClass("disabled"),e.children(".select-wrap").removeClass("disabled"),e.children(".select-wrap").children("select").prop("disabled",!1),e.children("input, input-rb, textarea").prop("disabled",!1)}(n):function(e){e.addClass("disabled"),e.addClass("form_unit-disabled"),e.children("label").addClass("disabled"),e.children(".select-wrap").addClass("disabled"),e.children(".select-wrap").children("select").prop("disabled",!0),e.children("input, input-rb, textarea").prop("disabled",!0)}(n)):function(e){e.css("display","none")}(n))}}(a),!0)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(2);a.CommonModule.factory("uiHintChecker",["lodash",function(e){function t(e){return!!i.isObject(e)&&"available"===e.uiHint}return{isAvailable:t,anyAvailable:function(n){return e.some(n,t)},isEditable:function(e){return!!i.isObject(e)&&"editable"===e.rights}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("uiCfr",["$window","lodash",function(e,t){var n=e.jQuery;function a(e){return e.is21CFRPart11}return{restrict:"A",scope:!0,compile:function(e){return function(e){var t=(new Date).getTime().toString(),a=n('\n        <span ng-if="isCfr" olive-tooltip="cfrTooltip-'+t+'" olive-tooltip-position="after middle">\n          <i class="v-align-middle icon icon-shield-check"></i>\n        </span>\n        <div ng-if="isCfr" class="tooltip invisible" id="cfrTooltip-'+t+'">\n          <div class="tooltip-content" translate="This setting affects 21 CFR Part 11 configuration">\n          </div>\n        </div>\n      '),i=e.find("select");e.find(".rb_label").length>0&&a.addClass("rb_label");i.length>0?(e.children("label").wrap('<div class="cfr-row"></div>'),e.find("label").addClass("col-7-8"),a=n(a).addClass("col-1-8"),a=n(a).css({"padding-left":"0px","text-align":"right"}),e.children(".cfr-row").append(a)):e.append(a)}(e),function(e,n,i){if(t.isEmpty(i.uiCfr)){if(t.isEmpty(i.uiModels))throw"No model provided!";e.$watch(i.uiModels,function(n){t.isUndefined(n)||(e.isCfr=t.every(n,function(e){return!t.isEmpty(e)&&a(e)}))},!0)}else e.$watch(i.uiCfr,function(n){t.isUndefined(n)||(e.isCfr=a(n))},!0)}}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsSearchControl",[function(){return{restrict:"E",transclude:!0,scope:{searchable:"="},templateUrl:"modules/Common/filtering/ds-filter-controls.html",link:function(e){if(!e.searchable)throw"You must provide an object that implements Common.Filtering.IFilterable"}}}])},function(e,t){var n="modules/Common/searching/ds-search-controls.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="input_wrapper">\n  <div class="form_group form_group-unified">\n    <div class="select-wrap form_addon-select" ng-if="searchable.searchTypes">\n      <select ng-disabled="!searchable.loaded"\n        data-qa="search_controls_search_type_option"\n        ng-model="searchable.selectedSearchType"\n        ng-options="searchType.value as searchType.label | translate for\n          searchType in searchable.searchTypes">\n      </select>\n    </div>\n    <div class="form_item form_item-iconLeft form_item-iconRight"\n         ng-class="{\'list-search-wide\': !searchable.searchTypes && !searchable.isModal, \'listHeader_search\': searchable.isModal}">\n      <span class="icon icon-search"></span>\n\n      <input type=\'text\' class=\'input-text search\' max-length="100"\n        ng-disabled="!searchable.loaded"\n        ng-model=\'searchable.searchPhrase\'\n        ng-keyup="searchable.submitSearch($event)"\n        data-qa="search_controls_search_input_txtb"\n        translate translate-attr-placeholder="{{searchable.placeholderText || \'Search\'}}" />\n\n      <button type="button" class="button-icon"\n        ng-if="searchable.submittedSearch"\n        ng-click="searchable.resetSearch()">\n        <span class="icon icon-circle-x"></span>\n      </button>\n    </div>\n  </div>\n</div>\n\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("radminLogging",["configuration","$state","RADminApiClient","$window",function(e,t,n){return{restrict:"A",link:function(r,l,c){if(e.clientEventLoggingEnabled)switch(l.prop("tagName")){case a:l.on("click",function(){return d("Click","Button")});break;case i:l.on("click",function(){return d("Click","Link")});break;case s:l.on("click",function(){return d("Click","Table Cell")});break;case o:l.on("click",function(){return d("Click","Div")});break;default:return}function d(e,a){var i=$(".modal_title"),s=$(".header-title"),o=i.attr("translate")||s.attr("translate")||"?",r=c.translate||function(e){var t=(e.text()||"").match(/\w+(\s*\w+)*/i);return t&&t[0]}(l)||"?",d=c.qa,u=c.radminLogging,p=c.radminLoggingCounterInstance,m="event",g=c.radminLoggingEventName,h=t.current&&t.current.name,f=c.uiSref||"",v={Page:o,Element:a,ElementText:r,Event:e};d&&(v.DataQA=d),u&&(v.Notes=u),h&&(v.State=h),f&&(v.LinkTo=f),g||(g="RADmin UI Event"),p&&(m="counter",v.instanceName=p),n.logClientMessage({type:m,eventName:g,message:v})}}}}]);var a="BUTTON",i="A",s="TD",o="DIV"},function(e,t){var n="modules/Common/paging/ds-page-controls.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="col-1-5 pagination" data-qa="pagination">\n  <div class="col-1-2 pagination-information"\n      ng-if="pageable.loaded && pageable.currentPage.totalCount !== 0">\n    <span translate="[[styleStart]][[firstNumber]][[styleEnd]] - [[styleStart]][[lastNumber]][[styleEnd]] of [[totalNumber]] [[itemType]]"\n      translate-interpolation="bracket"\n      translate-values="{\n        styleStart: \'<strong>\',\n        styleEnd: \'</strong>\',\n        firstNumber: pageable.currentPage.startIndex + 1,\n        lastNumber: pageable.currentPage.endIndex + 1,\n        totalNumber: pageable.currentPage.totalCount,\n        itemType: pageable.pageItemType\n      }"\n      data-qa="pagination_info">\n    </span>\n  </div>\n\n  <div class="col pagination-btn-container">\n    <button class="btn btn-minor pagination-jump"\n      ng-disabled="shouldDisablePagingBackward()"\n      ng-click="pageable.jumpToFirstPage()"\n      data-qa="pagination_first_btn"\n      translate="First">\n    </button>\n\n    <button class="btn btn-secondary btn-icon pagination-btn"\n        ng-disabled="shouldDisablePagingBackward()"\n        ng-click="pageable.pageBackward()"\n        data-qa="pagination_backward_btn">\n      <i class="icon icon-caret-left"></i>\n    </button>\n\n    <button class="btn btn-secondary btn-icon pagination-btn"\n        ng-disabled="shouldDisablePagingForward()"\n        ng-click="pageable.pageForward()"\n        data-qa="pagination_forward_btn">\n      <i class="icon icon-caret-right"></i>\n    </button>\n\n    <button class="btn btn-minor pagination-jump pagination-jump-last"\n      ng-disabled="shouldDisableJumpingToLastPage()"\n      ng-click="pageable.jumpToLastPage()"\n      data-qa="pagination_last_btn"\n      translate="Last">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";function a(e){if(!e.pageable)throw"You must provide an object that implements IPageable";var t=e.pageable;e.shouldDisablePagingBackward=function(){return!t.loaded||t.currentPage&&!t.currentPage.hasPreviousPage},e.shouldDisablePagingForward=function(){return!t.loaded||t.currentPage&&!t.currentPage.hasNextPage},e.shouldDisableJumpingToLastPage=function(){return!t.loaded||t.currentPage&&!(t.currentPage.hasNextPage&&t.currentPage.totalCount)}}Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsPageControls",function(){return{restrict:"E",scope:{pageable:"="},templateUrl:"modules/Common/paging/ds-page-controls.html",link:a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("pagingControls",function(){return{restrict:"E",template:a,scope:{page:"=page",pageControls:"=pageControls",listName:"=listName"}}});var a='<div">\n  <div ng-if="listName" class="col-1-2 pagination-information">\n    <span translate="[[styleStart]][[firstNumber]][[styleEnd]] - [[styleStart]][[lastNumber]][[styleEnd]] of [[totalNumber]] [[itemType]]"\n      translate-interpolation="bracket"\n      translate-values="{\n      styleStart: \'<strong>\',\n      styleEnd: \'</strong>\',\n      firstNumber: page.startPosition + 1,\n      lastNumber: page.endPosition + 1,\n      totalNumber: page.totalSetSize,\n      itemType: listName\n      }">\n    </span>\n  </div>\n\n  <div class="col pagination-btn-container">\n    <button class="btn btn-minor pagination-jump"\n            ng-disabled="!page.previousUri"\n            ng-click="pageControls.jumpToFirstPage()"\n            translate="First">\n    </button>\n    <button class="btn btn-secondary btn-icon pagination-btn"\n            ng-disabled="!page.previousUri"\n            ng-click="pageControls.pageBackward()">\n      <i class="icon icon-caret-left"></i>\n    </button>\n    <button class="btn btn-secondary btn-icon pagination-btn"\n            ng-disabled="!page.nextUri"\n            ng-click="pageControls.pageForward()">\n      <i class="icon icon-caret-right"></i>\n    </button>\n    <button class="btn btn-minor pagination-jump pagination-jump-last"\n            ng-disabled="!page.nextUri"\n            ng-click="pageControls.jumpToLastPage()"\n            translate="Last">\n    </button>\n  </div>\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.service("NotificationQueueService",["$rootScope","dsNotification","$timeout","lodash",function(e,t,n,a){this.displayOnNextNavigation=function(e){a.isEmpty(e)||i.push(e)},this.clearNextNavigationMessages=s;var i=[];function s(){i=[]}e.$on("$stateChangeSuccess",function(){a.isEmpty(i)||n(function(){a.forEach(i,function(e){t.show(e)}),s()},0)})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(2);a.CommonModule.filter("nameOrEmailFilter",["lodash",function(e){return function(t,n){var a=i.isArray(n)?n[1]:n,s=i.isArray(n)?n[0]:void 0;return i.isDefined(t)&&i.isDefined(a)&&a.length>=2?e.filter(t,function(e){var t=e.name||"",n=e.email||"",o=t.toLowerCase().indexOf(a.toLowerCase())>=0,r=n.toLowerCase().indexOf(a.toLowerCase())>=0;return i.isDefined(s)?"name"===s.toLowerCase()?o:r:o||r}):t}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.filter("moment",["moment",function(e){return function(t,n,a){var i=e(t).format(),s=a||e.tz.guess(),o=e(i,e.ISO_8601).tz(s),r="LONGFORMAT | HH:mm"===n?function(e){return({de:"D. MMMM YYYY",es:"D[ de ]MMMM[ de ]YYYY",ru:"D MMMM YYYY [г.]","pt-br":"D[ de ]MMMM[ de ]YYYY",pt:"D[ de ]MMMM[ de ]YYYY","zh-cn":"YYYY[年]M[月]D[日]","zh-tw":"YYYY[年]M[月]D[日]",ja:"YYYY[年]M[月]D[日]",ko:"YYYY[년] M[월] D[일]",en:"MMMM D, YYYY",nl:"D MMMM YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY"}[e]||"YYYY-MM-dd")+" | HH:mm"}(o.locale()):function(e,t){var n=t.split(/[-_]/)[0],a={zh:{"DD MMMM YYYY":"YYYY[年]M[月]D[日]","MMMM D, YYYY":"YYYY[年]M[月]D[日]","DD-MMM-YYYY":"DD-M-YYYY","MMM-DD-YYYY":"M-DD-YYYY","DD-MMM-YY":"DD-M-YY","MMM D, YYYY":"M D, YYYY","YYYY-MMM-DD":"YYYY-M-DD","YYYY MMMM D":"YYYY[年]M[月]D[日]"},ja:{"DD MMMM YYYY":"YYYY[年]M[月]D[日]","MMMM D, YYYY":"YYYY[年]M[月]D[日]","DD-MMM-YYYY":"DD-M-YYYY","MMM-DD-YYYY":"M-DD-YYYY","DD-MMM-YY":"DD-M-YY","MMM D, YYYY":"M D, YYYY","YYYY-MMM-DD":"YYYY-M-DD","YYYY MMMM D":"YYYY[年]M[月]D[日]"},ko:{"DD MMMM YYYY":"YYYY[년]M[월]D[일]","MMMM D, YYYY":"YYYY[년]M[월]D[일]","DD-MMM-YYYY":"DD-M-YYYY","MMM-DD-YYYY":"M-DD-YYYY","DD-MMM-YY":"DD-M-YY","MMM D, YYYY":"M D, YYYY","YYYY-MMM-DD":"YYYY-M-DD","YYYY MMMM D":"YYYY[년]M[월]D[일]"},de:{"DD MMMM YYYY":"DD. MMMM YYYY"},es:{"DD MMMM YYYY":"DD [de] MMMM [de] YYYY"},pt:{"DD MMMM YYYY":"DD [de] MMMM [de] YYYY"},ru:{"DD MMMM YYYY":"DD MMMM YYYY [r.]"}}[n];return a&&a[e]||e}(n,o.locale());return o.format(r)}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.controller("LocalesController",["Locales",function(e){this.sending=e.sending,this.signing=e.signing}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.service("I18nLayer",["dsi18nlayer","appUser","lodash",function(e,t,n){this.getAddressFormat=function(){return n.get(t,"currentAccountInfo.userInformation.userSettings.localePolicy.effectiveAddressFormat")||"en_us"},this.getLocalePolicy=e.getLocalePolicy,this.getLink=e.getLink}])},function(e,t){var n="modules/Common/filtering/ds-filter-controls.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div>\n  <div ng-class="{\'u-float-right\': !filterable.isModal}">\n    <span class="cheshire_visibleContent" olive-cheshire-visible="CheshireFilter">\n      <div class="input_wrapper" ng-if="!searchable">\n        <div class="form_group form_group-unified spacer">&nbsp;</div>\n      </div>\n        <ng-include ng-if="searchable" src="\'modules/Common/searching/ds-search-controls.html\'"></ng-include>\n      <button type="button" class="btn btn-minor cheshire-btn" olive-cheshire-trigger="CheshireFilter"\n              ng-if="filterable" ng-class="{\'u-float-right\': filterable.isModal}" data-qa="filter_control_filter_btn"\n              ng-disabled="!filterable.loaded">\n        <span class="icon icon-filter"></span>\n        <span translate="Filters"></span>\n      </button>\n    </span>\n  </div>\n\n  <div class="cheshire cheshire-off" id="CheshireFilter" olive-cheshire="CheshireFilter">\n    <div class="cheshire_body">\n      <div olive-cheshire-placeholder class="cheshire-placeholder"></div>\n      <ng-transclude></ng-transclude>\n    </div>\n\n    <div class="cheshire_footer">\n      <button type="submit" class="btn btn-primary" olive-cheshire-close ng-click="filterable.applyFilters()"\n              ng-disabled="!filterable.validateFilter()" data-qa="filter_control_apply_btn" translate="Apply"></button>\n      <button type="button" class="btn btn-minor" olive-cheshire-close ng-click="filterable.resetFilters()"\n              data-qa="filter_control_reset_btn" translate="Reset"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsFilterControls",["lodash",function(e){return{restrict:"E",transclude:!0,scope:{filterable:"=",searchable:"="},templateUrl:"modules/Common/filtering/ds-filter-controls.html",link:function(e){if(!e.filterable)throw"You must provide an object that implements Common.Filtering.IFilterable";e.filterable.validateFilter=e.filterable.validateFilter||function(){return!0}}}}])},function(e,t){var n="modules/Common/filtering/ds-filter-applied.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="listHeader_filtersRow"\n    ng-if="filterable.loaded && filterable.appliedFilters.length"\n    data-qa="filter_applied_filter_info_div">\n  <span>\n    <strong translate="Filtered by: "></strong>\n\n    <span ng-repeat="appliedFilter in filterable.appliedFilters"\n        ng-init="hasNextFilter = ($first && !$last) || $middle">\n\n      <span translate="{{appliedFilter.name}}"></span>\n      <span ng-repeat="option in appliedFilter.options"\n          ng-init="$only = $first && $last">\n\n        <span ng-if="$only && hasNextFilter">({{option.name | translate}}),</span>\n        <span ng-if="$only && !hasNextFilter">({{option.name | translate}})</span>\n        <span ng-if="$first && !$only">({{option.name| translate}},</span>\n        <span ng-if="$middle">{{option.name| translate}},</span>\n        <span ng-if="$last && !$only && hasNextFilter">{{option.name| translate}}),</span>\n        <span ng-if="$last && !$only && !hasNextFilter">{{option.name| translate}})</span>\n      </span>\n    </span>\n\n    <a class="item listHeader_filtersRowAction"\n      ng-click="filterable.resetFilters()"\n      data-qa="filter_applied_reset_link"\n      translate="Reset">\n    </a>\n\n  </span>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsFilterApplied",function(){return{restrict:"E",scope:{filterable:"="},templateUrl:"modules/Common/filtering/ds-filter-applied.html",link:function(e){if(!e.filterable)throw"You must provide an object that implements Common.Filtering.IFilterable"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(13);a.CommonModule.directive("filterRow",function(){return{restrict:"E",template:s,scope:{filterNames:"=filterNames",filters:"=filters",reset:"=reset"},link:function(e){e.$watch("filters",function(){e.filterDisplay={hasFilters:!1,filters:[]},i.forIn(e.filters,function(t,n){i.isEmpty(t)||(e.filterDisplay.filters.push({name:e.filterNames[n],selections:t}),e.filterDisplay.hasFilters=!0)})})}}});var s='<div class="listHeader_filtersRow" ng-if="filterDisplay.hasFilters">\n    <span>\n      <strong translate="Filtered by: "></strong>\n      <span ng-repeat="filter in filterDisplay.filters">\n        <span  ng-if="filter.selections.length > 0">\n          <span translate="{{filter.name}}"></span>\n          <span>(</span>\n          <span ng-repeat="select in filter.selections">\n            <span class="truncate u-ellipsis" translate="{{select}}"></span>\n            <span ng-if="!$last">, </span>\n          </span>\n          <span>)</span>\n          <span ng-if="!$last">, </span>\n        </span>\n        </span>\n\n      <a class="item listHeader_filtersRowAction" ng-click="reset()" translate="Reset"></a>\n    </span>\n    </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(3);i.CommonModule.directive("dsSortable",function(){return{restrict:"A",scope:{property:"=dsSortable",reverse:"=dsSortableReverse"},controller:["$scope",function(e){var t={};this.sortBy=function(n){var i=t[n];a.isUndefined(i)||(i.removeClass("asc desc"),n!==e.property?(a.forEach(t,function(e){e.removeClass("dir asc desc")}),i.addClass("dir"),e.reverse=!1,e.property=n):e.reverse=!e.reverse,i.addClass(e.reverse?"desc":"asc"))},this.addSortProperty=function(e,n){t[e]=n}}],link:function(e,t,n,i){i.sortBy(n.dsSortableInitialProperty),a.isUndefined(n.dsSortableInitiallyReversed)||i.sortBy(n.dsSortableInitialProperty)}}}),i.CommonModule.directive("dsSort",["$window",function(e){return{restrict:"A",require:"^^dsSortable",scope:{sortPropertyName:"@dsSort"},link:function(t,n,i,s){if(n.addClass("sort"),1!==n.children().length){var o=n.html(),r=e.jQuery("<span />").html(o);n.html(r)}var l=a.element(n.children()[0]);s.addSortProperty(t.sortPropertyName,l),n.on("click",function(){t.$apply(function(){s.sortBy(t.sortPropertyName)})})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsCloseModal",["dsModals",function(e){return{restrict:"A",link:function(t,n){n.bind("click",function(){e.closeModal()})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(2);a.CommonModule.directive("dsLoading",["$q","$window",function(e,t){return{restrict:"A",scope:{loading:"=dsLoading",error:"@dsLoadingError",completed:"=dsLoadingCompleted",errored:"=dsLoadingErrored",succeeded:"=dsLoadingSucceeded",progressMessage:"@dsProgressMessage",additionalClass:"@dsClass",isInline:"=dsIsInline"},template:'<div ng-show="isLoading" class="grid pad loading"><div class="spinner-circle {{ additionalClass }}"></div><p class="text-strong header-description" ng-if="progressMessage">{{ progressMessage }}</p></div><div ng-if="loadFailed" class="loadFailed"><span class="label-error">{{ error }}</span></div>',link:function(e,n,a){function s(t){e.isLoading||(e.isLoading=!1,e.loadFailed=!1,p(!1),g(null),m(null)),i.isArray(t)?(e.isLoading=!0,p(!1),e.progressMessage=t[0].progressMessage,l(t.reduce(o,r(t[0])))):t&&"function"==typeof t.then&&(e.isLoading=!0,p(!1),l(t))}function o(t,n){return t.then(function(t){return function(){return e.progressMessage=t.progressMessage,r(t)}}(n))}function r(e){return"function"==typeof e.promise?e.promise():e.promise}function l(e){e.finally(c).then(d).catch(u)}function c(){e.isLoading=!1,p(!0)}function d(){m(!0),g(!1)}function u(){e.loadFailed=!0,m(!1),g(!0)}function p(t){i.isDefined(a.dsLoadingCompleted)&&(e.completed=t)}function m(t){i.isDefined(a.dsLoadingSucceeded)&&(e.succeeded=t)}function g(t){i.isDefined(a.dsLoadingErrored)&&(e.errored=t)}e.isInline&&t.jQuery(n[0]).css("display","inline-block"),s(e.loading),e.$watch("loading",function(e,t){e!==t&&s(e)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("dsAckbar",function(){return{restrict:"A",template:a,scope:{angularForm:"=dsAckbar"},require:"^^dsForm",link:function(e,t,n,a){n.dsAckbarModal&&(e.dsAckbarModal=n.dsAckbarModal),e.dsAckbarSave=function(){e.$parent.$eval(n.dsAckbarSave)},e.dsAckbarCancel=function(){e.$parent.$eval(n.dsAckbarCancel)},e.dsFormControl=a}}});var a='<button ng-class="{\'btn-lg\' : dsAckbarModal}" class="btn btn-primary"\n       ng-if="dsAckbarSave"\n       ng-disabled="angularForm.$pristine || !dsFormControl.showInvalid()"\n       ds-form-submit="dsAckbarSave()"\n       radmin-logging\n       data-qa="ds_ackbar_save_btn"\n       translate="Save">\n     </button>\n     <button class="btn"\n       ng-class="{\n         \'btn-minor\': dsAckbarModal,\n         \'btn-lg\': dsAckbarModal,\n         \'btn-secondary\': !dsAckbarModal\n       }"\n       ng-if="dsAckbarCancel"\n       ng-click="dsAckbarCancel()"\n       radmin-logging\n       data-qa="ds_ackbar_cancel_btn"\n       translate="Cancel">\n     </button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.service("Downloader",["FileSaver",function(e){return{downloadText:function(t,n,a){if(!t)return;var i="FileDownload.txt",s=n||"text/plain";a&&(i=a);s+=";charset=utf-8";var o=new Blob([t],{type:s});e.saveAs(o,i)}}}])},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(289),s=n(29);a.CommonModule.service("DateTimeService",["appUser","lodash","dsi18nlayer",function(e,t){var n=[{key:"01",IANA:"Asia/Kabul"},{key:"02",IANA:"America/Anchorage"},{key:"03",IANA:"Asia/Riyadh"},{key:"04",IANA:"Asia/Dubai"},{key:"05",IANA:"Asia/Baghdad"},{key:"06",IANA:"America/Buenos_Aires"},{key:"07",IANA:"America/Halifax"},{key:"08",IANA:"Australia/Darwin"},{key:"09",IANA:"Australia/Sydney"},{key:"10",IANA:"Asia/Baku"},{key:"11",IANA:"Atlantic/Azores"},{key:"12",IANA:"Asia/Dhaka"},{key:"13",IANA:"America/Regina"},{key:"14",IANA:"Atlantic/Cape_Verde"},{key:"15",IANA:"Asia/Yerevan"},{key:"16",IANA:"Australia/Adelaide"},{key:"17",IANA:"America/Guatemala"},{key:"18",IANA:"Asia/Almaty"},{key:"19",IANA:"America/Cuiaba"},{key:"20",IANA:"Europe/Budapest"},{key:"21",IANA:"Europe/Warsaw"},{key:"22",IANA:"Pacific/Guadalcanal"},{key:"23",IANA:"America/Chicago"},{key:"24",IANA:"America/Mexico_City"},{key:"25",IANA:"Asia/Shanghai"},{key:"26",IANA:"Etc/GMT+12"},{key:"27",IANA:"Africa/Nairobi"},{key:"28",IANA:"Australia/Brisbane"},{key:"29",IANA:"Europe/Chisinau"},{key:"30",IANA:"America/Sao_Paulo"},{key:"31",IANA:"America/New_York"},{key:"32",IANA:"Africa/Cairo"},{key:"33",IANA:"Asia/Yekaterinburg"},{key:"34",IANA:"Pacific/Fiji"},{key:"35",IANA:"Europe/Kiev"},{key:"36",IANA:"Asia/Tbilisi"},{key:"37",IANA:"Europe/London"},{key:"38",IANA:"America/Godthab"},{key:"39",IANA:"Atlantic/Reykjavik"},{key:"40",IANA:"Europe/Bucharest"},{key:"41",IANA:"Pacific/Honolulu"},{key:"42",IANA:"Asia/Calcutta"},{key:"43",IANA:"Asia/Tehran"},{key:"44",IANA:"Asia/Jerusalem"},{key:"45",IANA:"Asia/Amman"},{key:"46",IANA:"Europe/Kaliningrad"},{key:"47",IANA:"Asia/Kamchatka"},{key:"48",IANA:"Asia/Seoul"},{key:"49",IANA:"Asia/Magadan"},{key:"50",IANA:"Indian/Mauritius"},{key:"51",IANA:"Etc/GMT+2"},{key:"52",IANA:"Asia/Beirut"},{key:"53",IANA:"America/Montevideo"},{key:"54",IANA:"Africa/Casablanca"},{key:"55",IANA:"America/Denver"},{key:"56",IANA:"America/Chihuahua"},{key:"57",IANA:"Asia/Rangoon"},{key:"58",IANA:"Asia/Novosibirsk"},{key:"59",IANA:"Africa/Windhoek"},{key:"60",IANA:"Asia/Katmandu"},{key:"61",IANA:"Pacific/Auckland"},{key:"62",IANA:"America/St_Johns"},{key:"63",IANA:"Asia/Irkutsk"},{key:"64",IANA:"Asia/Krasnoyarsk"},{key:"65",IANA:"America/Santiago"},{key:"66",IANA:"America/Los_Angeles"},{key:"67",IANA:"America/Santa_Isabel"},{key:"68",IANA:"Asia/Karachi"},{key:"69",IANA:"America/Asuncion"},{key:"70",IANA:"Europe/Paris"},{key:"71",IANA:"Europe/Moscow"},{key:"72",IANA:"America/Cayenne"},{key:"73",IANA:"America/Bogota"},{key:"74",IANA:"America/La_Paz"},{key:"75",IANA:"Pacific/Apia"},{key:"76",IANA:"Asia/Bangkok"},{key:"77",IANA:"Asia/Singapore"},{key:"78",IANA:"Africa/Johannesburg"},{key:"79",IANA:"Asia/Colombo"},{key:"80",IANA:"Asia/Damascus"},{key:"81",IANA:"Asia/Taipei"},{key:"82",IANA:"Australia/Hobart"},{key:"83",IANA:"Asia/Tokyo"},{key:"84",IANA:"Pacific/Tongatapu"},{key:"85",IANA:"Europe/Istanbul"},{key:"86",IANA:"Asia/Ulaanbaatar"},{key:"87",IANA:"America/Indianapolis"},{key:"88",IANA:"America/Phoenix"},{key:"89",IANA:"America/Caracas"},{key:"90",IANA:"Asia/Vladivostok"},{key:"91",IANA:"Australia/Perth"},{key:"92",IANA:"Africa/Lagos"},{key:"93",IANA:"Europe/Berlin"},{key:"94",IANA:"Asia/Tashkent"},{key:"95",IANA:"Pacific/Port_Moresby"},{key:"96",IANA:"Asia/Yakutsk"}];this.getDateTimeFormat=function(){var n=t.get(e,"currentAccountInfo.userInformation.userSettings.localePolicy.effectiveDateFormat")||"default",a=t.get(e,"currentAccountInfo.userInformation.userSettings.localePolicy.effectiveTimeFormat")||"default",s=t.get(e,"currentAccountInfo.userInformation.userSettings.localePolicy.cultureName")||"default",o=i.getDateFormatString(n,s)+" | "+i.getTimeFormatString(a);return/default/i.test(n)?"M/D/YYYY | hh:mm:ss a":o.replace(/^\s*(.*?)(\s*\|\s*)(.*?)\s*$/,function(e,t,n,a){var i=t?t.toUpperCase():"",s=a?" | "+a.replace("tt","a"):"";return""+i+s})},this.getTimeZone=function(){var a=s.tz.guess();function i(e){if(t.isEmpty(e))return a;var i=e.split("_");if(i.length>2){var s=i[1],o=t.find(n,{key:s});return t.isEmpty(o)?a:o.IANA}}var o=t.get(e,"currentAccountInfo.settings.allowMemberTimeZone");if(t.isBoolean(o)&&!0===o){var r=t.get(e,"currentAccountInfo.userCustomSettings.timeZoneSource");if(t.isEmpty(r)||"specific"===r){var l=i(t.get(e,"currentAccountInfo.userInformation.userSettings.timezoneOffset"));t.isEmpty(l)||(a=l)}}else{var c=i(t.get(e,"currentAccountInfo.settings.timezoneOffsetUI"));t.isEmpty(c)||(a=c)}return a}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("copyToClipboard",["$translate","oliveMessage",function(e,t){return{restrict:"A",template:i,replace:!0,scope:{copyToClipboardModel:"="},link:function(n,i,s){n.copyToClipboard=function(){var n=document.getElementById("txt-copyToClipboard-"+a);n.select(),document.execCommand("Copy"),t.show(e.instant("Copied to clipboard"),"copySuccess","success")}}}}]);var a=(new Date).getTime().toString(),i='<div class="form_item-iconRight">\n      <input id="txt-copyToClipboard-'+a+'" type="text" class="input-text input_text-grey" ng-model=\'copyToClipboardModel\'\n             readonly data-qa="organization_edit_domain_txt_token_text_box" />\n      <button type="button" class="button-icon copy" ng-click="copyToClipboard()" olive-tooltip="hoverCopyTooltip"\n              olive-tooltip-alignment="center" olive-tooltip-location="after"\n              translate translate-attr-title="Copy to clipboard"><i class="icon icon-copy"></i></button>\n    </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.directive("accumulator",[function(){return{restrict:"E",templateUrl:"site/templates/accumulator.html",scope:{accumulatorOptions:"="}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.factory("$qExtensions","lodash",function(e){return{serialize:function(t){var n;return e.forEach(t,function(a,i){var s;e.isUndefined(n)?(s=a(),n=s,t[i]=s):n=n.then(function(){return s=a(),t[i]=s,s})}),n.then(function(){return t}),n}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.factory("ImageLoader",["$document","$q",function(e,t){return{imgElementWithSrc:function(n){var a=e[0],i=t.defer(),s=a.createElement("img");return s.onerror=function(e){i.reject(e)},s.onload=function(){i.resolve(s)},s.src=n,i.promise}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.factory("ImageToDataUrlConverter",["lodash","$document","ImageLoader",function(e,t,n){function a(a){return n.imgElementWithSrc(a).then(function(n){return function(n){var a=t[0].createElement("canvas");if(e.isUndefined(a.getContext)||e.isUndefined(a.getContext("2d")))return null;return a.width=n.width,a.height=n.height,a.getContext("2d").drawImage(n,0,0),a.toDataURL()}(n)})}return{tryConvertUriToDataUrlAsync:function t(n,i){var s=a(n).then(function(t){return e.isNull(t)?n:t});e.isEmpty(i)||(s=s.catch(function(){return t(i)}));return s}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.service("countryStatePicker",["$translate","lodash",function(e,t){var n={HIDDEN_NO_SELECT:""},a={AA:"AA - Armed Forces Americas",AE:"AE - Armed Forces Europe",AP:"AP - Armed Forces Pacific",AK:"AK - Alaska",AL:"AL - Alabama",AZ:"AZ - Arizona",CA:"CA - California",CO:"CO - Colorado",CT:"CT - Connecticut",DC:"DC - District of Columbia",DE:"DE - Delaware",FL:"FL - Florida",GA:"DS_CONTEXT=(state) GA - Georgia",AR:"AR - Arkansas",GU:"GU - Guam",HI:"HI - Hawaii",IA:"IA - Iowa",ID:"ID - Idaho",IL:"IL - Illinois",IN:"IN - Indiana",KS:"KS - Kansas",KY:"KY - Kentucky",LA:"LA - Louisiana",MA:"MA - Massachusetts",MD:"MD - Maryland",ME:"ME - Maine",MI:"MI - Michigan",MN:"MN - Minnesota",MO:"MO - Missouri",MS:"MS - Mississippi",MT:"MT - Montana",NC:"NC - North Carolina",ND:"ND - North Dakota",NE:"NE - Nebraska",NH:"NH - New Hampshire",NJ:"NJ - New Jersey",NM:"NM - New Mexico",NV:"NV - Nevada",NY:"NY - New York",OH:"OH - Ohio",OK:"OK - Oklahoma",OR:"OR - Oregon",PA:"PA - Pennsylvania",PR:"PR - Puerto Rico",RI:"RI - Rhode Island",SC:"SC - South Carolina",SD:"SD - South Dakota",TN:"TN - Tennessee",TX:"TX - Texas",UT:"UT - Utah",VA:"VA - Virginia",VI:"VI - Virgin Islands",VT:"VT - Vermont",WA:"WA - Washington",WI:"WI - Wisconsin",WV:"WV - West Virginia",WY:"WY - Wyoming"},i={AB:"AB - Alberta",BC:"BC - British Columbia",MB:"MB - Manitoba",NB:"NB - New Brunswick",NL:"NL - Newfoundland and Labrador",NS:"NS - Nova Scotia",NT:"NT - Northwest Territories",NU:"NU - Nunavut",ON:"ON - Ontario",PE:"PE - Prince Edward Island",QC:"QC - Quebec",SK:"SK - Saskatchewan",YT:"YT - Yukon"},s={Afghanistan:"Afghanistan","Aland Islands":"Aland Islands",Albania:"Albania",Algeria:"Algeria","American Samoa":"American Samoa",Andorra:"Andorra",Angola:"Angola",Anguilla:"Anguilla",Antarctica:"Antarctica","Antigua and Barbuda":"Antigua and Barbuda",Argentina:"Argentina",Armenia:"Armenia",Aruba:"Aruba",Australia:"Australia",Austria:"Austria",Azerbaijan:"Azerbaijan",Bahamas:"Bahamas",Bahrain:"Bahrain",Bangladesh:"Bangladesh",Barbados:"Barbados",Belarus:"Belarus",Belgium:"Belgium",Belize:"Belize",Benin:"Benin",Bermuda:"Bermuda",Bhutan:"Bhutan",Bolivia:"Bolivia","Bonaire, Saint Eustatius and Saba":"Bonaire, Saint Eustatius and Saba","Bosnia and Herzegovina":"Bosnia and Herzegovina",Botswana:"Botswana","Bouvet Island":"Bouvet Island",Brazil:"Brazil","British Indian Ocean Territory":"British Indian Ocean Territory","Brunei Darussalam":"Brunei Darussalam",Bulgaria:"Bulgaria","Burkina Faso":"Burkina Faso",Burundi:"Burundi",Cambodia:"Cambodia",Cameroon:"Cameroon",Canada:"Canada","Cape Verde":"Cape Verde","Cayman Islands":"Cayman Islands","Central African Republic":"Central African Republic",Chad:"Chad",Chile:"Chile",China:"China","Christmas Island":"Christmas Island","Cocos (Keeling) Islands":"Cocos (Keeling) Islands",Colombia:"Colombia",Comoros:"Comoros",Congo:"Congo","Congo, the Democratic Republic of the":"Congo, the Democratic Republic of the","Cook Islands":"Cook Islands","Costa Rica":"Costa Rica","Cote d'Ivoire":"Cote d'Ivoire",Croatia:"Croatia",Curacao:"Curacao",Cyprus:"Cyprus","Czech Republic":"Czech Republic",Denmark:"Denmark",Djibouti:"Djibouti",Dominica:"Dominica","Dominican Republic":"Dominican Republic",Ecuador:"Ecuador",Egypt:"Egypt","El Salvador":"El Salvador","Equatorial Guinea":"Equatorial Guinea",Eritrea:"Eritrea",Estonia:"Estonia",Ethiopia:"Ethiopia","Falkland Islands (Malvinas)":"Falkland Islands (Malvinas)","Faroe Islands":"Faroe Islands",Fiji:"Fiji",Finland:"Finland",France:"France","French Guiana":"French Guiana","French Polynesia":"French Polynesia","French Southern Territories":"French Southern Territories",Gabon:"Gabon",Gambia:"Gambia",Georgia:"DS_CONTEXT=(country) Georgia",Germany:"Germany",Ghana:"Ghana",Gibraltar:"Gibraltar",Greece:"Greece",Greenland:"Greenland",Grenada:"Grenada",Guadeloupe:"Guadeloupe",Guam:"Guam",Guatemala:"Guatemala",Guernsey:"Guernsey",Guinea:"Guinea","Guinea-Bissau":"Guinea-Bissau",Guyana:"Guyana",Haiti:"Haiti","Heard Island and McDonald Islands":"Heard Island and McDonald Islands","Holy See (Vatican City State)":"Holy See (Vatican City State)",Honduras:"Honduras","Hong Kong":"Hong Kong",Hungary:"Hungary",Iceland:"Iceland",India:"India",Indonesia:"Indonesia",Iraq:"Iraq",Ireland:"Ireland","Isle of Man":"Isle of Man",Israel:"Israel",Italy:"Italy",Jamaica:"Jamaica",Japan:"Japan",Jersey:"Jersey",Jordan:"Jordan",Kazakhstan:"Kazakhstan",Kenya:"Kenya",Kiribati:"Kiribati","Korea, Republic of":"Korea, Republic of",Kosovo:"Kosovo",Kuwait:"Kuwait",Kyrgyzstan:"Kyrgyzstan","Lao People's Democratic Republic":"Lao People's Democratic Republic",Latvia:"Latvia",Lebanon:"Lebanon",Lesotho:"Lesotho",Liberia:"Liberia","Libyan Arab Jamahiriya":"Libyan Arab Jamahiriya",Liechtenstein:"Liechtenstein",Lithuania:"Lithuania",Luxembourg:"Luxembourg",Macao:"Macao","Macedonia, the former Yugoslav Republic of":"Macedonia, the former Yugoslav Republic of",Madagascar:"Madagascar",Malawi:"Malawi",Malaysia:"Malaysia",Maldives:"Maldives",Mali:"Mali",Malta:"Malta","Marshall Islands":"Marshall Islands",Martinique:"Martinique",Mauritania:"Mauritania",Mauritius:"Mauritius",Mayotte:"Mayotte",Mexico:"Mexico","Micronesia, Federated States of":"Micronesia, Federated States of","Moldova, Republic of":"Moldova, Republic of",Monaco:"Monaco",Mongolia:"Mongolia",Montenegro:"Montenegro",Montserrat:"Montserrat",Morocco:"Morocco",Mozambique:"Mozambique",Myanmar:"Myanmar",Namibia:"Namibia",Nauru:"Nauru",Nepal:"Nepal",Netherlands:"Netherlands","New Caledonia":"New Caledonia","New Zealand":"New Zealand",Nicaragua:"Nicaragua",Niger:"Niger",Nigeria:"Nigeria",Niue:"Niue","Norfolk Island":"Norfolk Island","Northern Mariana Islands":"Northern Mariana Islands",Norway:"Norway",Oman:"Oman",Pakistan:"Pakistan",Palau:"Palau","Palestinian Territory, Occupied":"Palestinian Territory, Occupied",Panama:"Panama","Papua New Guinea":"Papua New Guinea",Paraguay:"Paraguay",Peru:"Peru",Philippines:"Philippines",Pitcairn:"Pitcairn",Poland:"Poland",Portugal:"Portugal","Puerto Rico":"Puerto Rico",Qatar:"Qatar",Reunion:"Reunion",Romania:"Romania","Russian Federation":"Russian Federation",Rwanda:"Rwanda","Saint Barthelemy":"Saint Barthelemy","Saint Helena":"Saint Helena","Saint Kitts and Nevis":"Saint Kitts and Nevis","Saint Lucia":"Saint Lucia","Saint Martin (French part)":"Saint Martin (French part)","Saint Pierre and Miquelon":"Saint Pierre and Miquelon","Saint Vincent and the Grenadines":"Saint Vincent and the Grenadines",Samoa:"Samoa","San Marino":"San Marino","Sao Tome and Principe":"Sao Tome and Principe","Saudi Arabia":"Saudi Arabia",Senegal:"Senegal",Serbia:"Serbia",Seychelles:"Seychelles","Sierra Leone":"Sierra Leone",Singapore:"Singapore","Sint Maarten":"Sint Maarten",Slovakia:"Slovakia",Slovenia:"Slovenia","Solomon Islands":"Solomon Islands",Somalia:"Somalia","South Africa":"South Africa","South Georgia and the South Sandwich Islands":"South Georgia and the South Sandwich Islands",Spain:"Spain","Sri Lanka":"Sri Lanka",Suriname:"Suriname","Svalbard and Jan Mayen":"Svalbard and Jan Mayen",Swaziland:"Swaziland",Sweden:"Sweden",Switzerland:"Switzerland",Taiwan:"Taiwan",Tajikistan:"Tajikistan","Tanzania, United Republic of":"Tanzania, United Republic of",Thailand:"Thailand","Timor-Leste":"Timor-Leste",Togo:"Togo",Tokelau:"Tokelau",Tonga:"Tonga","Trinidad and Tobago":"Trinidad and Tobago",Tunisia:"Tunisia",Turkey:"Turkey",Turkmenistan:"Turkmenistan","Turks and Caicos Islands":"Turks and Caicos Islands",Tuvalu:"Tuvalu",Uganda:"Uganda",Ukraine:"Ukraine","United Arab Emirates":"United Arab Emirates","United Kingdom":"United Kingdom","United States":"United States","United States Minor Outlying Islands":"United States Minor Outlying Islands",Uruguay:"Uruguay",Uzbekistan:"Uzbekistan",Vanuatu:"Vanuatu",Venezuela:"Venezuela","Viet Nam":"Vietnam","Virgin Islands, British":"Virgin Islands, British","Virgin Islands, U.S.":"Virgin Islands, U.S.","Wallis and Futuna":"Wallis and Futuna","Western Sahara":"Western Sahara",Yemen:"Yemen",Zambia:"Zambia",Zimbabwe:"Zimbabwe"};return{isoCountries:s,isoUsStates:a,isoCanadianProvinces:i,getStateList:function(e){return"United States"===e?a:"Canada"===e?i:n},getStateLabel:function(e){return"United States"===e?"State":"Canada"===e?"Province":"Region/Province"},getStateSelectLabel:function(e){return"United States"===e?"Select State":"Canada"===e?"Select Province":"Select Region/Province"},countryHasEnumeratedRegions:function(e){return"United States"===e||"Canada"===e},getCountries:function(){return t.map(t.toPairs(s),function(t){return{value:t[0],name:e.instant(t[1])}}).sort(function(e,t){return e.name<t.name?-1:1})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(2);a.CommonModule.provider("minicolors",[function(){this.defaults={theme:"default",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}]),a.CommonModule.directive("minicolors",["minicolors","$timeout",function(e,t){return{require:"?ngModel",restrict:"A",priority:1,link:function(n,a,s,o){var r,l,c;c=!1,r=function(){return i.extend({},e.defaults,n.$eval(s.minicolors))},o.$render=function(){n.$$phase?t(function(){var e;e=o.$viewValue,a.minicolors("value",e)},0):n.$apply(function(){var e;e=o.$viewValue,a.minicolors("value",e)})},(l=function(){var e;if(o)return e=r(),a.minicolors("destroy"),a.minicolors(e),c?null===s.alwaysShow||$(".minicolors-panel").hasClass("minicolors-visible")?void 0:$(".minicolors-panel").addClass("minicolors-visible"):(t(function(){var e;e=o.$viewValue,a.minicolors("value",e)},0),void(c=!0))})(),n.$watch(r,l,!0)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3).CommonModule.filter("camelCaps",function(){return function(e){return(e=e||"").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){return function(e,t,n,a,i,s,o,r,l,c){var d;if(this.completed=null,i.logout(),c.isEmpty(e)||c.isEmpty(e.t))d=a.reject("No transfer token was provided.");else{var u=c.clone(e);d=n(c.noop,500,!1).then(function(){return s.authenticate(u.t).then(function(e){return i.setIdentity(e).then(function(){return o.areResolved()}).then(function(){l.setExitRedirect(u),l.navigateToDestinationOrDefault(u,"authenticated")})})})}this.completed=d.catch(function(e){r.sendLog("An error occurred authenticating with a transfer token",e),t.go("requesting authentication")})}}();a.RADminControllers.controller("TransferTokenLoginController",["$stateParams","$state","$timeout","$q","appUser","RADminAuthenticationTransferTokenAuthenticator","userPermissions","RADminErrorLogger","ExternalIntegration","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=function(){return function(e,t,n){n.isEmpty(e)||(n.isEmpty(t.opener.obj)?t.opener.obj={code:e.code}:t.opener.obj.code=e.code)}}();a.RADminControllers.controller("ProductionAccountServerTokenLoginController",["$stateParams","$window","lodash",i])},function(e,t){var n="login/no-accounts-available.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-header login-transfer no-accounts-available">\n  <div>\n    <div class="section">\n      <div class="logo logo-docusign-admin">\n      </div>\n    </div>\n    <h2 class="text-white" translate="Your credentials are not recognized as an administrator of this account."></h2>\n    <div class="section">\n      <p>\n        <a class="btn btn-secondary btn-lg" ui-sref="logout" translate="Log in as a different user"></a>\n      </p>\n      <p>\n        Or\n      </p>\n      <form action="/redirectToConsole" method="post" ng-controller="MemberConsoleRedirection as console" class="item">\n        <p>\n          <a class="btn btn-secondary btn-lg" ng-click="console.redirect($event)" translate="Go to DocuSign"></a>\n        </p>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("LogoutController",["appUser","$window","RADminApiClient",function(e,t,n){var a=n.generateLogoutUri();e.logout(),t.location.href=a}])},function(e,t,n){var a="login/loading.html",i='<div class="site-header login-transfer">\n  <div>\n    <span class="header_logo">\n      <img src="'+n(360)+'">\n      <span class="header_name u-text-uppercase" translate="Admin"></span>\n    </span>\n    <div class="spinner-circle spinner-sm" ng-hide="isLoadingBlocked"></div>\n  </div>\n</div>\n';window.angular.module("templates").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(269);a.RADminControllers.controller("AuthenticationRequest",["$scope","$window","RADminUtil","oliveMessage",function(e,t,n,a){e.isLoadingBlocked=!(n.isStorageTypeSupported(i.BrowserStorage.Session)&&n.isStorageTypeSupported(i.BrowserStorage.Cookie)),e.isLoadingBlocked?a.show({content:"The DocuSign Admin experience uses cookies and browser session storage for best performance. Please check these settings or see your system administrator.",name:"loadingBlockedWarning",type:"warning",persist:!0}):t.location.href="/redirectToAuth"}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(290),s=function(){function e(e,t,n,a,s,o,r,l,c,d,u){var p;if(this._$stateParams=e,this._$state=t,this._$timeout=n,this._$q=a,this._appUser=s,this._authenticator=o,this._userPermissions=r,this._log=l,this._externalIntegration=c,this._$sessionStorage=d,this._=u,this._authRetry=null,this._preserveAuthRetry(),s.logout(),this._restoreAuthRetry(),u.isEmpty(e))p=a.reject("No Account Server authentication information was provided.");else{var m=e;p=n(u.noop,500,!1).then(function(){return o.authenticate(m).then(function(e){return s.setIdentity(e).then(function(){return r.areResolved()}).then(function(){d.authRetry&&delete d.authRetry,c.navigateToDestinationOrDefault({goTo:e.loginPreferences.destination},"authenticated",e.loginPreferences.options)})})})}this.completed=p.catch(function(e){if(l.sendLog("An error occurred authenticating with an Account Server token",e),e instanceof i.NoAccountsAvailableError)t.go("login.no accounts available");else{var n=d.authRetry;if(u.isObject(n)&&u.isNumber(n.retry)){if(++n.retry,e.data=e.data?e.data:{},e.data.retry=n.retry,l.sendLog("user log in retry",e),n.retry>3)return l.sendLog("user logout after 3 retries",e),void t.go("logout")}else n={retry:1};d.authRetry=n,t.go("requesting authentication")}})}return e.prototype._preserveAuthRetry=function(){this._.isObject(this._$sessionStorage.authRetry)&&(this._authRetry=this._.cloneDeep(this._$sessionStorage.authRetry))},e.prototype._restoreAuthRetry=function(){this._.isObject(this._authRetry)&&(this._$sessionStorage.authRetry=this._.cloneDeep(this._authRetry))},e}();a.RADminControllers.controller("AccountServerTokenLoginController",["$stateParams","$state","$timeout","$q","appUser","RADminAuthenticationAccountServerAuthenticator","userPermissions","RADminErrorLogger","ExternalIntegration","$sessionStorage","lodash",s])},function(e,t){var n="limited-canvas/limited-canvas-container.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-include="\'integrations/payments/payment-gateways.html\'" ng-if="showPayments" include-replace>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(291),i="payments",s="destination_target",o=function(){return function(e,t,n){e.showPayments=t[s]===i&&n.allowPaymentProcessing()}}();a.LimitedCanvasModule.controller("LimitedCanvasController",["$scope","$stateParams","userPermissions",o])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n="legal-disclosure/warn-unsaved.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='WarnUnsavedController' ds-form>\n  <div class='header'>\n    <h1 translate=\"Save Disclosure\"></h1>\n  </div>\n\n  <div class='content' name='warn1' translate=\"You have not saved the changes to the current disclosure.\">\n  </div>\n  <div class='content' name='warn2' translate=\"Click SAVE to save changes, or CANCEL to abandon changes.\">\n  </div>\n\n  <div class='footer'>\n    <button class='btn btn-xl btn-primary' ds-form-submit='confirm()'\n            data-qa=\"legal_disclosure_warn_unsaved_save_btn\"\n            translate=\"SAVE\"></button>\n    <button class='btn btn-xl btn-minor' ng-click='cancel()'\n            data-qa=\"legal_disclosure_warn_unsaved_cancel_btn\"\n            translate=\"Cancel\"></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("WarnUnsavedController",["$scope","dsModals",function(e,t){e.confirm=function(){e.form.languageCode=e.currentLanguage,e.save(),t.closeModal()},e.cancel=function(){e.updateLanguage(!0),t.closeModal()}}])},function(e,t){var n="legal-disclosure/preview.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ds-form>\n  <div class='header'>\n    <h1 translate=\"Disclosure Preview\"></h1>\n  </div>\n\n  <div class='content' ng-bind-html='trustedEsignText'></div>\n\n  <div class='footer'>\n    <button class='btn btn-xl btn-primary' ds-close-modal\n    data-qa=\"legal_disclosure_preview_done_btn\"\n    translate=\"Done\"></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t){var n="legal-disclosure/legal-disclosure.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div class='legal-disclosure site-main' ds-form='legalDisclosure' ng-controller=\"LegalDisclosureController\">\n  <form name=\"legalDisclosure\">\n    <div class='section'>\n      <h1 class=\"header-title\" translate=\"Legal Disclosure\"></h1>\n\n      <div class=\"header-actions grid\">\n        <div class=\"col-4-5\" ds-ackbar=\"legalDisclosure\" ds-ackbar-save=\"save(legalDisclosure)\"\n             ds-ackbar-cancel=\"cancel(legalDisclosure)\"></div>\n        <div class='col-1-5'>\n          <button class='btn btn-secondary btn-lg' ng-show=\"legalDisclosureLoaded && !form.custom\" ng-click='createCustom()'\n                  data-qa=\"legal_disclosure_create_custom_btn\"\n                  translate=\"Create Custom\"></button>\n        </div>\n      </div>\n    </div>\n\n    <div class='section'>\n      <p translate=\"DocuSign allows you to furnish a legal disclosure, the Electronic Record and Signature Disclosure. If you choose to use this, each new recipient will read and agree to the terms of the disclosure before they can take action on any document.\"></p>\n\n      <p translate=\"DocuSign is providing this for your convenience only. If you have questions about using an Electronic Record and Signature Disclosure, please contact your legal counsel.\"></p>\n\n      <div class=\"elect\" ng-if=\"legalDisclosureLoaded\">\n        <div class='inline-input rb' ui-hint\n            ui-models=\"[legalSettings.useConsumerDisclosureMetadata]\">\n          <input id='disclosure-not-required' class='rb_input' type='radio' ng-value='false'\n            data-qa=\"legal_disclosure_disclosure_not_required_rb\"\n            ng-model='form.enableEsign' />\n          <label for=\"disclosure-not-required\" class='rb_label' ui-hint ui-cfr\n              ui-models=\"[legalSettings.useConsumerDisclosureMetadata]\"\n              data-qa=\"legal_disclosure_disclosure_not_required_rb_lbl\">\n            <span translate=\"No, I choose not to use an Electronic Record and Signature Disclosure at this time.\"></span>\n          </label>\n        </div>\n\n        <div class='inline-input rb' ui-hint\n            ui-models=\"[legalSettings.useConsumerDisclosureMetadata]\">\n          <input id='disclosure-required' class='rb_input' type='radio' ng-value='true'\n            data-qa=\"legal_disclosure_disclosure_required_rb\"\n            ng-model='form.enableEsign' />\n          <label for='disclosure-required' class='rb_label' ui-hint ui-cfr\n              ui-models=\"[legalSettings.useConsumerDisclosureMetadata]\"\n              data-qa=\"legal_disclosure_disclosure_required_rb_lbl\">\n            <span translate=\"Yes, I elect to use an Electronic Record and Signature Disclosure with my new recipients.\" setting-key-map=\"UseConsumerDisclosure\"></span>\n          </label>\n        </div>\n      </div>\n\n      <div class=\"contextual-content\">\n        <div class=\"frequency form-group contextual-content\" ui-hint ui-cfr\n            ui-models=\"[metadataGivenEnableEsign(legalSettings.consumerDisclosureFrequencyMetadata)]\"\n            ng-if=\"legalDisclosureLoaded\">\n          <label class=\"label\"\n            translate=\"Recipients must accept the Electronic Record and Signature Disclosure when signing documents:\" setting-key-map=\"ConsumerDisclosureFrequency\">\n          </label>\n\n          <div class=\"contextual-content frequency-options\">\n            <div ng-repeat=\"frequency in legalSettings.consumerDisclosureFrequencyMetadata.options\"\n                class='inline-input rb' ui-hint ui-cfr\n                ui-models=\"[metadataGivenEnableEsign(legalSettings.consumerDisclosureFrequencyMetadata)]\">\n              <input id='frequency-{{frequency.value}}' class='rb_input' type='radio'\n                ng-value='frequency.value'\n                ng-model='form.consumerDisclosureFrequency' />\n              <label for='frequency-{{frequency.value}}' class='rb_label'>{{frequency.text}}</label>\n            </div>\n          </div>\n\n          <div class='inline-input cb' ui-cfr ui-hint\n              ui-models=\"[\n                metadataGivenEnableEsign(legalSettings.useConsumerDisclosureWithinAccountMetadata)\n              ]\"\n              ng-if=\"legalDisclosureLoaded\">\n            <input class='cb_input' type='checkbox'id='enforce-frequency'\n              ng-model='form.useConsumerDisclosureWithinAccount'\n              ng-true-value=\"true\" ng-false-value=\"false\" />\n            <label class='cb_label' for='enforce-frequency'\n              translate=\"Enforce frequency setting for members of this account.\"\n              setting-key-map=\"UseConsumerDisclosureWithinAccount\">\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div class='inline-input cb' ui-cfr ui-hint\n          ui-models=\"[legalSettings.allowCDWithdrawMetadata]\"\n          ng-if=\"legalDisclosureLoaded\">\n        <input class='cb_input' type='checkbox'id='allow-recipient-withdrawal'\n          ng-model='form.allowCDWithdraw'\n          data-qa=\"legal_disclosure_allow_recipients_to_withdraw_their_consent_cb\"\n          ng-true-value=\"true\" ng-false-value=\"false\" />\n        <label class='cb_label' for='allow-recipient-withdrawal'\n          data-qa=\"legal_disclosure_allow_recipients_to_withdraw_their_consent_cb_lbl\"\n          translate=\"Allow recipients to withdraw their consent.\" setting-key-map=\"AllowCDWithdraw\">\n        </label>\n      </div>\n\n      <div class=\"inline-input cb\" ng-if=\"legalDisclosureLoaded && canManageBranding\">\n        <input class=\"cb_input\" type=\"checkbox\" id=\"use-brand-company-name\"\n               ng-model=\"form.useBrand\" />\n        <label class=\"cb_label\" for=\"use-brand-company-name\"\n               translate=\"Use brand company name.\" setting-key-map=\"UseBrand\">\n        </label>\n      </div>\n\n      <p class=\"text-muted text-small\" ng-if=\"legalDisclosureLoaded\"\n         translate=\"Note: Each time you change the content below, all envelope recipients with unsigned documents will be required to adopt a new version\"></p>\n    </div>\n\n    <div class='section' ng-if=\"legalDisclosureLoaded && !form.custom\">\n      <div class=\"grid\">\n        <div class=\"col-1-2\">\n          <h2 class=\"header-title\" translate=\"Configure a Disclosure\"></h2>\n\n          <div class=\"form-group\">\n            <label for='disclosure-account-name' class='label' label-required=\"*\" translate=\"Account Name\"></label>\n            <input id='disclosure-account-name' type='text' class='input-text' ng-model='form.companyName'\n                   data-qa=\"legal_disclosure_account_name_txtb\"\n                   ds-valid required />\n\n            <div class='form-group cb'>\n              <input id='disclosure-update-account-name' class='cb_input' type='checkbox'\n                     data-qa=\"legal_disclosure_update_ds_account_name_with_disclosure_account_name_cb\"\n                     ng-disabled='form.isAccountNameSame()' ng-click='form.updateAccountName($event)' />\n              <label class='cb_label' for='disclosure-update-account-name'\n                     data-qa=\"legal_disclosure_update_ds_account_name_with_disclosure_account_name_cb_lbl\"\n                     translate=\"Update DocuSign account name with disclosure account name\"></label>\n            </div>\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-email-for-copies' class='label'\n                   translate=\"Email address your customer should use if they want to request paper copies of their documents ?\"></label>\n            <input id='disclosure-email-for-copies' type='text' class='input-text' ds-valid='email'\n                   data-qa=\"legal_disclosure_email_for_document_copies_txtb\"\n                   ng-model='form.copyRequestEmail' />\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-copy-charge' class='label'\n                   translate=\"How much will you charge your customer if they request you send paper copies of their documents ?\"></label>\n            <input id='disclosure-copy-charge' type='text' class='input-text' ds-valid='number'\n                   data-qa=\"legal_disclosure_copy_charge_txtb\"\n                   ng-model='form.copyCostPerPage' />\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-fee-collection-method' class='label'\n                   translate=\"If your customer requires paper copies how will you collect those fees ?\"></label>\n            <textarea id='disclosure-fee-collection-method' class='input-text'\n                      data-qa=\"legal_disclosure_fee_collection_method_txta\"\n                      ng-model='form.copyFeeCollectionMethod' />\n          </div>\n        </div>\n\n      </div>\n      <p\n        translate=\"How should your customer contact you if they decide to withdraw their consent to receive electronic records from you ?\"></p>\n\n      <div class='grid pad'>\n        <div class='inline-input col-1-8 cb'>\n          <input id='disclosure-withdraw-email' class='cb_input' type='checkbox' ng-model='form.withdrawByEmail'\n                 data-qa=\"legal_disclosure_withdraw_email_cb\"\n                 ng-true-value=\"true\" ng-false-value=\"false\" />\n          <label class='cb_label' for='disclosure-withdraw-email'\n                 data-qa=\"legal_disclosure_withdraw_email_cb_lbl\">\n            <span translate=\"Email\"></span>&nbsp;&nbsp;\n          </label>\n        </div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' ds-valid='email' ng-model='form.withdrawEmail'\n                 data-qa=\"legal_disclosure_withdraw_email_txtb\"/>\n        </div>\n      </div>\n\n      <div class='grid pad'>\n        <div class='inline-input col-1-8 cb'>\n          <input id='disclosure-withdraw-phone' class='cb_input' type='checkbox' ng-model='form.withdrawByPhone'\n                 data-qa=\"legal_disclosure_withdraw_phone_cb\"\n                 ng-true-value=\"true\" ng-false-value=\"false\" />\n          <label class='cb_label' for='disclosure-withdraw-phone'\n                 data-qa=\"legal_disclosure_withdraw_phone_cb_lbl\"\n                 translate=\"Phone\"></label>\n        </div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' ng-model='form.withdrawPhone'\n                 data-qa=\"legal_disclosure_withdraw_phone_txtb\"/>\n        </div>\n      </div>\n\n      <div class='grid pad mail-address-group-first'>\n        <div class='inline-input col-1-8 cb'>\n          <input id='disclosure-mail-address-one' class='cb_input' type='checkbox' ng-model='form.withdrawByMail'\n                 ng-true-value=\"true\" ng-false-value=\"false\"\n                 data-qa=\"legal_disclosure_withdraw_mail_address_cb\"/>\n          <label class='cb_label' for='disclosure-mail-address-one'\n                 data-qa=\"legal_disclosure_withdraw_mail_address_cb_lbl\">\n            <span translate=\"Mail\"></span>&nbsp;&nbsp;&nbsp;&nbsp;\n          </label>\n        </div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' translate translate-attr-placeholder='Address One'\n                 data-qa=\"legal_disclosure_withdraw_mail_address_one_txb\"\n                 ng-model='form.withdrawAddressLine1' />\n        </div>\n      </div>\n\n      <div class='grid pad mail-address-group'>\n        <div class='col-1-8'>&nbsp;</div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' translate translate-attr-placeholder='Address Two'\n                 data-qa=\"legal_disclosure_withdraw_mail_address_two_txb\"\n                 ng-model='form.withdrawAddressLine2' />\n        </div>\n      </div>\n\n      <div class='grid pad mail-address-group'>\n        <div class='col-1-8'>&nbsp;</div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' translate translate-attr-placeholder='City'\n                 data-qa=\"legal_disclosure_withdraw_city_txb\"\n                 ng-model='form.withdrawCity' />\n        </div>\n      </div>\n\n      <div class='grid pad mail-address-group'>\n        <div class='col-1-8'>&nbsp;</div>\n        <div class='col-1-4 inline-input'>\n          <div class='select-wrap input'>\n            <select ng-options='k as v |translate for (k, v) in states'\n                    ng-model='form.withdrawState'\n                    data-qa=\"legal_disclosure_withdraw_state_option\">\n              <option value='' translate=\"Select State\"></option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class='grid pad mail-address-group'>\n        <div class='col-1-8'>&nbsp;</div>\n        <div class='inline-input col-1-2'>\n          <input type='text' class='input-text' translate translate-attr-placeholder='Postal Code'\n                 data-qa=\"legal_disclosure_withdraw_postal_code_txb\"\n                 ng-model='form.withdrawPostalCode' />\n        </div>\n      </div>\n\n      <div class=\"grid pad\">\n        <div class=\"col-2-3\">\n\n          <div class='form-group'>\n            <label for='disclosure-withdraw-other' class='label'\n                   translate=\"If your customer decides to withdraw their consent, what other information will you need ?\"></label>\n            <textarea id='disclosure-withdraw-other' class='input-text' ng-model='form.withdrawOther'\n                      data-qa=\"legal_disclosure_withdraw_other_info_txta\"/>\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-withdraw-consequences' class='label'\n                   translate=\"Are there any special consequences of your customer withdrawing their consent to receive electronic records from you ?\"></label>\n            <textarea id='disclosure-withdraw-consequences' class='input-text'\n                      data-qa=\"legal_disclosure_withdraw_consequences_txta\"\n                      ng-model='form.withdrawConsequences' />\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-change-request-email' class='label'\n                   translate=\"If your customer needs to change their email address, where should they send the change request ?\"></label>\n            <input id='disclosure-change-request-email' type='text' class='input-text' ds-valid='email'\n                   data-qa=\"legal_disclosure_withdraw_change_request_email_txtb\"\n                   ng-model='form.changeEmail' />\n          </div>\n\n          <div class='form-group'>\n            <label for='disclosure-supplemental-info' class='label'\n                   translate=\"Enter any other information you require from your customer if they change their email address.\"></label>\n            <textarea id='disclosure-supplemental-info' class='input-text' ng-model='form.changeEmailOther'\n                      data-qa=\"legal_disclosure_withdraw_supplemental_info_txta\"/>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div class='section' ng-if=\"legalDisclosureLoaded && form.custom\">\n      <h2 class=\"header-title\" translate=\"Configure a Disclosure\"></h2>\n\n      <div class='grid pad' data-qa=\"legal_disclosure_instruction_div\">\n        <ol>\n          <li translate=\"Select a language from the list\"></li>\n          <li\n            translate=\"Click 'Clear' to remove the current disclosure text and HTML (the default is always the US disclosure)\"></li>\n          <li translate=\"Input new disclosure text as HTML only - NO JavaScript, XML, or CSS\"></li>\n          <li translate=\"Click 'Preview' to view the disclosure in the selected language and format\"></li>\n          <li translate=\"Click 'Save' to save the disclosure text in the selected language and format\"></li>\n        </ol>\n      </div>\n      <div class=\"grid pad\">\n        <div class='col-1-4'>\n          <label class=\"label\" translate=\"Signer Language\"></label>\n\n          <div class=\"select-wrap\">\n            <select ng-change=\"updateLanguage(true)\" ng-model=\"form.languageCode\"\n              data-qa=\"legal_disclosure_signer_language_option\"\n              ng-options='locale.key as locale.englishLanguageName | translate for locale in locales'\n              ds-valid>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class=\"grid pad\">\n        <div class='col-1-8'>\n          <label id='esignTextLabel' class=\"label\" translate=\"Enter HTML\"></label>\n        </div>\n      </div>\n      <div class=\"grid pad\">\n        <div class='col-3-5'>\n        <textarea id=\"esignText\" ng-model=\"form.esignText\" class='input-textarea' style='min-height:300px'\n                  ds-valid='function' ds-valid-function=\"noIllegalTags\"\n                  data-qa=\"legal_disclosure_esign_text_txta\">\n        </textarea>\n        </div>\n        <div class='col-2-5'>\n          <button id='legal-disclosure-clear' class='btn btn-med btn-secondary' ng-click='clearCustom()'\n                  data-qa=\"legal_disclosure_clear_btn\"\n                  translate=\"Clear\"></button>\n          <button id='legal-disclosure-preview' class='btn btn-med btn-secondary' ng-click='previewCustom()'\n                  data-qa=\"legal_disclosure_preview_btn\"\n                  translate=\"Preview\"></button>\n          <br /><br />\n          <label id='esignTextError' class=\"label error-msg label-error hide\"\n                 translate=\"The HTML contains either javascript, xml, or style tags, please remove all occurrences\"></label>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"section\" ng-if=\"legalDisclosureLoaded\">\n      <div class=\"header-actions\" ds-ackbar=\"legalDisclosure\" ds-ackbar-save=\"save(legalDisclosure)\"\n           ds-ackbar-cancel=\"cancel(legalDisclosure)\"></div>\n    </div>\n  </form>\n  <div ds-loading=\"loading\" class=\"text-center\" ds-loading-succeeded=\"legalDisclosureLoaded\"\n       ds-loading-error=\"{{'Oops! We had trouble loading legal disclosure. Go ahead and try that again.' | translate}}\"></div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);n(7).RADminControllers.controller("LegalDisclosureController",["$scope","appUser","$rootScope","ConsumerDisclosures","dsModals","dsNotification","dsAccount","lodash","$q","$translate","countryStatePicker","Locales","$timeout","userPermissions","$window",function(e,t,n,i,s,o,r,l,c,d,u,p,m,g,h){var f=null,v=h.jQuery;function _(){var t=[{text:d.instant("Once for this account"),value:"once"},{text:d.instant("First time viewing each envelope sent from this account"),value:"always"},{text:d.instant("First time viewing each time the recipient appears in the signing order"),value:"each_access"}],n=e.legalSettings.consumerDisclosureFrequencyMetadata.options;e.legalSettings.consumerDisclosureFrequencyMetadata.options=t.reduce(function(e){return function(t,n){return e.some(function(e){return e.value===n.value})&&t.push(n),t}}(n),[])}function b(){e.currentLanguage=d.use(),e.form.languageCode=e.currentLanguage,e.forceCustom="en"!==e.currentLanguage,y()}function y(t){!t&&e.unsavedChanges?s.openModal("legal-disclosure/warn-unsaved.html",e,"",!1,!0):i.oneForAccount(e.form.languageCode).then(function(t){t.languageCode=e.form.languageCode,e.currentLanguage=e.form.languageCode,!e.forceCustom&&"en"===t.languageCode&&l.isEmpty(t.esignText)||(t.custom=!0),e.form=t,e.form.enableEsign=e.englishEnableEsign,e.form.consumerDisclosureFrequency=e.legalSettings.consumerDisclosureFrequency,f=a.copy(e.form)})}function A(n){(function(){var t,n=a.copy(e.form);if(n.consumerDisclosureFrequency=null,n.withdrawByPhone=l.capitalize(n.withdrawByPhone),n.withdrawByMail=l.capitalize(n.withdrawByMail),n.withdrawByEmail=l.capitalize(n.withdrawByEmail),a.equals(e.form.enableEsign,e.englishEnableEsign))t=i.save(n);else{var s={enableEsign:e.form.enableEsign,languageCode:"en"};e.englishEnableEsign=e.form.enableEsign;var o=i.save(s).then(function(){i.save(n)});t=o}return t})().then(S).then(function(){e.unsavedChanges=!1,l.merge(e.legalSettings,l.pick(t.currentAccountInfo.settings,l.keys(e.legalSettings))),_(),o.show({msg:d.instant("Your save was successful."),type:"success"}),n.$setPristine(),f=a.copy(e.form),v("#disclosure-update-account-name").prop("checked",!1),s.closeModal()}).catch(function(e){var t=d.instant("We were unable to save your changes.");if(e&&e.data){var n=e.data.errorCode||"",a=e.data.message||"";if("CONSUMER_DISCLOSURE_CONTAINS_INVALID_HTML"===n&&a.length>0){var i=a.toLowerCase().indexOf("invalid items:");if(i>-1&&a.length>i+"invalid items:".length){var s=a.slice(i+"invalid items:".length);(s=l.trunc(s,100)).length>0&&(t=d.instant("We were unable to save your changes. It contains invalid tags, attributes and/or css properties: {{invalidItems}}",{invalidItems:s}))}}}o.show({msg:t,type:"alert"})})}function S(){var n={consumerDisclosureFrequency:e.form.consumerDisclosureFrequency,accountName:e.updateAccountName?e.form.companyName:null};return r.updateSettings(t.getCurrentAccountId(),n).then(function(){return t.refreshAccountSettings()})}function w(t){e.form=l.merge(e.form,f),t.$setPristine()}function C(){s.openModal("legal-disclosure/confirm-custom.html",e,"",!1,!0)}function P(){e.form.esignText=""}function E(){e.trustedEsignText=e.form.esignText,s.openModal("legal-disclosure/preview.html",e,"xl",!1,!0)}function T(){var t=!/<[\/]?(script|style|xml|[ovwxp]:\\\\w+)[^>]*?>/.test(e.form.esignText);return t?(v("#esignTextLabel").removeClass("label-error"),v("#esignText").removeClass("has-error"),v("#esignTextError").addClass("hide")):(v("#esignTextLabel").addClass("label-error"),v("#esignText").addClass("has-error"),v("#esignTextError").removeClass("hide")),t}function M(t){return{rights:e.form.enableEsign&&"editable"===t.rights?"editable":"read-only",uiHint:t.uiHint}}!function(){n.$on("$translateChangeSuccess",b),e.legalSettings={consumerDisclosureFrequency:null,consumerDisclosureFrequencyMetadata:null,useConsumerDisclosureMetadata:null,useConsumerDisclosureWithinAccountMetadata:null,allowCDWithdrawMetadata:null},e.form={custom:!1,languageCode:"en"},e.unsavedChanges=!1,e.locales=l.sortBy(p.signing,"englishLanguageName"),e.states=u.getStateList("United States"),e.currentLanguage=d.use(),e.forceCustom="en"!==e.currentLanguage,e.englishEnableEsign=!0,e.canManageBranding=g.canManageBranding(),e.save=A,e.cancel=w,e.createCustom=C,e.clearCustom=P,e.previewCustom=E,e.noIllegalTags=T,e.updateLanguage=y,e.metadataGivenEnableEsign=M;var s=t.currentAccountInfo.settingsRetrieved,o=i.oneForAccount(e.currentLanguage);e.loading=m(function(){return c.all([o,s]).then(function(n){var s=n[0];l.merge(e.legalSettings,l.pick(t.currentAccountInfo.settings,l.keys(e.legalSettings))),_(),function(n){n.languageCode=e.currentLanguage,n.custom=n.custom||e.forceCustom,n.consumerDisclosureFrequency=e.legalSettings.consumerDisclosureFrequency,e.form=n,e.englishEnableEsign=e.form.enableEsign,e.form.isAccountNameSame=function(){return t.currentAccountInfo.settings.accountName===e.form.companyName},e.form.updateAccountName=function(t){e.updateAccountName=t.target.checked},f=a.copy(e.form),e.forceCustom&&i.oneForAccount("en").then(function(t){e.englishEnableEsign=t.enableEsign,e.form.enableEsign=e.englishEnableEsign})}(s)})},1e3),e.$watch("form",function(t,n){if(t!==n&&(e.unsavedChanges=!a.equals(t.esignText,f.esignText),e.unsavedChanges)){var i=!e.noIllegalTags();v("#legal-disclosure-preview").prop("disabled",i),v("#legal-disclosure-top-save").prop("disabled",i),v("#legal-disclosure-bottom-save").prop("disabled",i)}},!0)}()}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(13);a.RADminControllers.factory("ConsumerDisclosures",["appUser","dsApiClient","$q",function(e,t,n){return{oneForAccount:function(n){var a=e.getCurrentAccountId(),s=t.endpoint().accounts(a).consumerDisclosure(n).uri();return t.get(s).then(function(e){return function(e){var t=parseFloat(e.copyCostPerPage),n={copyCostPerPage:isNaN(t)?parseFloat("0.00").toFixed(2):t.toFixed(2),updateAccountName:!1};return i.merge(e,n)}(e.data)})},save:function(a){var i=e.getCurrentAccountId(),s=t.endpoint().accounts(i).consumerDisclosure(a.languageCode).uri();return delete a.pdfId,t.put(s,a).then(function(e){return void 0!==e.data.errorCode?n.reject(e.data):e.data})}}}])},function(e,t){var n="legal-disclosure/confirm-custom.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='ConfirmCustomController' ds-form>\n  <div class='header'>\n    <h1 translate=\"Go to Custom Disclosure\"></h1>\n  </div>\n\n  <div class='content' name='confirm-custom1' translate=\"The Default Disclosure form is in English (US) only.\">\n  </div>\n  <div class='content' name='confirm-custom2' translate=\"The Custom Disclosure is in English (US) and can be translated into other languages.\">\n  </div>\n  <div class='content' name='confirm-custom3' translate=\"If you choose to create a Custom Disclosure you WILL NOT be able to return to the Default Disclosure form.\">\n  </div>\n\n  <div class='footer'>\n    <button class='btn btn-lg btn-primary' ds-form-submit='confirm()'\n            data-qa=\"legal_disclosure_confirm_ok_btn\"\n            translate=\"OK\"></button>\n    <button class='btn btn-lg btn-minor' ds-close-modal\n            data-qa=\"legal_disclosure_confirm_cancel_btn\"\n            translate=\"Cancel\"></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("ConfirmCustomController",["$scope","dsModals",function(e,t){e.confirm=function(){e.form.custom=!0,t.closeModal()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(270),i=n(2),s=n(102),o=n(349),r=n(269),l=n(7),c=n(348),d=n(347),u={userName:"Username",password:"Password",vendor:"Vendor",partner:"Partner",currency:"Currency",name:"Name",transactionKey:"Transaction Key",apiKey:"API Key",apiSecret:"API Secret",token:"Merchant Token",merchantId:"Merchant ID",transactionSecurityKey:"Transaction Security Key File"};var p=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u,p,m,g,h,f,v,_){this._=_,f.allowPaymentProcessing()&&(this.$scope=e,this.appUser=t,this.paymentService=n,this.notifier=a,this.modal=i,this.message=s,this.$translate=o,this.$window=r,this.$q=l,this.$location=c,this.dateTimeService=d,this.accountService=u,this.$http=p,this.RADminUtil=m,this.$sessionStorage=g,this.dsApiClient=h,this.dateTimeFormat=d.getDateTimeFormat(),this.timeZone=d.getTimeZone(),this.queryParams={},this.resetParams(),this.initializeScope(),this.$scope.showLoadingText=!0,this.gateways=[],this.configuredAccounts=[],this.isLimitedAdminView=this.$location.path().indexOf("limited-canvas")>-1,this.paymentsCORSMessenger=this.$window.opener?v:null,this.loaded=this.initialize())}return e.prototype.showAdvancedPaymentsGatewaysList=function(){return!(this.isLegacyPaymentOn()&&!this.isLegacyPaymentEnabled())&&(!this.isLimitedAdminView&&0===this.configuredAccounts.length||this.isLimitedAdminView)},e.prototype.showAdvancedPaymentsConfiguredAccounts=function(){return!(this.isLegacyPaymentOn()&&!this.isLegacyPaymentEnabled())&&this.configuredAccounts.length>0},e.prototype.isLegacyPaymentsEnabledAndAllowed=function(){return this.isLegacyPaymentOn()&&this.isLegacyPaymentEnabled()},e.prototype.initializeScope=function(){this.$scope.country="US",this.$scope.currency="USD",this.$scope.routingNumber=null,this.$scope.accountNumber=null,this.$scope.accessToken=null,this.$scope.accessTokenSecret=null},e.prototype.initialize=function(){var e=this;return this.appUser.currentAccountInfo.settingsRetrieved.then(function(){if(e.paymentsCORSMessenger&&e.queryParams.source_origin){var t=e.queryParams.source_origin.toString().replace(/~2F/g,"/");if(!d.validateCORSWhiteList(t))return void e.validateAndCloseAdminWindow(!0);e.initializePaymentsMessenger(t)}if(e.queryParams.state&&e.queryParams.code){var n={authorizationCode:e.queryParams.code,merchantId:e.queryParams.merchantId};return e.createConfiguredAccounts(e.queryParams.state,n)}if(e.queryParams.state&&(!e.queryParams.code||e.queryParams.error)){var a=e.queryParams.state,i=a.substring(0,a.indexOf("_"));e.showOAuthDefaultErrorMsg(i);var s=e.getGatewayConnectionEvent(i,"Failure");e.paymentService.logPaymentGatewayCounter(s.event,s.status);var o={description:"Payment Gateway OAuth Error: "+(e.queryParams.error||"Unknown")};e.logPaymentError(o)}}).then(function(){e.validateAndCloseAdminWindow(e.queryParams.state&&e.queryParams.state.indexOf(l.RADMIN_LIMITED_VIEW)>-1&&!(e.queryParams.error||!e.queryParams.code));var t=e.isLimitedAdminView?[e.getPaymentGateways()]:[e.getPaymentGateways(),e.getConfigurations()];return e.$q.all(t)}).then(this._initAuthDotNet.bind(this))},e.prototype.initializePaymentsMessenger=function(e){var t=this;e&&this.$window.opener&&(this.paymentsCORSMessenger.init(e),this.paymentsCORSMessenger.setTargetWindow(this.$window.opener),this.paymentsCORSMessenger.addMessageHandler(c.PaymentCORSMessages.RADMIN_CLOSE,function(){t.paymentsCORSMessenger.stopHandlingMessages(),t.validateAndCloseAdminWindow(!0)}),this.paymentsCORSMessenger.sendMessage({type:c.PaymentCORSMessages.RADMIN_INIT}))},e.prototype.getConfigurations=function(){var e=this;return this.paymentService.getConfigurations(this.appUser.getCurrentAccountId()).then(function(t){Array.isArray(t)&&(e.configuredAccounts=t.map(function(t){if(t.config&&t.config.apiFields&&"string"==typeof t.config.apiFields)try{t.config.apiFields=JSON.parse(t.config.apiFields)}catch(n){e.logPaymentError({error:"Invalid JSON",gateway:t.paymentGateway,description:"Cannot parse gateway account configuration, apiFields."})}return new o.PaymentGatewayAccount(t,e.$translate)}))})},e.prototype._redirectToClassicPayments=function(){var e=this;this.modal.confirmationModal({title:this.$translate.instant("Navigate to Classic."),text:this.$translate.instant("You still can manage your payment account in classic experience. Switch to classic?"),completeLabel:this.$translate.instant("Ok"),escapeLabel:this.$translate.instant("Cancel"),completeFunction:function(){var t=e.appUser.currentAccount.accountIdGuid,n=e.dsApiClient.authorizationManager.authorizeUri("/redirectToClassic?accountId="+t+"&destination=PaymentProcessing");e.appUser.logout();var a=e.$window.jQuery('<form method="post"></form>').appendTo("body");a.attr("action",n),a.submit()}})},e.prototype.getPaymentGateways=function(){var e=this;return this.paymentService.getPaymentGateways(this.appUser.getCurrentAccountId()).then(function(t){e.gateways=t}).catch(function(t){404===t.status&&e.isLegacyPaymentOn()&&e._redirectToClassicPayments()})},e.prototype.resetParams=function(){for(var e in this.queryParams=this._.clone(this.$location.search()),this.queryParams)this.$location.search(e,null)},e.prototype.isLegacyPaymentEnabled=function(){return this.appUser.currentAccountInfo.settings.enablePaymentProcessing},e.prototype.isLegacyPaymentOn=function(){return this.appUser.currentAccountInfo.settings.allowPaymentProcessing},e.prototype.showOAuthDefaultErrorMsg=function(e){var t=this.$translate.instant("Something went wrong authenticating with {{gateway}}. Try again.",{gateway:e});this.showMessage(t,"error")},e.prototype.showAuthDotNetInvalidClientErrorMsg=function(){var e=this.$translate.instant("We are unable to connect to your Authorize.Net account right now. Log in to Authorize.net and make sure the Authorize.Net account is configured correctly, which includes making sure the API Login ID and Transaction Key have been generated for your account.");this.showMessage(e,"error")},e.prototype.createConfiguredAccounts=function(e,t){var n,a=this,i=this.getOAuthState(),o=e.substring(0,e.indexOf("_")),r=i.indexOf("_rcnct_")>-1;if(r&&(n=i.substr(i.indexOf("_rcnct_")+"_rcnct_".length)),o===s.AUTHORIZE_DOT_NET&&"invalid_client"===this.queryParams.error&&this.showAuthDotNetInvalidClientErrorMsg(),e===i){if(r)return this.paymentService.reconnect(this.appUser.getCurrentAccountId(),n,t);var l={paymentGateway:o,displayName:this.generateGatewayAccountDisplayName(o),isEnabled:!0,isLegacy:!1,config:t};return this.paymentService.createConfiguration(this.appUser.getCurrentAccountId(),l).then(function(e){var t=a.getGatewayConnectionEvent(o,"Success");if(a.paymentService.logPaymentGatewayCounter(t.event,t.status),a.logPaymentData("Payment Gateway Connection Successful",o,e.data.paymentGatewayAccountId),(a.appUser.currentAccountInfo.settings.emailTemplateVersion||1)<1.1){var n=a.$translate.instant("DocuSign Payments sends confirmation emails related to payments. Your account is using an older version of email notifications, which is not compatible with DocuSign Payments. To ensure recipients receive payments confirmation emails, contact DocuSign support to update your email setting.");a.showMessage(n,"error",{autoClose:!1})}}).catch(function(){a.showOAuthDefaultErrorMsg(o)})}this.showOAuthDefaultErrorMsg(o);var c=this.getGatewayConnectionEvent(o,"Failure");this.paymentService.logPaymentGatewayCounter(c.event,c.status);return this.logPaymentError({description:"Payment Gateway OAuth Error: State Invalid."}),this.$q.when(!0)},e.prototype.generateGatewayAccountDisplayName=function(e){return e+"_"+this._.random(0,1e4)},e.prototype.logPaymentError=function(e){var t={type:"event",eventName:"Payments Error",message:{userId:this.appUser.currentAccount.userId,accountId:this.appUser.getCurrentAccountId(),errorDetails:e}};return this.paymentService.logPaymentGatewayData(t)},e.prototype.logPaymentData=function(e,t,n){var a={userId:this.appUser.currentAccount.userId,accountId:this.appUser.getCurrentAccountId(),gateway:t,keyEvent:e,dsPaymentGatewayAccountId:n};this.$window.opener&&(a.actionOrigin="Tagger");var i={type:"event",eventName:"Payments Data",message:a};this.paymentService.logPaymentGatewayData(i)},e.prototype.getGatewayConnectionEvent=function(e,t){return{event:"Payment Connection",status:e+" OAuth "+t}},e.prototype.manageAccount=function(e){this.logPaymentData("Payment Gateway Manage Account Clicked",e.getGatewayProviderName(),e.getAccountConnectionId()),this.$window.open(e.getManageAccountUri(this.gateways))},e.prototype.showMessage=function(e,t,n){var a=n||{autoClose:!0};this.message.show(e,"on"+t,t,a)},e.prototype.testConnection=function(e){var t=this;this.logPaymentData("Payment Gateway Test Connection Clicked",e.getGatewayProviderName(),e.getAccountConnectionId()),this.paymentService.validate(this.appUser.getCurrentAccountId(),e).then(function(){var n=e.getAccountConnectionSuccessMsg();t.showMessage(n,"success")}).catch(function(n){var a=e.getAccountConnectionErrorMsg();t.showMessage(a,"error"),t.logPaymentData("Payment Gateway Test Connection Failed",e.getGatewayProviderName(),e.getAccountConnectionId())})},e.prototype.reconnect=function(e){var t=this.findGatewayByName(e.getGatewayProviderName()),n=this.createOAuthStateParam(t.paymentGateway,e.getAccountConnectionId());this.initiateOAuthWithGateway(t,n)},e.prototype.disableConfirm=function(e){var t=this;if(e.isAccountConnectionEnabled()){var n=this.$scope.$new(!0);n.name=e.getAccountDisplayName(),this.modal.openModal({templateUrl:"integrations/payments/disable-payment-gateway-modal.html",scope:n,size:"sm",onComplete:function(){return t.disableEnable(e)},showClose:!1})}else this.disableEnable(e)},e.prototype.disableEnable=function(e){var t=this,n=this._.cloneDeep(e.getAccountConnectionConfig());n.isEnabled=!n.isEnabled;var a="Payment Gateway Account "+(n.isEnabled?"Enable Clicked":"Disable Clicked");this.logPaymentData(a,e.getGatewayProviderName(),e.getAccountConnectionId()),this.loaded=this.paymentService.updateConfiguration(this.appUser.getCurrentAccountId(),n).then(function(){t.getConfigurations(),t.logPaymentData("Payment Gateway Account "+(n.isEnabled?"Enable":"Disable")+" Successful",e.getGatewayProviderName(),e.getAccountConnectionId())}).catch(function(a){var i=n.isEnabled?t.$translate.instant("Unable to connect your {{name}} account with your DocuSign acount. Try again.",{name:n.displayName}):t.$translate.instant("Unable to disable account {{name}}. Try again.",{name:n.displayName});t.showMessage(i,"error");var s={description:"Payment Gateway Account "+(n.isEnabled?"Enable":"Disable")+" Failed",gateway:e.getGatewayProviderName(),dsPaymentGatewayAccountId:e.getAccountConnectionId(),error:a?a.data:null};t.logPaymentError(s)})},e.prototype.changeName=function(e,t){var n=this,a=this._.cloneDeep(e.getAccountConnectionConfig());a.displayName=t,this.logPaymentData("Payment Gateway Account Edit Clicked",e.getGatewayProviderName(),e.getAccountConnectionId()),this.loaded=this.paymentService.updateConfiguration(this.appUser.getCurrentAccountId(),a).then(function(){n.logPaymentData("Payment Gateway Account Edit Successful",e.getGatewayProviderName(),e.getAccountConnectionId()),n.getConfigurations()}).catch(function(i){var s=n.$translate.instant("Unable to rename account from {{oldName}} to {{newName}}. Try again.",{oldName:t,newName:a.displayName});n.showMessage(s,"error");var o={description:"Payment Gateway Account Edit Failed",gateway:e.getGatewayProviderName(),dsPaymentGatewayAccountId:e.getAccountConnectionId(),error:i?i.data:null};n.logPaymentError(o)})},e.prototype.onEditAccount=function(e){e.isFormAccount()?this.showEditFormAccountModal(e,this.findGatewayByName(e.getGatewayProviderName())):this.showEditNameModal(e)},e.prototype.showEditNameModal=function(e){var t=this.$scope.$new(!0);t.account=e,t.displayName=e.getAccountDisplayName(),t.payment=this,this.modal.openModal({templateUrl:"integrations/payments/edit-display-name.html",scope:t,size:"sm"})},e.prototype.removeConfirm=function(e){var t=this,n=this.$scope.$new(!0);n.name=e.getAccountDisplayName(),this.modal.openModal({templateUrl:"integrations/payments/delete-payment-gateway-modal.html",scope:n,size:"sm",onComplete:function(){return t.remove(e)},showClose:!1})},e.prototype.remove=function(e){var t=this;this.logPaymentData("Payment Gateway Account Delete Clicked",e.getGatewayProviderName(),e.getAccountConnectionId()),this.loaded=this.paymentService.delete(this.appUser.getCurrentAccountId(),e).then(function(){t.logPaymentData("Payment Gateway Account Deleted",e.getGatewayProviderName(),e.getAccountConnectionId());for(var n=0;n<t.configuredAccounts.length;n++)if(t.configuredAccounts[n].getAccountConnectionId()===e.getAccountConnectionId())return t.configuredAccounts.splice(n,1)}).catch(function(n){var a=t.$translate.instant("Cannot delete {{name}} account. Try again.",{name:e.getAccountDisplayName()});t.showMessage(a,"error");var i={description:"Payment Gateway Account Delete Failed",gateway:e.getGatewayProviderName(),dsPaymentGatewayAccountId:e.getAccountConnectionId(),error:n?n.data:null};t.logPaymentError(i)})},e.prototype.getGatewayLogo=function(e){return"images/"+e.toLowerCase()+"_logo.png"},e.prototype.listAvailableGateways=function(){this.modal.openModal({scope:this.$scope,size:"lg",templateUrl:"integrations/payments/payment-gateways-list-modal.html",showClose:!1})},e.prototype.showEditFormAccountModal=function(e,t){var n=this,a=this.$scope.$new(!0);a.config=this._.cloneDeep(e.getAccountConnectionConfig()),a.fields=this._.map(Object.keys(t.formsAuthentication.fields),function(e){return n._.assign(t.formsAuthentication.fields[e],{name:u[e],key:e})}),a.payment=this,a.selectedFileName=null,this.modal.openModal({scope:a,templateUrl:"integrations/payments/edit-form-account.html",showClose:!0}).then(function(e){n.formInstance=e,a.onValidationError=function(){return n.showFormValidationError()},a.onSecretKeyFileAdd=function(e){n.selectedFile=e.files[0],a.$apply(function(){return a.selectedFileName=n.selectedFile.name})}})},e.prototype.showFormValidationError=function(){this.formInstance.addMessage(this.$translate.instant("Please, fill in all the required fields."),"legacyPaymentValidationError","error")},e.prototype.createAccount=function(e){if(e.paymentGateway!==s.AUTHORIZE_DOT_NET||this.queryParams.turn_off_boardjs)if(e.isLegacy){var t=new o.PaymentGatewayAccount({paymentGateway:e.paymentGateway,displayName:this.generateGatewayAccountDisplayName(e.paymentGateway),isLegacy:!0,isEnabled:!0},this.$translate);this.showEditFormAccountModal(t,e)}else if("forms"===e.authenticationType){this.sendRadminRedirectCORSMessage(e.paymentGateway);t=new o.PaymentGatewayAccount({paymentGateway:e.paymentGateway,displayName:this.generateGatewayAccountDisplayName(e.paymentGateway),isLegacy:!1,isEnabled:!0},this.$translate);this.showEditFormAccountModal(t,e)}else this.initiateOAuthWithGateway(e,this.createOAuthStateParam(e.paymentGateway));else this.sendRadminRedirectCORSMessage(e.paymentGateway),i.element(".anet-button").click()},e.prototype.saveFormAccount=function(e){var t=this;if("CyberSource"===e.paymentGateway){if(!this.selectedFile)return void this.showFormValidationError();this.fileReader=new FileReader,this.fileReader.onload=function(){if(t.selectedFile.size>6144){var n=t.$translate.instant("Invalid transaction security key file. Upload another.");t.showMessage(n,"error");var a={description:"Invalid Transaction Security Key",gateway:"CyberSource",userAccountId:t.appUser.getCurrentAccountId()};t.logPaymentError(a)}else e.config.apiFields.transactionSecurityKey=btoa(t.fileReader.result),t.saveFormAccountHelper(e)},this.fileReader.readAsBinaryString(this.selectedFile)}else this.saveFormAccountHelper(e)},e.prototype.getLegacyPayload=function(e){return e.payPalLegacySettings=e&&e.config&&e.config.apiFields||null,delete e.config,e},e.prototype.validateAndCloseAdminWindow=function(e){e&&this.$window.close()},e.prototype.saveFormAccountHelper=function(e){var t,n=this,a=this.appUser.getCurrentAccountId(),i=e.paymentGatewayAccountId?"Edit":"Create";e.config&&e.config.apiFields&&!e.isLegacy&&(e.config.apiFields=JSON.stringify(e.config.apiFields)),t=e.paymentGatewayAccountId?this.paymentService.updateConfiguration(a,e):this.paymentService.createConfiguration(a,e.isLegacy?this.getLegacyPayload(e):e),this.modal.closeAllModals(),this.loaded=t.then(function(){n.logPaymentData("Payment Gateway Account "+i+" Success",e.paymentGateway,e.paymentGatewayAccountId),n.validateAndCloseAdminWindow(n.isLimitedAdminView&&n.$window.opener&&!e.paymentGatewayAccountId),n.getConfigurations()}).catch(function(t){var a;a=e.paymentGatewayAccountId?n.$translate.instant("Unable to edit the connection to this payment gateway account."):n.$translate.instant("Unable to create the connection to this payment gateway account."),n.showMessage(a,"error");var s={description:i+" form account failed. "+t.message,gateway:e.paymentGateway,dsPaymentGatewayAccountId:e.paymentGatewayAccountId,error:t?t.data:null};n.logPaymentError(s)})},e.prototype.createOAuthStateParam=function(e,t){var n=e;return this.isLimitedAdminView&&(n+=l.RADMIN_LIMITED_VIEW+this.$translate.use().replace(/_/,"-")),n+="_"+this.RADminUtil.generateV4Guid(),t&&(n+="_rcnct_"+t),n},e.prototype.initiateOAuthWithGateway=function(e,t){var n=this,a={redirectUrl:this._getLocalRedirectUri(),state:t};this.paymentService.getGatewayConnectUrl(this.appUser.getCurrentAccountId(),e,a).then(function(a){if(a)n.doClientRedirectForOAuth(e,t,a.toString());else{n.showOAuthDefaultErrorMsg(e.paymentGateway);var i={description:"Failed to get ConnectUrl for Payment Gateway",gateway:e.paymentGateway,error:"ConnectUrl is null or undefined"};n.logPaymentError(i)}}).catch(function(t){n.showOAuthDefaultErrorMsg(e.paymentGateway),t=t?t.data:t,n.logPaymentError(t)})},e.prototype.sendRadminRedirectCORSMessage=function(e){this.isLimitedAdminView&&this.$window.opener&&this.paymentsCORSMessenger&&this.paymentsCORSMessenger.sendMessage({type:c.PaymentCORSMessages.RADMIN_REDIRECTED_TO_PROVIDER,payload:e})},e.prototype.doClientRedirectForOAuth=function(e,t,n){var a=this.getGatewayConnectionEvent(e.paymentGateway,"Start");this.paymentService.logPaymentGatewayCounter(a.event,a.status),this.logPaymentData("Payment Gateway Connection Attempted",e.paymentGateway,"N/A"),this.saveOAuthState(t)?(this.sendRadminRedirectCORSMessage(e.paymentGateway),this.showLoadingModal(),this.redirect(n)):this.showMessage(this.$translate.instant("You need to enable cookies or local storage on your browser to use this feature"),"error")},e.prototype.showLoadingModal=function(){this.modal.openModal({scope:this.$scope,templateUrl:"site/templates/loading modal.html",showClose:!1,name:"loading_modal"})},e.prototype.saveOAuthState=function(e){if(this.RADminUtil.isStorageTypeSupported(r.BrowserStorage.Session))this.$sessionStorage.paymentGatewayOAuthState=e;else{if(!this.RADminUtil.isStorageTypeSupported(r.BrowserStorage.Cookie))return!1;!function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}("paymentGatewayOAuthState",e,1)}return!0},e.prototype.getOAuthState=function(){return this.RADminUtil.isStorageTypeSupported(r.BrowserStorage.Session)?this.$sessionStorage.paymentGatewayOAuthState:this.RADminUtil.isStorageTypeSupported(r.BrowserStorage.Cookie)?function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var i=n[a];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}("paymentGatewayOAuthState"):""},e.prototype.toggleLegacyPayment=function(){var e=this;this.loaded=this.accountService.updateSettings(this.appUser.getCurrentAccountId(),{enablePaymentProcessing:!this.isLegacyPaymentEnabled()}).then(function(){return e.$q.all([e.appUser.refreshAccountSettings(),e.getConfigurations(),e.getPaymentGateways()])})},e.prototype.redirect=function(e){this.$window.location.href=e},e.prototype.stripUrlQuery=function(e){return-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e},e.prototype.findGatewayByName=function(e){return this._.find(this.gateways,{paymentGateway:e})},e.prototype._getLocalRedirectUri=function(){return this.$location.protocol()+"://"+this.$location.host()+(this.$location.port()?":"+this.$location.port():"")+"/payments"},e.prototype._initAuthDotNet=function(){var e=this,t=this.findGatewayByName(s.AUTHORIZE_DOT_NET);if(t){var n=this.createOAuthStateParam(t.paymentGateway);this.saveOAuthState(n),this.$window.Anet.init({resellerId:t.oauthAuthentication.affiliateId,clientId:t.oauthAuthentication.clientId,flowId:"21",scope:"read,write",resellerProfileId:0,redirectUri:this._getLocalRedirectUri(),state:n}),this.$window.Anet.on("boarding.error",function(n,a){e.logPaymentError({description:"Gateway OAuth Error: "+(n&&n.Reason?n.Reason:"Unknown Error"),gateway:t.paymentGateway})}),this.$window.Anet.on("boarding.cancel",function(t,n){e.modal.closeAllModals()}),this.$window.Anet.on("boarding.success",function(n,a){n&&n.OauthState&&n.OauthCode?(e.modal.closeAllModals(),e.loaded=e.createConfiguredAccounts(n.OauthState,{authorizationCode:n.OauthCode}).then(function(){e.validateAndCloseAdminWindow(n.OauthState.indexOf(l.RADMIN_LIMITED_VIEW)>-1&&e.$window.opener),e.getConfigurations.call(e)})):(e.showOAuthDefaultErrorMsg(t.displayName),e.logPaymentError({description:"Gateway OAuth Error: state or authCode is not present",gateway:t.paymentGateway}))})}},e}();t.PaymentsGatewaysController=p,a.PaymentsModule.controller("PaymentGatewaysController",["$scope","appUser","dsPayments","dsNotification","oliveModal","oliveMessage","$translate","$window","$q","$location","DateTimeService","dsAccount","$http","RADminUtil","$sessionStorage","dsApiClient","userPermissions","PaymentsCORSMessenger","lodash",p])},function(e,t){var n="integrations/payments/payment-gateways.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main" ng-controller="PaymentGatewaysController as payment">\n  <div class="listHeader">\n    <div class="listHeader_titleRow">\n      <h1 class=\'header-title\' translate="Payment Gateways" data-qa=\'payments-header\'></h1>\n      <p ng-if="doneLoading && payment.showAdvancedPaymentsGatewaysList()"\n         data-qa=\'payments-no-gateways-text\'\n         translate="Connect a payment gateway account to your DocuSign account so you can request payments at the same time you request signatures. The person signing the documents can submit payment by credit card or other supported payment methods. The funds are transferred directly to your payment gateway account when the envelope is complete.">\n      </p>\n    </div>\n\n    <div class="listHeader_actionsRow"\n         ng-if="doneLoading && payment.showAdvancedPaymentsConfiguredAccounts()">\n      <button type="button"\n              class="btn btn-secondary btn-md"\n              ng-click="payment.listAvailableGateways()"\n              translate="Add"\n              data-qa="payment-add-gateway"></button>\n    </div>\n    <div class="listHeader_actionsRow"\n         ng-if="doneLoading && payment.isLegacyPaymentsEnabledAndAllowed()">\n      <button type="button"\n              class="btn btn-secondary btn-md"\n              ng-click="payment.toggleLegacyPayment()"\n              translate="Disable Payments"\n              data-qa="payment-add-gateway"></button>\n    </div>\n  </div>\n\n  <div ng-if="doneLoading">\n    <table class="list-tbl"\n           ng-show="payment.showAdvancedPaymentsConfiguredAccounts()"\n           ds-sortable="sortProperty"\n           ds-sortable-initial-property="getAccountDisplayName()" ds-sortable-reverse="reverseSort">\n      <thead>\n      <tr>\n        <th name="paymentgateway"><span translate="Payment Gateway"></span></th>\n        <th name="name" ds-sort="getAccountDisplayName()"><span translate="Account Name"></span></th>\n        <th name="account-id"><span translate="Gateway Account ID"></span></th>\n        <th name="modified" ds-sort="getAccountLastModifiedTime()" ng-hide="payment.isLegacyPaymentOn()"><span translate="Modified"></span></th>\n        <th name="status"><span translate="Status"></span></th>\n        <th></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="account in payment.configuredAccounts | orderBy:sortProperty:reverseSort"\n          data-qa-payment-gateway="{{account.getGatewayProviderName() | lowercase }}">\n        <td><img class="payment_logo" ng-src="{{payment.getGatewayLogo(account.getGatewayProviderName())}}"\n                 alt="{{account.getGatewayProviderName()}}" /></td>\n        <td>{{account.getAccountDisplayName()}}</td>\n        <td data-qa="payment-gateway-account-id">{{account.getAccountConnectionId()}}</td>\n        <td ng-hide="payment.isLegacyPaymentOn()">{{account.getAccountLastModifiedTime() |moment:payment.dateTimeFormat:payment.timeZone}}</td>\n        <td ng-if="account.isActive()">\n          <i class="icon {{account.isAccountConnectionEnabled() ? \'icon-circle icon-active\' : \'icon-circleclosed\'}}"></i>\n          <span ng-show="account.isAccountConnectionEnabled()" translate="Enabled"></span>\n          <span ng-show="!account.isAccountConnectionEnabled()" translate="Disabled"></span>\n        </td>\n        <td ng-if="!account.isActive()">\n          <i class="icon icon-circle icon-circleclosed"></i>\n          <span translate="Disconnected"></span>\n        </td>\n        <td ng-if="!account.isLegacyAccount()">\n          <button type=\'button\' class=\'btn btn-secondary btn-trigger\'\n                  olive-menu=\'configActions-{{account.getAccountConnectionId()}}\' olive-menu-position=\'below right\' data-qa=\'payments-action-dropdown\'>\n            <span translate="Action"></span>\n          </button>\n          <div id=\'configActions-{{account.getAccountConnectionId()}}\' class=\'menu invisible\'>\n            <ul>\n              <li ng-if="!account.hasToHideTestConnection()">\n                <button type="button" class=\'item\' data-qa=\'payment-action-test-connection\' ng-click="payment.testConnection(account)">\n                  <span translate="Test Connection"></span>\n                </button>\n              </li>\n              <li ng-if="!account.isActive()">\n                <button type="button" class=\'item\' data-qa=\'payment-action-reconnect\' ng-click="payment.reconnect(account)">\n                    <span translate="Reconnect"></span>\n                </button>\n              </li>\n              <li ng-if="account.getManageAccountUri(payment.gateways)">\n                <button type="button" class=\'item\' ng-click="payment.manageAccount(account)" data-qa="payment-action-manage">\n                  <span \n                    translate="Go to [[paymentGateway]]" \n                    translate-interpolation="bracket" \n                    translate-values="{paymentGateway: account.getGatewayProviderName()}">\n                  </span>\n                </button>\n              </li>\n              <li>\n                <button type="button" class="item" data-qa=\'payment-edit\' ng-click="payment.onEditAccount(account)">\n                  <span translate="Edit"></span>\n                </button>\n              </li>\n              <li>\n                <button type="button" class=\'item\' data-qa="payment-action-disable" ng-click=\'payment.disableConfirm(account)\'>\n                  <span ng-show="account.isAccountConnectionEnabled()" translate="Disable"></span>\n                  <span ng-show="!account.isAccountConnectionEnabled()" translate="Enable"></span>\n                </button>\n              </li>\n              <li>\n                <button type="button" class=\'item\' ng-click="payment.removeConfirm(account)" data-qa="payments-action-delete">\n                  <span translate="DS_CONTEXT=(payment gateway) Delete"></span>\n                </button>\n              </li>\n            </ul>\n          </div>\n        </td>\n        <td ng-if="account.isLegacyAccount()"></td>\n      </tr>\n      </tbody>\n    </table>\n\n    <div ng-show="payment.configuredAccounts.length === 0">\n      <div ng-include src="\'integrations/payments/payment-gateways-list.html\'" payment="payment"></div>\n    </div>\n\n    <div class="emptyState" ng-show="payment.isLegacyPaymentOn() && !payment.isLegacyPaymentEnabled()">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="Payments Not Enabled"></h3>\n        <p translate="You currently do not have Payments enabled."></p>\n      </div>\n      <p>\n        <button type="button" class="btn btn-primary" ng-click="payment.toggleLegacyPayment()"\n                translate="Enable Payments"></button>\n      </p>\n    </div>\n  </div>\n\n  <div class="integrations">\n    <div class="loadFailed" ds-loading="payment.loaded" ds-loading-succeeded="doneLoading"\n         ds-loading-error="{{\'We had trouble loading your payment gateways. Please go ahead and try that again!\' | translate}}">\n    </div>\n  </div>\n  \x3c!-- Fake button, clicked programmatically to trigger board.js --\x3e\n  <span class="anet-button u-visibility-hidden" style="height:0;"></span>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/payments/payment-gateways-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="m-left-large">\n    <button class="tile tile-large tile-icon"\n            ng-repeat="gateway in payment.gateways"\n            ng-if="gateway.paymentGateway !== \'DocuSign\'"\n            ng-click="payment.createAccount(gateway);">\n        <img ng-src="{{payment.getGatewayLogo(gateway.paymentGateway)}}"\n             class="tile_image"\n             alt="{{gateway.paymentGateway}}" />\n    </button>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/payments/payment-gateways-list-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header">\n  <h1 class="header-title" translate="Add Payment Gateway">\n  </h1>\n</div>\n<div class="modal_content">\n  <div ng-include src="\'integrations/payments/payment-gateways-list.html\'" payment="payment">\n  </div>\n</div>\n<div class="modal_footer">\n  <button class="btn btn-lg btn-secondary" olive-modal-escape>\n    <span translate="cancel"></span>\n  </button>\n</div>')}]),e.exports=n},function(e,t){var n="integrations/payments/payment-gateway-required-fields.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h2 translate="Update Required Card Fields"></h2>\n</div>\n<div class="modal_content" olive-modal-content>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.number" ng-model="requiredFields.fields.number">\n    <label class="cb_label" for="gw.required.number" translate="Credit Card/Debit Card Number"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.ccv" ng-model="requiredFields.fields.ccv">\n    <label class="cb_label" for="gw.required.ccv" translate="CCV"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.month" ng-model="requiredFields.fields.month">\n    <label class="cb_label" for="gw.required.month" translate="Month"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.year" ng-model="requiredFields.fields.year">\n    <label class="cb_label" for="gw.required.year" translate="Year"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.name" ng-model="requiredFields.fields.name">\n    <label class="cb_label" for="gw.required.name" translate="Name"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.address" ng-model="requiredFields.fields.address">\n    <label class="cb_label" for="gw.required.address" translate="Address"></label>\n  </div>\n  <div class="form-group cb">\n    <input class="cb_input vh" type="checkbox" id="gw.required.zipcode" ng-model="requiredFields.fields.zipcode">\n    <label class="cb_label" for="gw.required.zipcode" translate="Zip Code"></label>\n  </div>\n</div>\n\n<div class="modal_footer" olive-modal-footer>\n  <button class="btn btn-primary btn-lg" ng-click="saveRequiredCardFields()" translate="Save"></button>\n  <button class="btn btn-minor btn-lg" olive-modal-escape translate="Cancel"></button>\n</div>')}]),e.exports=n},function(e,t){var n="integrations/payments/edit-form-account.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h2 ng-show="config.paymentGatewayAccountId"\n        translate="Edit [[merchantName]] Account"\n        translate-interpolation="bracket"\n        translate-values="{merchantName: config.paymentGateway}"></h2>\n    <h2 ng-hide="config.paymentGatewayAccountId"\n        data-qa="payments-connect-legacy-header"\n        translate="Connect [[merchantName]] Account"\n        translate-interpolation="bracket"\n        translate-values="{merchantName: config.paymentGateway}"></h2>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="form-group">\n      <label class="label" label-required="*" for="displayName" translate="Name"></label>\n      <input type="text" class="input-text" id="displayName" ng-model="config.displayName" ds-valid required />\n    </div>\n    <div class="form-group" ng-repeat="field in fields | orderBy: \'uiOrder\'">\n      <label class="label" for="field_{{ $index }}"\n             translate="{{field.name}}"></label>\n      <input ng-if="field.uiType !== \'list\' && field.key !== \'transactionSecurityKey\'"\n             type="{{field.name === \'Password\' ? \'password\' : \'text\'}}"\n             data-qa="input-{{field.name}}"\n             ng-required="field.name === \'password\' ? !config.paymentGatewayAccountId : true"\n             id="field_{{ $index }}"\n             ds-valid="{{field.uiType}}"\n             ng-model="config.config.apiFields[field.key]"\n             class="input-text" />\n      <div class="form_addon" ng-if="field.key === \'transactionSecurityKey\'">\n        <input type="file"\n               data-qa="cybersource_upload"\n               ng-required="true"\n               id="field_{{ $index }}"\n               ds-form-ignore\n               class="input-file"\n               accept=".p12"\n               onchange="angular.element(this).scope().onSecretKeyFileAdd(this)" />\n        <label for="field_{{ $index }}" class="btn btn-secondary upload-button" translate="Upload"></label>\n        <div class="selected-file text-strong">\n          <p ng-bind="selectedFileName"></p>\n        </div>\n      </div>\n      <div class="select-wrap" ng-if="field.uiType === \'list\'">\n        <select ng-model="config.config.apiFields[field.key]"\n                required ds-valid\n                ng-options="option for option in field.options">\n          <option value=""\n                  translate="[[calloutGlyph]] Select [[calloutGlyph]]"\n                  translate-interpolation="bracket"\n                  translate-values="{calloutGlyph: \'-\'}"></option>\n        </select>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-primary btn-lg"\n            data-qa="payment-legacy-save"\n            ds-form-submit="payment.saveFormAccount(config)"\n            ds-form-error="onValidationError()"\n            translate="Save"></button>\n    <button class="btn btn-minor btn-lg"\n            data-qa=\'payment-legacy-cancel\'\n            olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/payments/edit-display-name.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <div class="modal_header">\n    <h1 translate="Change Payment Gateway Account Name"></h1>\n  </div>\n\n  <div class="change-name modal_content">\n    <p translate="This Payment Gateway Account Name helps to uniquely identify your accounts">\n    </p>\n    <div class="form-group">\n      <label class="label"\n             label-required="*"\n             for="displayName"\n             translate="Name"></label>\n      <input type="text" class="input-text" id="displayName"\n             ng-model="displayName" ds-valid required />\n    </div>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-primary btn-lg"\n            id="changeNameBtn"\n            olive-modal-complete\n            ds-form-submit="payment.changeName(account, displayName)"\n            translate="Change Name"></button>\n    <button class="btn btn-minor btn-lg" id="cancelNameBtn" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/payments/disable-payment-gateway-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="header-title"\n      translate="Disable account [[name]]?"\n      translate-interpolation="bracket"\n      translate-values="{name: name}"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <p translate="If you disable this payment gateway account, you cannot use it to create new payment requests. In-process envelopes with payment requests using this account will be allowed to complete. Are you sure you want to disable this payment gateway account?"></p>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <button class="btn btn-lg btn-primary" translate="Disable" olive-modal-complete></button>\n  <button class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/payments/delete-payment-gateway-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="header-title"\n      translate="Delete account [[name]]?"\n      translate-interpolation="bracket"\n      translate-values="{name: name}"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <p translate="If you delete this payment gateway account, any in-process envelopes that contain payment requests connected to this account will not be able to complete. We recommend that you void any such envelopes. Are you sure you want to do this?"></p>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <button class="btn btn-lg btn-primary" translate="DS_CONTEXT=(payment gateway) Delete" olive-modal-complete></button>\n  <button class="btn btn-lg btn-minor" translate="Cancel" olive-modal-escape></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/user-information/what-is-an-integrator-key.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<h2 translate=\"What is an App / Integrator Key?\"></h2>\n<p translate=\"An app is a set of parameters that are used to identify a specific integration with a DocuSign REST API. When you add an app on this page, an integrator key value is automatically created and associated with that app. You also configure additional parameters associated with your app, such as redirect URIs, Secret Keys, and RSA Keypairs, but these are dependent on the type of OAuth2 authentication your app will use. Read more about the DocuSign REST API OAuth2 authentication options in the [[linkStart]]REST API Authentication Overview[[linkEnd]] topic. The recommended practice is to configure one integrator key for each of your integration apps.\"\n    translate-interpolation=\"bracket\"\n    translate-values=\"{\n      linkStart: '<a href=\\'https://developers.docusign.com/esign-rest-api/guides/authentication\\' target=\\'blank\\'>', \n      linkEnd:'</a>'}\">\n</p>\n<p translate=\"[[linkStart]]Note[[linkEnd]]: You can create as many integrator keys as you like, but they cannot be deleted.\"\ntranslate-interpolation=\"bracket\"\n    translate-values=\"{\n    linkStart: '<b>',\n    linkEnd:'</b>'\n  }\">\n</p>\n<p translate=\"Integrator keys are added and configured in your sandbox so that you can create and test your integrations in a development environment without affecting your production apps. After you have completed your DocuSign integration development, you promote your integrator key(s) to production through our [[linkStart]]Go Live process[[linkEnd]], which requires a DocuSign a production enterprise account or API plan. See our [[linkStart0]]API Plans and Pricing[[linkEnd]] page for more information.\"\n    translate-interpolation=\"bracket\"\n    translate-values=\"{\n    linkStart: '<a href=\\'https://developers.docusign.com/esign-rest-api/guides/go-live\\' target=\\'blank\\'>',\n    linkStart0: '<a href=\\'https://www.docusign.com/products-and-pricing/api-plans\\' target=\\'blank\\'>',   \n    linkEnd:'</a>'\n  }\">\n</p>")}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/user-information/how-to-manage-integrator-keys.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 translate="App / Integrator Key Management"></h2>\n<p translate="Once you promote an integrator key to a production DocuSign account, only that account can manage the key’s production settings, such as redirect URIs and secret keys. If you are integrating on behalf of a customer (and therefore you are the [[linkStart]]integrator[[linkEnd]]), you must first decide who will own and manage the integrator key once it is live in production. If the customer will own and manage the integration, then the key should be promoted to an account they own. If the integrator will own and manage the integration, then the key should be promoted to an account owned by the integrator."\n    translate-interpolation="bracket" \n    translate-values="{\n        linkStart: \'<i>\',\n        linkEnd: \'</i>\'\n    }"\n    ></p>')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/user-information/developer-tools-and-resources.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 translate="Developer Tools and Resources"></h2>\n\n<ul class="padded" ng-controller="ApiIntegratorKeyTranslationsController as translations">\n  <li translate="{{ ::translations[\'DocuSign Developer Center\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'DocuSign Developer Center\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'REST Guides\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'REST Guides\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'REST Code Examples\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'REST Code Examples\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'REST API Reference\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'REST API Reference\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'SDKs\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'SDKs\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'API Explorer\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'API Explorer\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'LoanCo Sample App\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'LoanCo Sample App\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'Community\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'Community\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'SOAP Resources\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'SOAP Resources\'].values }}">\n  </li>\n\n  <li translate="{{ ::translations[\'Go Live Process\'].template }}" translate-interpolation="bracket"\n    translate-values="{{ ::translations[\'Go Live Process\'].values }}">\n  </li>\n</ul>')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/user-information/authentication.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<h2 translate=\"Authentication\"></h2>\n<p translate=\"The DocuSign platform offers multiple forms of authentication that you can use for API authorization and authentication. User applications that require each individual end user to authenticate with the DocuSign platform should use [[oauth2LinkStart]]OAuth2[[linkEnd]]. Service integrations that do not require each user to interactively authenticate with DocuSign should use [[chhLinkStart]]JWT Token[[linkEnd]] authentication.\"\n   translate-interpolation='bracket'\n   translate-values=\"{\n     oauth2LinkStart: '<a href=\\'https://docs.docusign.com/esign/guide/authentication/auth_server.html\\' target=\\'blank\\'>',\n     chhLinkStart: '<a href=\\'https://docs.docusign.com/esign/guide/authentication/oa2_jwt.html\\' target=\\'blank\\'>',\n     linkEnd:'</a>'\n   }\">\n</p>\n")}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/review-results-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ReviewResultsApiIntegratorKeyController as key" ds-form>\n\n  <div class="modal_header" translate="API Transactions Review Results">\n  </div>\n\n  <div class="modal_content">\n    <div ng-if="key.status && (key.status === \'ReviewFailed\' || key.status === \'Error\')" class="highlight highlight-alert">\n      <h3 translate="Review has failed."></h3>\n      <div>\n        <ul>\n          <li translate="Please ensure you have 20 or more consecutive error-free API transactions."></li>\n          <li translate="Verify that your transactions comply with [[apiRulesAndLimitsLinkStart]]API rules and limits[[apiRulesAndLimitsLinkEnd]]."\n              translate-values="{apiRulesAndLimitsLinkStart:\'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/developer-center/api-overview#api-rules\\\'>\', apiRulesAndLimitsLinkEnd:\'</a>\'}"\n              translate-interpolation=\'bracket\'></li>\n        </ul>\n      </div>\n    </div>\n\n    <div ng-if="key.status && key.status === \'ReviewPassed\'" class="highlight highlight-success">\n      <h3 translate="Review has passed"></h3>\n      <div>\n        <p ng-hide="key.enough_api_calls && key.acceptable_errors_level">\n          <i class="icon icon-alert-circle"> <span translate="20+ error-free consecutive transactions not found"></span></i>\n        </p>\n        <p ng-show="key.enough_api_calls && key.acceptable_errors_level">\n          <i class="icon icon-circlecheck"> <span translate="20+ error-free consecutive transactions found"></span></i>\n        </p>\n        <p ng-hide="key.no_excessive_polling">\n          <i class="icon icon-alert-circle"> <span translate="Transactions not compliant with [[start]]API rules and limits[[end]]"\n                                                   translate-values="{start:\'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/developer-center/api-overview#api-rules\\\'>\', end:\'</a>\'}"\n                                                   translate-interpolation=\'bracket\'></span></i>\n        </p>\n        <p ng-show="key.no_excessive_polling">\n          <i class="icon icon-circlecheck"> <span translate="In compliance with [[start]]API rules and limits[[end]]"\n                                                  translate-values="{start:\'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/developer-center/api-overview#api-rules\\\'>\', end:\'</a>\'}"\n                                                  translate-interpolation=\'bracket\'></span></i>\n        </p>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button ng-if="key.status === \'ReviewPassed\'" class="btn btn-lg btn-primary" olive-modal-complete translate="Go Live" autofocus></button>\n    <button ng-if="key.status === \'ReviewPassed\'" id="cancel" class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n    <button ng-if="key.status && (key.status === \'ReviewFailed\' || key.status === \'Error\')" id="cancel" class="btn btn-lg btn-primary" olive-modal-escape translate="OK"></button>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n(20),s=function(){function e(e,t,n,a,i,s){this.$scope=e,this.$q=t,this.$timeout=n,this.modals=a,this.notifier=i,this.$translate=s,this.envelope_id=e.clientApplication.envelope_id,this.status=e.clientApplication.status,this.enough_api_calls=e.clientApplication.enough_api_calls||!1,this.acceptable_errors_level=e.clientApplication.acceptable_errors_level||!1,this.no_excessive_polling=e.clientApplication.no_excessive_polling||!1}return e.prototype.promote=function(){var e=this,t=this.$scope.$new(!0),n={name:i.PROMOTE_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/promote-api-integrator-key-modal.html",scope:t,onComplete:function(t){e.$timeout(function(){var n=e.$translate.instant("You successfully submitted a request to promote the API Integrator Key {{styleStart}}{{keyName}}{{styleEnd}} to Production. You will receive an email with the status of your request.",{keyName:t.name,styleStart:"<strong>",styleEnd:"</strong>"});e.notifier.show(n,null,"success")},500)}};return this.modals.openModal(n)},e}();a.APIIntegratorKeyModule.controller("ReviewResultsApiIntegratorKeyController",["$scope","$q","$timeout","oliveModal","oliveMessage","$translate",s])},function(e,t){var n="integrations/api-integrator-key/review-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ReviewApiIntegratorKeyController as key" ds-form>\n\n  <div class="modal_header" translate="Review API Transactions">\n  </div>\n\n  <div class="modal_content">\n    <div class="highlight highlight-attention">\n      <strong translate="To promote this key to a live DocuSign account you need:"></strong>\n      <ol>\n        <li translate="20+ demo transactions run using this key">\n        </li>\n        <li translate="An active API Plan or Enterprise edition">\n        </li>\n        <li translate="Administrative privileges to the live account">\n        </li>\n      </ol>\n    </div>\n\n    <div class="form-group">\n      <p class="header-description" label-required="*"\n         translate="Date when you ran at least 20 demo transactions">\n      </p>\n      <div class="column-date-picker"\n           id="review-api-integrator-key-date-range-picker">\n        <div ds-cal ds-type="single" ds-min-past-date="{{key.minPastDate}}">\n          <div class="cal-input">\n            <span class="input-group">\n              <span class="addon icon icon-field-date" ds-cal-start-date-icon></span>\n              <input translate translate-attr-placeholder=\'Pick a test date\'\n                type=\'text\'\n                class="input-text input ds-range-start"\n                ng-focus="calendarInputDisplayed = true"\n                ng-blur="calendarInputDisplayed = false"\n                ng-disabled="calendarInputDisplayed"\n                ng-model="key.startDate"\n                id="startDate" required/>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <p translate="Your test transactions must comply with [[start]]API rules and limits[[end]]."\n       translate-values="{start:\'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/developer-center/api-overview#api-rules\\\'>\', end:\'</a>\'}"\n       translate-interpolation=\'bracket\'>\n    </p>\n\n    <p>\n      <i class="icon icon-info"></i> <span translate="Reviews may take 5 to 20 minutes."></span>\n    </p>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" ds-form-submit="key.review()"\n            translate="Review">\n    </button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"\n            autofocus="true">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){function e(e,t,n,a,i,s,o,r,l){this.$scope=e,this.$q=t,this.appUser=n,this.clientApplicationService=a,this.modals=i,this.notifier=s,this.$translate=o,this._=r,this._moment=l,this.minPastDate=this._moment.utc().subtract(90,"days").toDate().getTime(),this.clientApplication=e.clientApplication}return e.prototype.review=function(){var e=this,t=new this._moment(this.startDate,"L").utc();if(t.isValid()){if(this._.isEmpty(this.clientApplication.id)){var n={account_id:this.appUser.getCurrentAccountId(),client_id:this.clientApplication.client_id,is_client_app:this.clientApplication.is_client_application||!1,name:this.clientApplication.name,redirect_uris:this.clientApplication.redirect_uris};this.clientApplication.loading=this.clientApplicationService.migrateIntegratorKeyToClientSecret(n)}else this.clientApplication.loading=this.clientApplicationService.getClientApplication(this.clientApplication.id);return this.clientApplication.loading.then(function(n){e._.isEmpty(e.$scope.clientApplication.id)&&(e.$scope.clientApplication.id=n.id,e.$scope.$parent.$emit(a.UPDATED_KEY_EVENT_NAME,e.$scope.clientApplication)),e.clientApplicationService.submitForReview(e.clientApplication.id,e.clientApplication.client_id,t.subtract(12,"hours").format(),t.add(48,"hours").format()).then(function(){e.modals.completeTopModal(),e.notifier.closeAll()}).catch(function(){e.notifier.show("This integrator key could not be reviewed. Please try again in a moment.","integrator-key-review-error","error",{modal:a.REVIEW_KEY_MODAL_NAME}),e.notifier.closeAll()})})}this.notifier.show("Please enter a valid date.","integrator-key-review-error","error",{modal:a.REVIEW_KEY_MODAL_NAME}),this.notifier.closeAll()},e}();a.APIIntegratorKeyModule.controller("ReviewApiIntegratorKeyController",["$scope","$q","appUser","DocuSignAccountServerApiClientApplication","oliveModal","oliveMessage","$translate","lodash","moment",i])},function(e,t){var n="integrations/api-integrator-key/resume-app-review-process-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ResumeAppReviewProcessController as rarpCtrl" ds-form>\n\n  <div class="modal_header" translate="Select a Production account">\n  </div>\n\n  <div class="modal_content">\n    <div ng-if="rarpCtrl.accounts.length" class="form-group">\n      <p class="header-description" translate="Select the account you want to use to promote the integrator key:">\n      </p>\n    </div>\n\n    <div ng-if="rarpCtrl.accounts.length" ng-repeat="account in rarpCtrl.accounts">\n      <div class="rb inline-input">\n        <input class="rb_input" type="radio" name="radio" id="r{{account.account_id}}" ng-model="rarpCtrl.selectedAccount" ng-value="account" ng-disabled="!account.plan_enabled">\n        <label class="rb_label" for="r{{account.account_id}}">{{account.account_name}} - {{account.account_id}}</label>\n      </div>\n    </div>\n\n    <div ng-if="!rarpCtrl.accounts.length" class="highlight highlight-attention">\n      <p translate="You do not have an eligible DocuSign subscription."></p>\n      <a href="https://secure.docusign.com/developer" translate="Please buy one here."></a>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" ng-if="rarpCtrl.accounts.length" ng-disabled="!rarpCtrl.selectedAccount" ds-form-submit="rarpCtrl.send(rarpCtrl.selectedAccount)" translate="Select"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel" autofocus="true"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){function e(e,t,n,a){this.$scope=e,this.$q=t,this.clientApplicationService=n,this.modal=a,this.accounts=e.accounts,this.selectedAccount=null}return e.prototype.send=function(e){var t=this;this.modal.completeTopModal(this),this.$scope.apiIntegratorKey.loading=this.clientApplicationService.updateAppReviewJob(this.$scope.appreviewjobId,e.account_id,e.encrypted_account_id),this.$scope.apiIntegratorKey.loading.then(function(e){t.$scope.apiIntegratorKey.status=e.status}).catch(function(){t.$scope.apiIntegratorKey.status=a.APP_REVIEW_STATUS_ERROR})},e}();a.APIIntegratorKeyModule.controller("ResumeAppReviewProcessController",["$scope","$q","DocuSignAccountServerApiClientApplication","oliveModal",i])},function(e,t){var n="integrations/api-integrator-key/promote-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="PromoteApiIntegratorKeyController as key" ds-form>\n\n  <div class="modal_header" translate="Terms and Conditions">\n  </div>\n\n  <div class="modal_content">\n    <div class="cb inline-input">\n      <input class="cb_input" type="checkbox" id="terms_and_privacy" ng-model="terms_and_privacy" required>\n      <label class="cb_label" for="terms_and_privacy" translate="By clicking the \'SUBMIT\' button below, you agree or re-affirm your agreement to the [[termsLinkStart]]Terms & Conditions[[linkEnd]] and [[privacyLinkStart]]Privacy Policy[[linkEnd]]."\n             translate-values="{termsLinkStart: \'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/company/terms-and-conditions/developers\\\'>\', privacyLinkStart: \'<a target=\\\'blank\\\' href=\\\'https://www.docusign.com/company/privacy-policy\\\'>\',linkEnd:\'</a>\'}"\n             translate-interpolation=\'bracket\' translate-compile>\n      </label>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" ng-disabled="!terms_and_privacy" olive-modal-complete translate="Submit"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){return function(e,t,n){this.$scope=e,this.$q=t,this.$translate=n}}();a.APIIntegratorKeyModule.controller("PromoteApiIntegratorKeyController",["$scope","$q","$translate",i])},function(e,t){var n="integrations/api-integrator-key/production-loggedin-warning-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ProductionLoggedinWarningController as warning">\n\n  <div class="modal_header"\n       translate="Your Live admin session is still alive">\n  </div>\n\n  <div class="modal_content" olive-modal-content>\n    <div class="highlight highlight-attention">\n      <p\n        translate="You are still logged in with your Live account. Click [[prodLinkStart]]here[[prodLinkEnd]] to open the Live admin console."\n        translate-values="{prodLinkStart:\'<a target=\\\'blank\\\' href=\\\'{{warning.radminProdUrl}}\\\'>\', prodLinkEnd:\'</a>\'}"\n        translate-interpolation=\'bracket\'></p>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button id="cancel" class="btn btn-lg btn-primary" olive-modal-escape\n            translate="OK"></button>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){return function(e){this.$scope=e,this.radminProdUrl=e.radminProdUrl}}();a.APIIntegratorKeyModule.controller("ProductionLoggedinWarningController",["$scope",i])},function(e,t){var n="integrations/api-integrator-key/list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div>\n  <h2 class="header-title" translate="My Apps / Integrator Keys"></h2>\n\n  <div class=\'col-1-3 header-action\'>\n    <button class=\'btn btn-primary btn-md\'\n        ng-if="integratorKeys.canAddClientApplication()"\n        ng-click="integratorKeys.add()"\n        data-qa="api_integrator_keys_add_key_btn">\n      <span translate="Add App / Integrator Key"></span>\n    </button>\n  </div>\n\n  <table class="tbl mtbl"\n      ds-sortable="sortProperty"\n      ds-sortable-initial-property="name"\n      ds-sortable-reverse="reverse">\n    <thead>\n    <tr>\n      <th ds-sort="name"><span translate="App Description"></span></th>\n      <th ds-sort="client_id"><span translate="Integrator Key"></span></th>\n      <th ds-sort="" ng-if="integratorKeys.canDisplayAppReview()">\n        <span translate="Status"></span>\n      </th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n\n    <tbody>\n      <tr class="click-row"\n          ng-repeat=\'apiIntegratorKey in integratorKeys.apiIntegratorKeys | orderBy:sortProperty:reverse\'>\n        <td data-qa="api_integrator_keys_key_name">{{apiIntegratorKey.name}}</td>\n\n        <td ng-click=\'integratorKeys.edit(apiIntegratorKey)\' data-title=\'name\'>\n          {{apiIntegratorKey.client_id}}\n        </td>\n\n        <td ng-click=\'integratorKeys.edit(apiIntegratorKey)\' ng-if="integratorKeys.canDisplayAppReview()">\n          <div ng-hide="keyLoaded"\n            ds-loading="apiIntegratorKey.loading"\n            ds-loading-completed="keyLoaded"\n            ds-class="spinner-sm" ds-is-inline="true">\n          </div>\n\n          <span ng-if="integratorKeys.isStatusDemo(apiIntegratorKey)">\n            <i class="icon icon-circle text-muted"></i>\n            <span translate="Demo"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusReviewing(apiIntegratorKey)">\n            <i class="icon icon-circle text-pending"></i>\n            <span translate="Under Review"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusPassed(apiIntegratorKey)">\n            <i class="icon icon-circle text-info"></i>\n            <span translate="Review Passed"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusFailed(apiIntegratorKey)">\n            <i class="icon icon-circleclosed"></i>\n            <span translate="Review Failed"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusUnderComplianceReview(apiIntegratorKey)">\n            <i class="icon icon-circle text-pending"></i>\n            <span translate="Pending Approval"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusComplianceFailed(apiIntegratorKey)">\n            <i class="icon icon-circleclosed"></i>\n            <span translate="Declined"></span>\n          </span>\n\n          <span ng-if="keyLoaded && integratorKeys.isStatusProduction(apiIntegratorKey)">\n            <i class="icon icon-circle text-success"></i>\n            <span translate="Live"></span>\n          </span>\n\n          <span ng-if="integratorKeys.isStatusError(apiIntegratorKey)">\n            <i class="icon icon-circleclosed"></i>\n            <span translate="Error"></span>\n          </span>\n        </td>\n\n        <td data-title=\'Actions\' class="column-min">\n          <button type=\'button\' class=\'btn btn-secondary btn-trigger\'\n            olive-menu=\'keyActions-{{apiIntegratorKey.client_id}}\'\n            translate="Actions">\n          </button>\n\n          <div id=\'keyActions-{{apiIntegratorKey.client_id}}\' class=\'menu invisible\'>\n            <ul>\n              <li>\n                <button type="button" class=\'item\'\n                  ng-click=\'integratorKeys.edit(apiIntegratorKey)\'\n                  translate="Edit">\n                </button>\n              </li>\n\n              <li>\n                <button type="button" class=\'item\'\n                  ng-if="integratorKeys.canDisplayAppReview() && (\n                    integratorKeys.isStatusReviewing(apiIntegratorKey) ||\n                    integratorKeys.isStatusUnderComplianceReview(apiIntegratorKey)\n                  )"\n                  ng-click=\'integratorKeys.retrieveReviewResults(apiIntegratorKey)\'\n                  translate="Refresh Status">\n                </button>\n              </li>\n\n              <li>\n                <button type="button" class=\'item\'\n                  ng-if="integratorKeys.isStatusError(apiIntegratorKey) ||\n                    integratorKeys.canDisplayAppReview() && (\n                      integratorKeys.isStatusDemo(apiIntegratorKey) ||\n                      integratorKeys.isStatusComplianceFailed(apiIntegratorKey)\n                    )"\n                  ng-click=\'integratorKeys.review(apiIntegratorKey)\'\n                  translate="Review Transactions">\n                </button>\n              </li>\n\n              <li>\n                <button type="button" class=\'item\'\n                  ng-if="integratorKeys.canDisplayAppReview() &&\n                    integratorKeys.isStatusPassed(apiIntegratorKey)"\n                  ng-click=\'integratorKeys.promote(apiIntegratorKey)\'\n                  translate="Go Live">\n                </button>\n              </li>\n\n              <li>\n                <button type="button" class=\'item\'\n                  ng-if="integratorKeys.canDisplayAppReview() && (\n                    integratorKeys.isStatusPassed(apiIntegratorKey) ||\n                    integratorKeys.isStatusFailed(apiIntegratorKey)\n                  )"\n                  ng-click=\'integratorKeys.review(apiIntegratorKey)\'\n                  translate="Resubmit for Review">\n                </button>\n              </li>\n\n              <li>\n                <button type="button" class=\'item\'\n                  ng-if="integratorKeys.canDisplayAppReview() && (\n                    integratorKeys.isStatusPassed(apiIntegratorKey) ||\n                    integratorKeys.isStatusFailed(apiIntegratorKey)\n                  )"\n                  ng-click=\'integratorKeys.reviewResults(apiIntegratorKey)\'\n                  translate="Review Results">\n                </button>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n\n      <tr ng-if="keysLoaded && !integratorKeys.hasIntegratorKeys()">\n        <td colspan="3">\n          <p class="text-center text-muted" ng-switch="integratorKeys.accountServerApiAccessible">\n            <span ng-switch-when="true" translate="No Integrator Keys"></span>\n            <span ng-switch-default\n              translate="For your security, please [[linkStart]]log in[[linkEnd]] again to manage your integrator keys."\n              translate-interpolation="bracket" translate-compile\n              translate-values="{\n                linkStart: \'<a ui-sref=\\\'requesting authentication\\\'>\',\n                linkEnd: \'</a>\'\n              }">\n            </span>\n          </p>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div ng-hide="keysLoaded"\n    ds-loading="integratorKeys.loading"\n    ds-loading-completed="keysLoaded">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/integration-information.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 class=\'header-title\' translate="My Account Information"></h2>\n<div class="grid">\n  <div class="col-1-2">\n    <dl class="def-list" ng-controller="IntegrationInformation as integration">\n      <dt translate="API Username"></dt>\n      <dd translate="[[userId]]"\n        translate-interpolation="bracket"\n        translate-values="{\n          userId: integration.userId,\n          emailAddress: integration.userEmail\n        }">\n      </dd>\n\n      <dt translate="API Account ID"></dt>\n      <dd>{{integration.accountId}}</dd>\n    </dl>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){return function(e){var t=this;this.userId=e.currentAccount.userId,this.userEmail=e.currentAccount.email,e.currentAccountInfo.informationRetrieved.then(function(){t.accountId=e.getCurrentAccountId()})}}();a.APIIntegratorKeyModule.controller("IntegrationInformation",["appUser",i])},function(e,t){var n="integrations/api-integrator-key/edit-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="EditApiIntegratorKeyController as key" ds-form>\n\n  <div class="modal_header" translate="Edit API Integrator Key">\n  </div>\n\n  <div class="modal_content">\n    <div class="form-group">\n      <label class="label" for="integrator-key-description" label-required="*" translate="App Description"></label>\n      <input id="integrator-key-description" type="text" class="input-text" ng-maxlength="100"\n             ng-model="key.description" ds-valid required />\n    </div>\n    <div class="form-group">\n      <label class="label" for="integrator-key" translate="Integrator Key"></label>\n      <input id="integrator-key" type="text" disabled class="input-text" ng-model="key.clientId" />\n    </div>\n    <div class="form-group">\n      <label for="privacyPolicyUri" class="label" translate="Link to Privacy Policy"></label>\n      <input id="privacyPolicyUri" type="text" class="input-text" required ng-maxlength="100"\n             translate translate-attr-placeholder="http://www.example.com/privacy"\n             ng-model="key.privacyPolicyUri" ds-valid="function" ds-valid-function="key.validateHttpUri(key.httpUriPattern)" />\n    </div>\n\n    <div class="form-group">\n      <label for="termsOfUseUri" class="label" translate="Link to Terms of Use"></label>\n      <input id="termsOfUseUri" type="text" class="input-text" required ng-maxlength="100"\n             translate translate-attr-placeholder="http://www.example.com/terms"\n             ng-model="key.termsOfUseUri" ds-valid="function" ds-valid-function="key.validateHttpUri(key.httpUriPattern)" />\n    </div>\n\n    <div class="form-group cb">\n      <input class="cb_input"\n             type="checkbox"\n             id="isMobileApp"\n             ng-model="key.isMobileApp" />\n      <label class="cb_label"\n             for="isMobileApp"\n             translate="This is a mobile app.">\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label class="label" translate="Redirect URIs"></label>\n    </div>\n\n    <div class="input-group-flat" ng-repeat="(i, uri) in key.redirectUris track by $index">\n      <input name="redirectUri" type="text" class="input-text inline-input"\n        maxlength="2000" required\n        ng-model="key.redirectUris[i]"\n        ds-valid="function" ds-valid-function="key.validateRedirectUri"\n        translate translate-attr-placeholder="https://www.example.com/callback" />\n      <span class="icon icon-times" title="Remove"\n        ng-click="key.removeRedirectUri(i)">\n      </span>\n    </div>\n\n    <div class="btn btn-lg btn-dashed btn-block btn-add-recipient" ng-click="key.addRedirectUri()">\n      <span class="icon icon-plus"></span>\n      <span translate="Add URI"></span>\n    </div>\n\n    <div class="form-group">\n      <label class="label" translate="Secret Keys"></label>\n    </div>\n\n    <div class="input-group-flat" ng-repeat="secretKey in key.secretKeys track by secretKey.id">\n      <input name="redirectUri" type="text" class="input-text inline-input" disabled value="{{secretKey.secret}}" />\n      <span class="icon icon-times" title="Remove"\n        ng-click="key.removeSecret(secretKey.id)">\n      </span>\n    </div>\n\n    <div class="btn btn-lg btn-dashed btn-block btn-add-recipient" ng-click="key.generateSecret()">\n      <span class="icon icon-plus"></span>\n      <span translate="Add Secret Key"></span>\n    </div>\n\n    <div class="form-group">\n      <label class="label" translate="RSA Keypairs (ID)"></label>\n    </div>\n\n    <div class="input-group-flat" ng-repeat="rsaKeypair in key.rsaKeypairs track by rsaKeypair.id">\n      <input name="redirectUri" type="text" class="input-text inline-input" disabled value="{{rsaKeypair.id}}" />\n      <span class="icon icon-times" title="Remove" ng-click="key.removeRsaKeypair(rsaKeypair.id)"></span>\n    </div>\n\n    <div class="btn btn-lg btn-dashed btn-block btn-add-recipient" ng-click="key.generateRsaKeypair()"\n        ng-disabled="key.rsaKeypairs && key.rsaKeypairs.length >= 5">\n      <span class="icon icon-plus"></span>\n      <span translate="Add RSA Keypair"></span>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" ds-form-submit="key.save()" translate="Save"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){function e(e,t,n,i,s,o,r,l,c){var d=this;this.$scope=e,this.$q=t,this.appUser=n,this.clientApplicationService=i,this.modals=s,this.notifier=o,this.$translate=r,this.RADminUtil=l,this._=c,this.httpUriPattern=l.generateHttpUriPattern();var u,p=e.clientApplication.id;if(c.isEmpty(p)){var m={account_id:this.appUser.getCurrentAccountId(),client_id:e.clientApplication.client_id,is_client_app:e.clientApplication.is_client_application,name:e.clientApplication.name,privacy_policy:e.clientApplication.privacy_policy,redirect_uris:e.clientApplication.redirect_uris,terms_of_use:e.clientApplication.terms_of_use};u=this.clientApplicationService.migrateIntegratorKeyToClientSecret(m)}else u=i.getClientApplication(p);function g(e){return!e.type||"shared"===e.type}function h(e){return"rsa"===e.type}u.then(function(e){d.clientApplicationId=e.id,d.description=e.name,d.privacyPolicyUri=e.privacy_policy,d.termsOfUseUri=e.terms_of_use,d.isMobileApp=e.is_client_application,d.redirectUris=e.redirect_uris,d.secretKeys=e.secrets.filter(g),d.rsaKeypairs=e.secrets.filter(h),d.clientId=e.client_id}).catch(function(){d.notifier.show("Changes to this integrator key cannot be made at this time. Please refresh the page, try again later or contact support.","integrator-key-update-error","warning",{modal:a.EDIT_KEY_MODAL_NAME})}),u.then(function(t){d.$scope.clientApplication.id=t.id,e.$emit(a.UPDATED_KEY_EVENT_NAME,t)})}return e.prototype.save=function(){var e=this,t={is_client_app:this.isMobileApp,name:this.description,privacy_policy:this.privacyPolicyUri,redirect_uris:this._.compact(this.redirectUris),terms_of_use:this.termsOfUseUri};return this.clientApplicationService.updateClientApplication(this.clientApplicationId,t).then(function(t){return e.modals.completeTopModal(t)}).catch(function(){e.notifier.show("This integrator key could not be updated. Please try again in a moment.","integrator-key-update-error","error",{modal:a.EDIT_KEY_MODAL_NAME})})},e.prototype.addRedirectUri=function(){this.redirectUris.push("")},e.prototype.removeRedirectUri=function(e){this.redirectUris.splice(e,1),$(":focus").blur()},e.prototype.generateSecret=function(){var e=this;return this.clientApplicationService.generateSecret(this.clientApplicationId).then(function(t){e.secretKeys=t.secrets})},e.prototype.removeSecret=function(e){var t=this;return this.clientApplicationService.deleteSecret(this.clientApplicationId,e).then(function(){t._.remove(t.secretKeys,{id:e})})},e.prototype.generateRsaKeypair=function(){var e=this;this.clientApplicationService.generateRsaKeypair(this.clientApplicationId).then(function(t){e.rsaKeypairs.push(new function(e){this.id=e.key_id,this.secret=null,this.type="rsa"}(t));var n=e.$scope.$new();n.keypairId=t.key_id,n.publicKey=t.public_key,n.privateKey=t.private_key,e.modals.openModal({name:"display-rsa-keypair",scope:n,templateUrl:"integrations/api-integrator-key/display-rsa-keypair.html",showClose:!1,size:"lg"})})},e.prototype.removeRsaKeypair=function(e){var t=this;this.clientApplicationService.deleteRsaKeypair(this.clientApplicationId,e).then(function(){return t._.remove(t.rsaKeypairs,{id:e})})},e.prototype.validateHttpUri=function(e){return function(t){return!t||e.test(t)}},e.prototype.validateRedirectUri=function(t){return!t||e.redirectUriPattern.test(t)},e.redirectUriPattern=a.REDIRECT_URI_PATTERN,e}();a.APIIntegratorKeyModule.controller("EditApiIntegratorKeyController",["$scope","$q","appUser","DocuSignAccountServerApiClientApplication","oliveModal","oliveMessage","$translate","RADminUtil","lodash",i])},function(e,t){var n="integrations/api-integrator-key/display-rsa-keypair.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header">\n  <h1 class="modal_title" translate="RSA Keypair"></h1>\n</div>\n\n<div class="modal_content">\n  <div class="form_unit">\n    <p translate="[[styleStart]]Keypair ID:[[styleEnd]] [[id]]"\n      translate-interpolation="bracket"\n      translate-values="{\n        styleStart: \'<strong>\',\n        styleEnd: \'</strong>\',\n        id: keypairId\n      }">\n    </p>\n  </div>\n\n  <p class="strong text-alert" translate="ATTENTION:"></p>\n  <p class="strong" translate="Copy both of these keys to a safe location, they will not be displayed again."></p>\n\n  <div class="form_unit">\n    <label for="public_key" class="label" translate="Public Key"></label>\n    <textarea id="public_key" readonly\n      class="input-textarea integrations_applications_rsa-key">{{::publicKey}}</textarea>\n  </div>\n\n  <div class="form_unit">\n    <label for="private_key" class="label" translate="Private Key"></label>\n    <textarea id="private_key" readonly\n      class="input-textarea integrations_applications_rsa-key">{{::privateKey}}</textarea>\n  </div>\n</div>\n\n<div class="modal_footer">\n  <button class="btn btn-lg btn-primary" olive-modal-complete translate="OK" autofocus></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/delete-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" translate="Confirm Delete">\n</div>\n\n<div class="modal_content">\n  <p translate="Are you sure you want to delete this API Integrator Key?"></p>\n  <p class="text-strong">{{clientId}}</p>\n</div>\n\n\n<div class="modal_footer">\n  <button class="btn btn-lg btn-primary" olive-modal-complete translate="DS_CONTEXT=(integrator key) Delete"></button>\n  <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="integrations/api-integrator-key/api-integrator-key.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="integrations site-main"\n    ng-controller="APIIntegratorKeyController as integratorKeys">\n  <div class="section">\n    <h1 class=\'header-title\' translate="For Developers: API and Integrator Key Information"></h1>\n    <p translate="Developers who would like to integrate DocuSign into their software need to create and configure an integrator key (also known as a [[linkStart]]client_id[[linkEnd]]), as well as other app parameters. An integrator key is used to make API calls, whether you are calling an API directly or using an SDK."\n    translate-interpolation="bracket"\n    translate-values="{\n    linkStart: \'<i>\',\n    linkEnd:\'</i>\'\n    }">\n  </p>\n  </div>\n\n  <div class="section" ng-include="\'integrations/api-integrator-key/integration-information.html\'"\n    data-qa="api_integrator_keys_integration_info_div">\n  </div>\n\n  <div class="section" ng-include="\'integrations/api-integrator-key/list.html\'"\n    data-qa="api_integrator_keys_list_div">\n  </div>\n\n  <div class="section">\n    <div ng-include="\'integrations/api-integrator-key/user-information/what-is-an-integrator-key.html\'"\n      data-qa="api_integrator_keys_what_is_integrator_key_div">\n    </div>\n    <div ng-include="\'integrations/api-integrator-key/user-information/how-to-manage-integrator-keys.html\'"></div>\n    <div ng-include="\'integrations/api-integrator-key/user-information/developer-tools-and-resources.html\'"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20).APIIntegratorKeyModule.controller("ApiIntegratorKeyTranslationsController",["lodash",function(e){e.assign(this,a)}]);var a={"DocuSign Developer Center":{template:"[[linkStart]]DocuSign Developer Center[[linkEnd]] – Main site for all developer resources.",values:{linkStart:'<a href="https://developers.docusign.com/" target="_blank">',linkEnd:"</a>"}},"REST Guides":{template:"[[linkStart]]REST Guides[[linkEnd]] – Conceptual and how-to guidance for developing with a DocuSign REST API or SDK.",values:{linkStart:'<a href="https://developers.docusign.com/esign-rest-api/guides" target="_blank">',linkEnd:"</a>"}},"REST Code Examples":{template:"[[linkStart]]REST Code Examples[[linkEnd]] – Example code for common scenarios in all supported languages that you can use to copy/paste into your projects.",values:{linkStart:'<a href="https://developers.docusign.com/esign-rest-api/code-examples" target="_blank">',linkEnd:"</a>"}},"REST API Reference":{template:"[[linkStart]]REST API Reference[[linkEnd]] – Fully-documented reference for all API endpoints, methods, parameters, and data structures.",values:{linkStart:'<a href="https://developers.docusign.com/esign-rest-api/reference" target="_blank">',linkEnd:"</a>"}},SDKs:{template:"[[linkStart]]SDKs[[linkEnd]] – Open source SDKs generated using Swagger/OAI available in the most popular programming languages to jumpstart your DocuSign development.",values:{linkStart:'<a href="https://developers.docusign.com/esign-rest-api/sdk-tools" target="_blank">',linkEnd:"</a>"}},"API Explorer":{template:"[[linkStart]]API Explorer[[linkEnd]] – Make REST API calls without writing any code.",values:{linkStart:'<a href="https://apiexplorer.docusign.com" target="_blank">',linkEnd:"</a>"}},"LoanCo Sample App":{template:"[[linkStart]]LoanCo Sample App[[linkEnd]] – See our eSignature API in action for a fictitious financing company, LoanCo, by exploring three scenarios of increasing complexity.",values:{linkStart:'<a href="https://loancosample.docusign.com/" target="_blank">',linkEnd:"</a>"}},Community:{template:"[[linkStart]]Community[[linkEnd]] – Visit our developer community on Stack Overflow to get your questions answered or to help-out fellow DocuSign developers.",values:{linkStart:'<a href="http://stackoverflow.com/questions/tagged/docusignapi" target="_blank">',linkEnd:"</a>"}},"SOAP Resources":{template:"[[linkStart]]SOAP Resources[[linkEnd]] – Guides, Code Examples, API Reference, and support information if you are using SOAP instead of REST.",values:{linkStart:'<a href="https://developers.docusign.com/esign-soap-api" target="_blank">',linkEnd:"</a>"}},"Go Live Process":{template:"[[linkStart]]Go Live Process[[linkEnd]] – Ready to launch your integration? Read through our go-live process.",values:{linkStart:'<a href="https://developers.docusign.com/esign-rest-api/guides/go-live" target="_blank">',linkEnd:"</a>"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n(20),s=n(13),o=function(){function e(e,t,n,i,o,r,l,c,d,u,p,m,g,h,f){var v=this;this.$scope=e,this.$state=t,this.$stateParams=n,this.$q=i,this.$http=o,this.$timeout=r,this.$sessionStorage=l,this.configuration=c,this.dsIntegratorKeyService=d,this.clientApplicationService=u,this.modal=p,this.$translate=m,this.notifier=g,this.$window=h,this.$interval=f,this.apiIntegratorKeys=[],this.clientAppCreationAllowed=c.clientAppCreationAllowed,this.clientAppReviewEnabled=c.clientAppReviewEnabled;var _=u.getClientApplications();function b(e){return!0===e.enabled}_.catch(function(){v.accountServerApiAccessible=!1}),this.loading=_.then(function(e){var t=this;if(this.clientAppReviewEnabled){var n;if(e.forEach(function(e){n=n||t.retrieveReviewResults(e)}),n){this.notifier.show("Error while retrieving one or more API Integrator Key statuses. Please try again in a moment.",null,"error"),this.notifier.closeAll()}}this.accountServerApiAccessible=!0,this.apiIntegratorKeys=e}.bind(this)).then(function(){var e=this;if(c.integratorKeyManagementEnabled)return d.getAllIntegratorKeysForAccount().then(function(t){(t||[]).filter(b).filter(function(e){return function(t){return!e.some(function(e){return function(t){return e.client_id===t.client_id}}(t))}}(e.apiIntegratorKeys)).forEach(function(e){return function(t){e.push({account_id:null,client_id:t.client_id,id:null,is_client_application:null,name:t.name,privacy_policy:null,redirect_uris:t.redirectUri,secrets:[],terms_of_use:null})}}(e.apiIntegratorKeys))})}.bind(this)),e.$on(a.UPDATED_KEY_EVENT_NAME,function(e){return function(t,n){s.remove(e,{client_id:n.client_id}),e.push(n),t.stopPropagation()}}(this.apiIntegratorKeys))}return e.prototype.hasIntegratorKeys=function(){return!s.isEmpty(this.apiIntegratorKeys)},e.prototype.add=function(){var e=this,t={name:a.NEW_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/add-api-integrator-key-modal.html",scope:this.$scope.$new(!0),onComplete:function(t){e.apiIntegratorKeys.push(t),e.$timeout(function(){e.edit(t).then(function(n){var a=e.$translate.instant("You successfully created the API Integrator Key {{keyName}}.",{keyName:t.name});e.notifier.show(a,null,"success",{modal:n.name}),e.notifier.closeAll()})},500)}};return this.modal.openModal(t)},e.prototype.edit=function(e){var t=this,n=this.$scope.$new(!0);return n.clientApplication=e,this.modal.openModal({name:a.EDIT_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/edit-api-integrator-key-modal.html",scope:n,onComplete:function(e){s.remove(t.apiIntegratorKeys,{client_id:e.client_id}),t.apiIntegratorKeys.push(e);t.notifier.show("Your integrator key has been updated.",null,"success")}})},e.prototype.retrieveReviewResults=function(e){var t=this.clientApplicationService.getReviewResults(e.id);e.loading=t.then(function(t){return s.isUndefined(t.status)||(e.status=t.status||a.APP_REVIEW_STATUS_DEMO,e.envelope_id=t.envelope_id,e.enough_api_calls=t.enough_api_calls,e.acceptable_errors_level=t.acceptable_errors_level,e.no_excessive_polling=t.no_excessive_polling,e.processed=t.processed),null}).catch(function(t){return e.status=a.APP_REVIEW_STATUS_ERROR,t})},e.prototype.review=function(e){var t=this,n=this.$scope.$new(!0);n.clientApplication=e;var i={name:a.REVIEW_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/review-api-integrator-key-modal.html",scope:n,onComplete:function(){t.retrieveReviewResults(n.clientApplication);var e=t.$translate.instant("Integrator Key {{keyName}} has been submitted for review, please check back for results. Reviews can take 5 to 20 minutes.",{keyName:n.clientApplication.name});t.notifier.show(e,null,"success",{persist:!0}),t.notifier.closeAll()}};return this.modal.openModal(i)},e.prototype.reviewResults=function(e){var t=this,n=this.$scope.$new(!0);n.clientApplication=s.cloneDeep(e);var i={name:a.REVIEW_RESULTS_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/review-results-api-integrator-key-modal.html",scope:n,onComplete:function(){t.$timeout(function(){t.promote(e).then(function(){t.notifier.closeAll()}).catch(function(){t.notifier.closeAll()})},500),t.modal.completeTopModal()}};return this.modal.openModal(i)},e.prototype.promote=function(e){var t=this,n=this.$scope.$new(!0),i={name:a.PROMOTE_KEY_MODAL_NAME,templateUrl:"integrations/api-integrator-key/promote-api-integrator-key-modal.html",scope:n,onComplete:function(){return t.clientApplicationService.redirectToRadminProduction(e).then(function(n){if(!s.isEmpty(n)&&!s.isEmpty(n.url))var a=screen.width/2-250,i=screen.height/2-250,o=t.$window.open(n.url,"popup","top="+i+",left="+a+",width=500,height=500",!0),r=1e3,l=t,c=t.$interval(function(){r+=500;try{s.isEmpty(l.$window.obj)||s.isEmpty(l.$window.obj.code)||(l.$interval.cancel(c),o&&o.close&&o.close(),l.resumeAppReviewProcess(e,l.$window.obj.code))}catch(e){l.$interval.cancel(c)}},r)}).catch(function(){t.notifier.show("Redirection to production login failed. Please try again in a moment.","integrator-key-promote-error","error",{modal:a.PROMOTE_KEY_MODAL_NAME}),t.notifier.closeAll()})}};return this.modal.openModal(i)},e.prototype.delete=function(e){var t=this,n=this.$scope.$new(!0);n.clientId=e.client_id;var a={templateUrl:"integrations/api-integrator-key/delete-api-integrator-key-modal.html",scope:n,onComplete:function(){t.clientApplicationService.deleteClientApplication(e.id).then(function(){s.remove(t.apiIntegratorKeys,{client_id:e.client_id});t.notifier.show("Your integrator key has been deleted.",null,"success")}).catch(function(){t.notifier.show("This integrator key could not be deleted. Please try again in a moment.",null,"error")})}};return this.modal.openModal(a)},e.prototype.resumeAppReviewProcess=function(e,t){var n=this;if(t){var i=this.$scope.$new(!0);i.code=t,i.apiIntegratorKey=e;var s=e.id;this.clientApplicationService.getReviewResults(s).then(function(s){e.loading=n.clientApplicationService.getProductionAccounts(s.id,t).then(function(t){i.accounts=t,i.appreviewjobId=s.id;var o={name:a.RESUME_APP_REVIEW_PROCESS_MODAL_NAME,templateUrl:"integrations/api-integrator-key/resume-app-review-process-modal.html",scope:i,onComplete:function(){var t=n.$translate.instant("Go Live request for Integrator key {{keyName}} has been sent, the key will be live within 24 hours.",{keyName:e.name});n.notifier.show(t,null,"success",{persist:!0}),n.notifier.closeAll(),n._showWarningModal()},onEscape:n._showWarningModal};n.$timeout(function(){return n.modal.openModal(o)},500)}).catch(function(){n.notifier.show("Could not finalize the Go Live process. Please try again in a moment or contact DocuSign support.",null,"error"),n.notifier.closeAll()})}).catch(function(){n.notifier.show("Could not finalize the Go Live process. Please try again in a moment or contact DocuSign support.",null,"error"),n.notifier.closeAll()})}},e.prototype.getStatus=function(e){return e.status===a.APP_REVIEW_STATUS_ERROR?a.APP_REVIEW_STATUS_ERROR:e.processed||s.isEmpty(e.status)||e.status===a.APP_REVIEW_STATUS_DEMO?e.status||a.APP_REVIEW_STATUS_DEMO:a.APP_REVIEW_STATUS_REVIEWING},e.prototype.isStatusDemo=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_DEMO},e.prototype.isStatusReviewing=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_REVIEWING},e.prototype.isStatusPassed=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_PASS},e.prototype.isStatusFailed=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_FAIL},e.prototype.isStatusUnderComplianceReview=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_PENDING},e.prototype.isStatusComplianceFailed=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_DECLINED},e.prototype.isStatusProduction=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_PRODUCTION},e.prototype.isStatusError=function(e){return this.getStatus(e)===a.APP_REVIEW_STATUS_ERROR},e.prototype.canAddClientApplication=function(){return this.clientAppCreationAllowed&&this.accountServerApiAccessible},e.prototype.canDisplayAppReview=function(){return this.clientAppReviewEnabled&&this.accountServerApiAccessible},e.prototype._showWarningModal=function(){var e=this.$scope.$new(!0),t=this;this.clientApplicationService.generateAppPromotionDestinationUri().then(function(n){e.radminProdUrl=n.url;var i={name:a.PRODUCTION_LOGGEDIN_WARNING_MODAL_NAME,scope:e,templateUrl:"integrations/api-integrator-key/production-loggedin-warning-modal.html",showClose:!1};t.$timeout(function(){return t.modal.openModal(i)},500)})},e}();i.APIIntegratorKeyModule.controller("APIIntegratorKeyController",["$scope","$state","$stateParams","$q","$http","$timeout","$sessionStorage","configuration","dsIntegratorKey","DocuSignAccountServerApiClientApplication","oliveModal","$translate","oliveMessage","$window","$interval",o])},function(e,t){var n="integrations/api-integrator-key/add-api-integrator-key-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddApiIntegratorKeyController as key" ds-form>\n\n  <div class="modal_header" translate="Add API Integrator Key">\n  </div>\n\n  <div class="modal_content">\n    <div class="form-group">\n      <label for="name" class="label" label-required="*" translate="App Description"></label>\n      <input id="name" type="text" class="input-text" required ng-maxlength="100"\n             ng-model="key.name" ds-valid />\n    </div>\n    <div class="form-group">\n      <label for="privacyPolicyUri" class="label" translate="Link to Privacy Policy"></label>\n      <input id="privacyPolicyUri" type="text" class="input-text" ng-maxlength="100"\n        translate translate-attr-placeholder="http://www.example.com/privacy"\n        ng-model="key.privacyPolicyUri" ds-valid="function"\n        ds-valid-function="key.validateHttpUri(key.httpUriPattern)" />\n    </div>\n    <div class="form-group">\n      <label for="termsOfUseUri" class="label" translate="Link to Terms of Use"></label>\n      <input id="termsOfUseUri" type="text" class="input-text" ng-maxlength="100"\n             translate translate-attr-placeholder="http://www.example.com/terms"\n             ng-model="key.termsOfUseUri" ds-valid="function" ds-valid-function="key.validateHttpUri(key.httpUriPattern)" />\n    </div>\n    <div class="form-group cb">\n\n      <input class="cb_input"\n             type="checkbox"\n             id="isMobileApp"\n             ng-model="key.isMobileApp" />\n\n      <label class="cb_label"\n             for="isMobileApp"\n             translate="This is a mobile app.">\n      </label>\n\n    </div>\n  </div>\n\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" name="add-api-integrator-key-submit" ds-form-submit="key.add()" translate="Add"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=function(){function e(e,t,n,a,i,s){this.appUser=e,this.clientApplicationService=t,this.notifier=n,this.modals=a,this.$translate=i,this.RADminUtil=s,this.httpUriPattern=s.generateHttpUriPattern()}return e.prototype.add=function(){var e=this,t={account_id:this.appUser.getCurrentAccountId(),is_client_app:this.isMobileApp,name:this.name,privacy_policy:this.privacyPolicyUri,redirect_uris:[],terms_of_use:this.termsOfUseUri},n=this.clientApplicationService.createClientApplication(t);return n.then(function(t){return e.modals.completeTopModal(t)}).catch(function(t){var n=t.data&&"ClientApplicationMaxReached"===t.data.error?e.$translate.instant("You have reached the maximum number of integrator keys allowed."):e.$translate.instant("This api integrator key could not be created. Try again in a moment.");e.notifier.show(n,"integrator-key-add-error","error",{modal:a.NEW_KEY_MODAL_NAME})}),n},e.prototype.validateHttpUri=function(e){return function(t){return!t||e.test(t)}},e}();a.APIIntegratorKeyModule.controller("AddApiIntegratorKeyController",["appUser","DocuSignAccountServerApiClientApplication","oliveMessage","oliveModal","$translate","RADminUtil",i])},function(e,t){window.angular.module("templates").run(["$templateCache",function(e){e.put("index.html",'<!DOCTYPE html>\n<html ng-controller="RootCtrl" ng="strict-di" lang="{{htmlLang()}}">\n<head>\n  <base href="/">\n\n  <meta charset="utf-8" />\n  <meta content="IE=EDGE" http-equiv="X-UA-Compatible" />\n  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0" />\n  <meta name="robots" content="all,follow" />\n\n  <title translate="{{title}}"></title>\n\n  <link type="image/x-icon" rel="icon" href="<%= olive.rootLocation %>/<%= olive.version %>/img/new_favicon.png" />\n\n  <style id="antiClickJack">body{display:none;}</style>\n  <script type="text/javascript">\n    if (self === top) {\n      var antiClickJack = document.getElementById(\'antiClickJack\');\n      antiClickJack.parentNode.removeChild(antiClickJack);\n    } else {\n      top.location = self.location;\n    }\n  <\/script>\n  \n  <script type="text/javascript">\n      window.ANGULAR_APPLICATION_CONFIG = \'<%- JSON.stringify(angularApplication) %>\'\n      window.OLIVE_ANGULAR_URL = \'<%= olive.rootLocation %>/<%= olive.version %>/<%= olive.scripts.angular %>\'\n      window.OLIVE_MIGRATE_URL = \'<%= olive.rootLocation %>/<%= olive.version %>/<%= olive.scripts.migrate %>\'\n      window.COOKIE_WRAPPER_SCRIPT = \'<%= gdpr.CookieWrapperScript %>\'\n      window.COOKIE_HOSTNAME_STRING = \'<%= gdpr.CookieServiceHostnameString %>\'\n      window.BOARD_JS_SCRIPT = \'<%= scripts.rootLocation %>/<%= scripts.boardJsScript %>\'\n  <\/script>\n\n  <link type="text/css" rel="stylesheet" href="<%= olive.rootLocation %>/<%= olive.version %>/<%= olive.css.core %>" />\n  <link type="text/css" rel="stylesheet" href="<%= olive.rootLocation %>/<%= olive.version %>/<%= olive.css.radmin %>" />\n  <link type="text/css" rel="stylesheet" href="<%= css.rootLocation %>/<%= css.app %>" />\n  <link type="text/css" rel="stylesheet" href="<%= css.rootLocation %>/<%= css.lib %>" />\n</head>\n\n<body ng-class="bodyClass">\n    <div ui-view class="site"></div>\n    <div ds-global-modal></div>\n    <script type="text/javascript" src="<%= scripts.rootLocation %>/<%= scripts.lib %>"><\/script>\n    <script type="text/javascript" src="<%= scripts.rootLocation %>/<%= scripts.app %>"><\/script>\n</body>\n</html>\n')}]),e.exports="index.html"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=n(271),s=n(103),o=n(350),r=function(){function e(e,t,n,a,i){this.api=e,this.$q=t,this._organizationService=n,this._=a,this.activeSelection=i}return e.prototype.all=function(){var e=this,t="organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders";return this.api.get(t).then(function(t){return e._.map(t.data,i.IdentityProviderModel.create)})},e.prototype.add=function(e){var t=this,n="organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders";return this.api.post(n,e.toApiJson()).catch(function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.generateCertificateUploadUri=function(e){void 0===e&&(e=this.activeSelection.id);var t=this._organizationService.currentOrg.organization.id;return this.api.authorizeUri(["upload","accountServerApi","post","organizations",t,"identityproviders",e,"certificates"].join("/"))},e.prototype.saveCertificate=function(e,t){var n=this;void 0===t&&(t=this.activeSelection.id);var a="/organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders/"+t+"/certificates";return this.api.post(a,e).catch(function(e){return n.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.deleteCertificate=function(e,t){var n=this;void 0===t&&(t=this.activeSelection.id);var a="/organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders/"+t+"/certificates/"+e;return this.api.delete(a).catch(function(e){return n.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.save=function(e){var t=this,n="organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders/"+e.id;return this.api.post(n,e.toApiJson()).catch(function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.deleteIdentityProvider=function(e){var t=this,n="organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders/"+e;return this.api.delete(n).catch(function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.customAttributes=function(){var e=this,t="organizations/"+this._organizationService.currentOrg.organization.id+"/identityproviders/metadata?select=attributes";return this.api.get(t).then(function(t){return e._.map(t.data.required_attributes,o.Attribute.create)}).catch(function(e){return s.ErrorResponseModel.createFromApiResponse(e)})},e}();t.IdentityProvidersService=r,a.IdentityProvidersModule.service("IdentityProvidersService",["DocuSignAccountServerApiClient","$q","OrganizationService","lodash",r])},function(e,t){var n="identity-providers/identity-provider-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main identity-providers" ng-controller="IdentityProviderListController as identityProviders">\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: identityProviders.organizationId})"> {{ identityProviders.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Identity Providers"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section-header">\n    <div class="grid section">\n      <h1 class="header-title" data-qa="organization_identity_provider_title" translate="Identity Providers"></h1>\n      <p data-qa="organization_identity_provider_description"\n         translate="Allow users to sign into DocuSign using their corporate credentials. Enable single sign-on for your organization by adding your identity provider below."></p>\n    </div>\n\n    <div class="grid section">\n      <p data-qa="organization_identity_provider_description_account_permission"\n         translate="The default account and permission set are used for basic just-in-time provisioning of new users."></p>\n      <div class="fgrid fgrid-alignItems-center">\n        <div class="fgrid_cell fgrid_cell-1-5" ng-if="identityProviders.hasDefaultAccount()">\n          <dl class="def-list" ng-if="identityProviders.defaultAccountLoaded">\n            <dt data-qa="organization_identity_provider_default_account_name_label" translate="Default Account"></dt>\n            <dd data-qa="organization_identity_provider_default_account_name_value">{{ identityProviders.defaultAccount.account_name }}&nbsp\n            </dd>\n            <dt data-qa="organization_identity_provider_default_account_id_label" translate="Default Account ID"></dt>\n            <dd data-qa="organization_identity_provider_default_account_id_value">{{ identityProviders.defaultAccount.external_account_id }}</dd>\n            <dt data-qa="organization_identity_provider_default_account_permission_set_label" translate="Default Permission Set"></dt>\n            <dd data-qa="organization_identity_provider_default_account_permission_set_value">{{ identityProviders.defaultPermissionSet.permission_profile_name }}\n            </dd>\n          </dl>\n        </div>\n        <div class="fgrid_cell fgrid_cell-1-3"\n             ng-if="!identityProviders.hasDefaultAccount() && identityProviders.defaultPermissionLoaded">\n          <span data-qa="organization_identity_provider_no_default_account_message" translate="Set up a default account and permission set for your organization. Select Edit."></span>\n        </div>\n        <div class="fgrid_cell">\n          <button class="btn btn-secondary"\n                  data-qa="organization_identity_provider_edit_button"\n                  translate="Edit" ng-click="identityProviders.changeDefault()"></button>\n        </div>\n      </div>\n      <div ng-if="identityProviders.defaultAccountLoaded" ds-loading="identityProviders.defaultPermissionLoading"\n           ds-loading-succeeded="identityProviders.defaultPermissionLoaded"\n           ds-loading-error="{{\'We had trouble loading your organization default permission profile. Go ahead and try that again.\' | translate}}"></div>\n\n      <div ds-loading="identityProviders.defaultAccountLoading"\n           ds-loading-succeeded="identityProviders.defaultAccountLoaded"\n           ds-loading-error="{{\'We had trouble loading your organization default account. Go ahead and try that again.\' | translate}}"></div>\n\n    </div>\n    <div class="grid action-row section">\n      <div class="col-1-5">\n        <div class="u-float-left">\n          <button class="btn btn-secondary btn-md" ng-click="identityProviders.add()"\n                  data-qa="organization_identity_provider_add_identity_provider_button"\n                  translate="Add Identity Provider"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table class="rad-list list-tbl mtbl" ds-sortable="sortProperty" ds-sortable-initial-property="name"\n         ds-sortable-reverse="reverseSort">\n    <thead>\n    <tr>\n      <th name="name" class="column-name" ds-sort="name">\n        <span data-qa="organization_identity_provider_name_table_header" translate="Name"></span>\n      </th>\n      <th name="status" class="column-certificate" ds-sort="status">\n        <span data-qa="organization_identity_provider_certificate_status_table_header" translate="Certificate Status"></span>\n      </th>\n      <th class="column-action">&nbsp;</th>\n    </tr>\n    </thead>\n\n    <tbody ng-if="successfullyLoaded">\n    <tr class="click-row"\n        ng-repeat="item in identityProviders.items | orderBy:sortProperty:reverseSort track by item.id"\n        data-qa="organization_identity_provider_list_identity_provider_row">\n      <td ng-click="identityProviders.edit($event, item)" data-qa="organization_identity_provider_list_identity_provider_name_table_data">\n        {{item.name}}\n      </td>\n\n      <td ng-if="!item.certificates.length" ng-click="identityProviders.edit($event, item)">\n          <span>\n            <i class="icon icon-alert-triangle text-alert"></i>&nbsp;\n            <strong data-qa="organization_identity_provider_list_identity_provider_no_cert_table_data" translate="No Valid Certificates"></strong>\n            <br />&nbsp;\n            <a class="token-validation" data-qa="organization_identity_provider_list_identity_provider_add_new_cert_table_data" translate="Add New Certificate"></a>\n          </span>\n      </td>\n\n      <td ng-if="!!item.certificates.length && !item.isCertificateValid"\n          ng-click="identityProviders.edit($event, item)">\n          <span>\n            <i class="icon icon-alert-triangle text-alert"></i>&nbsp;\n            <strong translate="Certificates Expired"></strong>\n            <br />&nbsp;\n            <a class="token-validation" translate="Add New Certificate"></a>\n          </span>\n      </td>\n\n      <td ng-if="item.isCertificateValid" ng-click="identityProviders.edit($event, item)">\n        <i class="icon icon-circlecheck text-success"></i>&nbsp; <strong translate="Valid"></strong>\n      </td>\n\n      <td class="column-action">\n        <button type="button" class="btn btn-secondary btn-trigger" olive-menu="idpMenu-{{::item.id}}"\n                data-qa="organization_identity_provider_list_identity_provider_actions_button"\n                translate="Actions"></button>\n        <div class="menu invisible" id="idpMenu-{{::item.id}}">\n          <ul>\n            <li class="item"\n                data-qa="organization_identity_provider_list_identity_provider_actions_edit_button"\n                translate="Edit" ng-click="identityProviders.edit($event, item)"></li>\n            <li class="item"\n                data-qa="organization_identity_provider_list_identity_provider_actions_endpoints_button"\n                translate="Endpoints" ng-click="identityProviders.showEndpointsModal($event, item)"></li>\n            <li class="item"\n                data-qa="organization_identity_provider_list_identity_provider_actions_delete_button"\n                translate="DS_CONTEXT=(identity provider) Delete" ng-click="identityProviders.showDeleteModal(item)"></li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div ds-loading="identityProviders.loading" ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'We had trouble loading your Identity Providers. Go ahead and try that again.\' | translate}}"></div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u){var p=this;this.identityProviders=e,this._$scope=t,this.modal=n,this.notifier=a,this.$translate=i,this._$state=s,this._$stateParams=o,this._organizationService=r,this._=l,this._oliveModal=c,this.items=d,this.loading=u,this.accounts=[],this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.loading=this.identityProviders.all(),this.loading.then(function(e){p.items=e}),this.defaultAccountLoading=this._getDefaults()}return e.prototype.isEmpty=function(){return this._.isEmpty(this.items)},e.prototype.edit=function(e,t){e.stopPropagation(),this.identityProviders.activeSelection=t,this._$state.go("authenticated.organization-edit-identity-provider",{organization_id:this.organizationId})},e.prototype.add=function(){this._$state.go("authenticated.organization-add-identity-provider",{organization_id:this.organizationId})},e.prototype.showEndpointsModal=function(e,t){e.stopPropagation(),this.identityProviders.activeSelection=t,this.modal.openModal("identity-providers/identity-provider-endpoints-modal.html",this._$scope,"lg",!1,!1)},e.prototype.showDeleteModal=function(e){this.identityProviders.activeSelection=e;var t=this._$scope.$new();t.idpListController=this,t.confirm=this.deleteIdentityProvider.bind(this),t.contentText=this.$translate.instant("Deleting this Identity Provider will cause Single Sign-On to stop functioning for any associated accounts.{{break}}{{break}}Click 'confirm' to delete the identity provider {{providerName}}",{break:"<br/>",providerName:"<strong>"+e.name+"</strong>"}),t.headerText="Delete Identity Provider",t.confirmButtonText="Confirm",t.cancelButtonText="Cancel",this.modal.openModal("site/templates/confirmation-modal.html",t,"sm",!1,!1)},e.prototype.deleteIdentityProvider=function(){var e=this,t=this.identityProviders.activeSelection.id;return this.identityProviders.deleteIdentityProvider(t).then(function(){e.notifier.show({msg:e.$translate.instant("Identity provider deleted."),type:"success"}),e._.pull(e.items,e.identityProviders.activeSelection)},function(t){e.notifier.show({msg:e.$translate.instant(t),type:"alert"})})},e.prototype.changeDefault=function(){var e=this._$scope.$new();e.defaultAccountId=this._.get(this,"defaultAccount.account_id"),e.organization=this.organization,e.accounts=this.accounts,e.refreshOrganization=this._refreshOrganization.bind(this),this._oliveModal.openModal({scope:e,templateUrl:"organization/change-defaults.html",showClose:!0})},e.prototype.hasDefaultAccount=function(){return!this._.isEmpty(this.defaultAccount)&&!this._.isEmpty(this.defaultPermissionSet)},e.prototype._getDefaults=function(){var e=this;return this._organizationService.getOrganizationAccounts(this.organizationId).then(function(n){n=e._.map(n,e._appendExternalAccountId.bind(e)),e.accounts=(n||[]).sort(t),e.defaultAccount=e._.find(e.accounts,{account_id:e.organization.default_account_id}),e._.isEmpty(e.defaultAccount)||(e.defaultPermissionLoading=e._organizationService.getPermissionProfiles(e.defaultAccount.account_id).then(function(t){e.defaultPermissionSet=e._.find(t.permission_profiles,{id:e.organization.default_permission_profile_id})}))});function t(e,t){return e.account_name.toLowerCase()<t.account_name.toLowerCase()?-1:1}},e.prototype._refreshOrganization=function(e){this._getDefaults(),this.organization=e,this._organizationService.initialize(),this._organizationService.saveState()},e.prototype._appendExternalAccountId=function(e){var t=e.account_name+" ("+e.external_account_id+")";return e.account_name_with_external_id=t,e},e}();a.IdentityProvidersModule.controller("IdentityProviderListController",["IdentityProvidersService","$scope","dsModals","dsNotification","$translate","$state","$stateParams","OrganizationService","lodash","oliveModal",i])},function(e,t){var n="identity-providers/identity-provider-endpoints-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="IdentityProviderEndpointsModalController as endpoints">\n  <div class="header">\n    <h1 data-qa="organization_identity_provider_endpoints_modal" translate="View SAML 2.0 Endpoints"></h1>\n  </div>\n\n  <div class="section">\n    <div class="grid">\n      <div class="form-group identity-provider-endpoints-form-group" ng-repeat="ep in endpoints.endpoints">\n        <label for=\'login-url\' class=\'label\' \n               data-qa="organization_identity_provider_endpoints_service_label"\n               translate="{{ep.title}}"></label>\n        <input id=\'login-url\' type=\'text\' class=\'input-text sample-show-hide\' disabled ng-model=\'ep.url\'\n               data-qa="organization_identity_provider_endpoints_service_value"/>\n      </div>\n    </div>\n  </div>\n\n  <div class=\'footer\'>\n    <button class=\'btn btn-lg btn-secondary\' ds-close-modal\n            data-qa="organization_identity_provider_endpoints_close_button"\n            translate=\'DS_CONTEXT=(modal) Close\'></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=function(){function e(t,n,a,i){void 0===i&&(i=[]),this.providers=t,this._=n,this.idp=a,this.endpoints=i;this.idp=t.activeSelection,this.endpoints=this._.map(this.idp.links,function(t){return{title:e.titles[t.rel],url:t.href,showCopied:!1}}),this._.remove(this.endpoints,{title:e.titles.self})}return e.titles={self:"Service Provider URL",saml2_issuer_uri:"Service Provider Issuer URL",saml2_assertion_consumer_service_uri:"Service Provider Assertion Consumer Service URL",saml2_metadata_uri:"Service Provider Metadata URL",saml2_sp_initiated_uri:"Service Provider Login URL"},e}();a.IdentityProvidersModule.controller("IdentityProviderEndpointsModalController",["IdentityProvidersService","lodash",i])},function(e,t){var n="identity-providers/identity-provider-certificate.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 class=\'header-title\' style=\'border-top:1px solid #eaeaea;padding-top:22px\'\n    data-qa="organization_identity_provider_certificate_title"\n    translate="Identity Provider Certificates"></h2>\n\n<div class="grid">\n  <div class="col-1-3">\n    <label for="certificate-uploader" class="btn btn-secondary" ds-size="xl"\n           data-qa="organization_identity_provider_certificate_add_certificate_button"\n           translate="Add Certificate"></label>\n    <input id="certificate-uploader" class="oldBrowserCompatibleHiddenFileInput" type="file" nv-file-select\n           uploader="certificateUploader"/>\n  </div>\n\n  <table class="list-tbl"\n         ds-sortable="sortProperty"\n         ds-sortable-initial-property="certificate-issuer"\n         ds-sortable-reverse="reverseSort"\n         ng-if="provider.certificates">\n    <thead>\n      <tr>\n        <th name="certificate-issuser" class="column-certificate-issuser" ds-sort="certificate-issuer"><span\n            data-qa="organization_identity_provider_certificate_certificate_issuer_table_label" translate="Certificate Issuer"></span> </th>\n        <th name="thumbprint" class="column-thumbprint hidden-sm-down" ds-sort="thumbprint"><span\n            data-qa="organization_identity_provider_certificate_thumbrint_table_label" translate="Thumbprint"></span> </th>\n        <th name="expires" class="column-expires" ds-sort="expires"><span\n            data-qa="organization_identity_provider_certificate_expires_table_label" translate="Expires"></span> </th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr class="click-row" ng-repeat="cert in provider.certificates | orderBy:sortProperty:reverseSort">\n        <td>{{ cert.issuer }}</td>\n        <td class="hidden-sm-down">{{ cert.thumbprint }}</td>\n        <td>{{ cert.expiration_date | date:\'medium\' }}</td>\n        <td ng-click="showDeleteModal(cert)"><span class="icon icon-times"></span> </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=n(103),s=function(){function e(e,t,n,a,i,s,o){var r=this;this.providers=e,this.notifier=t,this.$translate=n,this.FileUploader=a,this.$q=i,this.modal=s,this._=o,this.restrict="E",this.templateUrl="identity-providers/identity-provider-certificate.html",this.scope={provider:"=provider"},this.controller=["$scope",function(e){e.certificateUploader=r.createCertificateUploader(r),e.showDeleteModal=function(t){var n=e.$new();r.activeCertificate=t,n.confirm=e.deleteCertificate,n.contentText=r.$translate.instant("You are about to delete an Identity Provider Certificate. If you do not have another valid certificate associated with this Identity Provider, you will lose Single Sign-On capabilities for all users associated with this Identity Provider.{{break}}{{break}}Are you sure you want to do this?",{break:"<br/>"}),n.headerText="Confirm Certificate Deletion",n.confirmButtonText="Confirm",n.cancelButtonText="Cancel",r.modal.openModal("site/templates/confirmation-modal.html",n,"sm",!1,!1)},e.deleteCertificate=function(){var t=r.activeCertificate.id;r.providers.deleteCertificate(t).then(function(){r.notifier.show({msg:r.$translate.instant("Certificate deleted."),type:"success"}),r._.remove(e.provider.certificates,function(e){return e.id===t})},function(e){r.notifier.show({msg:r.$translate.instant(e),type:"alert"})})}}],this.activeCertificate=null}return e.prototype.createCertificateUploader=function(e){var t=new e.FileUploader({autoUpload:!0,removeAfterUpload:!0,filters:[]});return t.onWhenAddingFileFailed=function(){e.notifier.show({msg:e.$translate.instant("Unable to prepare certificate for upload."),type:"alert"})},t.isEmptyAfterSelection=function(){return!0},t.onBeforeUploadItem=function(t){t.url=e.providers.generateCertificateUploadUri(),t.onSuccess=function(t){e.providers.activeSelection.certificates.push(t),e.notifier.show({msg:e.$translate.instant("Certificate successfully uploaded."),type:"success"})},t.onError=function(t,n){var a=i.ErrorResponseModel.create(n,t.error);e.notifier.show({msg:e.$translate.instant(a),type:"alert"})}},t},e.create=function(){var t=function(t,n,a,i,s,o,r){return new e(t,n,a,i,s,o,r)};return t.$inject=["IdentityProvidersService","dsNotification","$translate","FileUploader","$q","dsModals","lodash"],t},e}();a.IdentityProvidersModule.directive("identityProviderCertificate",["IdentityProvidersService","dsNotification","$translate","FileUploader","$q","dsModals","lodash",s.create()])},function(e,t){var n="identity-providers/header.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.organization-identity-providers({organization_id: provider.organization.id})"\n         translate="Identity Provider List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Identity Provider Settings"></span>\n    </li>\n  </ul>\n</div>\n')}]),e.exports=n},function(e,t){var n="identity-providers/edit-identity-provider.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditIdentityProviderController as provider\' ds-form>\n  <div class=\'section\' ng-include="\'identity-providers/header.html\'" include-replace></div>\n\n  <div class="section">\n    <h1 class="header-title" data-qa="organization_edit_identify_provider_title" translate="Identity Provider Settings"></h1>\n\n    <div class="header-actions">\n      <button id="page-add-top" class="btn btn-primary" ds-form-submit=\'provider.save()\'\n              data-qa="organization_edit_identify_provider_save_top_button"\n              translate="Save"></button>\n      <button id="page-cancel-top" class="btn btn-minor" ng-click="provider.navigateToList()"\n              data-qa="organization_edit_identify_provider_cancel_top_button"\n              translate="Cancel"></button>\n    </div>\n  </div>\n\n  <div class=\'section\' ng-include="\'identity-providers/add-edit-identity-provider.html\'"></div>\n\n  <div class="section">\n    <div class="action-btns">\n      <button id="page-add-bottom" class="btn btn-primary" ds-form-submit=\'provider.save()\'\n              data-qa="organization_edit_identify_provider_save_bottom_button"\n              translate="Save"></button>\n      <button id="page-cancel-bottom" class="btn btn-minor" ng-click="provider.navigateToList()"\n              data-qa="organization_edit_identify_provider_cancel_bottom_button"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=function(){function e(e,t,n,a,i,s,o,r,l){this.providers=e,this._$state=t,this.notifier=n,this.$translate=a,this.$timeout=i,this._$stateParams=s,this._organizationService=o,this._=r,this.model=l,this.model=e.activeSelection,r.isUndefined(this.model)&&this.navigateToList(),this._organizationId=this._$stateParams.organization_id,this._.isEmpty(this._organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this._organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-identity-providers",{organization_id:this._organizationId})},e.prototype.save=function(){var e=this,t=this;t.providers.save(t.model).then(function(){t.$timeout(function(){t.notifier.show({msg:t.$translate.instant("Your save was successful"),type:"success"})},0),t.navigateToList()},function(t){e.notifier.show({msg:e.$translate.instant(t),type:"alert"})})},e}();a.IdentityProvidersModule.controller("EditIdentityProviderController",["IdentityProvidersService","$state","dsNotification","$translate","$timeout","$stateParams","OrganizationService","lodash",i])},function(e,t){var n="identity-providers/custom-attribute-mapping.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 class=\'header-title\' style=\'border-top:1px solid #eaeaea;padding-top:22px\' data-qa="organization_custom_attribute_mapping_header" translate="Custom Attribute Mapping"></h2>\n\n<div class="grid">\n  <div class="col-1-3">\n\n    <p data-qa="organization_custom_attribute_mapping_description"\n       translate="Please refer to the Identity Provider documentation for details on attribute mapping and default attribute name values."></p>\n\n    <div class="fgrid fgrid-gutters fgrid-alignItems-center">\n      <div class="fgrid_cell">\n        <span data-qa="organization_custom_attribute_mapping_field_label" translate="Field"></span>\n      </div>\n\n      <div class="fgrid_cell fgrid_cell-auto invisible">\n        <i class="icon icon-caret-right"></i>\n      </div>\n\n      <div class="fgrid_cell">\n        <span data-qa="organization_custom_attribute_mapping_attribute_name_label" translate="Attribute Name"></span>\n      </div>\n\n      <div class="fgrid_cell fgrid_cell-auto invisible">\n        <button type="button" class="btn btn-minor btn-icon u-float-right" ng-click="">\n          <span class="icon icon-times"></span> <span class="sr-text" translate>remove icon</span>\n        </button>\n      </div>\n    </div>\n\n    <div class="fgrid fgrid-gutters fgrid-alignItems-center" ng-repeat=\'customAttr in provider.customAttributes\'>\n      <div class="fgrid_cell">\n        <div class="select-wrap">\n          <select ng-model=\'customAttr.id\'\n                  ng-options=\'attr.id() as attr.name() for attr in attributes | attributesFilter:provider.customAttributes:customAttr.id\'\n                  ds-valid required>\n            <option value="" translate="Select Field"></option>\n          </select>\n        </div>\n      </div>\n\n      <div class="fgrid_cell fgrid_cell-auto">\n        <i class="icon icon-caret-right"></i>\n      </div>\n\n      <div class="fgrid_cell">\n        <input id=\'input-box-id\' type="text" class="input-text"\n               ng-model=\'customAttr.alias\'\n               ds-valid required />\n      </div>\n\n      <div class="fgrid_cell fgrid_cell-auto">\n        <button type="button" class="btn btn-minor btn-icon u-float-right" ng-click="provider.removeCustomAttribute(customAttr)">\n          <span class="icon icon-times"></span> <span class="sr-text" translate>remove icon</span>\n        </button>\n      </div>\n    </div>\n\n    <div class="fgrid fgrid-gutters" ng-show=\'areMappingsAvailable()\'>\n      <div class="fgrid_cell">\n        <div class="addNewItem" ng-click=\'provider.addCustomAttribute()\'>\n          <i class="icon icon-plus"></i>\n          <span data-qa="organization_custom_attribute_add_new_mapping" translate="Add New Mapping"></span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=function(){function e(e){var t=this;this.providers=e,this.restrict="E",this.templateUrl="identity-providers/custom-attribute-mapping.html",this.scope={provider:"=provider"},this.controller=["$scope",function(e){e.areMappingsAvailable=function(){return!!e.attributes&&e.attributes.length!==e.provider.customAttributes.length},t.providers.customAttributes().then(function(t){e.attributes=t})}]}return e.create=function(){var t=function(t){return new e(t)};return t.$inject=["IdentityProvidersService"],t},e}();a.IdentityProvidersModule.directive("customAttributeMapping",["IdentityProvidersService",i.create()])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(){}}();t.CertificateUploadModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=n(2),s=n(13),o=function(){function e(){}return e.create=function(){return function(e,t,n){var a=e;return i.isDefined(e)&&i.isDefined(t)&&t.length>0&&(a=s.filter(e,function(e){return!s.some(t,function(t){return e.id()===t.id&&e.id()!==n})})),a}},e}();a.IdentityProvidersModule.filter("attributesFilter",o.create)},function(e,t){var n="identity-providers/add-identity-provider.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddIdentityProviderController as provider\' ds-form>\n  <div class=\'section\' ng-include="\'identity-providers/header.html\'" include-replace></div>\n\n  <div class="section">\n    <h1 class="header-title" data-qa="organization_add_identify_provider_title" translate="Identity Provider Settings"></h1>\n\n    <div class="header-actions">\n      <button id="page-add-top" class="btn btn-primary" ds-form-submit=\'provider.add()\'\n              data-qa="organization_add_identify_provider_save_top_button"\n              translate="Save"></button>\n      <button id="page-cancel-top" class="btn btn-minor" ng-click="provider.navigateToList()"\n              data-qa="organization_add_identify_provider_cancel_top_button"\n              translate="Cancel"></button>\n    </div>\n  </div>\n\n  <div class=\'section\' ng-include="\'identity-providers/add-edit-identity-provider.html\'"></div>\n\n  <div class="section">\n    <div class="action-btns">\n      <button id="page-add-bottom" class="btn btn-primary" ds-form-submit=\'provider.add()\'\n              data-qa="organization_add_identify_provider_save_bottom_button"\n              translate="Save"></button>\n      <button id="page-cancel-bottom" class="btn btn-minor" ng-click="provider.navigateToList()"\n              data-qa="organization_add_identify_provider_cancel_bottom_button"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=n(271),s=function(){function e(e,t,n,a,s,o,r,l,c){this.providers=e,this._$state=t,this.notifier=n,this.$translate=a,this.$timeout=s,this._$stateParams=o,this._=r,this._organizationService=l,this.model=c,this.model=new i.IdentityProviderModel,this._organizationId=this._$stateParams.organization_id,this._.isEmpty(this._organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this._organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-identity-providers",{organization_id:this._organizationId})},e.prototype.add=function(){var e=this,t=this;t.providers.add(t.model).then(function(){t.$timeout(function(){t.notifier.show({msg:t.$translate.instant("You have successfully added {{name}} as an IdentityProvider. To complete setup for Single Sign-On, please add a certificate to your record.",{name:t.model.name}),type:"success"})},0),t.navigateToList()},function(t){e.notifier.show({msg:e.$translate.instant(t),type:"alert"})})},e}();a.IdentityProvidersModule.controller("AddIdentityProviderController",["IdentityProvidersService","$state","dsNotification","$translate","$timeout","$stateParams","lodash","OrganizationService",s])},function(e,t){var n="identity-providers/add-edit-identity-provider.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n  SSO Protocol: <strong data-qa="organization_add_edit_identity_provider_sso_protocol" translate="SAML 2.0"></strong>\n\n  <div class="grid">\n    <div class="col-1-3">\n      <div class="form-group">\n        <label class="label" for="identity-provider-name" label-required=\'*\'\n               data-qa="organization_add_edit_identity_provider_name_label"\n               translate="Name"></label>\n        <input id=\'identity-provider-name\' type="text" class="input-text"\n               ng-model=\'provider.model.name\'\n               maxlength=\'64\'\n               ds-valid=\'regex\' ds-valid-regex="\'^[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\:\\\\[\\\\]\\\\@\\\\!\\\\$\\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;]{1,64}$\'" required\n               data-qa="organization_add_edit_identity_provider_name_text_box"/>\n      </div>\n\n      <div class="form-group">\n        <label class="label" for="identity-provider-issuer" label-required=\'*\'\n              data-qa="organization_add_edit_identity_provider_issuer_label"\n              translate="Identity Provider Issuer"></label>\n        <input id=\'identity-provider-issuer\' type="text" class="input-text"\n               ng-model=\'provider.model.issuer\'\n               maxlength=\'2048\'\n               ds-valid=\'regex\' ds-valid-regex="\'^[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@\\\\!\\\\$\\\\&\\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]{1,2048}$\'" required\n               data-qa="organization_add_edit_identity_provider_issuer_text_box"/>\n      </div>\n\n      <div class="form-group">\n        <label class="label" for="identity-provider-url" label-required=\'*\'\n               data-qa="organization_add_edit_identity_provider_login_label"\n               translate="Identity Provider Login URL"></label>\n        <input id=\'identity-provider-url\' type="text" class="input-text"\n               ng-model=\'provider.model.providerUrl\'\n               ds-valid required\n               data-qa="organization_add_edit_identity_provider_login_text_box"/>\n      </div>\n\n      <div class="form-group">\n        <label class="label" for="identity-provider-logout-url"\n               data-qa="organization_add_edit_identity_provider_logout_label"\n               translate="Identity Provider Logout URL"></label>\n        <input id=\'identity-provider-logout-url\' type="text" class="input-text"\n               ng-model=\'provider.model.logoutUrl\'\n               data-qa="organization_add_edit_identity_provider_logout_text_box"/>\n      </div>\n\n      <div class="form-group">\n        <label class="label" for="identity-provider-metadata-url"\n               data-qa="organization_add_edit_identity_provider_metadata_label"\n               translate="Identity Provider Metadata URL"></label>\n        <input id=\'identity-provider-metadata-url\' type="text" class="input-text"\n               ng-model=\'provider.model.providerMetadataUrl\'\n               data-qa="organization_add_edit_identity_provider_metadata_text_box"/>\n      </div>\n\n      <div class="form-group">\n        <div class="inline-input cb">\n          <input id="auth-request-required" class="cb_input" type="checkbox" ng-model=\'provider.model.authRequired\'\n                 data-qa="organization_add_edit_identity_provider_sign_authn_request_checkbox"/>\n          <label class="cb_label" for="auth-request-required"\n                 data-qa="organization_add_edit_identity_provider_sign_authn_request_label"\n                 translate=\'Sign AuthN request\'></label>\n        </div>\n\n        <div class="inline-input cb">\n          <input id="sign-logout-request" class="cb_input" type="checkbox" ng-model=\'provider.model.signLogoutRequest\'\n                 data-qa="organization_add_edit_identity_provider_sign_logout_request_checkbox"/>\n          <label class="cb_label" for="sign-logout-request"\n                 data-qa="organization_add_edit_identity_provider_sign_logout_request_label"\n                 translate=\'Sign logout request\'></label>\n        </div>\n\n        <br>\n        <div class="form_unit">\n          <div class="rb">\n            <p data-qa="organization_add_edit_identity_provider_send_authn_request_by_label" translate="Send AuthN request by:"></p>\n            <input class="rb_input"\n                   id="send-authn-by-get" \n                   type="radio"\n                   ng-value="\'GET\'"\n                   ng-model="provider.model.sendAuthBy"\n                   data-qa="organization_add_edit_identity_provider_send_authn_request_by_get_radio"/>\n            <label for="send-authn-by-get" class="rb_label">GET</label>\n          </div>\n          <div class="rb">\n            <input class="rb_input"\n                   id="send-authn-by-post"\n                   type="radio"\n                   ng-value="\'POST\'"\n                   ng-model="provider.model.sendAuthBy"\n                   data-qa="organization_add_edit_identity_provider_send_authn_request_by_post_radio"/>\n            <label for="send-authn-by-post" class="rb_label">POST</label>\n          </div>\n        </div>\n        <div class="form_unit">\n          <div class="rb">\n            <p data-qa="organization_add_edit_identity_provider_send_logout_request_by_get_label" translate="Send logout request by:"></p>\n              <input class="rb_input"\n                     id="send-logout-by-get"\n                     type="radio"\n                     ng-value="\'GET\'"\n                     ng-model="provider.model.sendLogoutBy"\n                     data-qa="organization_add_edit_identity_provider_send_logout_request_by_get_radio"/>\n              <label for="send-logout-by-get" class="rb_label">GET</label>\n          </div>\n          <div class="rb">\n              <input class="rb_input"\n                     id="send-logout-by-post"\n                     type="radio"\n                     ng-value="\'POST\'"\n                     ng-model="provider.model.sendLogoutBy"\n                     data-qa="organization_add_edit_identity_provider_send_logout_request_by_post_radio"/>\n              <label for="send-logout-by-post" class="rb_label">POST</label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <custom-attribute-mapping provider=\'provider.model\'></custom-attribute-mapping>\n\n  <identity-provider-certificate ng-if="provider.model.id" provider=\'provider.model\'></identity-provider-certificate>\n</form>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(){}}();t.Certificate=a},function(e,t){var n="envelopes/purge-envelopes.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="PurgeEnvelopesController as purgeCtrl">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" data-qa="purge_envelopes_title" translate="Confirm Envelope Purge"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div>\n      <p translate="Are you sure you want to purge the selected envelopes? Purging will permanently delete all documents in these envelopes from the DocuSign system and they will no longer be available to anyone."></p>\n      <p translate="For more information on the purge process, review the [[LinkStart]]Document Retention Guide[[LinkEnd]]."\n         translate-interpolation="bracket"\n         translate-values="{\n          LinkStart: \'<a href=\\\'https://support.docusign.com/en/guides/ndse-admin-guide-document-retention\\\' target=\\\'_blank\\\'>\',\n          LinkEnd: \'</a>\'\n        }">\n      </p>\n    </div>\n    <div class="form-group">\n      <div class="cb inline-input">\n        <input class="cb_input" type="checkbox" id="include_purge_metadata" ng-model="purgeCtrl.purgeMetadata"\n               data-qa="include_purge_metadata_cb">\n        <label class="cb_label" for="include_purge_metadata" data-qa="include_purge_metadata_cb_lbl"\n               translate="Remove all associated metadata (DocuSign field data, API attachments, etc.)"></label>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" translate="Purge" olive-modal-complete ng-click="purgeCtrl.purgeEnvelopes()"\n            data-qa="purge_envelopes_btn"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape data-qa="cancel_purge_envelope_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(110);!function(e){!function(e){var t=function(){function e(e){this._$scope=e,this.purgeMetadata=!1}return e.prototype.purgeEnvelopes=function(){this._$scope.purgeEnvelopes(this.purgeMetadata)},e}();e.PurgeEnvelopesController=t,i.EnvelopesModule.controller("PurgeEnvelopesController",["$scope",t])}(e.Envelopes||(e.Envelopes={}))}(a||(a={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(110),s="Purge Soon",o="Purged",r=function(){return function(e,t,n){var i=this;this.api=e,this.appUser=t,this._=n,this.locale=this.appUser.currentAccountInfo.userInformation.userSettings.locale,this.getEnvelopes=function(e,t){i._.isEmpty(e)&&(e=i.appUser.getCurrentAccountId());var n=i.api.endpoint().accounts(e).envelopes().uri(t);return i.api.get(n).then(function(e){return{page:i._.omit(e.data,"envelopes"),envelopes:(e.data.envelopes||[]).map(function(e){if(e.purgeState&&"unpurged"!==e.purgeState){var t=a(e.purgeRequestDate).add(14,"days");e.purgeDate=a(t).locale(this.locale).utc(),e.purgeMessage=a().isAfter(t)?o:s}return e}.bind(i))}})},this.getExportToCsvUri=function(e,t){i._.isEmpty(e)&&(e=i.appUser.getCurrentAccountId()),i._.assign(t,{acceptHeader:"text/csv"});var n=i.api.extended().accounts(e).envelopes().uri(t);return i.api.authorizationManager.authorizeUri(n)},this.updateEnvelope=function(e,t){i._.isEmpty(e)&&(e=i.appUser.getCurrentAccountId());var n=i.api.endpoint().accounts(e).envelopes(t.envelopeId).uri();return i.api.put(n,t).then(function(e){return e})}}}();t.EnvelopeService=r,i.EnvelopesModule.service("EnvelopeService",["dsApiClient","appUser","lodash",r])},function(e,t){var n="envelopes/envelope-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="envelope-list site-main user-management" ng-controller="EnvelopeListController as envelopeList">\n  <div class="crumbs" ng-if="!envelopeList.isPurgeEnvelope">\n    <ul class="crumbs_list"\n        ng-if="envelopeList.isFromCustodyTransfer">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.custody-transfer"\n           data-qa="envelope_custody_transfer_crums_link"\n           translate="Custody Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Envelopes"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="envelopeList.isFromUsers">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.users"\n           data-qa="envelope_users_crums_link"\n           translate="Users"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Transfer Envelopes"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="envelopeList.isFromPublish">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.connect"\n           data-qa="envelope_connect_crums_link"\n           translate="Connect"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Publish Envelopes"></span>\n      </li>\n    </ul>\n    <ul class="crumbs_list"\n        ng-if="envelopeList.isFromOrganization">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: envelopeList.organization.id})">\n          {{ envelopeList.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-envelope-transfer({organization_id: envelopeList.organization.id})"\n           translate="Envelope Transfer"></a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item">{{envelopeList.organizationAccount.account_name}}</span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class="header-title" ng-if="envelopeList.isPurgeEnvelope" data-qa="envelope_purge_header"\n            translate="Envelope Purge"></h1>\n        <h1 class="header-title" ng-if="!envelopeList.isPurgeEnvelope" data-qa="envelope_header"\n            translate="Envelopes"></h1>\n      </div>\n      <ds-filter-controls filterable="envelopeList">\n        \x3c!-- start sender --\x3e\n        <div class="form-group" ng-if="envelopeList.showUsersDropDown">\n          <label class="label" for="sender-list" translate="Sender"></label>\n          <div class="select-wrap">\n            <select class="input-select" id="sender-list" ng-model="envelopeList.filter.sender"\n                    ng-options="user as user.name for user in envelopeList.senderSearch.list"\n                    data-qa="envelope_filter_select_sender_option">\n              <option translate="Select User"></option>\n            </select>\n          </div>\n        </div>\n        <div class="form-group" ng-if="!envelopeList.showUsersDropDown">\n          \x3c!-- start search sender --\x3e\n\n          <div ng-show="envelopeList.filter.sender === null">\n            <div class="input_wrapper searchable">\n              <div class="form_group form_group-unified">\n                <span class="select-wrap">\n                  <select class="input-select" ng-model="envelopeList.senderSearch.selectedSearchType"\n                          ng-options="opt.value as opt.label | translate for opt in envelopeList.searchTypes"></select>\n                </span>\n                <span class="form_item">\n                  <div class="form_item-iconLeft form_item-iconRight">\n                      <span class="icon icon-search"></span>\n                        <input class="input input-text input-search" maxlength="100"\n                               ng-model="envelopeList.senderSearch.pendingPhrase"\n                               translate translate-attr-placeholder="Search" />\n                      <button type="button" class="button-icon"\n                              ng-if="envelopeList.senderSearch.pendingPhrase.length"\n                              ng-click="envelopeList.clearUsersSearch()">\n                        <span class="icon icon-close"></span>\n                      </button>\n                  </div>\n                </span>\n                <button class="btn btn-secondary" translate="Search"\n                        ng-click="envelopeList.submitToUserSearchPhrase()"></button>\n              </div>\n            </div>\n            <div class="multi-select multi-select-filter" ng-show="envelopeList.senderSearch.searchPhrase.length > 0">\n              <div class="grid pad ">\n                <div class="inline-input label" ng-switch="envelopeList.senderSearch.list.length">\n                <span ng-switch-when="1">\n                  <span ng-show="envelopeList.senderSearch.pendingPhrase.length === 0" translate="Showing 1 user">\n                  </span>\n                  <span ng-show="envelopeList.senderSearch.pendingPhrase.length > 0"\n                        translate="Showing 1 user for search query \'[[searchPhrase]]\'" translate-interpolation="bracket"\n                        translate-values="{searchPhrase: envelopeList.senderSearch.searchPhrase}">\n                  </span>\n                </span>\n                  <span ng-switch-default>\n                  <span ng-show="envelopeList.senderSearch.pendingPhrase.length === 0"\n                        translate="Showing [[filteredCount]] users" translate-interpolation="bracket"\n                        translate-values="{filteredCount: envelopeList.senderSearch.list.length}">\n                  </span>\n                  <span ng-show="envelopeList.senderSearch.pendingPhrase.length > 0"\n                        translate="Showing [[filteredCount]] users for search query \'[[searchPhrase]]\'"\n                        translate-interpolation="bracket" translate-values="{\n                        filteredCount: envelopeList.senderSearch.list.length,\n                        searchPhrase: envelopeList.senderSearch.searchPhrase}">\n                  </span>\n                </span>\n                  <span ng-show="envelopeList.senderSearch.pendingPhrase.length">\n                  &nbsp;|&nbsp;&nbsp;\n                  <a translate="Clear search results" ng-click="envelopeList.clearUsersSearch()"></a>\n                </span>\n                </div>\n                <div class="item disabled" ng-repeat="user in envelopeList.senderSearch.list">\n                <span class="item-text ng-scope" data-qa="accumulator_available_item_name_span">\n                  <span class="item-name truncate u-ellipsis" ng-attr-title="{{ user.name }}">\n                        {{ user.name }}&nbsp;({{ user.email }})\n                      </span>\n                </span>\n                  <span class="item-action">\n                  <button class="btn btn-secondary btn-sm" type="button"\n                          ng-click="envelopeList.senderSelected(user, $event)" translate="Select">\n\n                  </button>\n                </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div ng-show="envelopeList.filter.sender !== null" class="fgrid-panels">\n            <div class="form_unit">\n              <label class="label" for="selectedSender" translate="Sender"></label>\n              <div class="form_group form_group-unified">\n              <span class="form_item">\n                  <input type="text" class="input-text" id="selectedSender" disabled="disabled"\n                         ng-model="envelopeList.filter.sender.name">\n              </span>\n                <button class="btn btn-minor" translate="Change"\n                        ng-click="envelopeList.senderSelected(null, $event)"></button>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- end search sender --\x3e\n\n        </div>\n        \x3c!-- end sender --\x3e\n\n        \x3c!-- recipient / subject search --\x3e\n        <div class="form-group">\n          <label class="label" for="recipientSubjectSearch" ng-if="envelopeList.isPurgeEnvelope"\n                 translate="Recipient or Envelope Subject"></label>\n          <label class="label" for="recipientSubjectSearch" ng-if="!envelopeList.isPurgeEnvelope"\n                 translate="Recipient Name or Envelope Subject"></label>\n          <input type="text" class="input-text" ng-model="envelopeList.filter.searchPhrase" translate maxlength="48"\n                 data-qa="envelope_filter_recipient_subject_search_txt" id="recipientSubjectSearch">\n        </div>\n        \x3c!-- end recipient / subject search --\x3e\n\n        \x3c!-- start envelope status --\x3e\n        <div class="form-group">\n          <label class="label" for="envelopeStatus" translate="Envelope Status"></label>\n          <div class="select-wrap">\n            <select class="input-select" id="envelopeStatus" ng-model="envelopeList.filter.status"\n                    ng-options="opt.value as opt.label | translate for opt in envelopeList.envelopeStatusTypes"\n                    data-qa="envelope_filter_env_status_option"> </select>\n          </div>\n        </div>\n        \x3c!-- end envelope status --\x3e\n\n        \x3c!-- Last Modified Date: Custom Date Range --\x3e\n        <div class="form-group">\n          <label class="label" translate="Date Range"></label>\n          <div ds-cal ds-type="range" ds-popover-noclose="CheshireFilter">\n            <div class="grid">\n              <div class="col-1-2">\n                <div class="input-group">\n                  <span class="addon icon icon-field-date"\n                    data-qa="envelope_filter_start_date_icon">\n                  </span>\n                  <input type="text" class="input-text input ds-range-start" readonly\n                         ng-model=" envelopeList.filter.dateRange.from"\n                         translate translate-attr-placeholder="from"\n                         data-qa="envelope_filter_envelopeList_custom_from" />\n                </div>\n              </div>\n              <div class="col-1-2">\n                <div class="input-group">\n                  <span class="addon icon icon-field-date" data-qa="envelope_filter_end_date_icon"></span>\n                  <input type="text" class="input-text input ds-range-end" readonly\n                         ng-model=" envelopeList.filter.dateRange.to"\n                         translate translate-attr-placeholder="to"\n                         data-qa="envelope_filter_envelopeList_custom_to" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ds-filter-controls>\n    </div>\n\n    <div class="grid header-action">\n      <div class="action-btns u-float-left">\n        <button class="btn btn-secondary btn-md" data-qa="envelope_transfer_now_btn" ds-size="lg"\n                ng-if="envelopeList.isFromUsers || envelopeList.isFromCustodyTransfer || envelopeList.isFromOrganization"\n                ng-disabled="!envelopeList.loaded || envelopeList.selectedEnvelopeList.length < 1"\n                translate="Transfer Now" ng-click="envelopeList.transferNow(false)">\n        </button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_transfer_csv_btn" ds-size="lg"\n                ng-if="envelopeList.isFromUsers || envelopeList.isFromCustodyTransfer || envelopeList.isFromOrganization"\n                ng-disabled="!envelopeList.loaded" translate="Transfer Using CSV"\n                ng-click="envelopeList.transferNow(true)">\n        </button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_publish_btn" ds-size="lg"\n                ng-if="envelopeList.isFromPublish"\n                ng-disabled="!envelopeList.loaded || envelopeList.selectedEnvelopeList.length < 1"\n                translate="Publish"\n                ng-click="envelopeList.publish(false)">\n        </button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_publish_csv_btn" ds-size="lg"\n                ng-if="envelopeList.isFromPublish"\n                ng-disabled="!envelopeList.loaded"\n                translate="Publish Using CSV"\n                ng-click="envelopeList.publish(true)">\n        </button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_download_csv_btn" ds-size="lg"\n                ng-disabled="!envelopeList.loaded || envelopeList.list.length < 1"\n                ng-if="!envelopeList.isPurgeEnvelope"\n                translate="Download CSV" ng-click="envelopeList.showDownloadCsvModal()"></button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_purge_btn" ds-size="lg"\n                ng-disabled="!envelopeList.loaded || envelopeList.selectedEnvelopeList.length < 1"\n                ng-if="envelopeList.isPurgeEnvelope"\n                translate="Purge" ng-click="envelopeList.purgeEnvelopes()"></button>\n        <button class="btn btn-secondary btn-md" data-qa="envelope_cancel_btn" ds-size="lg" translate="Cancel"\n                ng-if="!envelopeList.isPurgeEnvelope"\n                ng-click="envelopeList.goBack()">\n        </button>\n      </div>\n      <ds-page-controls pageable="envelopeList"></ds-page-controls>\n    </div>\n  </div>\n\n  <ds-filter-applied filterable="envelopeList"></ds-filter-applied>\n\n  <table class="mgnt-list list-tbl mtbl" olive-table-select>\n    <thead>\n    <tr>\n      <th>\n        <div class="cb inline-input cb-noText" data-qa="envelope_select_all_cb_div">\n          <input class="cb_input" type="checkbox" id="selectAll"\n                 data-qa="envelope_select_all_cb"\n                 ng-click="envelopeList.checkAll()" ng-checked="envelopeList.selectAll">\n          <label class="cb_label" for="selectAll"\n                 data-qa="envelope_select_all_cb_lbl"\n                 translate="Select All"></label>\n        </div>\n      </th>\n      <th name="sender">\n        <span translate="Sender"></span>\n      </th>\n      <th name="date">\n        <span translate="Date"></span>\n      </th>\n      <th name="envelopeId">\n        <span translate="Envelope ID"></span>\n      </th>\n      <th name="subject">\n        <span translate="Subject"></span>\n      </th>\n      <th name="status">\n        <span translate="Envelope Status"></span>\n      </th>\n      <th name="status" ng-if="envelopeList.isPurgeEnvelope">\n        <span translate="Purge Status"></span>\n      </th>\n    </tr>\n    </thead>\n\n    <tbody ng-if="envelopeList.loaded || true">\n    <tr ng-repeat="doc in envelopeList.list track by doc.envelopeId"\n        ng-class="{\'table_row-selected\': envelopeList.isChecked(doc.envelopeId)}">\n      <td>\n        <div class="cb cb-noText" data-qa="envelope_select_cb_div">\n          <input class="cb_input" type="checkbox" id="{{ \'select_\' + doc.envelopeId }}" olive-table-select-row\n                 ng-disabled="!envelopeList.isEnvelopeSelectable(doc)"\n                 ng-checked="envelopeList.isChecked(doc.envelopeId)"\n                 ng-click="envelopeList.updateSelectedList(doc)"\n                 data-qa="envelope_select_cb">\n          <label class="cb_label" for="{{ \'select_\' + doc.envelopeId }}"\n                 data-qa="envelope_select_cb_lbl"\n                 translate="Select"></label>\n        </div>\n      </td>\n      <td>{{ doc.sender.userName }}</td>\n      <td>{{ doc.createdDateTime | moment:envelopeList.dateTimeFormat:envelopeList.timeZone }}</td>\n      <td>{{ doc.envelopeId }}</td>\n      <td>{{ doc.emailSubject }}</td>\n      <td>\n        <span class="hidden-sm-down" translate="{{doc.status | camelCaps}}"></span>\n      </td>\n      <td name="status" ng-if="envelopeList.isPurgeEnvelope">\n        <span ng-if="!doc.purgeState || doc.purgeState === \'unpurged\'"> - </span>\n        <span ng-if="doc.purgeState && doc.purgeState !== \'unpurged\'"><span translate="{{doc.purgeMessage}}"></span></span>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="envelopeList.loaded && !envelopeList.list.length">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="envelopeList.submittedSearch && envelopeList.appliedFilters.length"\n         translate="The selected filters and search query \'[[searchQuery]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{searchQuery: envelopeList.submittedSearch}"></p>\n      <p ng-if="envelopeList.submittedSearch && !envelopeList.appliedFilters.length"\n         translate="The selected search query \'[[searchQuery]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{searchQuery: envelopeList.submittedSearch}"></p>\n      <p ng-if="!envelopeList.submittedSearch && envelopeList.appliedFilters.length"\n         translate="The selected filters produced no results."></p>\n    </div>\n  </div>\n\n  <div class="section" ng-if="envelopeList.loaded">\n    <div class="grid action-row">\n      <ds-page-controls pageable="envelopeList"></ds-page-controls>\n    </div>\n  </div>\n\n  <div ds-loading="envelopeList.loading" ds-loading-succeeded="envelopeList.loaded"\n       ds-loading-error="{{\'We had trouble loading your envelopes. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="envelopes/download-csv.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="modal_title" data-qa="download_csv_title" translate="Download CSV"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <div class="form-group">\n    <div class="cb inline-input">\n      <input class="cb_input" type="checkbox" id="include_recipient_info" ng-model="includeRecipientInfo"\n             data-qa="download_csv_show_recipient_info_cb">\n      <label class="cb_label" for="include_recipient_info" data-qa="download_csv_show_recipient_info_cb_lbl"\n             translate="Show Recipient Information"></label>\n    </div>\n    <div class="cb inline-input">\n      <input class="cb_input" type="checkbox" id="include_custom_fields" ng-model="includeCustomFields"\n             data-qa="download_csv_show_custom_field_cb">\n      <label class="cb_label" for="include_custom_fields" data-qa="download_csv_show_custom_field_cb_lbl"\n             translate="Show Custom Fields"></label>\n    </div>\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <a class="btn btn-lg btn-primary" translate="Download" olive-modal-complete target="_self" download\n     ng-href="{{updateDownloadUri(includeCustomFields, includeRecipientInfo, uri)}}"\n     data-qa="download_csv_download_btn"> </a>\n\n  <button class="btn btn-lg btn-minor" olive-modal-escape data-qa="download_csv_cancel_btn" translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="envelopes/download-csv-error.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="modal_header" olive-modal-header>\n  <h1 class="modal_title" translate="Download Envelopes Error"></h1>\n</div>\n<div class="modal_content" olive-modal-content>\n  <div>\n    <p\n      translate="You can only download [[maxRows]] envelopes at a time. Please use the search and filter functions to limit the list of envelopes, and then try again."\n      translate-interpolation="bracket" translate-values="{maxRows: maxRowsLimit}"></p>\n  </div>\n</div>\n<div class="modal_footer" olive-modal-footer>\n  <button class="btn btn-lg btn-primary" olive-modal-complete data-qa="envelopes_download_envelopes_error_ok_btn"\n          translate="OK"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="enote/enote-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ENoteConfigurationController as eNoteConfiguration">\n  <div class="section">\n    <div class="grid">\n      <div class="col">\n        <h1 translate="eNote Configurations"></h1>\n      </div>\n    </div>\n  </div>\n  <div ng-if="enoteLoaded"\n       ng-switch="eNoteConfiguration.hasENoteConnection && eNoteConfiguration.hasEOriginalConnection">\n\n    <table class="list-tbl" ng-switch-when="true" ds-sortable="sortProperty" ds-sortable-initial-property="name"\n           ds-sortable-reverse="reverseSort">\n      <thead>\n        <tr>\n          <th name=\'name\' class="column-name" ds-sort="name"><span translate="Name"></span></th>\n          <th class="column-organization" ds-sort="organization"><span translate="Organization"></span></th>\n          <th class="column-username" ds-sort="username"><span translate="Username"></span></th>\n          <th class="column-min"> </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr class="click-row" ng-repeat="config in eNoteConfiguration.configurationList">\n          <td class="column-name" ng-click=\'eNoteConfiguration.ConfigurationModal(config)\'>\n            <span translate="eOriginal credential"></span>\n          </td>\n          <td ng-click=\'eNoteConfiguration.ConfigurationModal(config)\'>\n            <span>{{ ::config.organization }}</span>\n          </td>\n          <td ng-click=\'eNoteConfiguration.ConfigurationModal(config)\'>\n            <span>{{ ::config.userName }}</span>\n          </td>\n          <td class="column-min">\n            <button type="button" class="btn btn-secondary btn-trigger"\n                    olive-menu="connectConfigMenu-{{::config.userName}}"\n                    data-qa="enote_config_action_btn"\n                    translate="Actions"></button>\n            <div class="menu invisible" id="connectConfigMenu-{{::config.userName}}">\n              <ul>\n                <li class="item" ng-click="eNoteConfiguration.ConfigurationModal(config)"\n                    data-qa="enote_config_action_edit_li"\n                    translate="Edit"></li>\n                <li class="item"\n                    ng-click="eNoteConfiguration.ConfigurationModal(config, \'delete\')"\n                    data-qa="enote_config_action_delete_li"\n                    translate="DS_CONTEXT=(configuration) Delete"></li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div ng-switch-when="false" class="emptyState">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div ng-if="eNoteConfiguration.hasEOriginalConnection">\n        <div class="emptyState_text">\n          <h3 translate="No eNote Configurations"></h3>\n          <p translate="You currently do not have any eNote configurations set up."></p>\n        </div>\n        <p>\n          <button type="button" class="btn btn-primary" ng-click="eNoteConfiguration.ConfigurationModal()"\n                  data-qa="enote_config_add_enote_config_btn" translate="Add eNote Configuration"></button>\n        </p>\n      </div>\n\n      <div ng-if="!eNoteConfiguration.hasEOriginalConnection">\n        <div class="emptyState_text">\n          <h3 translate="No eOriginal Connect"></h3>\n          <p translate="You currently do not have eOriginal Connect set up."></p>\n        </div>\n        <p>\n          <a type="button" class="btn btn-primary"\n             data-qa="enote_config_create_eoriginal_connect_btn"\n             translate="Create an eOriginal Connect"\n             ui-sref="authenticated.add-eoriginal-configuration"></a>\n        </p>\n      </div>\n    </div>\n\n  </div>\n  <div class="text-center grid pad" ds-loading="eNoteConfiguration.loading" ds-loading-succeeded="enoteLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your eNote configurations. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(79);t.ENOTE_CONFIGURATION_PASSWORD_REQUIRED="The password is required for configuration updates.",t.ENOTE_CONFIGURATION_ACCOUNT_NOT_ALLOWED="The account is not configured for the eNote eOriginal feature.",t.ENOTE_CONFIGURATION_INVALID_CREDENTIALS="The eOriginal credentials are invalid.",t.ENOTE_CONFIGURATION_CONNECT_NOT_CONFIGURED="The eOriginal connect configuration is not set.",t.ENOTE_CONFIGURATION_SAVE_ERROR="There was an error saving the configuration.",t.ENOTE_CONFIGURATION_DELETE_ERROR="There was an error deleting the configuration.",t.ENOTE_ERROR_MESSAGE="An error occurred!";var s=function(){return function(e,n,i,s){var o=this;this._dsApiClient=e,this._appUser=n,this._ApiUriBuilder=i,this._$translate=s,this.getConfigurations=function(){var e=o._appUser.getCurrentAccountId(),t=o._ApiUriBuilder.endpoint().accounts(e).settings().enoteConfiguration().uri();return o._dsApiClient.get(t).then(function(e){return a.isArray(e.data)?e.data:[e.data]||[]})},this.deleteConfiguration=function(){var e=o._appUser.getCurrentAccountId(),t=o._ApiUriBuilder.endpoint().accounts(e).settings().enoteConfiguration().uri();return o._dsApiClient.delete(t)},this.saveConfiguration=function(e){var t=o._appUser.getCurrentAccountId(),n=o._ApiUriBuilder.endpoint().accounts(t).settings().enoteConfiguration().uri();return o._dsApiClient.put(n,e)},this.errorMessageControl=function(e){var n="";switch(e){case"ENOTE_CONFIGURATION_PASSWORD_REQUIRED":n=t.ENOTE_CONFIGURATION_PASSWORD_REQUIRED;break;case"ENOTE_CONFIGURATION_ACCOUNT_NOT_ALLOWED":n=t.ENOTE_CONFIGURATION_ACCOUNT_NOT_ALLOWED;break;case"ENOTE_CONFIGURATION_INVALID_CREDENTIALS":n=t.ENOTE_CONFIGURATION_INVALID_CREDENTIALS;break;case"ENOTE_CONFIGURATION_CONNECT_NOT_CONFIGURED":n=t.ENOTE_CONFIGURATION_CONNECT_NOT_CONFIGURED;break;case"ENOTE_CONFIGURATION_SAVE_ERROR":n=t.ENOTE_CONFIGURATION_SAVE_ERROR;break;case"ENOTE_CONFIGURATION_DELETE_ERROR":n=t.ENOTE_CONFIGURATION_DELETE_ERROR;break;default:n=t.ENOTE_ERROR_MESSAGE}return o._$translate.instant(n)}}}();i.ENoteConfigurationModule.service("ENoteConfigurationService",["dsApiClient","appUser","ApiUriBuilder","$translate",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(79),i=function(){return function(e,t,n,a,i,s){var o=this;this._$scope=e,this._=t,this._oliveMessage=n,this._oliveModal=a,this._$timeout=i,this._ENoteConfigurationService=s,this.hasEOriginalConnection=!1,this.hasENoteConnection=!1,this.getList=function(){return o._ENoteConfigurationService.getConfigurations().then(o.bindConfiguration.bind(o))},this.bindConfiguration=function(e){o.configurationList=e,o.hasEOriginalConnection=o._.some(o.configurationList,function(e){return!0===e.connectConfigured}),o.hasENoteConnection=o._.some(o.configurationList,function(e){return!0===e.eNoteConfigured})},this.ConfigurationModal=function(e,t){o._oliveMessage.closeAll(),e&&(o._$scope.selectedConfig=e);var n="enote/add-enote-configuration.html",a="md";"delete"===t&&(n="enote/delete-enote-configuration.html",a="sm"),o.hasEOriginalConnection&&o._oliveModal.openModal({scope:o._$scope,templateUrl:n,showClose:!0,size:a,onComplete:function(){o._$scope.selectedConfig=null,o.loading=o.getList.call(o)}}).then(function(e){return o.credentialModal=e})},this.loading=this._$timeout(this.getList,1e3),this._$scope.selectedConfig=null}}();a.ENoteConfigurationModule.controller("ENoteConfigurationController",["$scope","lodash","oliveMessage","oliveModal","$timeout","ENoteConfigurationService",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(79);t.ENOTE_DELETE_SUCCESS_MSG="Your credentials have been deleted";var i=function(){function e(e,t,n,a,i){this._$scope=e,this._oliveMessage=t,this._$translate=n,this._$timeout=a,this._ENoteConfigurationService=i}return e.prototype.delete=function(){this.deleting=this._$timeout(this._ENoteConfigurationService.deleteConfiguration,1e3).then(function(){var e=this._$translate.instant(t.ENOTE_DELETE_SUCCESS_MSG);this._oliveMessage.show(e,"delete-enote-configuration-success","success",{autoClose:!0})}.bind(this)).catch(function(e){var t=this._ENoteConfigurationService.errorMessageControl(e.data.errorCode);t&&this._oliveMessage.show(t,"delete-enote-configuration-error","error")}.bind(this)).finally(this._$scope.eNoteConfiguration.credentialModal.complete)},e}();a.ENoteConfigurationModule.controller("DeleteENoteConfigController",["$scope","oliveMessage","$translate","$timeout","ENoteConfigurationService",i])},function(e,t){var n="enote/delete-enote-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DeleteENoteConfigController as deleteConfig">\n  <div class="modal_header">\n    <h1 translate="Delete Configuration"></h1>\n  </div>\n  <div class="modal_content" ng-show="!deleteConfig.deleting"\n       translate="Are you sure you want to delete this configuration?"></div>\n  <div class="text-center grid pad" ng-hide="eNoteDeleted" ds-loading="deleteConfig.deleting"\n       ds-progress-message="{{\'Deleting...\' | translate}}"\n       ds-loading-succeeded="eNoteDeleted"></div>\n  <div class="modal_footer">\n    <button type="submit" class="btn btn-lg btn-primary" ng-click="deleteConfig.delete()"\n            data-qa="delete_enote_config_delete_btn"\n            translate="DS_CONTEXT=(configuration) Delete"></button>\n    <button type="button" class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="delete_enote_config_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(79);t.ENOTE_SAVE_SUCCESS_MSG="Your credentials have been verified and saved for your eNote configuration";var i="save-failed-message",s=function(){function e(e,t,n,a,i){this._$scope=e,this._$translate=t,this._$timeout=n,this._oliveMessage=a,this._ENoteConfigurationService=i,this._initCredential(),this.modalTitle=this._$scope.selectedConfig?"Edit eNote Configuration":"Add eNote Configuration"}return e.prototype.submit=function(){var e=this;this._$scope.eNoteConfiguration.credentialModal.removeMessage(i),this.saving=this._$timeout(function(){return e._ENoteConfigurationService.saveConfiguration(e.credential)},1e3).then(function(){var e=this._$translate.instant(t.ENOTE_SAVE_SUCCESS_MSG);this._oliveMessage.show(e,"add-enote-configuration-success","success",{autoClose:!0}),this._$scope.eNoteConfiguration.credentialModal.complete()}.bind(this)).catch(function(e){var t=this._ENoteConfigurationService.errorMessageControl(e.data.errorCode);t&&this._$scope.eNoteConfiguration.credentialModal.addMessage(t,i,"error",{allowUnsafeHtml:!1})}.bind(this))},e.prototype._initCredential=function(){this._$scope.selectedConfig&&(this.credential={organization:this._$scope.selectedConfig.organization,userName:this._$scope.selectedConfig.userName,password:""})},e}();a.ENoteConfigurationModule.controller("AddENoteConfigController",["$scope","$translate","$timeout","oliveMessage","ENoteConfigurationService",s])},function(e,t){var n="enote/add-enote-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form ng-controller="AddENoteConfigController as addENoteConfig">\n  <div class="add-eNote-configuration">\n    <div class="modal_header">\n      <h1 class="modal_title" translate="{{ addENoteConfig.modalTitle }}"></h1>\n    </div>\n    <div class="modal_content">\n      <p translate>Enter the eOriginal credentials for your eNote configuration</p>\n      <div ng-if="!addENoteConfig.saving || addENoteConfigProcessed">\n        <div class="form-group">\n          <label class=\'label\' label-required="*" for="addENoteConfig-organization-name"\n                 translate="Organization"></label>\n          <input name=\'organizationName\' type=\'text\' class=\'input input-text\' maxlength="500" ds-valid required id="addENoteConfig-organization-name"\n                 data-qa="add_enote_config_organization_txtb"\n                 ng-model="addENoteConfig.credential.organization" />\n        </div>\n        <div class="form-group">\n          <label class=\'label\' label-required="*" for="addENoteConfig-Username" translate="Username"></label>\n          <input name=\'addENoteConfig-Username\' type=\'text\' class=\'input input-text\' maxlength="500" ds-valid required\n                 data-qa="add_enote_config_username_txtb"\n                 id="addENoteConfig-Username" ng-model="addENoteConfig.credential.userName" />\n        </div>\n        <div class="form-group">\n          <label class=\'label\' label-required="*" for="addENoteConfig-password" translate="Password"></label>\n          <input name=\'addENoteConfig-password\' type=\'password\' class=\'input input-text\' maxlength="100" ds-valid\n                 data-qa="add_enote_config_password_txtb"\n                 required id="addENoteConfig-password" ng-model="addENoteConfig.credential.password" />\n        </div>\n      </div>\n      <div class="text-center grid pad" ds-loading="addENoteConfig.saving"\n           ds-loading-completed="addENoteConfigProcessed"\n           ds-progress-message="{{\'Saving...\' | translate}}">\n      </div>\n    </div>\n\n    <div class="modal_footer">\n      <button class="btn btn-lg btn-primary" ds-form-submit="addENoteConfig.submit()"\n              ng-disabled="(addENoteConfig.saving && !addENoteConfigProcessed) || !formIsValid() "\n              data-qa="add_enote_config_verify_and_save_btn"\n              translate="Verify and save"></button>\n      <button class="btn btn-lg btn-minor" olive-modal-escape\n              data-qa="add_enote_config_cancel_btn"\n              translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="email-archive-configuration/email-limit-reached.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form class="email-limit-reached">\n  <div class="modal_header">\n    <h1 class="modal_title" translate="Maximum Archive Email Limit"></h1>\n  </div>\n\n  <div class="modal_content">\n    <div class="form-group"\n      translate="Your account already has the maximum number ([[maxNumber]]) of active or pending email addresses."\n      translate-interpolation="bracket"\n      translate-values="{maxNumber: emailArchiveConfiguration.maxNumberOfBccEmailsAllowed}">\n    </div>\n\n    <div class="form-group"\n      translate="You must close an active or pending email address before you can add a new email address.">\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-secondary"\n      olive-modal-escape\n      data-qa="bcc_email_reach_limit_ok_btn"\n      translate="OK">\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),i=n(29),s={active:"Active",activation_sent:"Pending",closed:"Closed"},o={CREATED:"Created",UPDATED:"Updated",CLOSED:"Closed"},r=function(){function e(e,t,n,a,i){this._dsApiClient=e,this._ApiUriBuilder=t,this._appUser=n,this._$q=a,this._$filter=i}return e.prototype.getBccEmails=function(){var e=this._appUser.getCurrentAccountId(),t=this._ApiUriBuilder.endpoint().accounts(e).settings().bccEmailArchives().uri();return this._dsApiClient.get(t).then(this._createBccEmailsFromApiResponse)},e.prototype.getBccEmailHistory=function(e){var t=this._appUser.getCurrentAccountId(),n=this._ApiUriBuilder.endpoint().accounts(t).settings().bccEmailArchives(e.id).uri();return this._dsApiClient.get(n).then(this._createBccEmailHistoryFromApiResponse.bind(this))},e.prototype.addBccEmail=function(e){var t=this._appUser.getCurrentAccountId(),n=this._ApiUriBuilder.endpoint().accounts(t).settings().bccEmailArchives().uri(),a={email:e};return this._dsApiClient.post(n,a)},e.prototype.close=function(e){var t=this._appUser.getCurrentAccountId(),n=this._ApiUriBuilder.endpoint().accounts(t).settings().bccEmailArchives(e.id).uri();return this._dsApiClient.delete(n)},e.prototype.reactivate=function(e){return this.addBccEmail(e)},e.prototype._createBccEmailsFromApiResponse=function(e){return(e.data.bccEmailArchives||[]).map(function(e){return{id:e.bccEmailArchiveId,email:e.email,addedDate:i(e.created).toDate(),addedBy:e.createdBy&&e.createdBy.userName,status:s[e.status]}})},e.prototype._createBccEmailHistoryFromApiResponse=function(e){var t=e.data.bccEmailArchiveHistory||[];return this._$filter("orderBy")(t.map(function(e){return{updatedDate:i(e.modified).toDate(),updatedBy:e.modifiedBy&&e.modifiedBy.userName,action:o[e.action.toUpperCase()],status:s[e.status]}}),"updatedDate",!0)},e}();a.EmailArchiveConfigurationModule.service("EmailArchiveConfiguration",["dsApiClient","ApiUriBuilder","appUser","$q","$filter",r])},function(e,t){var n="email-archive-configuration/email-archive-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="user-management site-main email-archive-configuration"\n    ng-controller="EmailArchiveConfigurationController as emailArchiveConfiguration">\n  <div class="section">\n    <h1 class="header-title" translate="Email Archive Configuration"></h1>\n\n    <p translate="Copies of email notifications sent from this account are sent to all of the active email addresses in this list for external archiving purposes."></p>\n\n    <p translate="You can have up to five active or pending email addresses in this list."></p>\n\n    <div class="header-action">\n      <button class="btn btn-secondary"\n        ng-disabled="!bccEmailsLoaded || emailArchiveConfiguration.hasReachedBccEmailLimit()"\n        ng-click="emailArchiveConfiguration.addBccEmail()"\n        data-qa="bcc_email_add_email_btn"\n        translate="Add Email">\n      </button>\n    </div>\n  </div>\n\n  <table class="mgnt-list list-tbl">\n    <thead>\n      <tr>\n        <th name="email"><span translate="Email"></span></th>\n        <th name="added"><span translate="Added"></span></th>\n        <th name="added-by"><span translate="Added By"></span></th>\n        <th name="status"><span translate="Status"></span></th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n\n    <tbody ng-if="bccEmailsLoaded">\n      <tr ng-repeat="bccEmail in emailArchiveConfiguration.bccEmails"\n          ng-class="{\'closed\': bccEmail.status === \'Closed\'}">\n\n        <td>{{bccEmail.email}}</td>\n        <td>{{bccEmail.addedDate | moment:dateTimeFormat:timeZone}}</td>\n        <td>{{bccEmail.addedBy}}</td>\n\n        <td>\n          <i class=\'icon\'\n            ng-class="{\n              \'Active\': \'icon-circle text-success\',\n              \'Pending\':\'icon-circle icon-pending\',\n              \'Closed\':\'icon-circleclosed\'\n            }[bccEmail.status]"></i>\n          <span class="hidden-sm-down"\n                data-qa="bcc_email_status_span"\n                translate="{{bccEmail.status}}"></span>\n        </td>\n\n        <td class="column-min">\n          <button type=\'button\'\n            class=\'btn btn-secondary btn-trigger u-float-right\'\n            olive-menu=\'bccEmailActions-{{bccEmail.id}}\'\n            olive-menu-position=\'below right\'\n            data-qa="bcc_email_action_btn"\n            translate="Actions">\n          </button>\n\n          <div id=\'bccEmailActions-{{bccEmail.id}}\' class=\'menu invisible\'>\n            <ul>\n              <li>\n                <a name=\'close\' class=\'item\'\n                  ng-if="bccEmail.status !== \'Closed\'"\n                  ng-click="emailArchiveConfiguration.close(bccEmail)"\n                  data-qa="bcc_email_action_close_item"\n                  translate="DS_CONTEXT=(email archive address) Close">\n                </a>\n              </li>\n\n              <li>\n                <a name=\'reactivate\' class=\'item\'\n                  ng-if="bccEmail.status === \'Closed\'"\n                  ng-click="emailArchiveConfiguration.reactivate(bccEmail)"\n                  data-qa="bcc_email_action_reactivate_item"\n                  translate="Reactivate">\n                </a>\n              </li>\n\n              <li>\n                <a name=\'view-history\' class=\'item\'\n                  ng-click="emailArchiveConfiguration.viewHistory(bccEmail)"\n                  data-qa="bcc_email_action_view_history_item"\n                  translate="View History">\n                </a>\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState"\n      ng-if="bccEmailsLoaded && !emailArchiveConfiguration.bccEmails.length">\n    <i class="icon icon-voided emptyState_icon"></i>\n    <div class="emptyState_text">\n      <h3 translate="No Email Archives"></h3>\n      <p translate="There are no Configured Email Archives to display."></p>\n    </div>\n  </div>\n\n  <div ds-loading="emailArchiveConfiguration.loadingBccEmails"\n    ds-loading-succeeded="bccEmailsLoaded"\n    ds-loading-error="{{\'We had trouble retrieving your configuration. Please try again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),i=5,s=function(){function e(e,t,n,a,s,o,r,l){this._$scope=e,this._DateTimeService=t,this._EmailArchiveConfiguration=n,this._$filter=a,this._oliveMessage=s,this._oliveModal=o,this._$translate=r,this._$compile=l,this.maxNumberOfBccEmailsAllowed=i,e.dateTimeFormat=t.getDateTimeFormat(),e.timeZone=t.getTimeZone(),this.loadingBccEmails=this._loadBccEmails.call(this)}return e.prototype.addBccEmail=function(){var e,t,n=this;this._oliveMessage.closeAll(),this._maxBccEmailLimitReached.call(this)?(e="email-archive-configuration/email-limit-reached.html",t="lg"):(e="email-archive-configuration/add-bcc-email.html",t="md"),this._oliveModal.openModal({scope:this._$scope,templateUrl:e,showClose:!0,size:t,onComplete:function(){return n.loadingBccEmails=n._loadBccEmails.call(n)}}).then(function(e){return n.addBccEmailModal=e})},e.prototype.close=function(e){var t=this;this._oliveMessage.closeAll(),this.loadingBccEmails=this._EmailArchiveConfiguration.close(e).then(function(){return function(e){var t=this._$translate.instant("The address {{emailAddress}} has been closed.",{emailAddress:e});this._oliveMessage.show(t,"close-bcc-email-success","success",{autoClose:!0})}.call(t,e.email)}).catch(function(){return function(e){var t=this._$translate.instant("Failed to close {{emailAddress}}.",{emailAddress:e});this._oliveMessage.show(t,"close-bcc-email-failure","error")}.call(t,e.email)}).finally(this._loadBccEmails.bind(this))},e.prototype.reactivate=function(e){var t=this;this._oliveMessage.closeAll(),this._maxBccEmailLimitReached.call(this)?this._oliveModal.openModal({scope:this._$scope,templateUrl:"email-archive-configuration/email-limit-reached.html",showClose:!0,size:"lg"}):this.loadingBccEmails=this._EmailArchiveConfiguration.reactivate(e.email).then(function(){return function(e){var t=this._$translate.instant("The address {{emailAddress}} has been reactivated.",{emailAddress:e});this._oliveMessage.show(t,"reactivate-bcc-email-success","success",{autoClose:!0})}.call(t,e.email)}).catch(function(){return function(e){var t=this._$translate.instant("Failed to reactivate {{emailAddress}}.",{emailAddress:e});this._oliveMessage.show(t,"reactivate-bcc-email-failure","error")}.call(t,e.email)}).finally(this._loadBccEmails.bind(this))},e.prototype.viewHistory=function(e){var t=this;this._oliveMessage.closeAll(),this._$scope.selectedBccEmail=e,this._oliveModal.openModal({scope:this._$scope,templateUrl:"email-archive-configuration/bcc-email-history.html",showClose:!0,size:"lg",onComplete:function(){t._$scope.selectedBccEmail=null}}).then(function(e){return t.bccEmailHistoryModal=e})},e.prototype._loadBccEmails=function(){return this._EmailArchiveConfiguration.getBccEmails().then(this._bccEmailsRetrieved.bind(this))},e.prototype._bccEmailsRetrieved=function(e){this.bccEmails=function(e){var t=e.reduce(function(e,t){"Closed"===t.status?e.closed.push(t):e.open.push(t);return e},{open:[],closed:[]});return[].concat(n.call(this,t.open),n.call(this,t.closed));function n(e){return this._$filter("orderBy")(e,"addedDate",!0)}}.call(this,e)},e.prototype._maxBccEmailLimitReached=function(){return this.bccEmails.filter(function(e){return"Closed"!==e.status}).length>=i},e}();a.EmailArchiveConfigurationModule.controller("EmailArchiveConfigurationController",["$scope","DateTimeService","EmailArchiveConfiguration","$filter","oliveMessage","oliveModal","$translate","$compile",s])},function(e,t){var n="email-archive-configuration/bcc-email-history.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form ng-controller="BccEmailHistoryController as bccEmailHistory">\n  <div class="view-history">\n    <div class="modal_header">\n      <h1 class="modal_title" translate="View History"></h1>\n    </div>\n\n    <div class="modal_utilityHeader">\n      <div class="modal_description" ng-if="bccEmailHistory.loaded"\n        translate="Events that have occurred for: [[styleStart]][[email]][[styleEnd]]"\n        translate-interpolation="bracket"\n        translate-values="{\n          styleStart: \'<strong>\',\n          email: selectedBccEmail.email,\n          styleEnd: \'</strong>\'\n        }">\n      </div>\n    </div>\n\n    <div class="modal_content modal_content-list">\n      <div ng-if="bccEmailHistory.loaded">\n        <table class="table">\n          <thead>\n            <tr>\n              <th><span translate="Last Changed"></span></th>\n              <th><span translate="Changed By"></span></th>\n              <th><span translate="Action"></span></th>\n              <th><span translate="Status"></span></th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr ng-repeat="record in bccEmailHistory.records">\n              <td>{{record.updatedDate | moment:dateTimeFormat:timeZone}}</td>\n              <td>{{record.updatedBy}}</td>\n              <td translate="{{record.action}}"</td>\n              <td translate="{{record.status}}"></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class="text-center">\n        <div ds-loading="bccEmailHistory.loading"\n          ds-loading-succeeded="bccEmailHistory.loaded">\n        </div>\n      </div>\n    </div>\n\n    <div class="modal_footer">\n      <button class="btn btn-lg btn-secondary"\n        olive-modal-complete\n        data-qa="view_bcc_email_history_ok_btn"\n        translate="OK">\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),i=1e3,s=function(){return function(e,t,n,a,s,o){var r=this;this._$scope=e,this._EmailArchiveConfiguration=t,this._$timeout=n,this._$translate=a,this._$compile=s,this._oliveMessage=o;var l=this._EmailArchiveConfiguration.getBccEmailHistory(this._$scope.selectedBccEmail);this.loading=this._$timeout(function(){return l},i).then(function(e){return r.records=e}).catch(function(){var e=this._$translate.instant("Failed to load history for the address {{emailAddress}}.",{emailAddress:this._$scope.selectedBccEmail.email});this._oliveMessage.show(e,"load-bcc-email-history-failure","error"),this._$scope.emailArchiveConfiguration.bccEmailHistoryModal.complete()}.bind(this))}}();a.EmailArchiveConfigurationModule.controller("BccEmailHistoryController",["$scope","EmailArchiveConfiguration","$timeout","$translate","$compile","oliveMessage",s])},function(e,t){var n="email-archive-configuration/add-bcc-email.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form ng-controller="AddBccEmailController as addBccEmail">\n  <div class="add-bcc-email">\n    <div class="modal_header">\n      <h1 class="modal_title" translate="Add Email"></h1>\n    </div>\n\n    <div class="modal_content">\n      <div class="form-group" ng-if="!addBccEmail.saving">\n        <label class=\'label\' label-required="*"\n          for="addBccEmail.address"\n          translate="Email">\n        </label>\n        <input name=\'email\' type=\'text\' class=\'input input-text\' required\n          id="addBccEmail.address" ds-valid="email" maxlength="100"\n          data-qa="add_bcc_email_txtb"\n          ng-model="addBccEmail.address"/>\n      </div>\n\n      <div class="text-center">\n        <div ds-loading="addBccEmail.saving"\n          ds-progress-message="{{\'Saving...\' | translate}}">\n        </div>\n      </div>\n    </div>\n\n    <div class="modal_footer">\n      <button class="btn btn-lg btn-primary"\n        ds-form-submit="addBccEmail.submit()"\n        ng-disabled="!formIsValid() || addBccEmail.saving"\n        data-qa="add_bcc_email_add_btn"\n        translate="Add">\n      </button>\n      <button class="btn btn-lg btn-minor"\n        olive-modal-escape\n        data-qa="add_bcc_email_cancel_btn"\n        translate="Cancel">\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),i=function(){function e(e,t,n,a,i,s){this._$scope=e,this._EmailArchiveConfiguration=t,this._$timeout=n,this._$translate=a,this._$compile=i,this._oliveMessage=s}return e.prototype.submit=function(){var e=this._EmailArchiveConfiguration.addBccEmail(this.address);this.saving=this._$timeout(function(){return e},1e3).then(function(e){var t=this._$translate.instant("You successfully added {{emailAddress}}.",{emailAddress:e.data.email});this._oliveMessage.show(t,"add-bcc-email-success","success",{autoClose:!0})}.bind(this)).catch(function(e){var t=function(e){var t,n=e.data;if(n.errorCode&&n.errorCode.match(/BCC_EMAIL_ARCHIVES_MAX_EXCEEDED/i)){var a=n.message.match(/(\d+)\.$/)[1];t=this._$translate.instant("The maximum number of email addresses are already in use."),t+=a?" ("+a+")":""}else t=n.message&&n.message.match(/email is already in use/i)?this._$translate.instant("The address {{emailAddress}} is already in use.",{emailAddress:this.address}):this._$translate.instant("Failed to add {{emailAddress}}.",{emailAddress:this.address});return t}.call(this,e);this._oliveMessage.show(t,"add-bcc-email-failure","error")}.bind(this)).finally(this._addBccEmailModal().complete)},e.prototype._addBccEmailModal=function(){return this._$scope.emailArchiveConfiguration.addBccEmailModal},e}();a.EmailArchiveConfigurationModule.controller("AddBccEmailController",["$scope","EmailArchiveConfiguration","$timeout","$translate","$compile","oliveMessage",i])},function(e,t){var n="domains/withdraw.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div>\n  <div class='modal_header' olive-modal-header>\n    <h1 translate=\"Withdraw Claim\"></h1>\n  </div>\n\n  <div class='modal_content' olive-modal-content data-qa='modal'>\n    <p translate>\n      Warning. You are about to release ownership of this domain. This allows another organization to claim and manage this domain. Any users with this email address will no longer be subject to your organization's security policies, which may impact users logging in.\n    </p>\n    <p translate>\n      Click 'confirm' to complete withdrawal of your claim.\n    </p>\n    <div ng-if=\"list.domainsService.subDomains.length\">\n      <p class=\"strong\"\n         translate=\"The following sub-domains that were verified by this root domain will also be withdrawn:\"></p>\n      <p ng-repeat=\"item in list.domainsService.subDomains\">\n        {{item.name}}\n      </p>\n    </div>\n  </div>\n\n  <div class='modal_footer' olive-modal-footer>\n    <button class='btn btn-xl btn-primary'\n            ng-click='list.remove()'\n            translate=\"Confirm\"\n            data-qa='submit'></button>\n    <button class='btn btn-xl btn-minor' ds-close-modal translate=\"Cancel\"></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t){var n="domains/validate-domain.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class=\'modal_header\' olive-modal-header>\n  <h1 data-qa="organization_validate_domain_validate_your_domain_header" translate="Validate Your Domain"></h1>\n</div>\n\n<div class=\'modal_content\' olive-modal-content data-qa=\'modal\'>\n  <p  class=\'text-success\'>\n    <i class="icon icon-circlecheck"></i>&nbsp;\n    <span data-qa="organization_validate_domain_is_available" translate="[[domainName]] is available."\n          translate-interpolation="bracket"\n          translate-values="{domainName:claim.domain.name}">\n    </span>\n  </p>\n\n  <p ng-if="claim.domain.verifiedByWildcardDomain" data-qa="organization_validate_domain_message" translate="This domain is activated by your root domain."></p>\n\n  <p ng-if="!claim.domain.verifiedByWildcardDomain" data-qa="organization_validate_domain_message" translate="To validate that this domain belongs to your organization, please update your DNS entry to include the TXT token below."></p>\n\n  <div ng-if="!claim.domain.verifiedByWildcardDomain" class="form-group">\n    <label class="label" for="txt-token" data-qa="organization_validate_domain_txt_token_label" translate=\'TXT Token\'></label>\n    <div id="txt-token" copy-to-clipboard copy-to-clipboard-model="claim.domain.token"></div>\n  </div>\n\n</div>\n\n<div class=\'modal_footer\' olive-modal-footer>\n  <button class=\'btn btn-xl btn-primary\' ds-close-modal data-qa="organization_validate_domain_close_button" translate="DS_CONTEXT=(modal) Close"></button>\n</div>\n')}]),e.exports=n},function(e,t){var n="domains/get-token.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='GetTokenController as claim' ng-include=\"'domains/validate-domain.html'\"></div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),i=function(){return function(e,t){this.domains=e,this.domain=t,this.domain=this.domains.activeSelection}}();a.DomainsModule.controller("GetTokenController",["DomainsService",i])},function(e,t){var n="domains/edit-domain.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditDomainController as editDomainController\'>\n  <div class=\'modal_header\' olive-modal-header>\n    <h1 data-qa="organization_edit_domain_header" translate="Edit Domain Settings"></h1>\n  </div>\n\n  <div class=\'modal_content\' olive-modal-content data-qa=\'modal\'>\n    <div class="form-group">\n      <label class="label" for="domain-name" data-qa="organization_edit_domain_domain_name_label" translate=\'Domain Name\'></label>\n      <input id="domain-name" type="text" class="input-text" disabled\n             ng-model=\'editDomainController.model.name\' data-qa="organization_edit_domain_domain_name_text_box" />\n    </div>\n    <div ng-if="!editDomainController.model.verifiedByWildcardDomain" class="form-group">\n      <label class="label" for="txt-token" data-qa="organization_edit_domain_txt_token_label" translate=\'TXT Token\'></label>\n      <div id="txt-token" copy-to-clipboard copy-to-clipboard-model="editDomainController.model.token"></div>\n      <br>\n      <div class="inline-input cb">\n        <input id=\'claim-all-sub-domains\' class="cb_input"\n          type="checkbox" ng-model=\'editDomainController.model.claimAllSubDomains\'\n          data-qa="organization_edit_claim_all_sub_domains_checkbox" />\n        <label class="cb_label" for="claim-all-sub-domains"\n          data-qa="organization_edit_claim_all_sub_domains_label" translate="Automatically verify sub-domains"></label>\n      </div>\n    </div>\n<hr class="domain-edit-hr">\n    <div class="form-group">\n      <div class="inline-input cb">\n        <input id=\'always-require-login\' class="cb_input"\n\t\ttype="checkbox" ng-model=\'editDomainController.model.requireAuthentication\' data-qa="organization_edit_domain_always_require_login_checkbox" />\n        <label class="cb_label" for=\'always-require-login\'\n               data-qa="organization_edit_domain_always_require_login_label" translate="Always require login when opening envelopes"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id=\'prevent-unmanaged-signups\' class="cb_input"\n               type="checkbox" ng-model=\'editDomainController.model.restrictNewSignUps\' data-qa="organization_edit_domain_prevent_unmanaged_signups_checkbox" />\n        <label class="cb_label" for="prevent-unmanaged-signups"\n               data-qa="organization_edit_domain_prevent_unmanaged_signups_label" translate="Prevent unmanaged signups"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id=\'require-identity-provider\' class="cb_input"\n               type="checkbox" ng-model=\'editDomainController.model.requireIdentityProvider\' ng-change="editDomainController.idpRequiredChange()" data-qa="organization_edit_domain_identity_provider_checkbox" />\n        <label class="cb_label" for="require-identity-provider"\n               data-qa="organization_edit_domain_identity_provider_label" translate="Require all users to authenticate with Identity Provider"></label>\n\n        <div class="inline-input cb">\n          <input id=\'auto-activate-memberships\' class="cb_input"\n                 type="checkbox" ng-model=\'editDomainController.model.autoActivateMemberships\' data-qa="organization_edit_domain_auto_activate_memberships_checkbox"\n                 ng-disabled="!editDomainController.model.requireIdentityProvider" />\n          <label class="cb_label" for="auto-activate-memberships" \n                 data-qa="organization_edit_domain_auto_activate_memberships_label" translate="Auto-activate memberships by default for Organization accounts"></label>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\'modal_footer\' olive-modal-footer>\n    <button class=\'btn btn-xl btn-primary\' data-qa="organization_edit_domain_save_button"\n            translate="Save" ng-click=\'editDomainController.save()\'></button>\n    <button class=\'btn btn-xl btn-minor\' ds-close-modal data-qa="organization_edit_domain_cancel_button" translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),i=function(){function e(e,t,n,a,i,s,o){this.domainsService=e,this.modal=t,this.$scope=n,this.notifier=a,this.$translate=i,this.configuration=s,this.model=o,this.model=this.domainsService.activeSelection}return e.prototype.save=function(){var e=this;this.domainsService.save(this.model).then(function(){e.modal.closeModal(),e.notifier.show({msg:e.$translate.instant("You have successfully saved your changes."),type:"success"})},function(t){e.notifier.show({msg:e.$translate.instant(t),type:"alert",modal:!0})})},e.prototype.idpRequiredChange=function(){!1===this.model.requireIdentityProvider&&(this.model.autoActivateMemberships=!1)},e}();t.EditDomainController=i,a.DomainsModule.controller("EditDomainController",["DomainsService","dsModals","$scope","dsNotification","$translate","configuration",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),i=n(352),s=n(103),o=function(){function e(e,t,n,a,i){this.api=e,this.$q=t,this._organizationService=n,this.activeSelection=a,this.subDomains=i}return e.prototype.all=function(){var e="/organizations/"+this._organizationService.currentOrg.organization.id+"/domains";return this.api.get(e).then(function(e){return _.map(e.data,i.DomainModel.create)})},e.prototype.claim=function(e){var t=this,n="/organizations/"+this._organizationService.currentOrg.organization.id+"/domains";return this.api.post(n,e.toApiJson()).then(function(e){return t._organizationService.initialize(),i.DomainModel.create(e.data)},function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.save=function(e){var t=this,n="/organizations/"+this._organizationService.currentOrg.organization.id+"/domains/"+e.id;return this.api.post(n,e.toApiJson()).then(function(){t._organizationService.initialize()}).catch(function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.validate=function(e){var t=this,n="/organizations/"+this._organizationService.currentOrg.organization.id+"/domains/"+e+"/verify";return this.api.get(n).then(function(e){return i.DomainModel.create(e.data.domain)},function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e.prototype.withdraw=function(e){var t=this,n="/organizations/"+this._organizationService.currentOrg.organization.id+"/domains/"+e;return this.api.delete(n).then(function(){t._organizationService.initialize()}).catch(function(e){return t.$q.reject(s.ErrorResponseModel.createFromApiResponse(e))})},e}();t.DomainsService=o,a.DomainsModule.service("DomainsService",["DocuSignAccountServerApiClient","$q","OrganizationService",o])},function(e,t){var n="domains/domain-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main domains" ng-controller="DomainListController as list">\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ui-sref="authenticated.organization-dashboard({organization_id: list.organizationId})"> {{ list.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Domains"></span>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <h1 class="header-title" data-qa="organization_domain_list_header" translate="Domains"></h1>\n    <div class="header-description" data-qa="organization_domain_list_header_description"\n         translate="Control email domains and define how users are created, managed, and authenticated. Manage a domain by claiming and verifying it below."></div>\n    <div class="action-row">\n      <button class="btn btn-secondary btn-md" ds-modal="domains/claim-domain.html" data-qa="organization_domain_list_claim_domain_button"\n              translate="Claim Domain"></button>\n    </div>\n  </div>\n\n  <table class="rad-list list-tbl mtbl" ds-sortable="sortProperty" ds-sortable-initial-property="name"\n         ds-sortable-reverse="reverseSort">\n    <thead>\n    <tr>\n      <th name="name" class="column-name" ds-sort="name" data-qa="organization_domain_list_column_name_domain_name">\n        <span translate="Domain Name"></span>\n      </th>\n      <th name="status" ds-sort="status" data-qa="organization_domain_list_column_name_status">\n        <span translate="Status"></span>\n      </th>\n      <th class="column-action">&nbsp;</th>\n    </tr>\n    </thead>\n\n    <tbody ng-if="successfullyLoaded">\n    <tr class="click-row" ng-repeat="item in list.items | orderBy:sortProperty:reverseSort track by item.id" data-qa="organization_domain_list_claim_table_row">\n      <td ng-click="list.openEditDomainModal($event, item)">\n        {{item.name}}\n      </td>\n\n      <td ng-switch="item.status" ng-click="list.openEditDomainModal($event, item)">\n          <span ng-switch-when="Pending">\n            <span ng-if="!item.isValidating">\n              <i class="icon icon-circle sunglowYellow"></i>&nbsp;\n              <strong data-qa="organization_domain_list_pending_validation_label" translate="Pending Validation"></strong>\n              <br />&nbsp;\n              <a class="token-validation" ng-click="list.openGetTokenModal($event, item)" data-qa="organization_domain_list_get_validation_token_link"\n                 translate="Get Validation Token"></a>\n            </span>\n\n            <span ng-if="item.isValidating">\n              <div class="spinner-circle spinner-sm"></div>&nbsp;\n              <strong data-qa="organization_domain_list_validating_label" translate="Validating"></strong>\n            </span>\n          </span>\n\n        <span ng-switch-when="Active">\n            <i class="icon icon-circlecheck text-success"></i>&nbsp;\n            <strong data-qa="organization_domain_list_active_label" translate="Active"></strong>\n          </span>\n\n        <span ng-switch-when="Deactivated">\n            <span ng-if="!item.isValidating">\n              <i class="icon icon-alert-triangle text-alert"></i>&nbsp;\n              <strong translate="Deactivated"></strong>\n              <p class="text-muted deactived">\n                <span translate="Cannot find validation token"></span>\n              </p>\n\n              <span ng-if="item.isValidating">\n                <div class="spinner-circle spinner-sm"></div>&nbsp;\n                <strong translate="Validating"></strong>\n              </span>\n            </span>\n          </span>\n      </td>\n\n      <td class="column-action">\n        <button type="button" class="btn btn-secondary btn-trigger" olive-menu="domainMenu-{{::item.id}}" data-qa="organization_domain_list_actions_button"\n                translate="Actions"></button>\n        <div class="menu invisible" id="domainMenu-{{::item.id}}">\n          <ul ng-switch="item.status">\n            <li class="item" ng-click="list.openEditDomainModal($event, item)" data-qa="organization_domain_list_edit_action_item" translate="Edit"></li>\n            <li class="item" ng-click="list.openGetTokenModal($event, item)" data-qa="organization_domain_list_get_token_item" translate="Get Token"></li>\n            <li class="item" ng-click="list.withdraw(item)" data-qa="organization_domain_list_withdraw_claim_item" translate="Withdraw Claim"></li>\n            <li ng-switch-when="Pending" class="item" ng-click="list.validate(item)" data-qa="organization_domain_list_pending_validate_item" translate="Validate"></li>\n            <li ng-switch-when="Deactivated" class="item" data-qa="organization_domain_list_deactivated_validate_item" translate="Validate"></li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div ds-loading="list.loading" ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble enabling your Connect configurations. Go ahead and try that again.\' | translate}}"></div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),i=function(){function e(e,t,n,a,i,s,o,r,l,c,d){var u=this;this.domainsService=e,this._$scope=t,this._modal=n,this._oliveMessage=a,this._$translate=i,this._organizationService=s,this._$state=o,this._$stateParams=r,this._=l,this.items=c,this.loading=d,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.loading=this.domainsService.all(),this.loading.then(function(e){u.items=e}),t.$on("NewDomainAdded",this.newDomainAdded)}return e.prototype.isEmpty=function(){return this._.isEmpty(this.items)},e.prototype.openGetTokenModal=function(e,t){e.stopPropagation(),this.domainsService.activeSelection=t,this._modal.openModal("domains/get-token.html",this._$scope,"sm",!1,!0)},e.prototype.openEditDomainModal=function(e,t){e.stopPropagation(),this.domainsService.activeSelection=t,this._modal.openModal("domains/edit-domain.html",this._$scope,"md",!1,!0)},e.prototype.withdraw=function(e){this.domainsService.activeSelection=e,this.domainsService.subDomains=[],this.domainsService.subDomains=this.items.filter(function(t){return t.verifiedByWildcardDomain&&t.verifiedWildcardDomainId===e.id}),e.isPending()?this.remove():this._modal.openModal("domains/withdraw.html",this._$scope,"sm",!1,!0)},e.prototype.removeSubDomains=function(){var e=this;this.domainsService.subDomains.length>0&&this.domainsService.subDomains.forEach(function(t){e.removeDomainFromList(e.items,t.id)})},e.prototype.remove=function(){var e=this,t=this.domainsService.activeSelection.id;this.domainsService.withdraw(t).then(function(){e._modal.closeModal(),e._oliveMessage.show(e._$translate.instant("You have successfully withdrawn the domain."),"domainWithDrawSuccess","success"),e.removeDomainFromList(e.items,t),e.removeSubDomains()},function(t){e._oliveMessage.show(e._$translate.instant(t),"domainWithDrawError","error")})},e.prototype.validate=function(e){var t=this;e.isValidating=!0,this.domainsService.validate(e.id).then(function(n){t._.remove(t.items,e),t.items.push(n),t._organizationService.initialize(),t._oliveMessage.show(t._$translate.instant("You have successfully claimed your domain."),"claimDomainSuccess","success")},function(e){t._oliveMessage.show(t._$translate.instant(e),"claimDomainError","alert")}).finally(function(){e.isValidating=!1})},e.prototype.newDomainAdded=function(e,t){e.stopPropagation(),e.currentScope.list.items.push(t)},e.prototype.removeDomainFromList=function(e,t){this._.remove(e,function(e){return e.id===t})},e}();t.DomainListController=i,a.DomainsModule.controller("DomainListController",["DomainsService","$scope","dsModals","oliveMessage","$translate","OrganizationService","$state","$stateParams","lodash",i])},function(e,t){var n="domains/claim-domain.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ClaimDomainController as claim" ds-form>\n  <div ng-if=\'claim.onStepOne\'>\n    <div  class=\'header\'>\n      <h1 data-qa="organization_claim_domain_header" translate="Claim a Domain"></h1>\n    </div>\n\n    <div class=\'content\' data-qa=\'modal\'>\n      <div ng-if=\'claim.isDomainReserved\'>\n        <p class=\'text-alert\'>\n          <i class="icon icon-alert-triangle"></i>&nbsp;\n          <span ng-if="claim.error" data-qa="organization_claim_domain_diff_domain_error_message">{{claim.error}}</span>\n        </p>\n        <p data-qa="organization_claim_domain_diff_domain_message" translate="Enter a different domain name or contact the domain name owner for assistance.">\n        </p>\n      </div>\n\n      <div class="form-group">\n        <label class="label" for="domain-name" data-qa="organization_claim_domain_domain_name_label" translate=\'Domain Name\'></label>\n        <input id="domain-name" type="text" class="input-text" maxlength=\'253\'\n               ng-model=\'claim.model.name\'\n               ds-valid required data-qa="organization_claim_domain_domain_name_text_box"/>\n      </div>\n    </div>\n\n    <div class=\'footer\'>\n      <button class=\'btn btn-xl btn-primary\' \n              ds-form-submit=\'claim.submit()\' data-qa="organization_claim_domain_claim_button"\n              translate="Claim"></button>\n      <button class=\'btn btn-xl btn-minor\' ds-close-modal data-qa="organization_claim_domain_cancel_button" translate="Cancel"></button>\n    </div>\n  </div>\n\n  <div ng-if=\'!claim.onStepOne\' ng-include="\'domains/validate-domain.html\'"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),i=n(353),s=function(){function e(e,t){this.domains=e,this.$scope=t,this.model=new i.ClaimRequestModel,this.domain=null,this.isDomainReserved=!1,this.reservedDomain=null,this.onStepOne=!0}return e.prototype.submit=function(){var e=this;this.domains.claim(this.model).then(function(t){e.onStepOne=!1,e.domain=t,e.$scope.$emit("NewDomainAdded",t)},function(t){e.error=t,e.isDomainReserved=!0,e.reservedDomain=e.model.name})},e}();a.DomainsModule.controller("ClaimDomainController",["DomainsService","$scope",s])},function(e,t){var n="document-signing/watermark.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.document signing settings"\n         translate="Signing Settings"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Watermark"></span>\n    </li>\n  </ul>\n</div>\n<div class="watermark" ng-controller="WatermarkController as watermarkCtrl" ds-form>\n  <div ng-if="watermarkLoaded">\n    <form name="WatermarkForm">\n    <div class="section">\n      <h1 class="header-title" translate="Watermark"></h1>\n\n      <div class="header-actions col-1-2">\n        <span class="action-btns" ds-ackbar="WatermarkForm"\n          ds-ackbar-save="watermarkCtrl.save(WatermarkForm)"\n          ds-ackbar-cancel="watermarkCtrl.cancel()"></span>\n      </div>\n    </div>\n\n    <div class="section">\n      <div class="grid col-1-2">\n        <div class="inline-input cb" ui-cfr ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n          <input class="cb_input" type="checkbox" id="watermark-enabled"\n                 ng-model="watermarkCtrl.watermark.enabled"\n                 ng-change="watermarkCtrl.watermark.enabled || watermarkCtrl.restoreSavedWatermark()"\n                 data-qa="watermark_apply_to_in_progress_document_cb">\n          <label class="cb_label" for="watermark-enabled"\n                 data-qa="watermark_apply_to_in_progress_document_cb_lbl"\n                 translate="Apply watermarks to documents that are still in progress" setting-key-map="WatermarkEnabled"></label>\n        </div>\n\n        <div ng-if="watermarkCtrl.watermark.enabled" >\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" translate="Choose a font style:" setting-key-map="WatermarkFont"></label>\n\n            <div class="select-wrap" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]">\n              <select ng-model="watermarkCtrl.watermark.font"\n                      ng-options="font.value as font.text | translate for font in watermarkCtrl.fontStyles"\n                      data-qa="watermark_font_style_option">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" translate="Choose a font color:" setting-key-map="WatermarkFontColor"></label>\n\n            <div class="select-wrap" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]">\n              <select ng-model="watermarkCtrl.watermark.fontColor"\n                      data-qa="watermark_font_color_option"\n                      ng-options="fontColor.value as fontColor.text | translate for fontColor in watermarkCtrl.fontColors">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" translate="Choose a font size:" setting-key-map="WatermarkFontSize"></label>\n\n            <div class="select-wrap" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]">\n              <select ng-model="watermarkCtrl.watermark.fontSize"\n                      data-qa="watermark_font_size_option"\n                      ng-options="fontSize.value as fontSize.text | translate for fontSize in watermarkCtrl.fontSizes">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" translate="Choose an image transparency percentage:" setting-key-map="WatermarkTransparency"></label>\n\n            <div class="select-wrap" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]">\n              <select ng-model="watermarkCtrl.watermark.transparency"\n                      data-qa="watermark_image_transparency_option"\n                      ng-options="t.value as t.text | translate for t in watermarkCtrl.transparencies">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" translate="Choose an orientation of the watermark:" setting-key-map="WatermarkDisplayAngle"></label>\n\n            <div class="select-wrap" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]">\n              <select ng-model="watermarkCtrl.watermark.displayAngle"\n                      data-qa="watermark_orientation_option"\n                      ng-options="angle.value as angle.text | translate for angle in watermarkCtrl.orientations">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{true: \'\', false: \'disabled\'}[watermarkCtrl.watermark.enabled]"\n               ui-hint ui-models="[watermarkCtrl.watermarkSettings.waterMarkEnabledMetadata]">\n            <label class="label" for="watermark-text" translate="Input a watermark message string:" setting-key-map="WatermarkText"></label>\n            <input type="text" class="input-text" data-qa="watermark_message_string_txtb"\n                   translate translate-attr-placeholder="In Progress" id="watermark-text"\n                   ng-model="watermarkCtrl.watermark.watermarkText"/>\n          </div>\n\n          <div class="action-btns">\n            <button type="button" class="btn btn-secondary btn-sm"\n                    ng-click="watermarkCtrl.setActiveWatermark()"\n                    ds-modal="document-signing/watermark-preview.html"\n                    data-qa="watermark_preview_btn"\n                    ds-add-close="true" translate="Preview">\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div>\n    <div class="section">\n      <span class="action-btns" ds-ackbar="WatermarkForm" ds-ackbar-save="watermarkCtrl.save(WatermarkForm)"\n            ds-ackbar-cancel="watermarkCtrl.cancel(WatermarkForm)"></span>\n    </div>\n    </form>\n  </div>\n  <div ds-loading="watermarkCtrl.loading" class="text-center" ds-loading-succeeded="watermarkLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading the Watermark. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),i=function(){return function(e,t,n){var a=this;this._appUser=e,this._dsWatermark=t,this._=n,this.getWatermark=function(){return a._dsWatermark.getForAccount(a._appUser.getCurrentAccountId())},this.setWatermark=function(e){return a._.isUndefined(e)&&(e=a.activeWatermark),a._dsWatermark.setForAccount(a._appUser.getCurrentAccountId(),e)},this.getPreview=function(e){return a._.isUndefined(e)&&(e=a.activeWatermark),a._dsWatermark.generatePreviewImage(a._appUser.getCurrentAccountId(),e)}}}();a.DocumentSigningModule.service("WatermarkService",["appUser","dsWatermark","lodash",i])},function(e,t){var n="document-signing/watermark-preview.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="watermark" ng-controller="WatermarkPreviewController as watermarkPreview">\n  <div class="grid header">\n    <h1 translate="Watermark Preview"></h1>\n  </div>\n  <div class="grid content">\n    <img ng-if="successfullyLoaded" ng-src="{{ watermarkPreview.previewImage }}">\n    <div ds-loading="watermarkPreview.loaded"\n         ds-loading-succeeded="successfullyLoaded"\n         ds-loading-error="{{\'Oops! We had trouble loading your watermark preview. Go ahead and try that again.\' | translate}}"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(36).DocumentSigningModule.controller("WatermarkPreviewController",["$scope","WatermarkService",function(e,t){var n=this;this.previewImage="",this.loaded=t.getPreview().then(function(e){n.previewImage="data:image/png;base64,"+e.imageBase64})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36);t.WATERMARK_SAVED_MESSAGE="Saved Successfully!",t.WATERMARK_ERROR_MESSAGE="An error occurred!",t.WATERMARK_FONT_STYLES=[{text:"Courier",value:"courier"},{text:"Helvetica",value:"helvetica"},{text:"Times New Roman",value:"timesnewroman"}],t.WATERMARK_FONT_COLORS=[{text:"Black",value:"black"},{text:"Blue",value:"blue"},{text:"Red",value:"red"},{text:"Gray",value:"gray"},{text:"Yellow",value:"yellow"}],t.WATERMARK_FONT_SIZES=[{text:"30px",value:30},{text:"40px",value:40},{text:"50px",value:50},{text:"60px",value:60},{text:"70px",value:70},{text:"80px",value:80},{text:"90px",value:90}],t.WATERMARK_TRANSPARENCIES=[{text:"45%",value:10},{text:"40%",value:20},{text:"35%",value:30},{text:"30%",value:40},{text:"25%",value:50},{text:"20%",value:60},{text:"15%",value:70},{text:"10%",value:80},{text:"5%",value:90}],t.WATERMARK_ORIENTATIONS=[{text:"Horizontal",value:0},{text:"Diagonal",value:45},{text:"Vertical",value:90}];var i=1e3,s=function(){function e(e,n,a,s,o,r,l,c,d){var u=this;this._=e,this._$q=n,this._$scope=a,this._WatermarkService=s,this._dsNotification=o,this._appUser=r,this._$translate=l,this._$state=c,this._$timeout=d,this.defaultFontStyle="courier",this.fontStyles=t.WATERMARK_FONT_STYLES,this.fontColors=t.WATERMARK_FONT_COLORS,this.fontSizes=t.WATERMARK_FONT_SIZES,this.orientations=t.WATERMARK_ORIENTATIONS,this.transparencies=t.WATERMARK_TRANSPARENCIES,this.save=function(e){u._WatermarkService.setWatermark(u.watermark).then(function(){u._dsNotification.show({msg:u._$translate.instant(t.WATERMARK_SAVED_MESSAGE),type:"success"}),u._getData(),e.$setPristine()},function(){u._dsNotification.show({msg:u._$translate.instant(t.WATERMARK_ERROR_MESSAGE),type:"alert"})})},this.cancel=function(){u.watermark=null,u._$state.go("authenticated.document signing settings")},this.restoreSavedWatermark=function(){u.watermark=u._.cloneDeep(u.savedWatermark),u.watermark.enabled=!1},this.setActiveWatermark=function(){u._WatermarkService.activeWatermark=u.watermark},this.watermarkSettings={waterMarkEnabled:null,waterMarkEnabledMetadata:null};var p=this._getData();this.loading=this._$timeout(function(){return p},i)}return e.prototype._getData=function(){var e=this;return this._$q.all({settings:this._appUser.currentAccountInfo.informationRetrieved,watermark:this._WatermarkService.getWatermark()}).then(function(t){e._.merge(e.watermarkSettings,e._.pick(e._appUser.currentAccountInfo.settings,e._.keys(e.watermarkSettings))),e.watermark=t.watermark;var n=e._.find(e.fontStyles,function(t){return t.value===e.defaultFontStyle}),a=e._.find(e.fontStyles,function(t){return t.value===e.watermark.font});e._.isUndefined(a)&&(a=n),e.watermark.font=a.value,e.savedWatermark=e._.cloneDeep(e.watermark)},function(t){e._dsNotification.show({msg:e._$translate.instant("Something has gone wrong. Please try again."),type:"alert"})})},e}();a.DocumentSigningModule.controller("WatermarkController",["lodash","$q","$scope","WatermarkService","dsNotification","appUser","$translate","$state","$timeout",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="invalid option",i=" a",s=" tt",o=[{format:"D/M/YYYY",value:"d/M/yyyy"},{format:"DD-MM-YY",value:"dd-MM-yy"},{format:"DD-MMM-YY",value:"dd-MMM-yy"},{format:"DD-MM-YYYY",value:"dd-MM-yyyy"},{format:"DD.MM.YYYY",value:"dd.MM.yyyy"},{format:"DD-MMM-YYYY",value:"dd-MMM-yyyy"},{format:"DD MMMM YYYY",value:"dd MMMM yyyy"},{format:"M/D/YYYY",value:"M/d/yyyy"},{format:"MM-DD-YYYY",value:"MM-dd-yyyy"},{format:"MM/DD/YYYY",value:"MM/dd/yyyy"},{format:"MM/DD/YY",value:"MM/dd/yy"},{format:"MMM-DD-YYYY",value:"MMM-dd-yyyy"},{format:"MMM D, YYYY",value:"MMM d, yyyy"},{format:"MMMM D, YYYY",value:"MMMM d, yyyy"},{format:"YYYY-MM-DD",value:"yyyy-MM-dd"},{format:"YYYY-MMM-DD",value:"yyyy-MMM-dd"},{format:"YYYY/MM/DD",value:"yyyy/MM/dd"},{format:"YYYY MMMM D",value:"yyyy MMMM d"}];n(36).DocumentSigningModule.controller("DocumentSigningSettingsController",["$scope","appUser","$q","dsNotification","dsAccount","dsModals","dsDynamicSystemSettingsService","$translate","lodash","$timeout","moment","oliveMessage",function(e,t,n,r,l,c,d,u,p,m,g,h){e.sampleDate=g().month(0).date(18);var f=g().hour(14).minute(59);e.timeFormatList=[{text:"None",value:"none"},{text:f.format("h:mm"),value:"h:mm"},{text:f.format("h:mm a"),value:"h:mm a"},{text:f.format("h:mm:ss"),value:"h:mm:ss"},{text:f.format("h:mm:ss a"),value:"h:mm:ss a"},{text:f.format("HH:mm"),value:"HH:mm"},{text:f.format("HH:mm:ss"),value:"HH:mm:ss"}];var v=p.clone(e.timeFormatList);e.signingSettings={allowSupplementalDocuments:null,supplementalDocumentsMustView:null,supplementalDocumentsMustAccept:null,supplementalDocumentsMustRead:null,requireDeclineReason:null,allowSignerReassignOverride:null,allowSignerReassign:null,signerCanSignOnMobile:null,enableSignOnPaper:null,enableSignOnPaperOverride:null,allowOfflineSigning:null,signingUiVersion:null,selfSignedRecipientEmailDocument:null,selfSignedRecipientEmailDocumentUserOverride:null,enableAutoNav:null,allowMarkup:null,signerCanCreateAccount:null,signDateFormat:null,signTimeFormat:null,signTimeShowAmPm:null,attachCompletedEnvelope:null,signerAttachCertificateToEnvelopePDF:null,chromeSignatureEnabled:null,inSessionEnabled:null,inSessionSuppressEmails:null,signerInSessionUseEnvelopeCompleteEmail:null,autoNavRule:null,allowAutoNavSettings:null,recipientsCanSignOffline:null,externalSignaturePadType:null,allowExternalSignaturePad:null,waterMarkEnabled:null,adoptSigConfig:null,disableStyleSignature:null,disableUploadSignature:null,showCompleteDialogInEmbeddedSession:null,enableResponsiveSigning:null,local_signTimeFormat:e.timeFormatList[0].value,allowSupplementalDocumentsMetadata:null,supplementalDocumentsMustViewMetadata:null,supplementalDocumentsMustAcceptMetadata:null,supplementalDocumentsMustReadMetadata:null,requireDeclineReasonMetadata:null,allowSignerReassignOverrideMetadata:null,allowSignerReassignMetadata:null,signerCanSignOnMobileMetadata:null,enableSignOnPaperMetadata:null,enableSignOnPaperOverrideMetadata:null,allowOfflineSigningMetadata:null,recipientsCanSignOfflineMetadata:null,signingUiVersionMetadata:null,selfSignedRecipientEmailDocumentUserOverrideMetadata:null,signerAttachCertificateToEnvelopePDFMetadata:null,chromeSignatureEnabledMetadata:null,inSessionEnabledMetadata:null,inSessionSuppressEmailsMetadata:null,signerInSessionUseEnvelopeCompleteEmailMetadata:null,showCompleteDialogInEmbeddedSessionMetadata:null,attachCompletedEnvelopeMetadata:null,signTimeShowAmPmMetadata:null,signerCanCreateAccountMetadata:null,allowMarkupMetadata:null,enableAutoNavMetadata:null,waterMarkEnabledMetadata:null,signTimeFormatMetadata:null,allowExternalSignaturePadMetadata:null,adoptSigConfigMetadata:null,disableStyleSignatureMetadata:null,disableUploadSignatureMetadata:null,externalSignaturePadTypeMetadata:{options:[{text:"None"},{text:"Topaz"},{text:a},{text:"ePad with IntegriSign"},{text:"Topaz SigPlusExtLite"}]},signDateFormatMetadata:null,selfSignedRecipientEmailDocumentMetadata:{options:[{text:"PDF"},{text:"Link"}]},autoNavRuleMetadata:{options:[{text:"Page only",mobileOptimizedSupport:!1,value:"off"},{text:"Navigate required fields",mobileOptimizedSupport:!0,value:"required_only"},{text:"Navigate blank required fields",mobileOptimizedSupport:!0,value:"required_and_blank_fields"},{text:"Navigate all fields",mobileOptimizedSupport:!0,value:"all_fields"},{text:"Page then Navigate required fields",mobileOptimizedSupport:!1,value:"page_then_required_fields"},{text:"Page then Navigate blank required fields",mobileOptimizedSupport:!1,value:"page_then_required_and_blank_fields"},{text:"Page then Navigate all fields",mobileOptimizedSupport:!1,value:"page_then_all_fields"}]},enableResponsiveSigningMetadata:null,customDateInput:null,customTimeInput:null},e.tmpSettings={};var _=u.instant("Enter Custom Date Format"),b=u.instant("Enter Custom Time Format"),y=function(e){return e.replace(/(d|s|t|m|x|a|y|h|l|w|e|z)/gi,"\\$1")}(u.instant("Custom")),A=u.instant("Custom"),S="customDefault",w="d/M/yyyy",C="none";e.validCustomDateInput=!0,e.showCustomTimeError=!1,e.showCustomDateUI=!1,e.showCustomTimeUI=!1,e.didUpdateSupplementalDocumentsMustReadDependency=function(){e.signingSettings.supplementalDocumentsMustRead=e.signingSettings.supplementalDocumentsMustRead&&e.signingSettings.supplementalDocumentsMustView&&e.signingSettings.supplementalDocumentsMustAccept},e.didUpdateSupplementalDocumentsMustRead=function(){e.signingSettings.supplementalDocumentsMustView=e.signingSettings.supplementalDocumentsMustRead||e.signingSettings.supplementalDocumentsMustView,e.signingSettings.supplementalDocumentsMustAccept=e.signingSettings.supplementalDocumentsMustRead||e.signingSettings.supplementalDocumentsMustAccept};var P=function(t){t&&(e.signingSettings.local_showIDQuestion=!p.isEmpty(e.signingSettings.inPersonIDCheckQuestion))},E=function(){var t=N(e.signingSettings.local_signTimeFormat)?s:i;e.signingSettings.local_signTimeFormat=e.signingSettings.signTimeShowAmPm?e.signingSettings.signTimeFormat+t:e.signingSettings.signTimeFormat};function T(){var i={settings:t.currentAccountInfo.settingsRetrieved,accountInformation:t.currentAccountInfo.informationRetrieved};return n.all(i).then(function(){p.merge(e.signingSettings,p.pick(t.currentAccountInfo.settings,p.keys(e.signingSettings))),function(){var n=t.currentAccountInfo.settings.signDateFormatMetadata.options;e.signingSettings.signDateFormatMetadata.options=o.reduce(function(e){return function(t,n){return e.some(function(e){return e.value===n.value})&&t.push(n),t}}(n),[]),e.signingSettings.signDateFormatMetadata.optionsOriginal=p.clone(e.signingSettings.signDateFormatMetadata.options),D(e.signingSettings.signDateFormat)&&e.signingSettings.signDateFormat!==S?e.DateInCurrentFormat=g(e.sampleDate).format(I(e.signingSettings.signDateFormat)):e.DateInCurrentFormat="";E(),N(e.signingSettings.local_signTimeFormat)&&e.signingSettings.local_signTimeFormat!==S?e.TimeInCurrentFormat=g(f).format(e.signingSettings.local_signTimeFormat):e.TimeInCurrentFormat="";d.getSettingsByAccountId(t.getCurrentAccountId()).then(function(t){p.find(t.settings,"name","EnableCustomDateSignedFormatInUI").value&&function(){e.timeFormatList=p.clone(v),D(e.signingSettings.signDateFormat)?(e.signingSettings.signDateFormatMetadata.options.push({format:y,value:e.signingSettings.signDateFormat}),e.showCustomDateUI=!0):e.signingSettings.signDateFormatMetadata.options.push({format:y,value:S});N(e.signingSettings.local_signTimeFormat)&&e.signingSettings.local_signTimeFormat!==S?(e.timeFormatList.push({text:A,value:e.signingSettings.local_signTimeFormat}),e.showCustomTimeUI=!0):e.timeFormatList.push({text:A,value:S})}()});var i=new RegExp("Metadata$");for(var s in e.signingSettings)if(i.test(s)){var r=s.replace("Metadata",""),l=e.signingSettings[s];p.has(l,"uiHint")&&"available"!==l.uiHint&&"autoNavRule"!==r&&(e.signingSettings[r]=null)}e.signingSettings.inPersonIDQuestionEnabled=!p.isEmpty(e.signingSettings.inPersonIDCheckQuestion),e.externalSignaturePadTypeOptions=e.signingSettings.externalSignaturePadTypeMetadata.options.filter(function(e){return e.value&&e.text&&e.text!==a}),E(),P(!0),e.shouldShowSigningSettingsSection="available"===e.signingSettings.waterMarkEnabledMetadata.uiHint||e.inSessionEnabled||e.shouldShowAutoNavSetting,e.shouldShowDocumentFormattingSection="available"===e.signingSettings.signDateFormatMetadata.uiHint||"available"===e.signingSettings.signTimeFormatMetadata.uiHint&&"available"===e.signingSettings.signTimeShowAmPmMetadata.uiHint||"available"===e.signingSettings.chromeSignatureEnabledMetadata.uiHint,e.shouldShowDocumentDeliverySection="available"===e.signingSettings.attachCompletedEnvelopeMetadata.uiHint||"available"===e.signingSettings.signerAttachCertificateToEnvelopePDFMetadata.uiHint||e.signingSettings.inSessionEnabled&&("available"===e.signingSettings.inSessionSuppressEmailsMetadata.uiHint||"available"===e.signingSettings.signerInSessionUseEnvelopeCompleteEmailMetadata.uiHint)||"available"===e.signingSettings.selfSignedRecipientEmailDocumentMetadata.uiHint||"available"===e.signingSettings.waterMarkEnabledMetadata.uiHint,e.displaySignAdoptConfig=e.signingSettings.adoptSigConfig&&"available"===e.signingSettings.adoptSigConfigMetadata.uiHint,e.shouldShowSupplementalDocumentsSection=e.signingSettings.allowSupplementalDocuments,e.displaySignatureSection=e.displaySignAdoptConfig||"available"===e.signingSettings.chromeSignatureEnabledMetadata.uiHint,e.$broadcast("signingSettingsLoaded")}()})}function M(t){D(t)&&t!==S?e.DateInCurrentFormat=g(e.sampleDate).format(I(t)):e.DateInCurrentFormat=""}function k(t){N(t)&&t!==S?e.TimeInCurrentFormat=g(f).format(function(e){return F(F(e).replace(new RegExp("t(?!\\\\)t(?!\\\\)","g"),"a"))}(t)):e.TimeInCurrentFormat=""}function I(e){for(var t=[{input:/((?![d\\]).|^)(dd)(?!d)/g,output:"$1DD"},{input:/((?![d\\]).|^)(d)(?!d)/g,output:"$1D"},{input:/yyyy/g,output:"YYYY"},{input:/yy/g,output:"YY"}],n=0;n<t.length;n++)e=e.replace(t[n].input,t[n].output);return e}function D(t){return!e.signingSettings.signDateFormatMetadata.optionsOriginal.some(x(t))}function N(e){return!v.some(x(e))}function x(e){return function(t){return t.value===e}}function O(t){if(void 0===t||""===t)return e.showCustomDateError=!1,!1;var n=z(t),a=new RegExp("[dMy](?!\\\\)","g");return F(n).match(a)}function U(t){if(void 0===t||""===t)return e.showCustomTimeError=!1,!1;var n=R(t),a=new RegExp("[hHm](?!\\\\)","g");return F(n).match(a)?!(e.showCustomTimeError=!1):!(e.showCustomTimeError=!0)}function L(){if("available"===e.signingSettings.enableResponsiveSigningMetadata.uiHint){p.isUndefined(e.tmpSettings.enableResponsiveInitialValue)&&(e.tmpSettings.enableResponsiveInitialValue=e.signingSettings.enableResponsiveSigning,e.tmpSettings.enableResponsiveRightsInitialValue=e.signingSettings.enableResponsiveSigningMetadata.rights);var t=p.find(e.signingSettings.autoNavRuleMetadata.options,{value:e.signingSettings.autoNavRule});if(t&&!t.mobileOptimizedSupport){if(e.signingSettings.enableResponsiveSigning){var n=u.instant("Mobile Optimized cannot be used when Auto-Navigation is set to {{rule}}",{rule:u.instant(t.text)});h.show(n,"mobileOptNotSupported","warning")}e.signingSettings.enableResponsiveSigningMetadata.rights="read_only",e.signingSettings.enableResponsiveSigning=!1,e.allowMobileOptimized=!1}else e.signingSettings.enableResponsiveSigningMetadata.rights=e.tmpSettings.enableResponsiveRightsInitialValue,e.signingSettings.enableResponsiveSigning=e.tmpSettings.enableResponsiveInitialValue,e.allowMobileOptimized=!0}}function z(e){var t=new RegExp("[HhmstDYlaxweoALQSXWZ|%[\\]](?!\\\\)","g");return F(F(e.substring(0,32)).replace(t,""))}function R(e){var t=new RegExp("[dMylaxweoALQSXWZ|%[\\]](?!\\\\)","g");return F(F(e.substring(0,32)).replace(t,""))}function F(e){return e.split("").reverse().join("")}e.loading=m(function(){return T()},1e3),e.cancel=function(t){T(),t.$setPristine(),e.$broadcast("resetDocumentSigningForm")},e.showAutoNavSettings=function(){return{uiHint:e.signingSettings.allowAutoNavSettings?"available":"not_available",rights:"editable"}},e.save=function(n){return P(!1),function(){D(e.signingSettings.signDateFormat)&&(e.signingSettings.customDateInput===_?e.signingSettings.signDateFormat=w:O(e.signingSettings.customDateInput)?e.signingSettings.signDateFormat=z(e.signingSettings.customDateInput):e.signingSettings.signDateFormat=w);N(e.signingSettings.local_signTimeFormat)&&(e.signingSettings.customTimeInput===b?e.signingSettings.local_signTimeFormat=C:U(e.signingSettings.customTimeInput)?e.signingSettings.local_signTimeFormat=R(e.signingSettings.customTimeInput):e.signingSettings.local_signTimeFormat=C)}(),function(){var t=N(e.signingSettings.local_signTimeFormat)?new RegExp(s):new RegExp(i);e.signingSettings.signTimeShowAmPm=t.test(e.signingSettings.local_signTimeFormat),e.signingSettings.signTimeFormat=e.signingSettings.local_signTimeFormat.replace(t,"")}(),e.$broadcast("saveDocumentSigningForm"),l.updateSettings(t.getCurrentAccountId(),e.signingSettings).then(function(){t.refreshAccountSettings(),function(){if(D(e.signingSettings.signDateFormat)){var t=e.signingSettings.signDateFormatMetadata.options.findIndex(function(e){return e.format===y});e.signingSettings.signDateFormatMetadata.options[t]={format:y,value:e.signingSettings.signDateFormat}}if(E(),void 0!==e.signingSettings.local_signTimeFormat&&N(e.signingSettings.local_signTimeFormat)){var t=e.timeFormatList.findIndex(function(e){return e.text===A});e.timeFormatList[t]={text:A,value:e.signingSettings.local_signTimeFormat}}else e.showCustomTimeUI=!1;M(e.signingSettings.signDateFormat),k(e.signingSettings.local_signTimeFormat)}(),n.$setPristine(),r.show({msg:u.instant("Saved Successfully!"),type:"success"})},function(e){r.show({msg:u.instant("An error occurred!"),type:"alert"})}).finally(function(){c.closeModal()})},e.$on("signingSettingsLoaded",function(){delete e.tmpSettings.enableResponsiveInitialValue,L()}),e.signDateFormatChanged=function(){e.validCustomDateInput=!0,M(e.signingSettings.signDateFormat),D(e.signingSettings.signDateFormat)?e.showCustomDateUI=!0:e.showCustomDateUI=!1},e.signTimeFormatChanged=function(){k(e.signingSettings.local_signTimeFormat),N(e.signingSettings.local_signTimeFormat)?e.showCustomTimeUI=!0:e.showCustomTimeUI=!1},e.customDateInputChanged=function(t){e.DateInCurrentFormat="",t.$pristine=!1,O(e.signingSettings.customDateInput)?(e.validCustomDateInput=!0,M(z(e.signingSettings.customDateInput))):e.validCustomDateInput=!1},e.customTimeInputChanged=function(t){e.TimeInCurrentFormat="",t.$pristine=!1,U(e.signingSettings.customTimeInput)&&k(R(e.signingSettings.customTimeInput))},e.initializeCustomDateInput=function(){e.signingSettings.signDateFormat===S?e.signingSettings.customDateInput=_:D(e.signingSettings.signDateFormat)&&(e.signingSettings.customDateInput=e.signingSettings.signDateFormat)},e.initializeCustomTimeInput=function(){N(e.signingSettings.local_signTimeFormat)&&e.signingSettings.local_signTimeFormat!==S?e.signingSettings.customTimeInput=e.signingSettings.local_signTimeFormat:e.signingSettings.customTimeInput=b},e.updateCurrentDate=M,e.updateCurrentTime=k,e.customDateInputClick=function(){e.signingSettings.customDateInput===_&&(e.signingSettings.customDateInput="")},e.customTimeInputClick=function(){e.signingSettings.customTimeInput===b&&(e.signingSettings.customTimeInput="")},e.IsCustomTimeInputValid=function(){return function(){return U(e.signingSettings.customTimeInput)}},e.IsCustomDateInputValid=function(){return function(){return O(e.signingSettings.customDateInput)}},e.autoNavRuleChanged=L,this.$scope=e}])},function(e,t,n){e.exports=n.p+"images/signature_sample_noframe_2x.png"},function(e,t,n){e.exports=n.p+"images/signature_sample_2x.png"},function(e,t,n){var a="document-signing/signing.html",i='<div class="document-settings site-main" ds-form\n    ng-controller="DocumentSigningSettingsController">\n  <div class="section">\n    <h1 class="header-title" translate="Signing Settings"></h1>\n\n    <div class="header-actions" ds-ackbar="signingForm" ng-if="signingSettingsLoaded"\n      ds-ackbar-save="save(signingForm)"\n      ds-ackbar-cancel="cancel(signingForm)">\n    </div>\n  </div>\n\n  <div class=\'section\'>\n    <form id="signingForm"\n      name="signingForm">\n      <div class="signing-settings">\n        <div class="signing-experience" ng-if=\'shouldShowSigningSettingsSection\'>\n          <h2 translate="Signing Experience"></h2>\n          <div class="grid">\n            <div class="form-group" ng-if="signingSettings.inSessionEnabled">\n              <a class="anchor" ui-sref="authenticated.in-session-landing-pages"\n                 translate="In-session Landing Pages"> </a>\n            </div>\n            <div class="form-group" ui-cfr ui-hint ui-models="[signingSettings.waterMarkEnabledMetadata]">\n              <a class="anchor" ui-sref="authenticated.watermark"\n                 setting-key-map="WatermarkConfiguration"\n                 translate="Watermark Configuration">\n              </a>\n            </div>\n            <div class="grid-input"\n              ui-cfr ui-hint ui-models="[showAutoNavSettings()]">\n              <div class="form-group">\n                <label class="label" setting-key-map="AutoNavRule" translate="Auto-Navigation"></label>\n                <div class="select-wrap input-md">\n                  <select ng-model="signingSettings.autoNavRule"\n                    ng-options="option.value as option.text | translate for option in\n                      signingSettings.autoNavRuleMetadata.options"\n                    ng-change="autoNavRuleChanged()">\n                  </select>\n                </div>\n              </div>\n\n              <div class="form-group">\n                <div class="inline-input cb" ui-cfr ui-hint\n                    ui-models="[signingSettings.enableAutoNavMetadata]">\n                  <input class="cb_input" type="checkbox" id="auto-nav-rule-override"\n                    ng-model="signingSettings.enableAutoNav"/>\n                  <label class="cb_label" for="auto-nav-rule-override"\n                    setting-key-map="EnableAutoNav"\n                    translate="Allow senders to override">\n                  </label>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.enableResponsiveSigningMetadata]">\n                <input class="cb_input" type="checkbox" id="can-sign-responsively" \n                ng-model="signingSettings.enableResponsiveSigning" data-qa="signing_can_sign_responsively_cb" />\n                <label class="cb_label" for="can-sign-responsively" data-qa="signing_can_sign_responsively_cb_lbl_enabled" \n                 ng-if="allowMobileOptimized"\n                 translate="Recipients may see mobile-optimized documents"></label>\n                <label class="cb_label" for="can-sign-responsively" data-qa="signing_can_sign_responsively_cb_lbl_disabled" \n                 ng-if="!allowMobileOptimized"\n                 translate="Recipients may see mobile-optimized documents - not supported with selected Auto-Navigation"></label>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.showCompleteDialogInEmbeddedSessionMetadata]">\n                <input class="cb_input" type="checkbox" id="show-complete-dialog-embedded"\n                       ng-model="signingSettings.showCompleteDialogInEmbeddedSession" data-qa="signing_show_complete_dialog_in_embedded_session_cb" />\n                <label class="cb_label" for="show-complete-dialog-embedded" data-qa="signing_show_complete_dialog_in_embedded_session_cb_lbl"\n                       translate="Show signing complete dialog to embedded signers"></label>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="recipients">\n          <h2 translate="Recipients"></h2>\n\n          <div class="grid">\n            <div class="form-group">\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.requireDeclineReasonMetadata]">\n                <input class="cb_input" type="checkbox" id="required-decline-reason"\n                       ng-model="signingSettings.requireDeclineReason" data-qa="signing_required_decline_reason_cb" />\n                <label class="cb_label" for="required-decline-reason" data-qa="signing_required_decline_reason_cb_lbl"\n                       translate="Require a reason when a recipient declines to sign" setting-key-map="RequireDeclineReason"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.enableSignOnPaperMetadata]">\n                <input class="cb_input" type="checkbox" id="can-sign-on-paper"\n                       ng-model="signingSettings.enableSignOnPaper" data-qa="signing_can_sign_on_paper_cb" />\n                <label class="cb_label" for="can-sign-on-paper" data-qa="signing_can_sign_on_paper_cb_lbl"\n                       translate="Allow recipients to sign on paper" setting-key-map="EnableSignOnPaper"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint\n                   ui-models="[signingSettings.enableSignOnPaperOverrideMetadata]">\n                <input class="cb_input" type="checkbox" id="can-sign-on-paper-override"\n                       ng-model="signingSettings.enableSignOnPaperOverride"\n                       data-qa="signing_can_sign_on_paper_override_cb" />\n                <label class="cb_label" for="can-sign-on-paper-override"\n                       data-qa="signing_can_sign_on_paper_override_cb_lbl"\n                       translate="Allow senders to override sign on paper" setting-key-map="EnableSignOnPaperOverride"></label>\n              </div>\n\n              <div ui-cfr ui-hint ui-models="[signingSettings.signerCanSignOnMobileMetadata]">\n                <div class="inline-input cb">\n                  <input class="cb_input" type="checkbox" id="sign-on-mobile"\n                         ng-model="signingSettings.signerCanSignOnMobile" data-qa="signing_sign_on_mobile_cb" />\n                  <label class="cb_label" for="sign-on-mobile" data-qa="signing_sign_on_mobile_cb_lbl"\n                         translate="Allow recipients to sign on a mobile device" setting-key-map="SignerCanSignOnMobile"></label>\n                </div>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.allowSignerReassignMetadata]">\n                <input class="cb_input" type="checkbox" id="allow-reassign"\n                       ng-model="signingSettings.allowSignerReassign" data-qa="signing_allow_reassign_cb" />\n                <label class="cb_label" for="allow-reassign" data-qa="signing_allow_reassign_cb_lbl"\n                       translate="Allow recipients to change signing responsibility" setting-key-map="AllowSignerReassign"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint\n                   ui-models="[signingSettings.allowSignerReassignOverrideMetadata]">\n                <input class="cb_input" type="checkbox" id="allow-reassign-override"\n                       ng-model="signingSettings.allowSignerReassignOverride"\n                       data-qa="signing_allow_reassign_override_cb" />\n                <label class="cb_label" for="allow-reassign-override" data-qa="signing_allow_reassign_override_cb_lbl"\n                       translate="Allow senders to override change signing responsibility" setting-key-map="AllowSignerReassignOverride"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.allowMarkupMetadata]">\n                <input class="cb_input" type="checkbox" id="allow-markup" ng-model="signingSettings.allowMarkup"\n                       data-qa="signing_allow_to_edit_cb" />\n                <label class="cb_label" for="allow-markup" data-qa="signing_allow_to_edit_cb_lbl"\n                       translate="Allow recipients to edit documents" setting-key-map="AllowMarkup"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.signerCanCreateAccountMetadata]">\n                <input class="cb_input" type="checkbox" id="signer-can-create-account"\n                       ng-model="signingSettings.signerCanCreateAccount"\n                       data-qa="signing_signer_can_create_account_cb" />\n                <label class="cb_label" for="signer-can-create-account"\n                       data-qa="signing_signer_can_create_account_cb_lbl"\n                       translate="Allow recipients to create a DocuSign account" setting-key-map="SignerCanCreateAccount"></label>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint ui-models="[signingSettings.allowOfflineSigningMetadata]">\n                <input class="cb_input" type="checkbox" id="allow-offline-signing"\n                       ng-model="signingSettings.allowOfflineSigning" data-qa="signing_allow_offline_signing_cb" />\n                <label class="cb_label" for="allow-offline-signing" data-qa="signing_allow_offline_signing_cb_lbl"\n                       setting-key-map="AllowOfflineSigning"\n                       translate="Allow offline signing on a mobile device"></label>\n                <span class="icon icon-incomplete" olive-tooltip="offlinesigningTooltip"\n                      olive-tooltip-position="after middle">\n              </span>\n\n                <div class="tooltip invisible" id="offlinesigningTooltip">\n                  <div class="tooltip-content"\n                       translate="Allow account users to create, send and sign on a mobile device while offline"></div>\n                </div>\n              </div>\n\n              <div class="inline-input cb" ui-cfr ui-hint\n                   ui-models="[signingSettings.recipientsCanSignOfflineMetadata]">\n                <input class="cb_input" type="checkbox" id="recipients-can-sign-offline"\n                       ng-model="signingSettings.recipientsCanSignOffline" />\n                <label class="cb_label" for="recipients-can-sign-offline"\n                       setting-key-map="RecipientsCanSignOffline"\n                       translate="Allow recipients to sign documents offline on a mobile device"></label>\n\n                <span class="icon icon-incomplete" olive-tooltip="recipientOfflineSigningTooltip"\n                      olive-tooltip-position="after middle">\n              </span>\n\n                <div class="tooltip invisible" id="recipientOfflineSigningTooltip">\n                  <div class="tooltip-content"\n                       translate="Recipients who are sent envelopes from this account can sign enclosed documents while offline"></div>\n                </div>\n              </div>\n\n              <div ng-if="signingSettings.allowExternalSignaturePad !== false">\n                <div class="form-group" ui-cfr ui-hint ui-models="[signingSettings.externalSignaturePadTypeMetadata]">\n                  <label class="label" for="external-signature-padtype"\n                         translate="Select the signature pad type used by your organization"></label>\n\n                  <div class="select-wrap input-sm">\n                    <select id="external-signature-padtype" ng-required\n                            ng-model="signingSettings.externalSignaturePadType" ng-options="padType.value as padType.text | translate for padType in\n                      externalSignaturePadTypeOptions"> </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="document-formatting" ng-if=\'shouldShowDocumentFormattingSection\'>\n          <h2 translate="Document Formatting"></h2>\n          <div class="header-description">\n            <label\n              translate=\'The selected formats will be applied to all Date Signed document fields\'>\n            </label>\n          </div>\n\n          <div class="grid">\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[signingSettings.signDateFormatMetadata]">\n              <div>\n                <span class="label" translate="Current Date Format:" setting-key-map="SignDateFormat"/>\n                <span class="label u-text-blue">{{DateInCurrentFormat}}</span>\n              </div>\n              <div>\n                <div class="select-wrap input-sm">\n                  <select data-qa="signing_format_date_option"\n                    ng-model="signingSettings.signDateFormat"\n                    ng-options="dateFormat.value as sampleDate | moment:dateFormat.format | translate for\n                      dateFormat in signingSettings.signDateFormatMetadata.options"\n                    ng-init="updateCurrentDate(signingSettings.signDateFormat)"\n                    ng-change="signDateFormatChanged()">\n                  </select>\n                </div>\n                <div id="custom-date"\n                  ng-if="showCustomDateUI"\n                  ng-init="initializeCustomDateInput()">\n                  <input id="custom-date-input" type="text" class="input-text input-sm m-top-x-small" value=""\n                    ds-valid="function" ds-valid-function="IsCustomDateInputValid()"\n                    ng-model="signingSettings.customDateInput"\n                    ng-change="customDateInputChanged(signingForm)"\n                    ng-click="customDateInputClick()"/>\n                  <p ng-if="validCustomDateInput" class="helper-text" translate="For formatting help refer to the help guide."/>\n                  <p ng-if="!validCustomDateInput" class="helper-text error-msg" translate="Error in custom date format. For formatting help refer to the help guide."/>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[signingSettings.signTimeFormatMetadata, signingSettings.signTimeShowAmPmMetadata]">\n              <div>\n                <span class="label" translate="Current Time Format:" setting-key-map="SignTimeFormat"/>\n                <span class="label u-text-blue">{{TimeInCurrentFormat}}</span>\n              </div>\n              <div>\n                <div class="select-wrap input-sm">\n                  <select data-qa="signing_format_time_option"\n                    ng-model="signingSettings.local_signTimeFormat"\n                    ng-options="timeFormat.value as timeFormat.text | translate for\n                      timeFormat in timeFormatList"\n                    ng-init="updateCurrentTime(signingSettings.local_signTimeFormat)"\n                    ng-change="signTimeFormatChanged()">\n                  </select>\n                </div>\n                <div id="custom-time"\n                  ng-if="showCustomTimeUI"\n                  ng-init="initializeCustomTimeInput()">\n                  <input id="custom-time-input" type="text" class="input-text input-sm m-top-x-small"\n                    ds-valid="function" ds-valid-function="IsCustomTimeInputValid()"\n                    ng-model="signingSettings.customTimeInput"\n                    ng-change="customTimeInputChanged(signingForm)"\n                    ng-click="customTimeInputClick()"/>\n                  <p ng-if="!showCustomTimeError" class="helper-text" translate="For formatting help refer to the help guide."/>\n                  <p ng-if="showCustomTimeError" class="helper-text error-msg" translate="Error in custom time format. For formatting help refer to the help guide."/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="document-signature"\n            ng-if="displaySignatureSection">\n          <h2 translate="Signature"></h2>\n\n          <div class="form-group"\n               ng-if="displaySignAdoptConfig">\n            <a class="anchor" translate="Signature Adoption Configuration"\n               ui-sref="authenticated.signature-adoption-configuration"></a>\n          </div>\n\n          <div ng-if="signingSettings.chromeSignatureEnabledMetadata.uiHint === \'available\'">\n            <div class="header-description" >\n              <label translate="The selected formats will be applied to all signatures."></label>\n            </div>\n\n            <div class="grid form-group">\n              <div class="signature-frame-options">\n                <div class="col-1-2">\n                  <div class="inline-input rb" ui-cfr ui-hint\n                      ui-models="[signingSettings.chromeSignatureEnabledMetadata]">\n                    <input class="rb_input" type="radio" id="add-docusign-frame"\n                      name="frame-selection" ng-value="true"\n                      ng-model="signingSettings.chromeSignatureEnabled"\n                      data-qa="signing_add_docuSign_frame_rbnt" />\n                    <label class="rb_label" for="add-docusign-frame"\n                      data-qa="signing_add_docuSign_frame_rbnt_lbl"\n                      setting-key-map="ChromeSignatureEnabled"\n                      translate="Add DocuSign frame">\n                    </label>\n                  </div>\n\n                  <div class="preview-with-frame">\n                    <img class="signature-preview"\n                      src="'+n(1018)+'"\n                      alt="Signature With DocuSign Frame" />\n                  </div>\n                </div>\n\n                <div class="col-1-2">\n                  <div class="inline-input rb" ui-cfr ui-hint\n                      ui-models="[signingSettings.chromeSignatureEnabledMetadata]">\n                    <input class="rb_input" type="radio" id="remove-docusign-frame"\n                      name="frame-selection" ng-value="false"\n                      ng-model="signingSettings.chromeSignatureEnabled"\n                      data-qa="signing_no_frame_rbnt" />\n                    <label class="rb_label" for="remove-docusign-frame"\n                      data-qa="signing_no_frame_rbnt_lbl"\n                      translate="Do not add frame">\n                    </label>\n                  </div>\n\n                  <div class="preview-without-frame">\n                    <img class="signature-preview"\n                      src="'+n(1017)+'"\n                      alt="Signature without DocuSign Frame" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="supplemental-documents" ng-if="shouldShowSupplementalDocumentsSection">\n          <h2 translate="Supplemental Documents"></h2>\n\n          <div class="form_unit">\n            <div class="cb" ui-cfr ui-hint\n                ui-models="[signingSettings.supplementalDocumentsMustViewMetadata]">\n              <input class="cb_input" type="checkbox" id="supplemental-docs-view"\n                ng-change="didUpdateSupplementalDocumentsMustReadDependency()"\n                ng-model="signingSettings.supplementalDocumentsMustView" />\n              <label class="cb_label" for="supplemental-docs-view"\n                translate="Signers must view supplemental documents" setting-key-map="SupplementalDocumentsMustView"></label>\n            </div>\n\n            <div class="cb" ui-cfr ui-hint\n                ui-models="[signingSettings.supplementalDocumentsMustAcceptMetadata]">\n              <input class="cb_input" type="checkbox" id="supplemental-docs-accept"\n                ng-change="didUpdateSupplementalDocumentsMustReadDependency()"\n                ng-model="signingSettings.supplementalDocumentsMustAccept" />\n              <label class="cb_label" for="supplemental-docs-accept"\n                translate="Signers must accept supplemental documents" setting-key-map="SupplementalDocumentsMustAccept"></label>\n            </div>\n\n            <div class="cb" ui-cfr ui-hint\n                ui-models="[signingSettings.supplementalDocumentsMustReadMetadata]">\n              <input class="cb_input" type="checkbox" id="supplemental-docs-read"\n                ng-change="didUpdateSupplementalDocumentsMustRead()"\n                ng-model="signingSettings.supplementalDocumentsMustRead" />\n              <label class="cb_label" for="supplemental-docs-read"\n                translate="Signers must read supplemental documents" setting-key-map="SupplementalDocumentsMustRead"></label>\n              <div class="text-muted m-top-xxx-small m-left-large p-left-xxx-small"\n                translate="(requires that signer view and accept)">\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="document-delivery" ng-if=\'shouldShowDocumentDeliverySection\'>\n          <h2 translate="Envelope Delivery"></h2>\n\n          <div class="grid form-group">\n            <div class="inline-input cb" ui-cfr ui-hint\n                ui-models="[signingSettings.attachCompletedEnvelopeMetadata]">\n              <input class="cb_input" type="checkbox" id="attach-completed-envelope"\n                ng-model="signingSettings.attachCompletedEnvelope"\n                data-qa="signing_attach_completed_envelope_cb" />\n              <label class="cb_label" for="attach-completed-envelope"\n                data-qa="signing_attach_completed_envelope_cb_lbl"\n                translate="Attach documents to completion email" setting-key-map="AttachCompletedEnvelope">\n              </label>\n            </div>\n\n            <div class="inline-input cb" ui-cfr ui-hint\n                ui-models="[signingSettings.signerAttachCertificateToEnvelopePDFMetadata]">\n              <input class="cb_input" type="checkbox" id="attach-certificate"\n                ng-model="signingSettings.signerAttachCertificateToEnvelopePDF"\n                data-qa="signing_attach_certificate_cb" />\n              <label class="cb_label" for="attach-certificate"\n                data-qa="signing_attach_certificate_cb_lbl"\n                translate="Attach certificate of completion to envelope" setting-key-map="SignerAttachCertificateToEnvelopePDF">\n              </label>\n            </div>\n\n            <div class="inline-input cb" ui-cfr ui-hint\n                ui-models="[signingSettings.inSessionSuppressEmailsMetadata]">\n              <input class="cb_input" type="checkbox" id="surpress-emails-embedded-signers"\n                ng-model="signingSettings.inSessionSuppressEmails"\n                data-qa="signing_surpress_emails_to_embedded_signers_cb" />\n              <label class="cb_label" for="surpress-emails-embedded-signers"\n                data-qa="signing_surpress_emails_to_embedded_signers_cb_lbl"\n                translate="Suppress emails to embedded signers" setting-key-map="InSessionSuppressEmails">\n              </label>\n            </div>\n\n            <div class="inline-input cb" ui-cfr ui-hint\n                ui-models="[signingSettings.signerInSessionUseEnvelopeCompleteEmailMetadata]">\n              <input class="cb_input" type="checkbox"\n                id="surpress-document-complete-email-embedded-signers"\n                ng-model="signingSettings.signerInSessionUseEnvelopeCompleteEmail"\n                data-qa="signing_send_completion_emails_to_embedded_signers_cb" />\n              <label class="cb_label" for="surpress-document-complete-email-embedded-signers"\n                data-qa="signing_send_completion_emails_to_embedded_signers_cb_lbl"\n                translate="Send completion emails to embedded signers" setting-key-map="SignerInSessionUseEnvelopeCompleteEmail">\n              </label>\n            </div>\n\n            <div class="inline-input cb" ui-cfr ui-hint\n                 ui-models="[signingSettings.selfSignedRecipientEmailDocumentUserOverrideMetadata]">\n              <input class="cb_input" type="checkbox" id="user-can-override-self-signed-notification"\n                     ng-model="signingSettings.selfSignedRecipientEmailDocumentUserOverride"\n                     data-qa="signing_user_can_override_self_signed_notification_cb" />\n              <label class="cb_label" for="user-can-override-self-signed-notification"\n                     data-qa="signing_user_can_override_self_signed_notification_cb_lbl"\n                     setting-key-map="SelfSignedRecipientEmailDocumentUserOverride"\n                     translate="Allow account users to decide if they should send a link or attach a PDF"></label>\n            </div>\n\n            <div class="form-group" ui-cfr ui-hint\n                ui-models="[signingSettings.selfSignedRecipientEmailDocumentMetadata]">\n              <label class="label" translate="Self-signed email notifications are delivered by"></label>\n\n              <div class="select-wrap input-sm" ui-cfr ui-hint\n                  ui-models="[signingSettings.selfSignedRecipientEmailDocumentMetadata]">\n                <select ng-model="signingSettings.selfSignedRecipientEmailDocument"\n                  ng-options="option.value as option.text | translate for option in\n                    signingSettings.selfSignedRecipientEmailDocumentMetadata.options"\n                  data-qa="signing_self_signed_email_notifications_delivery_method_option">\n                </select>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="section">\n    <div ds-ackbar="signingForm" ng-if="signingSettingsLoaded" ds-ackbar-save="save(signingForm)"\n         ds-ackbar-cancel="cancel(signingForm)"></div>\n  </div>\n  <div ds-loading="loading" class="text-center" ds-loading-succeeded="signingSettingsLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading Signing Settings. Go ahead and try that again.\' | translate}}"></div>\n</div>\n';window.angular.module("templates").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(36).DocumentSigningModule.constant("SignatureStyles",[{name:"Arial Unicode",styleName:"arialUnicode",type:"standard",default:!0},{name:"Mistral",styleName:"mistral",type:"standard"},{name:"Rage Italic",styleName:"rageItalic",type:"standard"},{name:"DocuSign1",styleName:"docuSign1",type:"standard"},{name:"DocuSign2",styleName:"docuSign2",type:"standard"},{name:"DocuSign3",styleName:"docuSign3",type:"standard"},{name:"DocuSign4",styleName:"docuSign4",type:"standard"},{name:"DocuSign5",styleName:"docuSign5",type:"standard"},{name:"DocuSign6",styleName:"docuSign6",type:"standard"},{name:"DocuSign7",styleName:"docuSign7",type:"standard"},{name:"DocuSign8",styleName:"docuSign8",type:"standard"},{name:"Akiko",styleName:"taAkiko",type:"japanese"},{name:"Asako",styleName:"taAsako",type:"japanese"},{name:"Sourin fude 02",styleName:"taSourinFude02",type:"japanese"},{name:"Yubi hyojun kaisyo",styleName:"taYubiHyojunKaisyo",type:"japanese"}])},function(e,t){var n="document-signing/signature-adoption-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.document signing settings"\n         translate="Signing Settings"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Signature Adoption Configuration"></span>\n    </li>\n  </ul>\n</div>\n\n<div class="signature-adopt-advanced-settings grid"\n     ng-controller="SignatureAdoptionConfigurationController as signatureAdoptSettings" ds-form>\n\n  <div>\n    <form name="signAdoptSettingForms">\n      <div class="section">\n        <h1 class="header-title" translate="Signature Adoption Configuration"></h1>\n        <div class="header-actions" ng-if="sigAdoptConfigSettingLoaded">\n          <span class="action-btns" ds-ackbar="signAdoptSettingForms"\n                ds-ackbar-save="signatureAdoptSettings.save(signAdoptSettingForms)"\n                ds-ackbar-cancel="signatureAdoptSettings.cancel()"></span>\n        </div>\n      </div>\n\n      <div class="section" ng-if="sigAdoptConfigSettingLoaded">\n\n        <div class="form-group grid">\n          <div class="inline-input cb" ui-hint ui-cfr\n               ui-models="[signatureAdoptSettings.adoptSettings.disableDrawSignatureMetadata]">\n            <input class="cb_input" type="checkbox" id="disable-draw-signature"\n                   ng-model="signatureAdoptSettings.adoptSettings.disableDrawSignature"\n                   ng-click="signatureAdoptSettings.setSignatureOptions(\'disableDrawSignature\')">\n            <label class="cb_label" for="disable-draw-signature" translate="Disable draw signature" setting-key-map="DisableDrawSignature"></label>\n          </div>\n          <div class="inline-input cb" ui-hint ui-cfr\n               ui-models="[signatureAdoptSettings.adoptSettings.disableStyleSelectionMetadata]">\n            <input class="cb_input" type="checkbox" id="disable-style-selection"\n                   ng-model="signatureAdoptSettings.adoptSettings.disableStyleSelection"\n                   ng-click="signatureAdoptSettings.setSignatureOptions(\'disableStyleSelection\')">\n            <label class="cb_label" for="disable-style-selection"\n                   translate="Disable style selection (new signer must use a browser which supports HTML5)" setting-key-map="DisableStyleSelection"></label>\n          </div>\n          <div class="inline-input cb" ui-hint ui-cfr\n               ui-models="[signatureAdoptSettings.adoptSettings.disableUploadSignatureMetadata]">\n            <input class="cb_input" type="checkbox" id="disable-upload-signature"\n                   ng-model="signatureAdoptSettings.adoptSettings.disableUploadSignature"\n                   ng-click="signatureAdoptSettings.setSignatureOptions(\'disableUploadSignature\')">\n            <label class="cb_label" for="disable-upload-signature" translate="Disable upload signature" setting-key-map="DisableUploadSignature"></label>\n          </div>\n          <div class="inline-input cb">\n            <input class="cb_input" type="checkbox" id="lock-recipient-name"\n                   ng-model="signatureAdoptSettings.adoptSettings.lockRecipientName">\n            <label class="cb_label" for="lock-recipient-name" translate="Lock Recipient Name" setting-key-map="LockRecipientName"></label>\n          </div>\n          <div class="form-group">\n            <h3 class="header-title rb-group-label" translate="Signature Adoption Mode" setting-key-map="SignatureAdoptMode"></h3>\n            <div class="rb inline-input"\n                 ng-repeat="mode in signatureAdoptSettings.adoptionModes">\n              <input class="rb_input" type="radio" name="adoption-mode" id="adoption-mode-{{$index}}"\n                     ng-value="mode.value" ng-model="signatureAdoptSettings.adoptSettings.signatureAdoptMode"\n                     ng-disabled="signatureAdoptSettings.toggleAdoptionMode(mode)" required ds-valid>\n              <label class="rb_label" for="adoption-mode-{{$index}}" translate="{{ mode.text }}"></label>\n            </div>\n          </div>\n          <div class="form-group">\n            <h3 class="header-title rb-group-label" translate="Mobile Signature Adoption Mode" setting-key-map="MobileSignatureAdoptMode"></h3>\n            <div class="rb inline-input"\n                 ng-repeat="mode in signatureAdoptSettings.adoptionModes">\n              <input class="rb_input" type="radio" name="mobile-adoption-mode" id="mobile-adoption-mode-{{$index}}"\n                     ng-value="mode.value" ng-model="signatureAdoptSettings.adoptSettings.mobileSignatureAdoptMode"\n                     ng-disabled="signatureAdoptSettings.toggleAdoptionMode(mode)" required ds-valid>\n              <label class="rb_label" for="mobile-adoption-mode-{{$index}}" translate="{{ mode.text }}"></label>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="label" for="minimum-signature-pixels"\n                   translate="Minimum number of pixels required to adopt a signature" setting-key-map="MinimumPixelsToAdoptSignature"></label>\n            <input type="number" class="input-text input-number input-noSpinButtons" id="minimum-signature-pixels"\n                   required ds-valid="integer" ds-valid-min="1" ds-valid-max="132444"\n                   ng-model="signatureAdoptSettings.adoptSettings.minimumPixelsToAdoptSignature">\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="minimum-initial-pixels"\n                   translate="Minimum number of pixels required to adopt initials" setting-key-map="MinimumPixelsToAdoptInitials"></label>\n            <input type="number" min="1" class="input-text input-number input-noSpinButtons" id="minimum-initial-pixels"\n                   required ds-valid="integer" ds-valid-min="1" ds-valid-max="60840"\n                   ng-model="signatureAdoptSettings.adoptSettings.minimumPixelsToAdoptInitials">\n          </div>\n        </div>\n\n        <h3 translate="Signature Styles"></h3>\n        <p\n          translate="Select the signature styles available in the Adopt Your Signature dialog. If no styles are selected, then Arial Unicode is used. For language speciﬁc styles, select the language tab and then select the signature styles."></p>\n\n        <div class="tabs-wrap">\n          <ul class="tabs" olive-tabset="LanguageTabs">\n            <li class="tab-wrap">\n              <a class="tab" olive-tab-id="tabStandard" translate="STANDARD"></a>\n            </li>\n            <li class="tab-wrap">\n              <a class="tab" olive-tab-id="tabJapan" translate="JAPANESE"></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class="section">\n          <div olive-tabset-parent="LanguageTabs" olive-tab-id="tabStandard">\n            <div class="col-">\x3c!-- need this to give left margin to the first one--\x3e</div>\n            <div class="col-1-3 form-group"\n                 ng-repeat="style in signatureAdoptSettings.signatureStyles | filter: {type:\'standard\'}">\n              <div class="cb inline-input body">\n                <input type="checkbox" class="cb_input" id="signature-style-standard-{{ $index }}"\n                       ng-model="style.enabled" ng-change="signatureAdoptSettings.selectAvailableStyle()">\n                <label class="cb_label" for="signature-style-standard-{{ $index }}" translate="{{ style.name }}"></label>\n              </div>\n              <div class="signature-sample">\n                <a><img ng-src="../images/signature_sample_{{ style.styleName }}.gif" height="75px"\n                        ng-click="signatureAdoptSettings.selectStyleByImage(style.styleName, signAdoptSettingForms)"\n                        translate translate-attr-alt={{ style.name }}></a>\n              </div>\n            </div>\n          </div>\n\n          <div olive-tabset-parent="LanguageTabs" olive-tab-id="tabJapan">\n            <div class="col-">\x3c!-- need this to give left margin to the first one--\x3e</div>\n            <div class="col-1-3 form-group"\n                 ng-repeat="style in signatureAdoptSettings.signatureStyles | filter: {type:\'japanese\'}">\n              <div class="cb inline-input body">\n                <input type="checkbox" class="cb_input" id="signature-style-japanese-{{ $index }}"\n                       ng-model="style.enabled" ng-change="signatureAdoptSettings.selectAvailableStyle()">\n                <label class="cb_label" for="signature-style-japanese-{{ $index }}" translate="{{ style.name }}"></label>\n              </div>\n              <div class="signature-sample">\n                <a><img ng-src="../images/signature_sample_{{ style.styleName }}.gif" height="75px"\n                        ng-click="signatureAdoptSettings.selectStyleByImage(style.styleName, signAdoptSettingForms)"\n                        translate translate-attr-alt={{ style.name }}></a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="section">\n        <div class="header-actions" ng-if="sigAdoptConfigSettingLoaded">\n          <span class="action-btns" ds-ackbar="signAdoptSettingForms"\n                ds-ackbar-save="signatureAdoptSettings.save(signAdoptSettingForms)"\n                ds-ackbar-cancel="signatureAdoptSettings.cancel()"></span>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div ds-loading="signatureAdoptSettings.loading" class="text-center"\n       ds-loading-succeeded="sigAdoptConfigSettingLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your Signature Adoption Configuration. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),i=function(){return function(e,t,n,a,i,s){var o=this;this._=e,this._$q=t,this._dsApiClient=n,this._appUser=a,this._ApiUriBuilder=i,this._SignatureStyles=s,this.signatureAdoptMode=[{text:"Start on adopt",value:"startOnAdopt",disableOption:"disableStyleSelection"},{text:"Start on draw",value:"startOnDraw",disableOption:"disableDrawSignature",default:!0},{text:"Start on upload",value:"startOnUpload",disableOption:"disableUploadSignature"}],this.getSettings=function(){var e=o._appUser.getCurrentAccountId(),t=o._ApiUriBuilder.endpoint().accounts(e).settings().signatureAdoptionConfigurations().uri();return o._dsApiClient.get(t).then(function(e){return e.data})},this.saveSettings=function(e){var t=o._appUser.getCurrentAccountId(),n=o._ApiUriBuilder.endpoint().accounts(t).settings().signatureAdoptionConfigurations().uri();return o._dsApiClient.put(n,e).then(function(e){return e.data})},this.adoptSettings={disableDrawSignature:null,disableStyleSelection:null,disableUploadSignature:null,disableDrawSignatureMetadata:null,disableStyleSelectionMetadata:null,disableUploadSignatureMetadata:null,signatureAdoptMode:null,mobileSignatureAdoptMode:null,minimumPixelsToAdoptSignature:null,minimumPixelsToAdoptInitials:null,lockRecipientName:null,availableSignatureAdoptionStyles:null}}}();a.DocumentSigningModule.service("SignatureAdoptionConfigurationService",["lodash","$q","dsApiClient","appUser","ApiUriBuilder","SignatureStyles",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),i=n(272),s=function(){function e(e,t,n,a,i,s,o){var r=this;this._=e,this._$translate=t,this._$state=n,this._$timeout=a,this._SignatureStyles=i,this._oliveMessage=s,this._SignatureAdoptionConfigurationService=o,this.selectStyleByImage=function(e,t){var n=r._.find(r.signatureStyles,{styleName:e});n.enabled=!n.enabled,r.selectAvailableStyle(),t.$setDirty()},this.getSettings(),this.signatureStyles=i,this._defaultStyle=this._.find(this.signatureStyles,{default:!0}),this._defaultMode=this._.find(this._SignatureAdoptionConfigurationService.signatureAdoptMode,{default:!0}),this.adoptionModes=this._SignatureAdoptionConfigurationService.signatureAdoptMode}return e.prototype.getSettings=function(){this.loading=this._$timeout(this.getData.bind(this),1e3)},e.prototype.getData=function(){return this._SignatureAdoptionConfigurationService.getSettings().then(this._processAdoptSettings.bind(this))},e.prototype.save=function(e){var t=this;this._oliveMessage.closeAll(),this._SignatureAdoptionConfigurationService.saveSettings(this.adoptSettings).then(function(n){t._processAdoptSettings(n),t._oliveMessage.show(t._$translate.instant(i.SIGNATURE_ADOPT_SETTING_SAVED_MESSAGE),"saveSignatureAdoptConfigSuccess","success",{autoClose:"true"}),e.$setPristine()},function(e){var n="";switch(e.data.errorCode){case"INVALID_SIGNATURE_ADOPT_MODE":n=i.SIGNATURE_ADOPT_SETTING_DISABLED_ERROR_MESSAGE;break;case"INVALID_MOBILE_SIGNATURE_ADOPT_MODE":n=i.MOBILE_SIGNATURE_ADOPT_SETTING_DISABLED_ERROR_MESSAGE;break;default:n=i.SIGNATURE_ADOPT_SETTING_ERROR_MESSAGE}t._oliveMessage.show(t._$translate.instant(n),"saveSignatureAdoptConfigFail","error")})},e.prototype.cancel=function(){this.adoptSettings=null,this._$state.go("authenticated.document signing settings")},e.prototype.selectAvailableStyle=function(){var e=this._.map(this._.filter(this.signatureStyles,{enabled:!0}),"styleName");0===e.length&&(this._defaultStyle.enabled=!0,e=[this._defaultStyle.styleName]),this.adoptSettings.availableSignatureAdoptionStyles=e},e.prototype.toggleAdoptionMode=function(e){switch(e.value){case"startOnAdopt":return this._isStyleDisabled();case"startOnDraw":return this._isDrawDisabled();case"startOnUpload":return this._isUploadDisabled()}},e.prototype.setSignatureOptions=function(e){var t=this.adoptSettings.mobileSignatureAdoptMode,n=this.adoptSettings.signatureAdoptMode,a=this._.find(this.adoptionModes,{disableOption:e}).value;if(this._isUploadDisabled()&&this._isDrawDisabled()&&this._isStyleDisabled()&&(this.adoptSettings[e]=!1,this._oliveMessage.show(this._$translate.instant("Invalid Selection. You cannot disable all signature settings."),"cannotDisableAll","warning",{autoClose:"true"})),this.adoptSettings[e]){var i=(this._isStyleDisabled()?!this._isDrawDisabled()&&"startOnDraw":"startOnAdopt")||"startOnUpload";t&&t!==a||(this.adoptSettings.mobileSignatureAdoptMode=i),n&&n!==a||(this.adoptSettings.signatureAdoptMode=i)}},e.prototype._processAdoptSettings=function(e){this.adoptSettings=e,this.adoptSettings.signatureAdoptMode=this.adoptSettings.signatureAdoptMode||this._defaultMode.value,this.adoptSettings.mobileSignatureAdoptMode=this.adoptSettings.mobileSignatureAdoptMode||this._defaultMode.value,this.signatureStyles=this.signatureStyles.map(function(e){var t=this.adoptSettings.availableSignatureAdoptionStyles;return e.enabled=t&&t.length?function(e){return this.adoptSettings.availableSignatureAdoptionStyles.some(function(t){return t===e.styleName})}.call(this,e):e.styleName===this._defaultStyle.styleName,e}.bind(this)),this._setSignatureOptionsForDisabledModes()},e.prototype._setSignatureOptionsForDisabledModes=function(){this._isDrawDisabled()&&this._isUploadDisabled()&&this._isStyleDisabled()&&(this.adoptSettings.disableDrawSignature=!1,this.adoptSettings.signatureAdoptMode=this.adoptSettings.mobileSignatureAdoptMode=this._defaultMode.value),this._isStyleDisabled()&&this.setSignatureOptions("disableStyleSelection"),this._isDrawDisabled()&&this.setSignatureOptions("disableDrawSignature"),this._isUploadDisabled()&&this.setSignatureOptions("disableUploadSignature")},e.prototype._isStyleDisabled=function(){return this.adoptSettings.disableStyleSelection},e.prototype._isUploadDisabled=function(){return this.adoptSettings.disableUploadSignature},e.prototype._isDrawDisabled=function(){return this.adoptSettings.disableDrawSignature},e}();a.DocumentSigningModule.controller("SignatureAdoptionConfigurationController",["lodash","$translate","$state","$timeout","SignatureStyles","oliveMessage","SignatureAdoptionConfigurationService",s])},function(e,t){var n="document-signing/session-landing-pages.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.document signing settings"\n         translate="Signing Settings"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="In-session Landing Pages"></span>\n    </li>\n  </ul>\n</div>\n\n<div class="in-session-landing-pages"\n     ng-controller="InSessionLandingPagesController as landingPages"\n     ds-form>\n  <form name="inSessionLandingPagesForm">\n    <div class="section">\n      <h1 class="header-title" translate="In-session Landing Pages"></h1>\n\n      <div class="header-actions" data-qa="in_session_landing_top_control_buttons_div">\n        <button class="btn btn-primary"\n                ng-class="{\'btn-loading\': landingPages.isSaving}"\n                ng-disabled="inSessionLandingPagesForm.$pristine || !landingPages.canSave()"\n                ng-click="landingPages.saveSessionLandingPages(inSessionLandingPagesForm)">\n          <span ng-if="!landingPages.isSaving" translate="Save"></span>\n          <span ng-if="landingPages.isSaving"><span translate="Saving"></span>&hellip;</span>\n        </button>\n        <button class="btn btn-minor" translate="Cancel"\n                ng-click="landingPages.cancelSessionLandingPages()"\n                ng-disabled="landingPages.isSaving"></button>\n      </div>\n      <div class="form-group col-1">\n        <div class="header-description">\n          <p\n            data-qa="in_session_landing_description"\n            translate="Specify the destination URL for different actions taken by in-session (embedded) signers. If you have custom URLs for your in-session landing pages, enter the URL in appropriate field and save. Note that if your account has an entry in the Signing Completed URL on the Branding — Configure Your URLs page, that URL is used in place of the Signing Completed URL on this page."></p>\n        </div>\n      </div>\n    </div>\n\n    <div class="section">\n      <div class="grid">\n        <div class="col-1-2">\n          <div class="form_unit" ng-repeat="page in landingPages.pageTypes"\n               ng-class="{\'form_unit-hasError\':!landingPages.hasValidUrl(page.controlName)}">\n            <label class="label" for="{{page.controlName}}"\n                   translate="{{ page.name }}"></label>\n            <input type="text" class="input-text" id="{{page.controlName}}"\n              name="{{page.controlName}}" maxlength="500"\n              ng-model="landingPages.landingPages[page.controlName]"\n              ng-blur="landingPages.validateUrl(page.controlName)"\n              translate translate-attr-placeholder="DocuSign Default" />\n            <span ng-if="!landingPages.hasValidUrl(page.controlName)" class="helper-text error-msg"\n                  translate="Invalid URL"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="section"\n         data-qa="in_session_landing_bot_control_buttons_div">\n      <button class="btn btn-primary"\n              ng-class="{\'btn-loading\': landingPages.isSaving}"\n              ng-disabled="inSessionLandingPagesForm.$pristine || !landingPages.canSave()"\n              ng-click="landingPages.saveSessionLandingPages(inSessionLandingPagesForm)">\n        <span ng-if="!landingPages.isSaving" translate="Save"></span>\n        <span ng-if="landingPages.isSaving"><span translate="Saving"></span>&hellip;</span>\n      </button>\n      <button class="btn btn-minor" translate="Cancel"\n              ng-click="landingPages.cancelSessionLandingPages()"\n              ng-disabled="landingPages.isSaving"></button>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),i=function(){return function(e,t,n){var a=this;this._=e,this._appUser=t,this._dsSessionLandingPages=n,this.getSessionLandingPages=function(){return a._resetSessionLandingPages(),a._dsSessionLandingPages.getForAccount(a._appUser.getCurrentAccountId())},this.setSessionLandingPages=function(e){return a._dsSessionLandingPages.setForAccount(a._appUser.getCurrentAccountId(),e)},this._resetSessionLandingPages=function(){a.userSessionLandingPages={signingComplete:"",viewingComplete:"",cancel:"",decline:"",sessionTimeout:"",tokenExpired:"",failedIDCheck:"",failedAuthorization:"",exception:""}},this._resetSessionLandingPages()}}();a.DocumentSigningModule.service("SessionLandingPagesService",["lodash","appUser","dsSessionLandingPages",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),i=n(272),s=function(){return function(e,t,n,a,s,o,r){var l=this;this._=e,this._oliveMessage=t,this._$translate=n,this._SessionLandingPagesService=a,this._SessionLandingPageTypes=s,this._$state=o,this.RADminUtil=r,this.pageTypes=[],this.isSaving=!1,this.saveSessionLandingPages=function(e){l.isSaving=!0,l._oliveMessage.closeAll(),l._SessionLandingPagesService.setSessionLandingPages(l.landingPages).then(function(t){l.landingPages=t,l._oliveMessage.show(l._$translate.instant(i.LANDING_PAGES_SAVED_MESSAGE),"landingPageSaveSuccess","success"),l.isSaving=!1,e.$setPristine()},function(){l._oliveMessage.show(l._$translate.instant(i.LANDING_PAGES_ERROR_MESSAGE),"landingPageSaveError","error")})},this.cancelSessionLandingPages=function(){l.landingPages=null,l._$state.go("authenticated.document signing settings")},this.validateUrl=function(e){var t=l._.find(l.pageTypes,{controlName:e}),n=l.landingPages[e];t.isValid=!n||l._validateHTTPUri(n)},this.hasValidUrl=function(e){return l._.find(l.pageTypes,{controlName:e}).isValid},this.canSave=function(){return!l.isSaving&&!l._.find(l.pageTypes,{isValid:!1})},this.getPages=function(){l._SessionLandingPagesService.getSessionLandingPages().then(function(e){return l._.merge(l.landingPages,e)})},this._validateHTTPUri=function(e){return l.httpUriPattern.test(function(e){return e.replace(/([\?&].*?=)(\[\[.*?\]\])/g,"$1")}(e))},this.pageTypes=this._.map(s,function(e){return{name:e.name,controlName:e.controlName,isValid:!0}}),this.landingPages=a.userSessionLandingPages,this.httpUriPattern=r.generateHttpUriPattern(),this.getPages()}}();a.DocumentSigningModule.controller("InSessionLandingPagesController",["lodash","oliveMessage","$translate","SessionLandingPagesService","SessionLandingPageTypes","$state","RADminUtil",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(36).DocumentSigningModule.constant("SessionLandingPageTypes",[{name:"Signing Completed",controlName:"signingComplete"},{name:"Viewed completed, voided, or declined envelope",controlName:"viewingComplete"},{name:"Finish Later",controlName:"cancel"},{name:"Declined",controlName:"decline"},{name:"Session Timeout",controlName:"sessionTimeout"},{name:"Time To Live token expired",controlName:"tokenExpired"},{name:"Failed knowledge-based authentication check",controlName:"failedIDCheck"},{name:"Failed access code authentication check",controlName:"failedAuthorization"},{name:"System Error",controlName:"exception"}])},function(e,t){var n="document-sending/document-sending.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="document-settings site-main" id="sendingForm" ng-controller="DocumentSendingController as documentSendingCtrl" ds-form>\n  <div class="section">\n    <h1 class="header-title" translate="Sending Settings"></h1>\n\n    <div class="header-actions" ds-ackbar="sendingSettingsForm"\n         ds-ackbar-save="documentSendingCtrl.save(sendingSettingsForm)"\n         ds-ackbar-cancel="documentSendingCtrl.cancel(sendingSettingsForm)">\n    </div>\n  </div>\n\n  <div class="section sending-settings">\n    <form name="sendingSettingsForm" class="col-3-5">\n      <div class="fields-and-properties" ng-if="documentSendingCtrl.shouldShowFieldsAndPropertiesSection">\n        <h2 translate="Fields and Properties"></h2>\n\n        <div class="grid form-group">\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.enableCalculatedFieldsMetadata]">\n            <input class="cb_input" type="checkbox" id="enable-calculated-fields"\n                   ng-model="documentSendingCtrl.sendingSettings.enableCalculatedFields"\n                   data-qa="document_sending_enable_formular_field_cb">\n            <label class="cb_label" for="enable-calculated-fields"\n                   data-qa="document_sending_enable_formular_field_cb_lbl"\n                   translate="Enable formula field (calculated field)" setting-key-map="EnableCalculatedFields"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-models="[documentSendingCtrl.sendingSettings.conditionalFieldsEnabledMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-conditional-securefields"\n                   ng-model="documentSendingCtrl.sendingSettings.conditionalFieldsEnabled"\n                   data-qa="document_sending_enable_conditional_field_cb">\n            <label class="cb_label" for="allow-conditional-securefields"\n                   data-qa="document_sending_enable_conditional_field_cb_lbl" translate="Enable conditional fields" setting-key-map="ConditionalFieldsEnabled"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.tabAccountSettings.sharedCustomTabsMetadata]">\n            <input type="checkbox" class="cb_input" id="sender-can-share-custom-tabs"\n                   ng-model="documentSendingCtrl.sendingSettings.tabAccountSettings.sharedCustomTabsEnabled">\n            <label class="cb_label" for="sender-can-share-custom-tabs"\n                   setting-key-map="AllowSharedTabs"\n                   translate="Allow users to share custom fields"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.signerShowSecureFieldInitialValuesMetadata]">\n            <input class="cb_input" type="checkbox" id="display-initial-securefield-value"\n                   ng-model="documentSendingCtrl.sendingSettings.signerShowSecureFieldInitialValues"\n                   data-qa="document_sending_display_initial_securefield_cb">\n            <label class="cb_label" for="display-initial-securefield-value"\n                   data-qa="document_sending_display_initial_securefield_cb_lbl"\n                   translate="When an envelope is sent, write the initial value of the field for all recipients"\n                   setting-key-map="ShowInitialConditionalFields"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.faxOutEnabledMetadata]">\n            <input class="cb_input" type="checkbox" id="fax-out-enabled"\n                   ng-model="documentSendingCtrl.sendingSettings.faxOutEnabled">\n            <label class="cb_label" for="fax-out-enabled" translate="Allow fax delivery to recipients" setting-key-map="FaxOutEnabled"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.enableSignerAttachmentsMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-signer-attachments"\n                   ng-model="documentSendingCtrl.sendingSettings.enableSignerAttachments"\n                   data-qa="document_sending_allow_signer_attachments_cb">\n            <label class="cb_label" for="allow-signer-attachments"\n                   data-qa="document_sending_allow_signer_attachments_cb_lbl" translate="Enable signer attachment field" setting-key-map="EnableSignerAttachments"></label>\n            <div class="inline-input cb" ui-cfr ui-hint\n                 ui-models="[documentSendingCtrl.toggleMultiSignerAttachByEnableSignerAttach(documentSendingCtrl.sendingSettings.allowMultipleSignerAttachmentsMetadata)]"\n                 ng-if="documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.enableSignerAttachmentsMetadata) &&\n                   documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.allowMultipleSignerAttachmentsMetadata)">\n              <input class="cb_input" type="checkbox" id="allow-multiple-signer-attachments"\n                     ng-model="documentSendingCtrl.sendingSettings.allowMultipleSignerAttachments"\n                     data-qa="document_sending_allow_multiple_signer_attachments_cb">\n              <label class="cb_label" for="allow-multiple-signer-attachments"\n                     data-qa="document_sending_allow_multiple_signer_attachments_cb_lbl"\n                     translate="Allow signers to add multiple attachments per field" setting-key-map="AllowMultipleSignerAttachments"></label>\n            </div>\n            <div class="inline-input cb" ui-cfr ui-hint\n                 ui-models="[documentSendingCtrl.toggleSignerAttachConcat(documentSendingCtrl.sendingSettings.signerAttachConcatMetadata)]"\n                 ng-if="documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.enableSignerAttachmentsMetadata) &&\n                   documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.signerAttachConcatMetadata)">\n              <input class="cb_input" type="checkbox" id="signer-attach-concat"\n                     ng-model="documentSendingCtrl.sendingSettings.signerAttachConcat"\n                     data-qa="document_sending_signer_attach_concat_cb">\n              <label class="cb_label" for="signer-attach-concat"\n                     data-qa="document_sending_signer_attach_concat_cb_lbl"\n                     translate="Append attachments to the document with the attachment field" setting-key-map="SignerAttachConcat"></label>\n            </div>\n          </div>\n\n          <div ng-if="documentSendingCtrl.sendingSettings.allowDocumentVisibility">\n\n            <div class="inline-input form-group" ui-cfr ui-hint\n                 ui-models="[documentSendingCtrl.sendingSettings.documentVisibilityMetadata]">\n              <label class="label" for="documentSendingCtrl.sendingSettings.documentVisibility" translate="Document Visibility:" setting-key-map="DocumentVisibility"></label>\n\n              <div class="select-wrap">\n                <select id="documentSendingCtrl.sendingSettings.documentVisibility"\n                        ng-model="documentSendingCtrl.sendingSettings.documentVisibility"\n                        ng-change="documentSendingCtrl.toggleSenderDocVisible()"\n                        ng-options="option.value as option.text | translate\n                          for option in documentSendingCtrl.sendingSettings.documentVisibilityMetadata.options"\n                        data-qa="document_sending_document_visibility_option">\n                </select>\n              </div>\n              <div ng-if="documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.documentVisibilityMetadata) &&\n                   documentSendingCtrl.isAvailable(documentSendingCtrl.sendingSettings.specifyDocumentVisibilityMetadata)"\n                   class="inline-input cb" ui-cfr ui-hint\n                   ui-models="[documentSendingCtrl.senderSpecifyDocVisibilityMetaData]">\n                <input class="cb_input" type="checkbox" id="specify-doc-visibility"\n                       ng-model="documentSendingCtrl.sendingSettings.specifyDocumentVisibility"\n                       data-qa="document_sending_allow_specify_doc_visibility_cb">\n                <label class="cb_label" for="specify-doc-visibility"\n                       data-qa="document_sending_allow_specify_doc_visibility_cb_lbl"\n                       translate="Allow sender to specify document visibility" setting-key-map="SpecifyDocumentVisibility"></label>\n              </div>\n            </div>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.senderCanSignInEachLocationMetadata]">\n            <input class="cb_input" type="checkbox" id="sender-can-sign-each-location"\n                   ng-model="documentSendingCtrl.sendingSettings.senderCanSignInEachLocation"\n                   data-qa="document_sending_sender_can_sign_seach_location_cb">\n            <label class="cb_label" for="sender-can-sign-each-location"\n                   data-qa="document_sending_sender_can_sign_seach_location_cb_lbl"\n                   translate="Enable draw new signature for each signature or initial field" setting-key-map="SenderCanSignInEachLocation"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.allowSignatureStampsMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-signature-stamps"\n                   ng-model="documentSendingCtrl.sendingSettings.allowSignatureStamps"\n                   data-qa="document_sending_allow_signature_stamps_cb">\n            <label class="cb_label" for="allow-signature-stamps"\n                   data-qa="document_sending_allow_signature_stamps_cb_lbl" translate="Enable signature stamp field" setting-key-map="AllowSignatureStamps"></label>\n          </div>\n\n          <div class="inline-input cb" ui-hint ui-cfr\n               ui-models="[documentSendingCtrl.sendingSettings.enableEnvelopeStampingByAccountAdminMetadata,\n                 documentSendingCtrl.sendingSettings.envelopeStampingDefaultValueMetadata]"\n               ng-if="documentSendingCtrl.sendingSettings.enableEnvelopeStampingByDSAdmin">\n            <input class="cb_input" type="checkbox" id="enable-envelope-stamp-by-accnt-admin"\n                   ng-model="documentSendingCtrl.sendingSettings.enableEnvelopeStampingByAccountAdmin">\n            <label class="cb_label" for="enable-envelope-stamp-by-accnt-admin"\n                   translate="Enable including the Envelope ID on the document" setting-key-map="EnableEnvelopeStampingByAccountAdmin"></label>\n            <div class="rb inline-input" ui-hint ui-cfr\n              ui-models="[documentSendingCtrl.defaultValueMetadataGivenEnabledForAccountAdmin()]">\n              <input class="cb_input" type="checkbox" id="envelope-stamp-default"\n                     ng-model="documentSendingCtrl.sendingSettings.envelopeStampingDefaultValue" />\n              <label class="cb_label" for="envelope-stamp-default" translate="Include Envelope ID by default" setting-key-map="EnvelopeStampingDefaultValue"></label>\n            </div>\n          </div>\n\n          <div class="form-group" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.dataPopulationScopeMetadata]">\n            <label class="label"\n                   translate="Automatically replicate information in fields with the same Data Label" setting-key-map="DataPopulationScope">\n            </label>\n            <div class="rb inline-input" ui-cfr ui-hint\n                ng-repeat="option in documentSendingCtrl.sendingSettings.dataPopulationScopeMetadata.options"\n                ui-models="[documentSendingCtrl.sendingSettings.dataPopulationScopeMetadata]">\n              <input class="rb_input" type="radio" name="auth-settings" id="data-population-scope-{{$index}}"\n                ng-model="documentSendingCtrl.sendingSettings.dataPopulationScope" ng-value="option.value" />\n              <label class="rb_label" for="data-population-scope-{{$index}}">\n                {{option.text | translate}}\n              </label>\n            </div>\n          </div>\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.allowDataDownloadMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-data-download"\n                   ng-model="documentSendingCtrl.sendingSettings.allowDataDownload">\n            <label class="cb_label" for="allow-data-download"\n                   translate="Allow sender to download form data" setting-key-map="AllowDataDownload"></label>\n          </div>\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.setRecipEmailLangMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-sender-set-email-lan"\n                   ng-model="documentSendingCtrl.sendingSettings.setRecipEmailLang">\n            <label class="cb_label" for="allow-sender-set-email-lan"\n                   translate="Enable custom email and language for each recipient" setting-key-map="SetRecipEmailLang"></label>\n          </div>\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.enableSigningOrderSettingsForAccountMetadata]">\n            <input class="cb_input" type="checkbox" id="enable-signing-order-by-default"\n                   ng-model="documentSendingCtrl.sendingSettings.enableSigningOrderSettingsForAccount">\n            <label class="cb_label" for="enable-signing-order-by-default"\n                   translate="Enable signing order by default" setting-key-map="EnableSigningOrderSettingsForAccount"></label>\n          </div>\n        </div>\n      </div>\n\n      <div class="recipients-roles" ng-if="documentSendingCtrl.shouldShowRecipientRolesSection">\n        <h2 translate="Recipient Roles"></h2>\n\n        <div class="grid form-group">\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.bulkSendMetadata]">\n            <input class="cb_input" type="checkbox" id="allow-bulk-upload-recipients"\n                   ng-model="documentSendingCtrl.sendingSettings.bulkSend"\n                   data-qa="document_sending_allow_buik_recipients_cb">\n            <label class="cb_label" for="allow-bulk-upload-recipients"\n                   data-qa="document_sending_allow_buik_recipients_cb_lbl" translate="Enable bulk recipients" setting-key-map="BulkSend"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.sendToCertifiedDeliveryEnabledMetadata]">\n            <input class="cb_input" type="checkbox" id="send-to-certified-delivery"\n                   ng-model="documentSendingCtrl.sendingSettings.sendToCertifiedDeliveryEnabled"\n                   data-qa="document_sending_enable_needs_to_view_role_cb">\n            <label class="cb_label" for="send-to-certified-delivery"\n                   data-qa="document_sending_enable_needs_to_view_role_cb_lbl"\n                   translate="Enable needs to view role" setting-key-map="SendToCertifiedDeliveryEnabled"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint ui-models="[documentSendingCtrl.sendingSettings.enableSendToAgentMetadata]">\n            <input class="cb_input" type="checkbox" id="send-to-agent"\n                   ng-model="documentSendingCtrl.sendingSettings.enableSendToAgent"\n                   data-qa="document_sending_enable_specify_recipients_cb">\n            <label class="cb_label" for="send-to-agent"\n                   data-qa="document_sending_enable_specify_recipients_cb_lbl"\n                   translate="Enable specify recipients" setting-key-map="EnableSendToAgent"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.enableSendToManageMetadata]">\n            <input class="cb_input" type="checkbox" id="send-to-manage"\n                   ng-model="documentSendingCtrl.sendingSettings.enableSendToManage"\n                   data-qa="document_sending_enable_allow_to_edit_recipient_cb">\n            <label class="cb_label" for="send-to-manage"\n                   data-qa="document_sending_enable_allow_to_edit_recipient_cb_lbl"\n                   translate="Enable allow to edit recipient" setting-key-map="EnableSendToManage"></label>\n          </div>\n\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.enableSendToIntermediaryMetadata]">\n            <input class="cb_input" type="checkbox" id="send-to-intermediary"\n                   ng-model="documentSendingCtrl.sendingSettings.enableSendToIntermediary"\n                   data-qa="document_sending_enable_update_recipients_cb">\n            <label class="cb_label" for="send-to-intermediary"\n                   data-qa="document_sending_enable_update_recipients_cb_lbl"\n                   translate="Enable update recipients" setting-key-map="EnableSendToIntermediary"></label>\n          </div>\n          <div class="inline-input cb" ui-cfr ui-hint ui-models="[documentSendingCtrl.sendingSettings.inPersonSigningEnabledMetadata]">\n            <input class="cb_input" type="checkbox" id="enable-in-person-signing"\n                   ng-model="documentSendingCtrl.sendingSettings.inPersonSigningEnabled"\n                   ng-change="documentSendingCtrl.changeEnableInpersonQuestion()" />\n            <label class="cb_label" for="enable-in-person-signing"\n                   translate="Enable in person (hosted) signing role" setting-key-map="InPersonSigningEnabled"></label>\n          </div>\n          <div class="contextual-content" ng-show="documentSendingCtrl.sendingSettings.inPersonSigningEnabled">\n            <div class="inline-input cb">\n              <input class="cb_input" type="checkbox" id="present-info-request"\n                     ng-model="documentSendingCtrl.sendingSettings.local_showInfoRequest"\n                     ng-click="documentSendingCtrl.clearIDQuestion()" />\n              <label class="cb_label" for="present-info-request"\n                     setting-key-map="InPersonIDCheckQuestion"\n                     translate="Present this information request to in person signers"></label>\n            </div>\n            <div class="cb">\n              <input type="text" class="input-text" id="in-person-id-question" ds-valid="function"\n                     ds-valid-function="documentSendingCtrl.validInfoRequestQuestion()"\n                     ng-disabled="!documentSendingCtrl.sendingSettings.local_showInfoRequest"\n                     ng-model="documentSendingCtrl.sendingSettings.inPersonIDCheckQuestion" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="templates" ng-if="documentSendingCtrl.shouldShowTemplatesSection">\n        <h2 translate="Templates"></h2>\n\n        <div class="grid form-group">\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.sharedTemplateFoldersMetadata]">\n            <input class="cb_input" type="checkbox" id="enable-share-templates"\n                   ng-model="documentSendingCtrl.sendingSettings.sharedTemplateFolders"\n                   data-qa="document_sending_enable_shared_template_folders_cb">\n            <label class="cb_label" for="enable-share-templates"\n                   data-qa="document_sending_enable_shared_template_folders_cb_lbl"\n                   translate="Enable shared template folders" setting-key-map="SharedTemplateFolders"></label>\n          </div>\n        </div>\n      </div>\n\n      <div class="envelope-correct" ng-if="documentSendingCtrl.shouldShowEnvelopeCorrectSection">\n        <h2 translate="Envelope Correct"></h2>\n\n        <div class="grid form-group">\n          <div class="inline-input cb" ui-cfr ui-hint\n               ui-models="[documentSendingCtrl.sendingSettings.allowDocumentsOnSignedEnvelopesMetadata]">\n            <input class="cb_input" type="checkbox" id="enable-adding-documents-after-partial-signing"\n                   ng-model="documentSendingCtrl.sendingSettings.allowDocumentsOnSignedEnvelopes"\n                   data-qa="enable_adding_documents_after_partial_signing_cb">\n            <label class="cb_label" for="enable-adding-documents-after-partial-signing"\n                   data-qa="enable_adding_documents_after_partial_signing_cb_lbl"\n                   translate="Allow adding documents after one or more recipients have completed their action"></label>\n          </div>\n        </div>\n      </div>\n\n    </form>\n  </div>\n\n  <div class="section">\n    <div ds-ackbar="sendingSettingsForm"\n         ds-ackbar-save="documentSendingCtrl.save(sendingSettingsForm)"\n         ds-ackbar-cancel="documentSendingCtrl.cancel(sendingSettingsForm)"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(354),i=n(355),s=function(){function e(e,t,n,a,s,o,r,l){var c=this;this.$scope=e,this.configuration=t,this.dsNotification=n,this.dsAccount=a,this.uiHintChecker=s,this.appUser=o,this.$translate=r,this._=l,this.shouldShowFieldsAndPropertiesSection=!1,this.shouldShowRecipientRolesSection=!1,this.shouldShowTemplatesSection=!1,this.shouldShowEnvelopeCorrectSection=!1,this.sendingSettings={enableCalculatedFields:null,conditionalFieldsEnabled:null,signerShowSecureFieldInitialValues:null,enableSignerAttachments:null,allowMultipleSignerAttachments:null,signerAttachConcat:null,documentVisibility:null,specifyDocumentVisibility:null,bulkSend:null,allowInPerson:null,sendToCertifiedDeliveryEnabled:null,enableSendToAgent:null,enableSendToManage:null,enableSendToIntermediary:null,sharedTemplateFolders:null,allowDocumentVisibility:null,senderCanSignInEachLocation:null,allowSignatureStamps:null,dataPopulationScope:null,allowDataDownload:null,faxOutEnabled:null,enableEnvelopeStampingByDSAdmin:null,enableEnvelopeStampingByAccountAdmin:null,envelopeStampingDefaultValue:null,setRecipEmailLang:null,enableSigningOrderSettingsForAccount:null,inPersonSigningEnabled:null,inPersonIDCheckQuestion:null,local_showInfoRequest:!1,tabAccountSettings:{sharedCustomTabsEnabled:null,sharedCustomTabsMetadata:null},allowDocumentsOnSignedEnvelopes:!1,enableCalculatedFieldsMetadata:null,conditionalFieldsEnabledMetadata:null,signerShowSecureFieldInitialValuesMetadata:null,enableSignerAttachmentsMetadata:null,allowMultipleSignerAttachmentsMetadata:null,signerAttachConcatMetadata:null,specifyDocumentVisibilityMetadata:null,bulkSendMetadata:null,allowInPersonMetadata:null,sendToCertifiedDeliveryEnabledMetadata:null,enableSendToAgentMetadata:null,enableSendToManageMetadata:null,enableSendToIntermediaryMetadata:null,sharedTemplateFoldersMetadata:null,senderCanSignInEachLocationMetadata:null,allowDataDownloadMetadata:null,faxOutEnabledMetadata:null,enableEnvelopeStampingByDSAdminMetadata:null,enableEnvelopeStampingByAccountAdminMetadata:null,envelopeStampingDefaultValueMetadata:null,setRecipEmailLangMetadata:null,enableSigningOrderSettingsForAccountMetadata:null,inPersonSigningEnabledMetadata:null,inPersonIDCheckQuestionMetadata:null,documentVisibilityMetadata:{options:[{text:"Off"},{text:"Must sign to view, unless a member of sender's account"},{text:"Must sign to view, unless sender"},{text:'Sender can set "must sign to view, unless a member of sending account"'},{text:'Sender can set "must sign to view unless sender"'}]},allowSignatureStampsMetadata:null,dataPopulationScopeMetadata:{options:[{text:"on an individual document",value:"document"},{text:"on all documents in an envelope",value:"envelope"}]},allowDocumentsOnSignedEnvelopesMetadata:null},this.getData=function(){return c.appUser.currentAccountInfo.settingsRetrieved.then(function(){c._.merge(c.sendingSettings,c._.pick(c.appUser.currentAccountInfo.settings,c._.keys(c.sendingSettings))),c.sendingSettings.local_showInfoRequest=c.sendingSettings.inPersonIDCheckQuestion.length>0,c.setUpShouldShows()})},this.setUpShouldShows=function(){c.shouldShowFieldsAndPropertiesSection=c.uiHintChecker.isAvailable(c.sendingSettings.enableCalculatedFieldsMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.conditionalFieldsEnabledMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.signerShowSecureFieldInitialValuesMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.enableSignerAttachmentsMetadata)||c.uiHintChecker.sendingSettings.allowDocumentVisibility,c.shouldShowRecipientRolesSection=c.uiHintChecker.isAvailable(c.sendingSettings.bulkSendMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.allowInPersonMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.sendToCertifiedDeliveryEnabledMetadata)||c.uiHintChecker.isAvailable(c.sendingSettings.enableSendToAgentMetadata)&&!1||c.uiHintChecker.isAvailable(c.sendingSettings.enableSendToManageMetadata)&&!1||c.uiHintChecker.isAvailable(c.sendingSettings.enableSendToIntermediaryMetadata)&&!1,c.shouldShowTemplatesSection=c.uiHintChecker.isAvailable(c.sendingSettings.sharedTemplateFoldersMetadata),c.shouldShowEnvelopeCorrectSection=c.uiHintChecker.isAvailable(c.sendingSettings.allowDocumentsOnSignedEnvelopesMetadata),c.toggleSenderDocVisible()},this.defaultValueMetadataGivenEnabledForAccountAdmin=function(){return{rights:c.sendingSettings.enableEnvelopeStampingByAccountAdmin?c.sendingSettings.envelopeStampingDefaultValueMetadata.rights:"read_only",uiHint:c.sendingSettings.envelopeStampingDefaultValueMetadata.uiHint}},this.cancel=function(e){c.getData(),e.$setPristine()},this.save=function(e){return c.dsAccount.updateSettings(c.appUser.getCurrentAccountId(),c.sendingSettings).then(function(){c.appUser.refreshAccountSettings(),e.$setPristine(),c.dsNotification.show({msg:c.$translate.instant(i.DOCUMENT_SENDING_SUCCESS_MESSAGE),type:"success"})},function(e){c.dsNotification.show({msg:c.$translate.instant("An error occurred!"),type:"alert"})}).finally(function(){})},this.toggleMultiSignerAttachByEnableSignerAttach=function(e){return{rights:c.sendingSettings.enableSignerAttachments?e.rights:"read-only",uiHint:e.uiHint}},this.toggleSignerAttachConcat=function(e){return{rights:c.sendingSettings.enableSignerAttachments?e.rights:"read-only",uiHint:e.uiHint}},this.isAvailable=this.uiHintChecker.isAvailable,this.getData()}return e.prototype.toggleSenderDocVisible=function(){var e=this._.isString(this.sendingSettings.documentVisibility)?this.sendingSettings.documentVisibility.toLowerCase():"";"off"===e&&(this.sendingSettings.specifyDocumentVisibility=!1),this.senderSpecifyDocVisibilityMetaData={rights:"off"===e?"read-only":this.sendingSettings.specifyDocumentVisibilityMetadata.rights,uiHint:this.sendingSettings.specifyDocumentVisibilityMetadata.uiHint}},e.prototype.changeEnableInpersonQuestion=function(){this.sendingSettings.allowInPerson=this.sendingSettings.inPersonSigningEnabled,!1===this.sendingSettings.inPersonSigningEnabled&&this.sendingSettings.local_showInfoRequest&&(this.sendingSettings.local_showInfoRequest=!1,this.clearIDQuestion())},e.prototype.clearIDQuestion=function(){!1!==this.sendingSettings.local_showInfoRequest||this._.isEmpty(this.sendingSettings.inPersonIDCheckQuestion)||(this.sendingSettings.inPersonIDCheckQuestion="")},e.prototype.validInfoRequestQuestion=function(){var e=this;return function(){return!e.sendingSettings.local_showInfoRequest||e.sendingSettings.local_showInfoRequest&&e.sendingSettings.inPersonIDCheckQuestion}},e}();a.DocumentSendingModule.controller("DocumentSendingController",["$scope","configuration","dsNotification","dsAccount","uiHintChecker","appUser","$translate","lodash",s])},function(e,t){var n="document labels/document-labels-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main document-labels" ng-controller="DocumentLabelsListController as documentLabels">\n  <div class="section">\n    <div class="grid">\n      <div class="col-1-4">\n        <h1 class="header-title" translate="Envelope Custom Fields"></h1>\n      </div>\n      <div class=\'col-3-4\'>\n        <div class="u-float-right">\n            <span class="cheshire_visibleContent" olive-cheshire-visible="CheshireFilter">\n                <div class="input_wrapper document-labels-search">\n                  <div class="form_item form_item-iconLeft form_item-iconRight">\n                    <span class="icon icon-search"></span>\n                    <input type=\'text\'\n                           class=\'input-text search\'\n                           maxlength="100"\n                           ng-model=\'documentLabels.search.pendingPhrase\'\n                           ng-keyup="documentLabels.submitSearchPhrase($event)"\n                           data-qa="document_labels_search_txtb"\n                           translate translate-attr-placeholder=\'Search\'/>\n                    <button type="button" class="button-icon"\n                      ng-if="documentLabels.search.phrase">\n                      <span class="icon icon-circle-x"\n                        ng-click="documentLabels.resetSearch()">\n                      </span>\n                    </button>\n                  </div>\n                </div>\n                <button type="button" class="btn btn-minor cheshire-btn" olive-cheshire-trigger="CheshireFilter"\n                        data-qa="document_labels_filter_btn">\n                  <span class="icon icon-filter"></span>\n                  <span translate="Filters"></span>\n                </button>\n            </span>\n        </div>\n        <div class="cheshire cheshire-off" id="CheshireFilter" olive-cheshire="CheshireFilter">\n          <div class="cheshire_body">\n            <div olive-cheshire-placeholder class="cheshire-placeholder"></div>\n            <div>\n              \x3c!-- Type --\x3e\n              <div class="form-group">\n                <label class="label" for="type" translate="Type"></label>\n                <div class="select-wrap">\n                  <select id="type" ng-model="documentLabels.pendingFilters.type"\n                          ng-options="opt | translate for opt in documentLabels.availableFilters.type"\n                          data-qa="document_labels_filter_type_option">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Type --\x3e\n              \x3c!-- Show --\x3e\n              <div class="form-group">\n                <label class="label" for="show" translate="Show"></label>\n                <div class="select-wrap">\n                  <select id="show" ng-model="documentLabels.pendingFilters.show"\n                          ng-options="opt | translate for opt in documentLabels.availableFilters.show"\n                          data-qa="document_labels_filter_show_option">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Show --\x3e\n              \x3c!-- Required --\x3e\n              <div class="form-group">\n                <label class="label" for="required" translate="Required"></label>\n                <div class="select-wrap">\n                  <select id="required" ng-model="documentLabels.pendingFilters.required"\n                          ng-options="opt | translate for opt in documentLabels.availableFilters.required"\n                          data-qa="document_labels_filter_required_option">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Required --\x3e\n            </div>\n          </div>\n          <div class="cheshire_footer">\n            <button type="submit" class="btn btn-primary" olive-cheshire-close\n                    data-qa="document_labels_filter_apply_btn" translate="Apply"\n                    ng-click="documentLabels.applyFilter()"></button>\n            <button type="button" class="btn btn-minor" data-qa="document_labels_filter_reset_btn"\n                    translate="Reset" ng-click="documentLabels.resetFilter()"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n    <div class="grid action-row">\n      <div class="col-1-5">\n        <button class="btn btn-secondary btn-md"\n                ng-hide="documentLabels.fields.length == 0"\n                ng-click="documentLabels.addDocumentLabel()"\n                data-qa="document_labels_add_label_btn">\n          <span translate="Add Field"></span>\n        </button>\n      </div>\n      <div class="col-2-5 pagination">\n        <paging-controls list-name="documentLabels.getListType() | translate" page="documentLabels.page"\n                         page-controls="documentLabels.pageControls"></paging-controls>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n  </div>\n\n  <div class="grid">\n    <filter-row filter-names="documentLabels.selectedFilterNames" filters="documentLabels.selectedFilters" reset="documentLabels.resetFilter"></filter-row>\n  </div>\n\n  <table class=\'rad-list list-tbl mtbl\'>\n    <thead>\n      <tr>\n        <th><span translate="Name"></span></th>\n        <th><span translate="Type"></span></th>\n        <th class="header-center"><span translate="Show"></span></th>\n        <th class="header-center hidden-xs-down"><span translate="Required"></span></th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n      <tr class="click-row" ng-repeat="field in documentLabels.list">\n        <td class="click-cell td">\n          <a ng-click="documentLabels.editDocumentLabel(field)"\n             data-qa="document_labels_field_name_td">{{ field.name }}</a>\n        </td>\n        <td class="click-cell td" ng-click="documentLabels.editDocumentLabel(field)"\n            data-qa="document_labels_field_type_td"\n            translate>{{ field.customFieldType }}</td>\n        <td class="click-cell td text-center" ng-click="documentLabels.editDocumentLabel(field)">\n          <i class="icon icon-check new-olive-icon" ng-show="field.show"\n             data-qa="document_labels_field_show_icon"></i>\n        </td>\n        <td class="click-cell td text-center hidden-xs-down" ng-click="documentLabels.editDocumentLabel(field)">\n          <i class="icon icon-check new-olive-icon" ng-show="field.required"\n             data-qa="document_labels_field_required_icon"></i>\n        </td>\n        <td class="column-min" data-title=\'Actions\'>\n          <button type=\'button\' class=\'btn btn-secondary btn-trigger\'\n                  olive-menu=\'documentLabelsActions-{{field.fieldId}}\'\n                  olive-menu-position=\'below right\'\n                  data-qa="document_labels_actions_btn" translate="Actions">\n          </button>\n          <div id=\'documentLabelsActions-{{field.fieldId}}\' class=\'menu invisible\' ng-switch=\'user.status\'>\n            <ul>\n              <li><a name=\'edit-dl\' class=\'item\' ng-click="documentLabels.editDocumentLabel(field)"\n                     data-qa="document_labels_actions_edit_li" translate="Edit"></a></li>\n              <li><a name=\'delete-dl\' class=\'item\' ng-click="documentLabels.confirmDeleteDocumentLabel(field)"\n                     data-qa="document_labels_actions_delete_li" translate="DS_CONTEXT=(document label) Delete"></a></li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="successfullyLoaded && !documentLabels.hasItems() &&\n                                 (documentLabels.search.phrase.length > 0 || documentLabels.hasFilters())">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="documentLabels.search.phrase.length > 0 && !documentLabels.hasFilters()"\n         translate="The selected search query \'[[phrase]]\' produced no results." translate-interpolation="bracket"\n         translate-values="{phrase: documentLabels.search.phrase}"></p>\n      <p ng-if="documentLabels.search.phrase.length === 0 && documentLabels.hasFilters()"\n         translate="The selected filters produced no results."></p>\n      <p ng-if="documentLabels.search.phrase.length > 0 && documentLabels.hasFilters()"\n         translate="The selected filters and search query \'[[phrase]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{phrase: documentLabels.search.phrase}"></p>\n    </div>\n  </div>\n\n  <div ds-loading="documentLabels.loaded"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your envelope custom fields. Go ahead and try that again.\' | translate}}"></div>\n\n  <div class="section">\n    <div class="grid" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="documentLabels.page" page-controls="documentLabels.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),s=n(356),o=n(3);t.DOCUMENT_LABELS="envelope custom fields";var r,l="Apply changes to templates",c="Remove field from templates",d="Do you want to apply your saved change to any existing templates that use this field?",u="Do you want to remove this field from any existing templates that use it?";!function(e){e[e.Delete=0]="Delete",e[e.Save=1]="Save"}(r||(r={}));var p=function(e){function n(a,i,s,p,m,g,h,f,v,_){var b=e.call(this,f,v)||this;return b.$scope=a,b.DocumentLabels=i,b.dsNotification=s,b.dsModals=p,b.appUser=m,b.$translate=g,b.$filter=h,b.$q=f,b._=v,b._oliveModal=_,b.getListType=function(){return t.DOCUMENT_LABELS},b.applyFilter=function(){b.selectedFilters={type:[],show:[],required:[]},"DS_CONTEXT=(envelope custom fields) All"!==b.pendingFilters.type&&b.selectedFilters.type.push(b.pendingFilters.type),"DS_CONTEXT=(envelope custom fields) All"!==b.pendingFilters.show&&b.selectedFilters.show.push(b.pendingFilters.show),"DS_CONTEXT=(envelope custom fields) All"!==b.pendingFilters.required&&b.selectedFilters.required.push(b.pendingFilters.required),b.search.phrase=b.search.pendingPhrase,b.loaded=b.getPage(o.FIRST_PAGE)},b.hasFilters=function(){return!b._.isEmpty(b.selectedFilters.type)||!b._.isEmpty(b.selectedFilters.show)||!b._.isEmpty(b.selectedFilters.required)},b.resetFilter=function(){b.selectedFilters={type:[],show:[],required:[]},b.pendingFilters={type:"DS_CONTEXT=(document labels) All",show:"DS_CONTEXT=(document labels) All",required:"DS_CONTEXT=(document labels) All"},b.search.phrase=b.search.pendingPhrase,b.loaded=b.getPage(o.FIRST_PAGE)},b.confirmDeleteDocumentLabel=function(e){b.$scope.activeDocumentLabel=e;var t=b.$scope.$new();t.confirm=b.confirmTemplateChange.bind(b,r.Delete),t.contentText="Are you sure you want to delete this envelope custom field?",t.confirmButtonText="DS_CONTEXT=(document label) Delete",t.cancelButtonText="Cancel",b.dsModals.openModal("site/templates/confirmation-modal.html",t,"sm",!1,!1)},b.deleteDocumentLabelConfirmed=function(e){void 0===e&&(e=!1);var t="success",n=b.$translate.instant("Envelope custom field deleted");b.DocumentLabels.remove(b.appUser.getCurrentAccountId(),b.$scope.activeDocumentLabel.fieldId,e).then(function(){b.documentLabelDeleted()},function(){t="alert",n=b.$translate.instant("Something has gone wrong. Please try again.")}).finally(function(){b.dsNotification.show({msg:n,type:t}),b.$scope.activeDocumentLabel=null})},b.documentLabelDeleted=function(){var e=b.page.startPosition===b.page.endPosition&&b.page.endPosition>=b.page.totalSetSize-1&&b.page.totalSetSize>o.PAGE_SIZE?b.page.startPosition-o.PAGE_SIZE:b.page.startPosition;b.$scope.activeDocumentLabel=null,b.loadList(),e>=o.PAGE_SIZE&&b.loaded.then(function(){b.getPage({count:o.PAGE_SIZE,start_position:e})})},b.addDocumentLabel=function(){b.$scope.activeDocumentLabel=null,b.$scope.documentLabelDetail.title=b.$translate.instant("Add a New Envelope Custom Field"),b.$scope.documentLabelDetail.field={customFieldType:"Text"},b.dsModals.openModal("document labels/document label detail.html",b.$scope,"lg",!1,!0)},b.editDocumentLabel=function(e){b.$scope.activeDocumentLabel=e,b.$scope.documentLabelDetail.title=b.$translate.instant("Edit Envelope Custom Field"),b.$scope.documentLabelDetail.field=b._.cloneDeep(e),b.dsModals.openModal("document labels/document label detail.html",b.$scope,"lg",!1,!0)},b.save=function(){return b._.isUndefined(b.$scope.documentLabelDetail.field.fieldId)?b.saveDocumentLabelDetail():b.confirmTemplateChange(r.Save)},b.confirmTemplateChange=function(e){var t,n,a,i;switch(void 0===e&&(e=r.Save),e){case r.Save:t=b.saveDocumentLabelDetail.bind(b,!0),n=b.saveDocumentLabelDetail.bind(b,!1),a=d,i=l;break;case r.Delete:t=b.deleteDocumentLabelConfirmed.bind(b,!0),n=b.deleteDocumentLabelConfirmed.bind(b,!1),a=u,i=c}var s={title:b.$translate.instant(i),text:b.$translate.instant(a),completeLabel:b.$translate.instant("Yes"),escapeLabel:b.$translate.instant("No"),completeFunction:t,escapeFunction:n};b._oliveModal.confirmationModal(s)},b.saveDocumentLabelDetail=function(e){void 0===e&&(e=!1);var t=b._.cloneDeep(b.$scope.documentLabelDetail.field);t.customFieldType=t.customFieldType.toLowerCase(),b._.isEmpty(t.listItems)||(t.listItems=t.listItems.split(";")),(b._.isUndefined(t.fieldId)?b.DocumentLabels.create(b.appUser.getCurrentAccountId(),t):b.DocumentLabels.update(b.appUser.getCurrentAccountId(),t,e)).then(function(e){b.documentLabelAddedOrUpdated(),b.dsNotification.show({msg:b.$translate.instant("Envelope custom field saved successfully!"),type:"success"}),b.dsModals.closeModal()},function(e){"MAX_CUSTOM_FIELDS_EXCEEDED"===e.data.errorCode&&b.dsNotification.show({msg:b.$translate.instant("You have reached the limit of 500 envelope custom fields. Please contact your Account Manager if you need to expand this limit."),type:"alert",modal:!0})})},b.documentLabelAddedOrUpdated=function(){b.$scope.activeDocumentLabel=null;var e=b.page.startPosition;b.loadList(),e>=o.PAGE_SIZE&&b.loaded.then(function(){b.getPage({count:o.PAGE_SIZE,start_position:e})})},b.clearListItemsDocumentLabelDetail=function(){"Text"===b.$scope.documentLabelDetail.field.customFieldType&&(b.$scope.documentLabelDetail.field.listItems=void 0)},a.documentLabelDetail={},a.documentLabelDetail.types=b._.values(n.types),a.documentLabelDetail.save=b.save,a.documentLabelDetail.clearListItems=b.clearListItemsDocumentLabelDetail,b.selectedFilterNames={type:"Type",show:"Show",required:"Required"},b.selectedFilters={type:[],show:[],required:[]},b.pendingFilters={type:"DS_CONTEXT=(envelope custom fields) All",show:"DS_CONTEXT=(envelope custom fields) All",required:"DS_CONTEXT=(envelope custom fields) All"},b.availableFilters={type:["DS_CONTEXT=(envelope custom fields) All"],show:["DS_CONTEXT=(envelope custom fields) All"],required:["DS_CONTEXT=(envelope custom fields) All"]},b.availableFilters.type=b._.uniq(b.availableFilters.type.concat(b._.values(n.types))),b.availableFilters.show=b._.uniq(b.availableFilters.show.concat(b._.values(n.booleanUIMapping))),b.availableFilters.required=b._.uniq(b.availableFilters.required.concat(b._.values(n.booleanUIMapping))),b.loadList(),b}return a(n,e),n.prototype.setLoadList=function(){var e=this;return function(){return e.loaded=e.DocumentLabels.getForAccount(e.appUser.getCurrentAccountId()).then(function(t){var n=e._.cloneDeep(t);e._.each(n,function(t){"text"===t.customFieldType.toLocaleLowerCase()?t.customFieldType="Text":(t.customFieldType="List",e._.isEmpty(t.listItems)||(t.listItems=t.listItems.join(";")))}),e.originalList=n,e.loaded=e.getPage(o.FIRST_PAGE)}),e.loaded}},n.prototype.setFilterList=function(){var e=this;return function(t){var a=e.getSearchOptions();return e.$filter("filter")(t,function(t){return(e._.isEmpty(a.search_text)||e._.includes(t.name.toLowerCase(),a.search_text.toLowerCase()))&&(e._.isEmpty(e.selectedFilters.type)||e._.includes(e.selectedFilters.type,t.customFieldType))&&(e._.isEmpty(e.selectedFilters.show)||e._.includes(e.selectedFilters.show,n.booleanUIMapping[t.show]))&&(e._.isEmpty(e.selectedFilters.required)||e._.includes(e.selectedFilters.required,n.booleanUIMapping[t.required]))})}},n.types={text:"Text",list:"List"},n}(i.SearchableClientPagingController);s.DocumentLabelsModule.controller("DocumentLabelsListController",["$scope","dsDocumentLabel","dsNotification","dsModals","appUser","$translate","$filter","$q","lodash","oliveModal",p])},function(e,t){var n="document labels/document label detail.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="document-label-detail" ds-form>\n  <div class="grid header">\n    <h1 data-qa="document_label_detail_header">{{ documentLabelDetail.title }}</h1>\n  </div>\n  <div class="grid content">\n    <div class="form-group">\n      <label class="label" label-required="*" for="docLabelName" translate="Field Name"></label>\n      <input type="text"\n             class="input-text"\n             id="docLabelName"\n             data-qa="new_document_label_name_txtb"\n             translate\n             ng-model="documentLabelDetail.field.name"\n             ds-valid\n             required>\n    </div>\n\n    <div class="inline-input cb">\n      <input class="cb_input" type="checkbox" id="cb-show" ng-model="documentLabelDetail.field.show"\n             data-qa="show_label_to_doc_creators_cb"/>\n      <label class="cb_label" for="cb-show" data-qa="show_label_to_doc_creators_cb_lbl"\n             translate="Show field to envelope creators"></label>\n    </div>\n\n    <div class="inline-input cb">\n      <input class="cb_input" type="checkbox" id="cb-required" ng-model="documentLabelDetail.field.required"\n             data-qa="make_label_required_cb"/>\n      <label class="cb_label" for="cb-required" data-qa="make_label_required_cb_lbl"\n             translate="Make field required for envelopes"></label>\n    </div>\n\n    <div class="form-group">\n      <label class="label" for="documentLabelDetail.field.customFieldType" translate="Field Type"></label>\n\n      <div class="select-wrap">\n        <select id="documentLabelDetail.field.customFieldType"\n                ng-change="documentLabelDetail.clearListItems()"\n                ng-model="documentLabelDetail.field.customFieldType"\n                ng-options="t as t |translate for t in documentLabelDetail.types"\n                data-qa="label_type_option">\n        </select>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="label" for="listValues" translate="List of values (semicolon separated)"></label>\n      <textarea class="input-textarea"\n                id="listValues"\n                ng-disabled="documentLabelDetail.field.customFieldType === \'Text\'"\n                ng-model="documentLabelDetail.field.listItems" data-qa="list_of_values_txta"></textarea>\n    </div>\n\n  </div>\n  <div class="grid footer">\n    <button type="submit" class="btn btn-lg btn-primary"\n            ds-form-submit="documentLabelDetail.save()" data-qa="add_edit_label_save_btn" translate="Save">\n    </button>\n    <button type="button" class="btn btn-lg btn-minor" ds-close-modal data-qa="add_edit_label_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="directory-providers/directory-provider-waiting.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DirectoryProviderWaitingController">\n  <article class="directory-provider-waiting-page">\n    <h1 translate="Your Directory Provider has been successfully consented! You should close this page if this page didn\'t closed shortly."></h1>\n  </article>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){return function(e,t,n,a){this._oliveModal=e,this._oliveMessage=t,this._$translate=n,this._$timeout=a,this._$timeout(function(){self.close()},3e3)}}();a.OrganizationModule.controller("DirectoryProviderWaitingController",["oliveModal","oliveMessage","$translate","$timeout",i])},function(e,t){var n="directory-providers/directory-provider-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DirectoryProviderListController as directoryProviders" ds-form>\n  <div class="crumbs">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ui-sref="authenticated.organization-dashboard({organization_id: directoryProviders.organizationId})">{{ directoryProviders.organization.name }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Directory Providers"></span>\n      </li>\n    </ul>\n  </div>\n\n  <div class="section">\n    <div class="grid">\n      <div class="fgrid_cell-1-2">\n        <h1 class="header-title" translate="Directory Providers"></h1>\n        <div translate="Connect your organization to your corporate directory. This enables your organization to leverage your corporate directory to manage users in DocuSign."></div>\n        <br>\n      </div>\n    </div>\n    <div class="grid action-row">\n      <div class="fgrid_cell-1-5">\n        <div class="u-float-left">\n          <button type="button" class="btn btn-secondary btn-trigger top-margin" olive-menu="connect-options-menu" translate="Connect Directory"\n            data-qa="organization_directoryprovider_list_add_directory_provider_button">\n          </button>\n          <div class="menu invisible" id="connect-options-menu">\n            <ul>\n              <li>\n                <a class="item" ng-click="directoryProviders.addDirectory(item)" ng-repeat="item in directoryProviders.availableProviders"\n                  data-qa="organization_directoryprovider_list_add_directory_provider_link">\n                  {{directoryProviders.converter(item.providerType)}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table class="table" ds-sortable="sortProperty" ds-sortable-initial-property="providerName">\n    <thead>\n      <tr>\n        <th>\n          <span translate="Name"></span>\n        </th>\n        <th>\n          <span translate="Provider Type"></span>\n        </th>\n        <th>\n          <span translate="Feature"></span>\n        </th>\n        <th>\n          <span translate="Capability"></span>\n        </th>\n        <th>\n          <span translate="Status"></span>\n        </th>\n        <th translate="Actions" class="text-right"></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="ng-scope" ng-repeat="item in directoryProviders.providers | orderBy:sortProperty:sortReverse">\n        <td>{{item.providerName}}</td>\n        <td>{{directoryProviders.converter(item.providerType)}}</td>\n        <td>\n          <span ng-repeat="feature in item.features">\n            <p>{{directoryProviders.converter(feature)}}&nbsp;</p>\n          </span>\n        </td>\n        <td>\n          <span ng-repeat="capability in item.capabilities">\n            <p>{{directoryProviders.converter(capability)}}&nbsp;</p>\n          </span>\n        </td>\n        <td ng-switch="item.status">\n          <span ng-switch-when="pending">\n            <i class="icon-circle icon-pending"></i>&nbsp;\n            <span translate="Pending"></span>\n          </span>\n          <span ng-switch-when="active">\n            <i class="icon-circlecheck text-success"></i>&nbsp;\n            <span translate="Active"></span>\n          </span>\n          <span ng-switch-when="deactivated">\n            <i class="icon-alert-triangle text-alert"></i>&nbsp;\n            <span translate="Deactivated"></span>\n          </span>\n        </td>\n\n        <td class="text-right">\n          <button class="btn btn-md btn-icon" olive-menu="directoryProviderMenu-{{::item.providerId}}" olive-menu-position="below right"\n            data-qa="organization_directoryprovider_list_actions_button">\n            <span class="icon icon-menu-overflow-vertical" aria-hidden="true"></span>\n            <span class="sr-text" translate="Actions"></span>\n          </button>\n          <div class="menu invisible" id="directoryProviderMenu-{{::item.providerId}}">\n            <ul>\n              <li class="item" ng-click="directoryProviders.editDirectory(item)" translate="Edit" data-qa="organization_directoryprovider_list_actions_edit_link"></li>\n              <li class="item" ng-show="item.isActive()" ng-click="directoryProviders.deactivateProvider(item)" translate="Deactivate"\n                data-qa="organization_directoryprovider_list_actions_deactivate_link"></li>\n              <li class="item" ng-hide="item.isActive()" ng-click="directoryProviders.goToAdminConsentPage(item)" translate="Activate"\n                data-qa="organization_directoryprovider_list_actions_activate_link"></li>\n              <li class="item" ng-click="directoryProviders.deleteDirectory(item)" translate="Delete" data-qa="organization_directoryprovider_list_actions_delete_link"></li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="directoryProviders.loaded && !directoryProviders.providers.length">\n    <i class="icon icon-grid-view emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p translate="Connect your first directory."></p>\n    </div>\n    <button type="button" class="btn btn-secondary btn-trigger top-margin" olive-menu="connect-options-menu" data-qa="connect_add_configuration_one_btn"\n      translate="Connect Directory">\n    </button>\n    <div class="menu invisible" id="connect-options-menu">\n      <ul>\n        <li>\n          <a class="item" ng-click="directoryProviders.addDirectory(item)" ng-repeat="item in directoryProviders.availableProviders">\n            {{directoryProviders.converter(item.providerType)}}\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=n(104),s=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u,p,m){var g=this;this._$scope=e,this._$rootScope=t,this._$q=n,this._=a,this._organizationService=i,this._domainService=s,this._oliveModal=o,this._oliveMessage=r,this._$state=l,this._$stateParams=c,this._$translate=d,this._$timeout=u,this._$interval=p,this._$dsSiteMessage=m,this._$scope.isConsented=!1,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.loading=this._organizationService.getAllDirectoryProviders(this.organizationId).then(function(e){g.providers=e}),this._organizationService.getAvailableDirectoryProviders(this.organizationId).then(function(e){g.availableProviders=e}),e.$on("NewProviderAdded",this.newProviderAdded),e.$on("EditProviderFromList",this.editProviderFromList),e.stop=void 0,this.loaded=!0}return e.prototype.addDirectory=function(e){var t=this._$scope.$new();t.organizationId=this.organizationId,t.availableProvider=e,this._oliveModal.openModal({scope:t,templateUrl:"directory-providers/directory-provider-add.html",showClose:!0})},e.prototype.newProviderAdded=function(e,t){e.stopPropagation(),e.currentScope.directoryProviders.providers.push(i.DirectoryProviderModel.create(t))},e.prototype.editDirectory=function(e){var t=this._$scope.$new();t.organizationId=this.organizationId,t.provider=e,this._oliveModal.openModal({scope:t,templateUrl:"directory-providers/directory-provider-edit.html",showClose:!0})},e.prototype.goToAdminConsentPage=function(e){var t=this;this._$dsSiteMessage.show({msg:this._$translate.instant("The consent page may be blocked by your browser."),type:"warn",hideClose:!1}),this._$timeout(function(){t._$dsSiteMessage.close()},5e3),this._organizationService.getDirectoryProviderConsentUrl(e.orgId,e.providerId).then(function(e){var n=e.url,a=window.open(n,"_blank");t._$scope.timer=0,t._$scope.stop=t._$interval(t.checkConsentPageDomain.bind(t,a),500)},function(e){t.showError(e)})},e.prototype.checkConsentPageDomain=function(e,t){var n=this;try{this._$scope.timer+=1,(t>600||e.closed)&&(this._$interval.cancel(this._$scope.stop),this._organizationService.getAllDirectoryProviders(this.organizationId).then(function(e){n.providers=e}))}catch(t){if(e.closed)return void this._$interval.cancel(this._$scope.stop)}},e.prototype.editProviderFromList=function(e,t){e.stopPropagation(),e.currentScope.directoryProviders._.remove(e.currentScope.directoryProviders.providers,function(e){return e.providerId===t.directory_provider_id}),e.currentScope.directoryProviders.providers.push(i.DirectoryProviderModel.create(t))},e.prototype.deactivateProvider=function(e){var t=this;this._organizationService.deactivateDirectoryProvider(e.orgId,e.providerId).then(function(e){t._oliveMessage.show({msg:t._$translate.instant("You have successfully deactivated this provider."),type:"success"}),t._.remove(t.providers,function(t){return t.providerId===e.directory_provider_id}),t.providers.push(i.DirectoryProviderModel.create(e))},function(e){t.showError(e)})},e.prototype.deleteDirectory=function(e){var t=this._$scope.$new();t.organizationId=this.organizationId,t.provider=e,this._oliveModal.openModal({scope:t,templateUrl:"directory-providers/directory-provider-delete.html",showClose:!0,onComplete:this.removeProviderFromList.bind(this,this.providers,e.providerId)})},e.prototype.removeProviderFromList=function(e,t){this._.remove(e,function(e){return e.providerId===t})},e.prototype.showError=function(e){var t=this._.get(e,"data.error"),n="We had trouble loading. Go ahead and try that again. Or refresh the page.";if(!this._.isEmpty(t))switch(t){case"directory_provider_feature_already_in_use":n="This feature already in use.";break;case"directory_provider_is_not_activated":n="The directory provider is not activated!";break;case"directory_provider_already_activated":n="The directory provider has been activated. Please refresh your page.";break;case"directory_provider_not_found":n="The directory provider not found!"}this._oliveMessage.show(this._$translate.instant(n),"organizationDirectoryRoutingError","error")},e.prototype.cancel=function(){this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId})},e.prototype.configureDomains=function(){this._$state.go("authenticated.organization-domains",{organization_id:this.organizationId})},e.prototype.converter=function(e){switch(e){case"azure":return"Azure";case"email_aliasing":return"Email Aliasing";case"user_profiles":return"User Profiles";default:return e}},e}();a.OrganizationModule.controller("DirectoryProviderListController",["$scope","$rootScope","$q","lodash","OrganizationService","DomainsService","oliveModal","oliveMessage","$state","$stateParams","$translate","$timeout","$interval","dsSiteMessage",s])},function(e,t){var n="directory-providers/directory-provider-edit.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="EditDirectoryController as controller" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Edit the Directory"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="form_unit">\n      <label for="providerName" class="label" translate="Directory Name" label-required=\'*\' data-qa="organization_directoryprovider_edit_directory_provider_name_label"></label>\n      <input id="providerName" type="text" class="input-text" ds-valid required ng-model="controller.directoryProvider.providerName"\n        data-qa="organization_directoryprovider_edit_directory_provider_name_text_field" />\n    </div>\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Directory Type" data-qa="organization_directoryprovider_edit_directory_provider_type_label"></h3>\n      <input id="providerType" type="text" class="input-text" disabled="disabled" value="{{controller.converter(controller.directoryProvider.providerType)}}"\n        data-qa="organization_directoryprovider_edit_directory_provider_type_text_field">\n    </div>\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Access Permissions"></h3>\n      <div class="cb">\n        <input id="userProfiles" name="userProfilesCheckbox" type="checkbox" class="cb_input" disabled="disabled" ng-model="controller.directoryProvider.userProfiles"\n          data-qa="organization_directoryprovider_edit_userprofiles_checkbox" />\n        <label for="userProfiles" class="cb_label" translate="User Profiles" data-qa="organization_directoryprovider_edit_userprofiles_label"></label>\n      </div>\n    </div>\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Enabled Features"></h3>\n      <div class="cb">\n        <input id="emailAliasing" name="emailAliasingCheckbox" type="checkbox" class="cb_input" ng-model="controller.directoryProvider.emailAliasing"\n          data-qa="organization_directoryprovider_edit_emailaliasing_checkbox" />\n        <label for="emailAliasing" class="cb_label" translate="Email Aliasing" data-qa="organization_directoryprovider_edit_emailaliasing_label"></label>\n      </div>\n    </div>\n    <div class="form_unit">\n      <div class="" ng-if="controller.directoryProvider.providerType===\'azure\'">\n        <label for="tenantId" class="label" translate="Tenant Id" data-qa="organization_directoryprovider_edit_tenantid_label"></label>\n        <input id="tenantId" type="text" class="input-text" disabled="disabled" value="{{controller.directoryProvider.settings.tenant_id}}"\n          data-qa="organization_directoryprovider_edit_tenantid_text_field">\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ng-disabled="!controller.directoryProvider.providerName.length" olive-modal-complete\n      ds-form-submit="controller.save()" translate="Save" data-qa="organization_directoryprovider_edit_tenantid_save_button"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel" data-qa="organization_directoryprovider_edit_tenantid_cancel_button"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r,l){this._$scope=e,this._$q=t,this._=n,this._organizationService=a,this._oliveModal=i,this._oliveMessage=s,this._$state=o,this._$stateParams=r,this._$translate=l,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._$scope.provider&&(this.directoryProvider=this._.cloneDeep(this._$scope.provider))}return e.prototype.save=function(){var e=this;this._organizationService.saveDirectoryProvider(this.organizationId,this.directoryProvider.providerId,this.directoryProvider).then(function(t){e._oliveMessage.show({msg:e._$translate.instant("You have successfully saved your changes."),type:"success"}),e._$scope.$emit("EditProviderFromList",t)},function(t){e.showError(t)})},e.prototype.cancel=function(){this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId})},e.prototype.configureDomains=function(){this._$state.go("authenticated.organization-domains",{organization_id:this.organizationId})},e.prototype.converter=function(e){switch(e){case"azure":return"Azure";case"email_aliasing":return"Email Aliasing";case"user_profiles":return"User Profiles";default:return e}},e.prototype.showError=function(e){var t=this._.get(e,"data.error"),n="We had trouble loading. Go ahead and try that again. Or refresh the page.";if(!this._.isEmpty(t))switch(t){case"directory_provider_feature_already_in_use":n="This feature already in use.";break;case"directory_provider_is_not_activated":n="The directory provider is not activated!";break;case"directory_provider_already_activated":n="The directory provider has been activated. Please refresh your page.";break;case"directory_provider_not_found":n="The directory provider not found!"}this._oliveMessage.show(this._$translate.instant(n),"organizationDirectoryRoutingError","error")},e}();a.OrganizationModule.controller("EditDirectoryController",["$scope","$q","lodash","OrganizationService","oliveModal","oliveMessage","$state","$stateParams","$translate",i])},function(e,t){var n="directory-providers/directory-provider-delete.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="DeleteDirectoryProviderController as deletion" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 translate="Delete Directory Provider"></h1>\n  </div>\n\n  <div class="modal_content" olive-modal-content translate="Are you sure you want to delete this Directory Provider?">\n  </div>\n\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" olive-modal-complete ds-form-submit="deletion.delete()" translate="Delete" data-qa="organization_directoryprovider_delete_directory_provider_delete_button"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel" data-qa="organization_directoryprovider_delete_directory_provider_cancel_button"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=function(){function e(e,t,n,a,i,s,o,r){this._$scope=e,this._=t,this._organizationService=n,this._oliveModal=a,this._oliveMessage=i,this._$state=s,this._$stateParams=o,this._$translate=r,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._$scope.provider&&(this.providerId=this._$scope.provider.providerId)}return e.prototype.delete=function(){var e=this;this._organizationService.deleteDirectoryProvider(this.organizationId,this.providerId).then(function(){e._oliveMessage.show({msg:e._$translate.instant("Directory Provider deleted."),type:"success"})},function(t){e.showError(t)})},e.prototype.cancel=function(){this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId})},e.prototype.showError=function(e){var t=this._.get(e,"data.error"),n="We had trouble loading. Go ahead and try that again. Or refresh the page.";if(!this._.isEmpty(t))switch(t){case"directory_provider_feature_already_in_use":n="This feature already in use.";break;case"directory_provider_is_not_activated":n="The directory provider is not activated!";break;case"directory_provider_already_activated":n="The directory provider has been activated. Please refresh your page.";break;case"directory_provider_not_found":n="The directory provider not found!"}this._oliveMessage.show(this._$translate.instant(n),"organizationDirectoryRoutingError","error")},e}();a.OrganizationModule.controller("DeleteDirectoryProviderController",["$scope","lodash","OrganizationService","oliveModal","oliveMessage","$state","$stateParams","$translate",i])},function(e,t){var n="directory-providers/directory-provider-add.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddDirectoryController as controller" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Add a Directory Provider"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="form_unit">\n      <label for="providerName" class="label" translate="Directory Name" label-required=\'*\' data-qa="organization_directoryprovider_add_directory_provider_name_label"></label>\n      <input id="providerName" type="text" class="input-text" ds-valid required ng-model="controller.directoryProvider.providerName"\n        data-qa="organization_directoryprovider_add_directory_provider_name_text_field" />\n    </div>\n\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Directory Type" data-qa="organization_directoryprovider_add_directory_provider_type_label"></h3>\n      <input id="providerType" type="text" class="input-text" disabled="disabled" ng-model="controller.directoryProvider.providerType"\n        data-qa="organization_directoryprovider_add_directory_provider_type_text_field">\n    </div>\n\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Access Permissions"></h3>\n      <div class="cb">\n        <input id="userProfiles" name="userProfilesCheckbox" disabled="disabled" type="checkbox" class="cb_input" ng-model="controller.directoryProvider.userProfiles"\n          data-qa="organization_directoryprovider_add_directory_provider_userprofiles_checkbox" />\n        <label for="userProfiles" class="cb_label" translate="User Profiles" data-qa="organization_directoryprovider_add_directory_provider_userprofiles_label"></label>\n      </div>\n    </div>\n    <div class="form_unit">\n      <h3 class="form_unit-title" translate="Enabled Features"></h3>\n      <div class="cb">\n        <input id="emailAliasing" name="emailAliasingCheckbox" type="checkbox" class="cb_input" ng-model="controller.directoryProvider.emailAliasing"\n          data-qa="organization_directoryprovider_add_directory_provider_emailaliasing_checkbox" />\n        <label for="emailAliasing" class="cb_label" translate="Email Aliasing" data-qa="organization_directoryprovider_add_directory_provider_emailaliasing_label"></label>\n      </div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ng-disabled="!controller.directoryProvider.providerName.length" olive-modal-complete\n      ds-form-submit="controller.add()" translate="Save" data-qa="organization_directoryprovider_add_directory_provider_submit_button"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel" data-qa="organization_directoryprovider_add_directory_provider_cancel_button"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(104),i=n(4),s=function(){function e(e,t,n,i,s,o,r,l,c){this._$scope=e,this._$q=t,this._=n,this._organizationService=i,this._oliveModal=s,this._oliveMessage=o,this._$state=r,this._$stateParams=l,this._$translate=c,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._$scope.availableProvider&&(this.directoryProvider=new a.DirectoryProviderModel,this.directoryProvider.orgId=this.organizationId,this.directoryProvider.status="pending",this.directoryProvider.userProfiles=!0,this.directoryProvider.providerType=this._$scope.availableProvider.providerType)}return e.prototype.add=function(){var e=this;this._organizationService.addDirectoryProvider(this.organizationId,this.directoryProvider).then(function(t){e._oliveMessage.show({msg:e._$translate.instant("New provider added."),type:"success"}),e._$scope.$emit("NewProviderAdded",t)},function(t){e.showError(t)})},e.prototype.showError=function(e){var t=this._.get(e,"data.error"),n="We had trouble loading. Go ahead and try that again. Or refresh the page.";if(!this._.isEmpty(t))switch(t){case"directory_provider_feature_already_in_use":n="This feature already in use.";break;case"directory_provider_is_not_activated":n="The directory provider is not activated!";break;case"directory_provider_already_activated":n="The directory provider has been activated. Please refresh your page.";break;case"directory_provider_not_found":n="The directory provider not found!"}this._oliveMessage.show(this._$translate.instant(n),"organizationDirectoryRoutingError","error")},e.prototype.cancel=function(){this._$state.go("authenticated.organization-dashboard",{organization_id:this.organizationId})},e}();i.OrganizationModule.controller("AddDirectoryController",["$scope","$q","lodash","OrganizationService","oliveModal","oliveMessage","$state","$stateParams","$translate",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),i=function(){return function(){}}();t.ConnectConfiguration=i;var s=function(){return function(e,t,n,a,i){this.displayName=e,this.dataType=t,this.path=n,this.isValueType=a,this.isUpdatable=i}}();t.SalesforceObject=s;var o=function(){return function(e,t,n){this.isNew=e,this.isDeleted=t,this.id=n}}();t.CurrentCustomField=o,a.CustomFieldsModule.factory("CustomFieldsService",["dsApiClient","CustomFieldWrapper","appUser","lodash","$q",function(e,t,n,a,i){var r,l,c,d,u,p,m=function(e){r=e,l=t.getForAccount(r,!1),c=l.then(function(e){return u=a.filter(e,h)}),d=l.then(function(e){return function(e){if(!a.find(e,{type:"envelopeId",customTabId:""})){var t=a.cloneDeep(a.find(e,{type:"initialHere",customTabId:""}));t.type="envelopeId",e.push(t)}}(e),a.filter(e,g)})};return{currentCustomField:new o(!1,!1,null),getTabMetadata:function(){return null!==d&&n.getCurrentAccountId()===r||m(n.getCurrentAccountId()),d},getCustomFields:function(){return null!==c&&n.getCurrentAccountId()===r||m(n.getCurrentAccountId()),c},getCustomField:function(e){return t.getField(n.getCurrentAccountId(),e)},createCustomField:function(e){var a=this;return t.create(n.getCurrentAccountId(),e).then(function(e){return u.push(e),a.currentCustomField.id=e.customTabId,a.currentCustomField.isNew=!0,a.currentCustomField.isDeleted=!1,a.currentCustomField})},updateCustomField:function(e){var i=this;return t.update(n.getCurrentAccountId(),e).then(function(t){return a.remove(u,function(t){return t.customTabId===e.customTabId}),u.push(e),i.currentCustomField.id=t.customTabId,i.currentCustomField.isNew=!1,i.currentCustomField.isDeleted=!1,i.currentCustomField})},deleteCustomField:function(e){var i=this;return t.remove(n.getCurrentAccountId(),e).then(function(){return a.remove(u,function(t){return t.customTabId===e}),i.currentCustomField.id=e,i.currentCustomField.isNew=!1,i.currentCustomField.isDeleted=!0,i.currentCustomField})},hasSalesforceConnectConfig:function(){return function(){var t=n.getCurrentAccountId(),a=e.endpoint().accounts(t).connect().uri();return e.get(a).then(function(e){return e.data.configurations})}().then(function(e){return p=a.find(e,function(e){return"salesforce"===e.configurationType}),!a.isEmpty(p)})},isSalesforceForCustomFieldsEnabled:function(){return a.isUndefined(n.currentAccountInfo.settings.allowMergeFields)?this.hasSalesforceConnectConfig().then(function(e){return e}):i.when(n.currentAccountInfo.settings.allowMergeFields)},getSalesforceObjects:function(t){var i=n.getCurrentAccountId(),o=p.connectId,r=t?{path:t}:null,l=e.endpoint().accounts(i).connect(o).objectHierarchy().uri(r);return e.get(l).then(function(e){return a.map(e.data.connectObjects,function(e){return new s(e.displayName+" ("+e.dataType+")",e.dataType,e.path.toLowerCase(),e.isValueType,e.isUpdatable)})})}};function g(e){return!1===e.editable&&a.isEmpty(e.customTabId)}function h(e){return!0===e.editable&&!a.isEmpty(e.customTabId)}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).CustomFieldsModule.constant("ValidationTypes",[{name:"Email",value:"email"},{name:"Number",value:"number"},{name:"Date",value:"date"},{name:"SSN",value:"ssn"},{name:"Zip",value:"zip5"},{name:"ZIP5-4",value:"zip5Dash4"},{name:"Regular Expression",value:"regex"}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).CustomFieldsModule.constant("TypeOptions",[{name:"Approve",value:"approve"},{name:"Decline",value:"decline"},{name:"Checkbox",value:"checkBox"},{name:"Company",value:"company"},{name:"Title",value:"title"},{name:"Formula",value:"formula"},{name:"Signer Attachment",value:"signerAttachment"},{name:"Date Signed",value:"dateSigned"},{name:"Email Address",value:"emailAddress"},{name:"Envelope ID",value:"envelopeId"},{name:"First Name",value:"firstName"},{name:"Full Name",value:"fullName"},{name:"Initial Here",value:"initialHere"},{name:"Initial Here Optional",value:"initialHereOptional"},{name:"Last Name",value:"lastName"},{name:"Sign Here",value:"signHere"},{name:"Sign Here Optional",value:"signHereOptional"},{name:"Text Field",value:"text"},{name:"Drop Down",value:"list"},{name:"Note",value:"note"},{name:"Radio Button",value:"radio"}])},function(e,t){var n="custom-fields/custom-field-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main custom-fields-list" ng-controller="CustomFieldListController as customFieldList">\n  <div class="section">\n    <div class="grid">\n      <div class=\'col-1-4\'>\n        <h1 class="header-title" translate="Document Custom Fields"></h1>\n      </div>\n      <div class=\'col-3-4\'>\n        <div class="u-float-right">\n            <span class="cheshire_visibleContent" olive-cheshire-visible="CheshireFilter">\n                <div class="input_wrapper custom-field-search">\n                  <div class="form_item form_item-iconLeft form_item-iconRight">\n                    <span class="icon icon-search"></span>\n                    <input type=\'text\'\n                           class=\'input-text\'\n                           ng-model=\'customFieldList.search.pendingPhrase\'\n                           maxlength="100"\n                           ng-keyup="customFieldList.submitSearchPhrase($event)"\n                           data-qa="custom_fields_search_txtb"\n                           translate translate-attr-placeholder=\'Search\' />\n                    <button type="button" class="button-icon"\n                      ng-if="customFieldList.search.phrase">\n                      <span class="icon icon-circle-x"\n                        ng-click="customFieldList.resetSearch()">\n                      </span>\n                    </button>\n                  </div>\n                </div>\n                <button type="button" class="btn btn-minor cheshire-btn" olive-cheshire-trigger="CheshireFilter"\n                        data-qa="custom_fields_filter_btn">\n                  <span class="icon icon-filter"></span>\n                  <span translate="Filters"></span>\n                </button>\n\n            </span>\n        </div>\n        <div class="cheshire cheshire-off" id="CheshireFilter" olive-cheshire="CheshireFilter">\n          <div class="cheshire_body">\n            <div olive-cheshire-placeholder class="cheshire-placeholder"></div>\n            <div>\n              \x3c!-- Type --\x3e\n              <div class="form-group">\n                <label class="label" for="type" translate="Type"></label>\n                <div class="select-wrap">\n                  <select id="type" ng-model="customFieldList.pendingFilters.type"\n                          ng-options="opt | translate for opt in customFieldList.availableFilters.type"\n                          data-qa="custom_fields_filter_type_option">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Type --\x3e\n              \x3c!-- Shared --\x3e\n              <div class="form-group">\n                <label class="label" for="shared" translate="Shared"></label>\n                <div class="select-wrap">\n                  <select id="shared" ng-model="customFieldList.pendingFilters.shared"\n                          ng-options="opt | translate for opt in customFieldList.availableFilters.shared"\n                          data-qa="custom_fields_filter_shared_option">\n                  </select>\n                </div>\n              </div>\n              \x3c!-- end Shared --\x3e\n            </div>\n          </div>\n          <div class="cheshire_footer">\n            <button type="submit" class="btn btn-primary" olive-cheshire-close\n                    data-qa="custom_fields_filter_apply_btn" translate="Apply"\n                    ng-click="customFieldList.applyFilter()"></button>\n            <button type="button" class="btn btn-minor" data-qa="custom_fields_filter_reset_btn"\n                    translate="Reset" ng-click="customFieldList.resetFilter()"></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n    <div class="grid action-row">\n      <div class="col-1-5">\n        <button class="btn btn-secondary btn-md"\n                data-qa="custom_fields_add_field_btn"\n                ui-sref="authenticated.custom-field-details">\n          <span translate="Add Field"></span>\n        </button>\n      </div>\n      <div class="col-2-5 pagination">\n        <paging-controls list-name="customFieldList.getListType() | translate" page="customFieldList.page"\n                         page-controls="customFieldList.pageControls"></paging-controls>\n      </div>\n    </div>\n    \x3c!-- end grid --\x3e\n  </div>\n\n  <div class="grid">\n    <filter-row filter-names="customFieldList.selectedFilterNames"\n                filters="customFieldList.selectedFilters"\n                reset="customFieldList.resetFilter">\n    </filter-row>\n  </div>\n\n  <table class="rad-list list-tbl mtbl">\n    <thead>\n    <tr>\n      <th class="column-name"><span translate="Name"></span></th>\n      <th class="column-type"><span translate="Type"></span></th>\n      <th ng-if="customFieldList.isSalesforceEnabled" class="column-salesforce header-center hidden-xs-down"><span\n        translate="Salesforce"></span></th>\n      <th class="column-owner header-center"><span translate="Owner"></span></th>\n      <th class="column-shared header-center hidden-xs-down">\n        <span translate="Shared"></span>\n      </th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n    <tr class="click-row" ng-repeat="customField in customFieldList.list"\n        repeat-done=\'notifyChanges\'>\n      <td class="column-name click-cell td"\n          ui-sref="authenticated.custom-field-details({customFieldId: customField.id})">\n        <a>{{customField.name}}</a>\n      </td>\n      <td class="column-type click-cell td"\n          ui-sref="authenticated.custom-field-details({customFieldId: customField.id})">\n        <a translate>{{customField.type}}</a>\n      </td>\n      <td ng-if="customFieldList.isSalesforceEnabled" class="column-salesforce text-center click-cell hidden-xs-down"\n          ui-sref="authenticated.custom-field-details({customFieldId: customField.id})">\n        <i ng-show="customField.mergeField" class="icon new-olive-salesforce-icon"\n           ng-class="customField.mergeField.writeBack ? \'icon-arrow-read-write-data\' : \'icon-arrow-read-data\'"\n           olive-tooltip="" olive-tooltip-position="above center"\n           title="{{customField.mergeFieldTitle | translate}}"></i>\n      </td>\n      <td class="column-owner text-center click-cell td"\n          ui-sref="authenticated.custom-field-details({customFieldId: customField.id})">\n        <a>{{ customField.createdByDisplayName }}</a>\n      </td>\n      <td class="column-shared text-center click-cell hidden-xs-down"\n          ui-sref="authenticated.custom-field-details({customFieldId: customField.id})">\n        <i ng-show="customField.shared" class="icon icon-shared new-olive-icon"\n           data-qa="custom_fields_shared_icon"></i>\n      </td>\n      <td class="column-min" data-title=\'Actions\'>\n        <button type=\'button\'\n                class=\'btn btn-secondary btn-trigger\'\n                olive-menu=\'customFieldActions-{{customField.id}}\'\n                olive-menu-position=\'below right\'\n                data-qa="custom_fields_actions_btn"\n                translate="Actions">\n        </button>\n        <div id=\'customFieldActions-{{customField.id}}\' class=\'menu invisible\' ng-switch=\'user.status\'>\n          <ul>\n            <li><a name=\'edit-cf\' class=\'item\' ui-sref="authenticated.custom-field-details({customFieldId: customField.id})"\n                   data-qa="custom_fields_actions_edit_li"\n                   translate="Edit"></a></li>\n            <li><a name=\'delete-cf\' class=\'item\' ng-click="customFieldList.deleteCustomField(customField)"\n                   data-qa="custom_fields_actions_delete_li"\n                   translate="DS_CONTEXT=(custom field) Delete"></a></li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="successfullyLoaded && !customFieldList.hasItems() &&\n                                 (customFieldList.search.phrase.length > 0 || customFieldList.hasFilters())">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="customFieldList.search.phrase.length > 0 && !customFieldList.hasFilters()"\n         translate="The selected search query \'[[phrase]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{phrase: customFieldList.search.phrase}"></p>\n      <p ng-if="customFieldList.search.phrase.length === 0 && customFieldList.hasFilters()"\n         translate="The selected filters produced no results."></p>\n      <p ng-if="customFieldList.search.phrase.length > 0 && customFieldList.hasFilters()"\n         translate="The selected filters and search query \'[[phrase]]\' produced no results."\n         translate-interpolation="bracket" translate-values="{phrase: customFieldList.search.phrase}"></p>\n    </div>\n  </div>\n\n  <div ds-loading="customFieldList.loaded"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading your custom fields. Go ahead and try that again.\' | translate}}"></div>\n\n  <div class="section">\n    <div class="grid" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="customFieldList.page" page-controls="customFieldList.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),s=n(81),o=n(3);t.CUSTOM_FIELDS="document custom fields";var r=function(e){function n(a,i,s,r,l,c,d,u,p){var m=e.call(this,u,p)||this;return m.$scope=a,m.customFields=i,m.appUser=s,m.$translate=r,m.notifier=l,m.modal=c,m.$filter=d,m.$q=u,m._=p,m.isSalesforceEnabled=!1,m.getListType=function(){return t.CUSTOM_FIELDS},m.applyFilter=function(){m.selectedFilters={type:[],shared:[]},"DS_CONTEXT=(custom fields) All"!==m.pendingFilters.type&&m.selectedFilters.type.push(m.pendingFilters.type),"DS_CONTEXT=(custom fields) All"!==m.pendingFilters.shared&&m.selectedFilters.shared.push(m.pendingFilters.shared),m.search.phrase=m.search.pendingPhrase,m.loaded=m.getPage(o.FIRST_PAGE)},m.hasFilters=function(){return!m._.isEmpty(m.selectedFilters.type)||!m._.isEmpty(m.selectedFilters.shared)},m.resetFilter=function(){m.selectedFilters={type:[],shared:[]},m.pendingFilters={type:"DS_CONTEXT=(custom fields) All",shared:"DS_CONTEXT=(custom fields) All"},m.search.phrase=m.search.pendingPhrase,m.loaded=m.getPage(o.FIRST_PAGE)},m.notifyChanges=function(){m._.isNull(m.customFields.currentCustomField.id)||(m.customFields.currentCustomField.isNew?m.notifier.show({msg:m.$translate.instant("Custom field created."),type:"success"}):m.customFields.currentCustomField.isDeleted?m.notifier.show({msg:m.$translate.instant("Custom field deleted."),type:"success"}):m.notifier.show({msg:m.$translate.instant("Custom field saved."),type:"success"}),m.customFields.currentCustomField.id=null,m.customFields.currentCustomField.isNew=!1,m.customFields.currentCustomField.isDeleted=!1)},m.deleteCustomField=function(e){m.cfToBeDeleted=e;var t=m.$scope.$new();t.confirm=m.modalDelete,t.contentText="Are you sure you want to delete this custom field?",t.confirmButtonText="DS_CONTEXT=(custom field) Delete",t.cancelButtonText="Cancel",m.modal.openModal("site/templates/confirmation-modal.html",t,"sm",!1,!1)},m.modalDelete=function(){var e=m.cfToBeDeleted;return m.customFields.deleteCustomField(e.id).then(function(){m.customFieldDeleted(),m.notifyChanges()})},m.customFieldDeleted=function(){var e=m.page.startPosition===m.page.endPosition&&m.page.endPosition>=m.page.totalSetSize-1&&m.page.totalSetSize>o.PAGE_SIZE?m.page.startPosition-o.PAGE_SIZE:m.page.startPosition;m.loadList(),e>=o.PAGE_SIZE&&m.loaded.then(function(){m.getPage({count:o.PAGE_SIZE,start_position:e})})},m.selectedFilterNames={type:"Type",shared:"Shared"},m.selectedFilters={type:[],shared:[]},m.pendingFilters={type:"DS_CONTEXT=(custom fields) All",shared:"DS_CONTEXT=(custom fields) All"},m.availableFilters={type:["DS_CONTEXT=(custom fields) All"],shared:["DS_CONTEXT=(custom fields) All"]},m.availableFilters.type=m._.uniq(m.availableFilters.type.concat(m._.sortBy(m._.values(n.types),function(e){return e}))),m.availableFilters.shared=m._.uniq(m.availableFilters.shared.concat(m._.values(n.booleanUIMapping))),s.currentAccountInfo.settingsRetrieved.then(function(){m.isSalesforceEnabled=m.appUser.currentAccountInfo.settings.allowMergeFields}),m.loadList(),m}return a(n,e),n.prototype.setLoadList=function(){var e=this;return function(){return e.loaded=e.customFields.getCustomFields().then(function(t){e.originalList=e._.map(e._.filter(t,function(e){return!0===e.editable||!0===e.shared}),function(t){return{id:t.customTabId,name:t.tabLabel,lastModified:""===t.lastModified?"- -":t.lastModified,lastModifiedByDisplayName:e._.isEmpty(t.lastModifiedByDisplayName)?"":t.lastModifiedByDisplayName,createdByDisplayName:t.createdByDisplayName,validation:n.getValidation(t.type.toLowerCase()),type:n.types[t.type.toLowerCase()],shared:t.shared,mergeField:t.mergeField,mergeFieldTitle:t.mergeField&&t.mergeField.writeBack?"read write data":"read data"}}),e.loaded=e.getPage(o.FIRST_PAGE)}),e.loaded}},n.prototype.setFilterList=function(){var e=this;return function(t){var a=e.getSearchOptions();return e.$filter("filter")(t,function(t){return(e._.isEmpty(a.search_text)||e._.includes(t.name.toLowerCase(),a.search_text.toLowerCase()))&&(e._.isEmpty(e.selectedFilters.type)||e._.includes(e.selectedFilters.type,t.type))&&(e._.isEmpty(e.selectedFilters.shared)||e._.includes(e.selectedFilters.shared,n.booleanUIMapping[t.shared]))})}},n.getValidation=function(e){switch(e.toLowerCase()){case"date":return"Date";case"email":return"Email";case"number":return"Number";case"ssn":return"SSN";case"zip5":return"ZIP";case"zip5dash4":return"ZIP5-4";default:return"- -"}},n.types={approve:"Approve",checkbox:"Checkbox",company:"Company",datesigned:"Date Signed",decline:"Decline",email:"Text Field",emailaddress:"Email Address",envelopeid:"Envelope ID",firstname:"First Name",formula:"Formula",fullname:"Full Name",initialhere:"Initial Here",initialhereoptional:"Initial Here Optional",lastname:"Last Name",list:"Drop Down",note:"Note",number:"Text Field",radio:"Radio Button",signerattachment:"Signer Attachment",signhere:"Sign Here",signhereoptional:"Sign Here Optional",ssn:"Text Field",text:"Text Field",title:"Title",zip5:"Text Field",zip5dash4:"Text Field",date:"Text Field"},n}(s.SearchableClientPagingController);t.CustomFieldListController=r,i.CustomFieldsModule.controller("CustomFieldListController",["$scope","CustomFieldsService","appUser","$translate","dsNotification","dsModals","$filter","$q","lodash",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).CustomFieldsModule.constant("FontSizes",[{value:"size7",name:"7",pixel:15},{value:"size8",name:"8",pixel:17},{value:"size9",name:"9",pixel:19,default:!0},{value:"size10",name:"10",pixel:21},{value:"size11",name:"11",pixel:23},{value:"size12",name:"12",pixel:25},{value:"size14",name:"14",pixel:29},{value:"size16",name:"16",pixel:33},{value:"size18",name:"18",pixel:38},{value:"size20",name:"20",pixel:42},{value:"size22",name:"22",pixel:46},{value:"size24",name:"24",pixel:50},{value:"size26",name:"26",pixel:54},{value:"size28",name:"28",pixel:58},{value:"size36",name:"36",pixel:75},{value:"size48",name:"48",pixel:100},{value:"size72",name:"72",pixel:150}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).CustomFieldsModule.constant("FontNames",[{name:"Arial",value:"arial",fontFamily:"Arial, Helvetica, Verdana, sans-serif"},{name:"Arial Narrow",value:"arialnarrow",fontFamily:'"Arial Narrow", Arial, Helvetica, Verdana, sans-serif'},{name:"Calibri",value:"calibri",fontFamily:"Calibri, sans-serif"},{name:"Courier New",value:"couriernew",fontFamily:'"Courier New", "Lucida Console", monospace'},{name:"Garamond",value:"garamond",fontFamily:"Garamond, serif"},{name:"Georgia",value:"georgia",fontFamily:'Georgia, "Times New Roman", serif'},{name:"Helvetica",value:"helvetica",fontFamily:"Helvetica, Arial, Verdana, sans-serif"},{name:"Lucida Console",value:"lucidaconsole",fontFamily:'"Lucida Console", monospace',default:!0},{name:"Tahoma",value:"tahoma",fontFamily:"Tahoma, sans-serif"},{name:"Times New Roman",value:"timesnewroman",fontFamily:'"Times New Roman", Georgia, serif'},{name:"Trebuchet",value:"trebuchet",fontFamily:'Trebuchet, "Trebuchet MS", sans-serif'},{name:"Verdana",value:"verdana",fontFamily:"Verdana, Arial, Helvetica, sans-serif"},{name:"MS Gothic",value:"msgothic",fontFamily:'"MS Gothic", monospace'},{name:"MS Mincho",value:"msmincho",fontFamily:'"MS Mincho", monospace'}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).CustomFieldsModule.constant("FontColors",[{name:"Black",value:"black",hex:"#000000",default:!0},{name:"Bright Blue",value:"brightblue",hex:"#0000C8"},{name:"Bright Red",value:"brightred",hex:"#CC0000"},{name:"Dark Red",value:"darkred",hex:"#990000"},{name:"Dark Green",value:"darkgreen",hex:"#267F00"},{name:"Gold",value:"gold",hex:"#BF9000"},{name:"Green",value:"green",hex:"#00FF00"},{name:"Navy Blue",value:"navyblue",hext:"#073763"},{name:"Purple",value:"purple",hex:"#351C75"},{name:"White",value:"white",hex:"#FFFFFF"}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i="Sample Text";n(48).CustomFieldsModule.controller("CustomFieldDetailsController",["$scope","$stateParams","$state","appUser","CustomFieldsService","FontColors","TypeOptions","ValidationTypes","FontNames","FontSizes","dsModals","lodash","$q",function(e,t,n,s,o,r,l,c,d,u,p,m,g){function h(){!function(){if(null!==e.validationType)switch(e.validationType.toLowerCase()){case"date":case"email":case"number":case"ssn":case"zip5":case"zip5dash4":e.customFieldData.type=e.validationType,e.customFieldData.validationPattern="",e.customFieldData.validationMessage="";break;case"":"text"===e.selectedType.value?(e.customFieldData.validationPattern="",e.customFieldData.validationMessage="",e.customFieldData.type="text"):e.customFieldData.type=e.selectedType.value;break;case"regex":e.customFieldData.type="text";break;default:e.customFieldData.type=e.selectedType.value}else e.customFieldData.type=e.selectedType.value}(),E(),"list"===e.customFieldData.type&&(e.customFieldData.items=[]),e.customFieldData.editable=!0,p.openModal("site/templates/loading modal.html",e,"sm",!0,!1),m.isEmpty(e.customFieldId)?(e.customFieldData.customTabId="",o.createCustomField(e.customFieldData).then(function(){v()}).finally(function(){p.closeModal()})):o.updateCustomField(e.customFieldData).then(function(){v()}).finally(function(){p.closeModal()})}function f(){o.currentCustomField.id=null,o.currentCustomField.isNew=!1,o.currentCustomField.isDeleted=!1,v()}function v(){n.go("authenticated.custom-fields")}function _(){var t=e.$new();t.confirm=b,t.contentText="Are you sure you want to delete this custom field?",t.confirmButtonText="DS_CONTEXT=(custom field) Delete",t.cancelButtonText="Cancel",p.openModal("site/templates/confirmation-modal.html",t,"sm",!1,!1)}function b(){return o.deleteCustomField(e.customFieldId).then(function(){v()})}function y(e,t){return!m.isEmpty(e)&&!m.isEmpty(t)&&m.some(t,function(t){return m.has(e,t)})}function A(){if(!m.isEmpty(e.fieldMetadata))return y(e.fieldMetadata,["font","fontSize","fontColors","bold","italic","underline","concealValueOnDocument"])}function S(){return!m.isEmpty(e.fieldMetadata)&&!m.isUndefined(e.fieldMetadata.maximumLength)}function w(){if(!m.isEmpty(e.fieldMetadata))return y(e.fieldMetadata,["includedInEmail"])||e.isAnchorSectionVisible||"list"!==e.fieldMetadata.type}function C(){if(!m.isEmpty(e.fieldMetadata))return"text"===e.fieldMetadata.type||"formula"===e.fieldMetadata.type}function P(){if(!m.isEmpty(e.fieldMetadata))return"regex"===e.validationType||"formula"===e.fieldMetadata.type}function E(){e.fontColor&&e.customFieldData&&(e.customFieldData.fontColor=m.find(e.fontColors,{value:e.fontColor.value}).value)}function T(t){t.target.checked?(e.salesforceObjectPaths=[{path:null}],e.customFieldData.mergeField={},k(0,{path:null})):(I(0,e.salesforceObjectPaths.length),e.customFieldData.mergeField=null,e.salesforceObjectPaths=[])}function M(t,n,a){var i=m.find(a,function(e){return e.path===n});if(t+1<e.salesforceObjectPaths.length){var s=e.salesforceObjectPaths.splice(t+1);I(t+1,s.length)}if(i.isValueType){var o={boolean:"checkbox",picklist:"list",datetime:"date",email:"emailAddress"};e.customFieldData.mergeField.configurationType="salesforce",e.customFieldData.mergeField.path=i.path;var r=o[i.dataType]?o[i.dataType]:"text",l=m.find(e.typeOptions,function(e){return e.value===r});e.selectedType=l||{name:"Text Field",value:"text"},D()}else e.salesforceObjectPaths.push(i),k(t+1,i)}function k(t,n){e.salesforceObjectsLoaded=o.getSalesforceObjects(n.path).then(function(n){e["salesforceObjectsDepth"+t]=m.filter(n,function(e){return"id"!==e.dataType})})}function I(t,n){m.times(n,function(n){delete e["salesforceObjectsDepth"+(t+n)],delete e["salesforceObjectSelection"+(t+n)]})}function D(){null!==e.selectedType&&o.getTabMetadata().then(function(t){e.fieldMetadata=m.find(t,function(t){return t.type.toLowerCase()===e.selectedType.value.toLowerCase()}),!m.isUndefined(e.fieldMetadata.font)&&m.isEmpty(e.customFieldData.font)&&(e.customFieldData.font=e.fontNames[1].value),!m.isUndefined(e.fieldMetadata.fontSize)&&m.isEmpty(e.customFieldData.fontSize)&&(e.customFieldData.fontSize=e.fontSizes[3].value),!m.isUndefined(e.fieldMetadata.fontColor)&&m.isEmpty(e.customFieldData.fontColor)&&(e.customFieldData.fontColor=e.fontColors[1]),m.isEmpty(e.fieldMetadata.type)||"text"===e.fieldMetadata.type||(e.validationType="")})}function N(){if(e.customFieldData){var t=e.customFieldData.fontColor.value?e.customFieldData.fontColor.value:e.customFieldData.fontColor,n=m.find(e.fontColors,{value:t}),a=m.find(e.fontSizes,{value:e.customFieldData.fontSize}),i=m.find(e.fontNames,{value:e.customFieldData.font}),s=a?a.pixel:m.find(e.fontSizes,{value:e.defaultFont.size}).pixel;return{"font-size":11*parseFloat(s)/18,color:n?n.hex:e.defaultFont.color.hex,"font-family":i?i.fontFamily:e.defaultFont.fontFamily,"font-weight":e.customFieldData.bold?"bold":"normal","font-style":e.customFieldData.italic?"italic":"","text-decoration":e.customFieldData.underline?"underline":""}}}function x(t){e.sampleText=t?i.replace(/./g,"*"):i}function O(t){e.customFieldData[t]=!e.customFieldData[t],e.customFieldDetailsForm.$setDirty()}!function(){e.sampleText=i,e.isAnchorSectionVisible=!1,e.isSharedVisible=!1,s.currentAccountInfo.settingsRetrieved.then(function(){e.isSharedVisible=s.currentAccountInfo.settings.tabAccountSettings.sharedCustomTabsEnabled,"available"===s.currentAccountInfo.settings.tabAccountSettings.tabLocationMetadata.uiHint&&(e.isAnchorSectionVisible=s.currentAccountInfo.settings.tabAccountSettings.tabLocationEnabled)}),o.isSalesforceForCustomFieldsEnabled().then(function(t){e.isSalesforceForCustomFieldsEnabled=t}),o.hasSalesforceConnectConfig().then(function(t){e.hasSalesforceConnectConfig=t}),e.addSalesforceObjectSelection=M,e.initializeSalesforceDropdowns=T,e.getSFObjects=k,e.salesforceObjectPaths=[],e.salesforceObjectSelection=null,e.typeOptions=l,e.validationTypes=c,e.fontNames=d,e.fontColors=r,e.fontSizes=u,e.crumbs=[{display:"Custom Fields List",state:"authenticated.custom-fields"},{display:"Custom Field Details"}],e.save=h,e.cancel=f,e.showConfirmDelete=_,e.updateSections=D,e.isFormatSectionVisible=A,e.isInputLimitSectionVisible=S,e.isAdvancedSectionVisible=w,e.isValidationSectionVisible=C,e.isValidationErrorVisible=P,e.selectFontColor=E,e.previewFormat=N,e.toggleFontStyle=O,e.customFieldId=t.customFieldId,e.defaultFont={size:m.find(e.fontSizes,function(e){return e.default}).value,name:m.find(e.fontNames,function(e){return e.default}).value,fontFamily:m.find(e.fontNames,function(e){return e.default}).fontFamily,color:m.find(e.fontColors,function(e){return e.default})},function(){var t;t=[],o.getTabMetadata().then(function(n){a.forEach(n,function(n){var a;a=m.find(e.typeOptions,function(e){return e.value.toLowerCase()===n.type.toLowerCase()}),m.isEmpty(a)||t.push(a)}),e.typeOptions=m.sortBy(t,function(e){return e.name})})}(),e.customFieldData={font:e.defaultFont.name,fontSize:e.defaultFont.size,fontColor:e.defaultFont.color,type:m.find(e.typeOptions,{value:"text"}).value},e.selectedType=m.find(e.typeOptions,function(t){return t.value.toLowerCase()===e.customFieldData.type.toLowerCase()}),e.validationType=null,e.fontColor=e.customFieldData.fontColor,e.fieldMetadata=null,m.isEmpty(e.customFieldId)?D():o.getCustomField(e.customFieldId).then(function(t){if(e.customFieldData=t,e.customFieldData.width=0,e.customFieldData.height=0,e.customFieldData.mergeField&&!e.hasSalesforceConnectConfig&&(e.customFieldData.mergeField=null),e.customFieldData.mergeField){e.isSalesforceField=!0,e.salesforceObjectPaths.push({path:null});var n=e.customFieldData.mergeField.path,i=n.substring(0,n.lastIndexOf(".")).split(".");m.each(i,function(t,n){var a=i.slice(0,n+1).join(".");e.salesforceObjectPaths.push({path:a}),e["salesforceObjectSelection"+n]=a}),e["salesforceObjectSelection"+(e.salesforceObjectPaths.length-1)]=e.customFieldData.mergeField.path;var s=[];m.each(e.salesforceObjectPaths,function(e){s.push(o.getSalesforceObjects(e.path))}),e.salesforceObjectsLoaded=g.all(s).then(function(t){m.each(t,function(t,n){e["salesforceObjectsDepth"+n]=t})})}!function(){(m.isUndefined(e.customFieldData.font)||"default"===e.customFieldData.font)&&(e.customFieldData.font=e.defaultFont.name);(m.isUndefined(e.customFieldData.fontSize)||"default"===e.customFieldData.fontSize)&&(e.customFieldData.fontSize=e.defaultFont.size);(m.isUndefined(e.customFieldData.fontColor)||"default"===e.customFieldData.fontColor)&&(e.customFieldData.fontColor=e.defaultFont.color.value)}(),function(){if(m.isEmpty(e.customFieldData.validationPattern))switch(e.customFieldData.type.toLowerCase()){case"date":case"email":case"number":case"ssn":case"zip5":case"zip5dash4":e.validationType=e.customFieldData.type,e.customFieldData.type="text";break;case"text":e.validationType="";break;default:e.validationType=null}else e.validationType="regex",e.customFieldData.type="text"}(),e.selectedType=m.find(e.typeOptions,function(t){return t.value.toLowerCase()===e.customFieldData.type.toLowerCase()}),function(){if(null!==e.customFieldData.fontColor)a.forEach(e.fontColors,function(t){m.isUndefined(e.customFieldData.fontColor)||e.customFieldData.fontColor.toLowerCase()!==t.value.toLowerCase()||(e.fontColor=t)})}(),"list"===e.customFieldData.type&&(e.customFieldData.name=e.customFieldData.items.join(";")),D()});e.$watch("customFieldData.concealValueOnDocument",x)}()}])},function(e,t){var n="custom-fields/custom-field-detail.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="CustomFieldDetailsController" ds-form>\n  <div ng-if="crumbs" ng-include="\'site/templates/crumbs.html\'"></div>\n  <form name="customFieldDetailsForm">\n    <div class="section-header">\n      <h1 class="header-title" translate="Document Custom Field Details"></h1>\n\n      <div class="header-actions">\n        <div class="btn-row">\n          <span class="action-btns" ds-ackbar="customFieldDetailsForm" ds-ackbar-save="save()"\n                ds-ackbar-cancel="cancel()"></span>\n            <button class="btn btn-secondary" ng-hide="customFieldId == \'\'"\n                    data-qa="custom_field_detail_delete_btn_top"\n                    ng-click="showConfirmDelete()" translate="DS_CONTEXT=(custom field) Delete"></button>\n        </div>\n      </div>\n    </div>\n    <div class="property-section section">\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="form-group">\n            <label class="label" for="tabName" translate="Name"></label>\n            <input type="text" class="input-text" id="tabName" ds-valid required maxlength="512"\n                   data-qa="custom_field_detail_name_txb"\n                   ng-model="customFieldData.tabLabel">\n          </div>\n\n          <div ng-if=\'isSalesforceForCustomFieldsEnabled\'>\n            <div class="form-group conditional-group cb">\n              <div class="inline-input cb">\n                <input id="custom-fields-salesforce" type="checkbox" class="cb_input"\n                     ng-disabled=\'!hasSalesforceConnectConfig\' ng-click=\'initializeSalesforceDropdowns($event)\'\n                     data-qa="custom_field_detail_relate_to_salesforce_cb"\n                     ng-model=\'isSalesforceField\'>\n                <label class="cb_label" for="custom-fields-salesforce"\n                       data-qa="custom_field_detail_relate_to_salesforce_cb_lbl"\n                       translate="Relate to Salesforce"></label>\n\n                <div class=\'related-input conditional-hide\'>\n                  <div class=\'form-group\' ng-repeat=\'reference in salesforceObjectPaths\'>\n                    <div class=\'select-wrap\' ng-if="$parent[\'salesforceObjectsDepth\' + $index] !== undefined">\n                      <select ng-model="$parent[\'salesforceObjectSelection\' + $index]"\n                              ng-change="addSalesforceObjectSelection($index, $parent[\'salesforceObjectSelection\' + $index], $parent[\'salesforceObjectsDepth\' + $index])"\n                              ng-options="item.path as item.displayName for item in $parent[\'salesforceObjectsDepth\' + $parent.$index]"\n                              ds-valid required>\n                        <option value="" translate=\'- Select -\'></option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div class="text-center grid" ds-loading="salesforceObjectsLoaded"\n                    ds-loading-error="{{\'Oops! We had trouble loading your Salesforce objects. Go ahead and try that again.\' | translate}}">\n                  </div>\n\n                  <div class=\'inline-input cb\'>\n                    <input id=\'custom-fields-salesforce-writeback\' class=\'cb_input\' type=\'checkbox\'\n                      ng-model=\'customFieldData.mergeField.writeBack\' />\n                    <label class=\'cb_label\' for=\'custom-fields-salesforce-writeback\' translate>Writeback</label>\n                  </div>\n\n                  <div class=\'inline-input cb\'>\n                    <input id=\'custom-fields-salesforce-allow-edit\' class=\'cb_input\' type=\'checkbox\'\n                      ng-model=\'customFieldData.mergeField.allowSenderToEdit\' />\n                    <label class=\'cb_label\' for=\'custom-fields-salesforce-allow-edit\' translate>\n                      Allow Sender to Edit\n                    </label>\n                  </div>\n                </div>\n              </div>\n\n              <p ng-show=\'!hasSalesforceConnectConfig\'\n                 translate="First, create a [[linkStart]]Salesforce connect configuration[[linkEnd]] then return here."\n                 translate-values="{linkStart:\'<a href=\\\'/connect\\\'>\', linkEnd:\'</a>\'}"\n                 translate-interpolation=\'bracket\'>\n              </p>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="selectedType" translate="Type"></label>\n            <div class="select-wrap">\n              <select id="selectedType" ng-change="updateSections()" ng-model="selectedType"\n                      data-qa="custom_field_detail_type_option"\n                      ng-options="type.name | translate for type in typeOptions track by type.value"></select>\n            </div>\n          </div>\n          <div class="form-group" ng-show="fieldMetadata && fieldMetadata.items !== undefined">\n            <label class="label" for="listOptions" translate="Options"></label>\n            <textarea class="input-textarea" id="listOptions" ng-model="customFieldData.name"\n                      data-qa="custom_field_detail_options_txa"></textarea>\n          </div>\n          <div class="form-group" ng-show="fieldMetadata && fieldMetadata.initialValue !== undefined">\n            <label class="label" for="tabInitialValue" translate="Initial Value"></label>\n            <input type="text" class="input-text" id="tabInitialValue" ng-model="customFieldData.initialValue"\n                   data-qa="custom_field_detail_initial_value_txb">\n          </div>\n          <div class="inline-input cb" ng-show="fieldMetadata && fieldMetadata.required !== undefined">\n            <input type="checkbox" class="cb_input" id="cb-required" ng-model="customFieldData.required"\n                   data-qa="custom_field_detail_required_field_cb">\n            <label class="cb_label" for="cb-required"\n                   data-qa="custom_field_detail_required_field_cb_lbl"\n                   translate="Required field"></label>\n          </div>\n          <div class="inline-input cb" ng-show="fieldMetadata && fieldMetadata.locked !== undefined">\n            <input type="checkbox" class="cb_input" id="cb-locked" ng-model="customFieldData.locked"\n                   data-qa="custom_field_detail_read_only_cb">\n            <label class="cb_label" for="cb-locked" data-qa="custom_field_detail_read_only_cb_lbl"\n                   translate="Read only"></label>\n          </div>\n          <div class="inline-input cb" ng-if="isSharedVisible">\n            <input type="checkbox" class="cb_input" id="cb-shared" ng-model="customFieldData.shared"\n                   data-qa="custom_field_detail_shared_cb">\n            <label class="cb_label" for="cb-shared" data-qa="custom_field_detail_shared_cb_lbl"\n                   translate="Shared"></label>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="formatting-section section" ng-show="isFormatSectionVisible()">\n      <h2 class="header-title" translate="Formatting"></h2>\n\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="grid">\n            <div class="form-group">\n              <div class="font-name col-1-2">\n                <label class="label" translate="Font" for="font-family"></label>\n                <div class="select-wrap">\n                  <select ng-model="customFieldData.font" id="font-family"\n                          data-qa="custom_field_detail_font_name_option"\n                          ng-options="font.value as font.name | translate for font in fontNames"></select>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="grid">\n            <div class="form-group">\n              <div class="col-1-2 font-color">\n                <label class="label" translate="Font Color"></label>\n                <div class="icon" ng-style="{\'background-color\':fontColor.hex}"></div>\n                <div class="select-wrap">\n                  <select ng-model="fontColor" ng-change="selectFontColor()"\n                          data-qa="custom_field_detail_font_color_option"\n                          ng-options="fontColor as fontColor.name | translate for fontColor in fontColors"></select>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="grid">\n            <div class="form-group">\n              <div class="font-size col-1-2">\n                <label class="label" translate="Font Size" for="font-size"></label>\n                <div class="select-wrap">\n                  <select ng-model="customFieldData.fontSize" id="font-size"\n                          data-qa="custom_field_detail_font_size_option"\n                          ng-options="fontSize.value as fontSize.name | translate for fontSize in fontSizes"></select>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="grid form-group">\n            <div class="inline-input">\n              <div class="col-1-3 group">\n                <div class="btn-group">\n                  <button class="btn btn-secondary btn-icon"\n                          type="button"\n                          ng-click="toggleFontStyle(\'bold\')"\n                          data-qa="custom_field_detail_font_type_bold_btn"\n                          ng-class="{true: \'btn-active\'}[customFieldData.bold]">\n                    <span class="icon icon-text-bold"></span>\n                  </button>\n\n                  <button class="btn btn-secondary btn-icon"\n                          type="button"\n                          ng-click="toggleFontStyle(\'italic\')"\n                          data-qa="custom_field_detail_font_type_italic_btn"\n                          ng-class="{true: \'btn-active\'}[customFieldData.italic]">\n                    <span class="icon icon-text-italic"></span>\n                  </button>\n\n                  <button class="btn btn-secondary btn-icon"\n                          type="button"\n                          ng-click="toggleFontStyle(\'underline\')"\n                          data-qa="custom_field_detail_font_type_underline_btn"\n                          ng-class="{true: \'btn-active\'}[customFieldData.underline]">\n                    <span class="icon icon-text-underline"></span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="grid form-group">\n            <label class="label" translate="Preview"></label>\n            <div class="font-preview" data-qa="custom_field_detail_font_preview_div">\n              <div ng-style="previewFormat()" translate="{{ sampleText }}"></div>\n            </div>\n          </div>\n          <div class="grid form-group">\n            <div class="inline-input cb" ng-show="fieldMetadata && fieldMetadata.concealValueOnDocument !== undefined">\n              <input type="checkbox" class="cb_input" id="cb-inputMask"\n                     ng-model="customFieldData.concealValueOnDocument"\n                     data-qa="custom_field_detail_font_hide_text_with_asterisks_cb">\n              <label class="cb_label" for="cb-inputMask"\n                     data-qa="custom_field_detail_font_hide_text_with_asterisks_cb_lbl"\n                     translate="Hide text with asterisks"></label>\n            </div>\n            <div class="inline-input cb" ng-show="fieldMetadata && fieldMetadata.disableAutoSize !== undefined">\n              <input type="checkbox" class="cb_input" id="cb-fixedSize" ng-model="customFieldData.disableAutoSize"\n                     data-qa="custom_field_detail_font_fixed_size_cb">\n              <label class="cb_label" for="cb-fixedSize"\n                     data-qa="custom_field_detail_font_fixed_size_cb_lbl" translate="Fixed size"></label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="input-limit-section section" ng-show="isInputLimitSectionVisible()">\n      <h2 class="header-title" translate="Input Limit"></h2>\n\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="form-group">\n            <label class="label" for="tabMaxChar" translate="Max Characters"></label>\n            <input type="text" class="input-text input-number" id="tabMaxChar" ds-valid="integer" ds-valid-min="0"\n                   data-qa="custom_field_detail_input_limit_max_characters_txb"\n                   ng-model="customFieldData.maximumLength">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="validation-section section" ng-show="isValidationSectionVisible()">\n      <h2 class="header-title" translate="Validation"></h2>\n\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="form-group" ng-show="fieldMetadata.type === \'text\'">\n            <label class="label" for="validationType" translate="Type"></label>\n            <div class="select-wrap">\n              <select id="validationType" ng-model="validationType"\n                      data-qa="custom_field_detail_validation_option"\n                      ng-options="type.value as type.name | translate for type in validationTypes">\n                <option value="" translate="No Validation"></option>\n              </select>\n            </div>\n          </div>\n          <div class="form-group" ng-show="validationType === \'regex\'">\n            <div class="regexPattern-section">\n              <label class="label" for="customFieldData.validationPattern" translate="RegEx Pattern"></label>\n              <input type="text" class="input-text" id="customFieldData.validationPattern"\n                ng-model="customFieldData.validationPattern"\n                data-qa="custom_field_detail_validation_pattern_txb"/>\n            </div>\n          </div>\n          <div class="form-group" ng-show="isValidationErrorVisible()">\n            <label class="label" for="customFieldData.validationMessage" translate="Error Message"></label>\n            <input type="text" class="input-text" id="customFieldData.validationMessage"\n                   ng-model="customFieldData.validationMessage"\n                   data-qa="custom_field_detail_validation_message_txb"/>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="advanced-section section" ng-show="isAdvancedSectionVisible()">\n      <h2 class="header-title" translate="Advanced"></h2>\n\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="form-group" ng-hide="fieldMetadata && fieldMetadata.type == \'list\'">\n            <label class="label" for="customFieldData.name" translate="Tooltip"></label>\n\n            <input type="text" class="input-text" id="customFieldData.name" ng-model="customFieldData.name"\n                   data-qa="custom_field_detail_advanced_tooltip_txb"/>\n          </div>\n          <div class="form-group cb" ng-show="fieldMetadata && fieldMetadata.includedInEmail !== undefined">\n            <input type="checkbox" class="cb_input" id="cb-includedInEmail"\n                   ng-model="customFieldData.includedInEmail"\n                   data-qa="custom_field_detail_advanced_included_in_email_cb">\n            <label class="cb_label" for="cb-includedInEmail"\n                   data-qa="custom_field_detail_advanced_included_in_email_cb_lbl"\n                   translate="Include in email"></label>\n          </div>\n          <div class="form-group" ng-if="isAnchorSectionVisible">\n            <label class="label" for="customFieldData.anchor" translate="AutoPlace Text"></label>\n            <input type="text" class="input-text" id="customFieldData.anchor" ng-model="customFieldData.anchor"\n                   data-qa="custom_field_detail_advanced_autoplace_text"/>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="section-footer">\n      <div class="btn-row">\n        <span class="action-btns" ds-ackbar="customFieldDetailsForm" ds-ackbar-save="save()" ds-ackbar-cancel="cancel()">\n        </span>\n        <button class="btn btn-secondary" ng-hide="customFieldId == \'\'"\n                data-qa="custom_field_detail_delete_btn_bot"\n                ng-click="showConfirmDelete()" translate="DS_CONTEXT=(custom field) Delete"></button>\n      </div>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t){var n="custody-transfer/transfer-select-user.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="section" ds-form>\n  <div class="modal_utilityHeader">\n    <label ng-if="transferFromOrganizationAccountId" class="label" translate="Select User"></label>\n    <h2 ng-if="!transferFromOrganizationAccountId" translate="Select User"></h2>\n  </div>\n  <div class="section">\n    <div class="input_wrapper searchable" ng-if="!transferFromOrganizationAccountId">\n      <div class="select-wrap">\n        <select class="input-select"\n                ng-model="transferNow.selectedSearchType"\n                data-qa="transfer_select_user_option"\n                ng-options="opt.value as opt.label | translate for opt in transferNow.searchTypes"></select>\n      </div>\n      <div class="form_item form_item-iconLeft form_item-iconRight">\n        <span class="icon icon-search"></span>\n        <input type="text"\n               class="input input-text search"\n               ng-model="transferNow.pendingPhrase"\n               maxlength="100"\n               data-qa="transfer_select_user_search_txt"\n               ng-keypress="transferNow.submitToUserSearchPhrase($event)"\n               translate\n               translate-attr-placeholder="Search" />\n        <button type="button"\n                class="button-icon"\n                ng-if="transferNow.searchPhrase.length > 0">\n          <span class="icon icon-circle-x"\n                ng-click="transferNow.clearUsersSearch()">\n          </span>\n        </button>\n      </div>\n    </div>\n    <div class="form_unit" ng-if="transferFromOrganizationAccountId">\n      <form class="form_group form_group-unified" name="transferNow.searchUserForm">\n        <div class="form_item-iconLeft form_item-iconRight"\n             ng-class="{\'form_unit-hasError\': transferNow.errorMessage.length > 0}">\n          <span class="icon icon-search"></span>\n          <input ng-model="transferNow.pendingPhrase" class="input-text input-lg" name="searchInput" id="field11"\n                 translate translate-attr-placeholder="Enter a full email address" ds-valid="function"\n                 ds-valid-function="transferNow.isValidEmail()" aria-describedby="textInput-error-description"\n                 ng-keypress="transferNow.searchOrganizationUserByEnterKey($event)"\n                 data-qa="organization_transfer_envelope_select_user_search_input" />\n          <button type="button" class="button-icon" ng-if="transferNow.searchPhrase.length > 0"\n                  ng-click="transferNow.clearUsersSearch()" data-qa="organization_transfer_envelope_select_user_search_reset_button">\n            <span class="icon icon-circle-x"></span>\n          </button>\n        </div>\n        <button class="btn btn-primary" ng-disabled="transferNow.isSearching" ng-class="{\'btn-loading\': transferNow.isSearching}"\n                ng-click="transferNow.searchOrganizationUser()"\n                data-qa="organization_transfer_envelope_select_user_search_button">\n          <span ng-if="transferNow.isSearching" translate="Searching"></span>\n          <span ng-if="!transferNow.isSearching" translate="Search"></span>\n        </button>\n      </form>\n      <div>\n        <p class="helper-text error-msg" ng-if="transferNow.errorMessage.length > 0" id="textInput-error-description">\n          {{ transferNow.errorMessage }}</p>\n      </div>\n    </div>\n    <div class="multi-select">\n      <div class="grid pad">\n        <div class="inline-input label"\n             data-qa="transfer_select_user_search_result_info_div">\n          <span translate="{{ transferNow.userCountText() }}"></span>\n          <span ng-show="transferNow.searchPhrase.length">&nbsp;|&nbsp;&nbsp;\n            <a ng-click="transferNow.clearUsersSearch()"\n               translate="Clear search results"\n               data-qa="transfer_select_user_clear_research_link"></a>\n          </span>\n        </div>\n        <table class="table"\n               olive-table-select="tblSelectMultiple">\n          <tbody>\n            <tr class="table_row-clickable disabled"\n                ng-repeat="user in transferNow.list">\n              <td class="table_cell-checkbox">\n                <span class="cb cb-noText">\n                  <input class="cb_input"\n                         type="checkbox"\n                         id="to-select-{{ user.id }}"\n                         ng-disabled="transferNow.disableOthers(user.id)"\n                         ng-click="transferNow.toUserSelected(user)"\n                         data-qa="transfer_select_user_to_user_cb" />\n                  <label class="cb_label"\n                         for="to-select-{{ user.id }}"\n                         data-qa="transfer_select_user_to_user_cb_lbl"></label>\n                </span>\n              </td>\n              <td>\n                <span ng-attr-title="{{ user.name }}" class="u-ellipsis">{{ user.name }}</span>\n              </td>\n              <td>\n                <span ng-attr-title="{{ user.email }}" class="u-ellipsis">{{ user.email }}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="custody-transfer/transfer-now.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="TransferNowController as transferNow" class="custody-transfer">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" data-qa="transfer_now_header">{{ transferNow.title }}</h1>\n    <div class="modal_description" ng-switch="transferNow.transferTypeName"\n         ng-if="transferNow.isUpload && !transferFromOrganizationAccountId">\n      <div ng-switch-when="Template" data-qa="transfer_now_message_div"\n           translate="Upload a CSV file with template IDs to transfer, select the user the templates are transferred to, and select TRANSFER. Use the search box to quickly locate the user by name or email address."></div>\n      <div ng-switch-default data-qa="transfer_now_message_div"\n           translate="Upload a CSV file with envelope IDs to transfer, select the user the envelopes are transferred to, and select TRANSFER. Use the search box to quickly locate the user by name or email address."></div>\n    </div>\n    <div class="modal_description" ng-if="transferFromOrganizationAccountId">\n      <span data-qa="transfer_now_message_div"\n            ng-if="transferNow.isUpload"\n            translate="Upload a CSV file with envelope IDs to transfer."></span>\n      <span translate="Select the target account and the user to transfer the envelopes to, and click TRANSFER."></span>\n    </div>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="section" ng-if="transferNow.isUpload">\n      <div class="modal_utilityHeader">\n        <h2 translate="Upload CSV"></h2>\n      </div>\n      <div class="section">\n        <div class="select-file">\n          <p data-qa="transfer_now_confirm_data_message"\n             translate="Verify the file data is correct before submitting. You will not be able to undo this action."></p>\n          <p\n            translate="For more information on correct .csv file formatting view a [[linkStart]]sample file[[linkEnd]] or [[helpLinkStart]]visit the Support Center[[helpLinkEnd]]."\n            translate-interpolation="bracket" translate-compile translate-values="{\n              linkStart: \'<a download type=\\\'text/csv\\\' ng-href=\\\'{{ transferNow.sampleFileLink() }}\\\' target=\\\'_blank\\\'>\',\n              linkEnd: \'</a>\',\n              helpLinkStart: \'<a href=\\\'https://support.docusign.com/guides/ndse-admin-guide-transfer-envelopes-templates\\\' target=\\\'_blank\\\'>\',\n              helpLinkEnd: \'</a>\'\n            }"></p>\n\n          <div class="upload-action" ng-show="!transferNow.base64File.filename">\n            <label for="uploadEnvelopes1" class="btn btn-secondary upload-button" data-qa="transfer_now_add_csv_btn"\n                   translate="{{transferNow.selectFileAction}}"></label>\n            <input id="uploadEnvelopes1" type="file" ng-model="transferNow.base64File" base-sixty-four-input\n                   accept=".csv" class="oldBrowserCompatibleHiddenFileInput">\n          </div>\n          <div ng-show="transferNow.base64File.filename" class="fgrid-panels upload-action">\n            <div class="form_unit">\n              <div class="form_group form_group-unified uploaded">\n                <div class="form_item">\n                  <input type="text" class="input-text" id="selectedFile" disabled="disabled"\n                         ng-model="transferNow.base64File.displayingFilename">\n                </div>\n                <label for="uploadEnvelopes2" class="btn btn-secondary btn-file u-nowrap"\n                       data-qa="transfer_now_add_csv_btn">\n                  <span translate="{{transferNow.selectFileAction}}"></span>\n                  <input id="uploadEnvelopes2" type="file" accept=".csv" ng-model="transferNow.base64File"\n                         base-sixty-four-input class="oldBrowserCompatibleHiddenFileInput">\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="section" ng-if="transferFromOrganizationAccountId">\n      <div class="form_unit">\n        <label class="label" for="targetAccount" translate="Select Target Account" label-required="*"></label>\n        <div class="form_group">\n        <span class="form_item">\n            <div class="select-wrap">\n              <select ng-model="transferNow.selectedTargetOrganizationAccount" id="targetAccount"\n                      ng-options="account as account.account_name for account in transferNow.organizationAccounts | orderBy:\'account_name\'"\n                      required ng-change="transferNow.clearUsersSearch()">\n                <option translate="Select Account"></option>\n              </select>\n            </div>\n        </span>\n        </div>\n      </div>\n    </div>\n    <div ds-loading="transferNow.loading" ds-loading-succeeded="successfullyLoaded"\n         ds-loading-error="{{\'We had trouble loading your users. Go ahead and try that again.\' | translate}}"></div>\n    <div\n      ng-if="(transferFromOrganizationAccountId.length && transferNow.selectedTargetOrganizationAccount) || !transferNow.transferInOrganization"\n      ng-include="\'custody-transfer/transfer-select-user.html\'" include-replace></div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ng-disabled="!transferNow.validated()" data-qa="transfer_now_transfer_btn"\n            translate="Transfer" ng-click="transferNow.confirmTransfer()"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape data-qa="transfer_now_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(73),i=function(){function e(e,t,n){this.api=e,this.appUser=t,this._=n}return e.prototype.transfer=function(e,t){this._.isEmpty(e)&&(e=this.appUser.getCurrentAccountId());var n=this.api.endpoint().accounts(e).envelopes().transfer().uri();return this.api.post(n,t)},e.prototype.getEnvelopeTransferStatus=function(e,t){this._.isEmpty(e)&&(e=this.appUser.getCurrentAccountId());var n=this.api.endpoint().accounts(e).envelopes().transfer().uri(t);return this.api.get(n)},e.prototype.getTemplateTransferStatus=function(e){var t=this._.cloneDeep(e);t.template_transfer=!0;var n=this.api.endpoint().accounts(this.appUser.getCurrentAccountId()).envelopes().transfer().uri(t);return this.api.get(n)},e.prototype.getTransferStatusById=function(e,t){this._.isEmpty(e)&&(e=this.appUser.getCurrentAccountId());var n=this.api.endpoint().accounts(e).envelopes().transfer(t).uri();return this.api.get(n)},e}();a.CustodyTransferModule.service("TransferNowService",["dsApiClient","appUser","lodash",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(0),s=n(73),o=n(83),r=n(82),l="Name",c="Email",d="Transfer Using CSV",u="Transfer Now",p="Upload .CSV File",m="Change .CSV File",g=/The maximum number of envelopes is (\d+)\.$/i,h="Are you sure that you want to transfer {{numberOfEnvelopes}} template to {{userName}}?",f="Are you sure that you want to transfer {{numberOfEnvelopes}} templates to {{userName}}?",v="Are you sure that you want to transfer {{numberOfEnvelopes}} envelope to {{userName}}?",_="Are you sure that you want to transfer {{numberOfEnvelopes}} envelopes to {{userName}}?",b="active";!function(e){e[e.Name=0]="Name",e[e.Email=1]="Email"}(a||(a={}));var y=10,A="Transfer envelope from {{filename}} to user: {{username}}",S="Transfer envelopes from {{filename}} to user: {{username}}",w="Transfer template from {{filename}} to user: {{username}}",C="Transfer templates from {{filename}} to user: {{username}}",P="Transfer envelope to user: {{username}}",E="Transfer envelopes to user: {{username}}",T="Transfer template to user: {{username}}",M="Transfer templates to user: {{username}}",k="Envelope",I="Template",D="Transfer envelope from {{filename}} to user: {{username}} on account: {{accountName}}",N="Transfer envelopes from {{filename}} to user: {{username}} on account: {{accountName}}",x="Transfer envelope to user: {{username}} on account: {{accountName}}",O="Transfer envelopes to user: {{username}} on account: {{accountName}}",U=function(){function e(e,t,n,i,s,o,r,g,h){var f=this;this._$scope=e,this._$state=t,this._$translate=n,this._oliveModal=i,this._=s,this._userService=o,this._transferNowService=r,this._organizationService=g,this._dsUtilities=h,this.searchPhrase="",this.pendingPhrase="",this.selectedSearchType=a.Name,this.list=[],this.userSearchOptions={include_groups:!1,status:b,count:y,start_position:0},this.searchTypes=[{label:l,value:a.Name},{label:c,value:a.Email}],this.selectFileAction=p,this.totalUserCount=0,this.transferTypeName="",this.sampleFilename="",this.errorMessage="",this.isSearching=!1,this.transferInOrganization=!1,this._.isEmpty(this._$scope.transferFromOrganizationAccountId)?this._getUsers():(this.transferInOrganization=!0,this._getSameSiteOrganizationAccounts().then(function(e){f.organizationAccounts=e})),this._$scope.isUpload?(this.title=this._$translate.instant(d),this.isUpload=!0):this.title=this._$translate.instant(u),this._$scope.$watch("transferNow.base64File",function(e,t){e!==t&&(f.selectFileAction=m,f.base64File.displayingFilename=f.base64File.filename,f.base64File.filename=f._asciiFilename(f.base64File.filename),f.base64File.filename!==f.base64File.displayingFilename&&(f.base64File.displayingFilename=f.base64File.displayingFilename+"("+f.base64File.filename+")"))}),"template"===this._$scope.transferType?(this.sampleFilename="upload-example-template.csv",this.transferTypeName=I):(this.sampleFilename="upload-example.csv",this.transferTypeName=k)}return e.prototype.submitToUserSearchPhrase=function(e){e&&13===e.keyCode&&this._searchAccountUser()},e.prototype.clearUsersSearch=function(){this.pendingPhrase="",this.searchPhrase="",this.errorMessage="",this._searchUser()},e.prototype.toUserSelected=function(e){this.selectedUser===e?this.selectedUser=null:this.selectedUser=e},e.prototype.disableOthers=function(e){return!this._.isEmpty(this.selectedUser)&&this.selectedUser.id!==e},e.prototype.confirmTransfer=function(){if(this.isUpload)this._$scope.confirmationMessage=this._getConfirmationMessage(),this._oliveModal.openModal({scope:this._$scope,templateUrl:"custody-transfer/transfer-from-csv-confirm.html",showClose:!1,size:"md",onComplete:this._transferNow.bind(this)});else{var e={title:this._$translate.instant("Confirm {{type}} Transfer",{type:this._$translate.instant("template"===this._$scope.transferType?I:k)}),text:this._$translate.instant(function(){return"template"===this._$scope.transferType?this._$scope.envelopeList&&1===this._$scope.envelopeList.length?h:f:this._$scope.envelopeList&&1===this._$scope.envelopeList.length?v:_}.call(this),{numberOfEnvelopes:this._$scope.envelopeList.length,userName:this.selectedUser.name}),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Back"),completeFunction:this._transferNow.bind(this)};this._oliveModal.confirmationModal(e)}},e.prototype.validated=function(){var e=!this._.isEmpty(this.selectedUser);return this.isUpload?!this._.isEmpty(this.base64File)&&e:e},e.prototype.userCountText=function(){var e="";return e=0===this.list.length?"Showing 0 users":this.searchPhrase?1===this.totalUserCount?"Showing {{result}} of {{totalCount}} user for search query '{{searchPhrase}}'":"Showing {{result}} of {{totalCount}} users for search query '{{searchPhrase}}'":1===this.totalUserCount?"Showing {{result}} of {{totalCount}} user":"Showing {{result}} of {{totalCount}} users",this._$translate.instant(e,{result:this.list.length,totalCount:this.totalUserCount,searchPhrase:this.searchPhrase})},e.prototype.sampleFileLink=function(){return"/static-resources/"+this.sampleFilename},e.prototype.isValidEmail=function(){this.searchPhrase=this.pendingPhrase;var e=this._dsUtilities.isValidEmail(this.searchPhrase);return e||(this.errorMessage=this._$translate.instant("Enter a valid email address.")),e},e.prototype.searchOrganizationUserByEnterKey=function(e){e&&13!==e.keyCode||this.searchOrganizationUser()},e.prototype.searchOrganizationUser=function(){var e=this;this.errorMessage="",this.list=[],this.isValidEmail()&&(this.isSearching=!0,this._organizationService.getUserDetail(this._$scope.organizationId,this.searchPhrase).then(function(t){if(e._.isEmpty(t.users))e.errorMessage=e._$translate.instant("No users found based on your search: {{search}}.",{search:e.searchPhrase});else{var n=e._.filter(t.users,function(e){if(e.memberships.length)return void 0!==this._.find(e.memberships,{membership_status:"active",account_id:this.selectedTargetOrganizationAccount.account_id});return!1}.bind(e));n.length>0?(e.list=e._.map(n,e._toUserViewModelByMembership),e.totalUserCount=t.users.length):e.errorMessage=e._$translate.instant("No users found based on your search: {{search}}.",{search:e.searchPhrase})}},function(t){e.errorMessage=e._$translate.instant("No users found based on your search: {{search}}.",{search:e.searchPhrase})}).finally(function(){e.isSearching=!1}))},e.prototype._toUserViewModel=function(e){return{email:e.email,name:e.user_name,id:e.user_id}},e.prototype._toUserViewModelByMembership=function(e){if(e.memberships.length>0)return{email:e.memberships[0].email,name:e.user_name,id:e.id}},e.prototype._transferNow=function(){var e,t=this;this._oliveModal.getTopModal().removeMessage("upload-error"),this._oliveModal.getTopModal().preventClose();var n="template"===this._$scope.transferType?"3":"1",a=function(){var e="";e=this.isUpload?"template"===this._$scope.transferType?this._$scope.envelopeList&&1===this._$scope.envelopeList.length?w:C:this.transferInOrganization?this._$scope.envelopeList&&1===this._$scope.envelopeList.length?D:N:this._$scope.envelopeList&&1===this._$scope.envelopeList.length?A:S:"template"===this._$scope.transferType?this._$scope.envelopeList&&1===this._$scope.envelopeList.length?T:M:this.transferInOrganization?this._$scope.envelopeList&&1===this._$scope.envelopeList.length?x:O:this._$scope.envelopeList&&1===this._$scope.envelopeList.length?P:E;return this._$translate.instant(e,{filename:this.base64File?this.base64File.filename:"",username:this.selectedUser.name,accountName:this.selectedTargetOrganizationAccount?this.selectedTargetOrganizationAccount.account_name:""})}.call(this);e=this.isUpload?{carbonCopyOriginalOwner:!1,envelopeIdsBase64:this.base64File.base64,toUserId:this.selectedUser.id,envelopeBulkTransferTypeId:n,transactionName:a}:{carbonCopyOriginalOwner:!1,envelopeIds:this._$scope.envelopeList,toUserId:this.selectedUser.id,envelopeBulkTransferTypeId:n,transactionName:a},this.transferInOrganization&&(e.toAccountId=this.selectedTargetOrganizationAccount.account_id),this._transferNowService.transfer(this._$scope.transferFromOrganizationAccountId,e).then(function(){if(t._oliveModal.getTopModal().close(),t.transferInOrganization)t._$state.go("authenticated.organization-envelope-transfer-logs",{organization_id:t._organizationService.currentOrg.id,account_id:t._$scope.transferFromOrganizationAccountId,bulkType:"organization"});else{var e="template"===t._$scope.transferType?o.TEMPLATES_TRANSFER_NOW:r.ENVELOPES_TRANSFER_NOW;t._$state.go("authenticated.bulk-actions",{bulkType:e})}}).catch(function(e){if(!t._.isEmpty(e.data.errorCode)){var n=t._errorMessage(e.data);t._.isEmpty(n)||t._oliveModal.getTopModal().addMessage(n,"transferNowError","error",{allowUnsafeHtml:!1})}}).finally(function(){t._oliveModal.getTopModal().allowClose()})},e.prototype._getOrganizationAccountUsers=function(){var e=this;if(this.list=[],this.selectedTargetOrganizationAccount){var t={account_id:this.selectedTargetOrganizationAccount.account_id,start:0,take:10,membership_status:"active",user_status:"active"};this.loading=this._organizationService.getOrganizationUsers(this._organizationService.currentOrg.id,t).then(function(t){e.list=e._.map(t.users,e._toUserViewModel),e.totalUserCount=t.paging.total_set_size})}},e.prototype._searchAccountUser=function(){return this.selectedSearchType===a.Name?(this.userSearchOptions.user_name_substring=this.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"email_substring")):(this.userSearchOptions.email_substring=this.pendingPhrase,this.userSearchOptions=this._.omit(this.userSearchOptions,"user_name_substring")),this.searchPhrase=this.pendingPhrase,this._oliveModal.getTopModal().clearMessages(),this._getUsers()},e.prototype._searchUser=function(){this.selectedUser=null,this.transferInOrganization?this._getOrganizationAccountUsers():this._searchAccountUser()},e.prototype._getUsers=function(){var e=this;return this.list=[],this._userService.getPage(this.userSearchOptions).then(function(t){e.list=t.users,e.totalUserCount=t.page.totalSetSize,e._.isEmpty(e.pendingPhrase)||(e.searchPhrase=e.pendingPhrase)},function(t){"USER_NOT_FOUND"===t.data.errorCode&&e._oliveModal.getTopModal().addMessage(e._$translate.instant("No users found based on your search: {{search}}.",{search:e.searchPhrase}),"userSearchNotFound","error",{allowUnsafeHtml:!1})})},e.prototype._asciiFilename=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e)?i(Date.now()).format("HH_mm")+".csv":e},e.prototype._errorMessage=function(e){var t=e&&e.errorCode&&e.errorCode.toUpperCase(),n=e&&e.message||"";switch(t){case"TEMPLATE_TRANSFER_TRANSACTIONS_PENDING":return this._$translate.instant("Cannot submit template transfer requests when others are pending.");case"ENVELOPE_TRANSFER_TRANSACTIONS_PENDING":return this._$translate.instant("Cannot submit envelope transfer requests when others are pending.");case"Envelope_Transfer_EnvelopeIds_Missing":return this._$translate.instant("No envelopes were identified for transfer.");case"User_Not_Organization_Admin":return this._$translate.instant("The user is not an organization administrator.");case"Account_Not_In_Organization":return this._$translate.instant("The account is not in an organization.");case"Envelope_Transfer_Transactions_Invalid_Type":return this._$translate.instant("The transfer transaction type is invalid.");case"ENVELOPE_TRANSFER_MAX_ENVELOPES_EXCEEDED":var a=n.match(g),i=a&&a.pop();return i?this._$translate.instant("The maximum number of envelopes for transfer was exceeded. The maximum number of envelopes is {{limit}}.",{limit:i}):this._$translate.instant("Your .csv file could not be uploaded. The maximum number of envelopes for transfer was exceeded.");default:return this._$translate.instant("Your .csv file could not be uploaded. Please try again later.")}},e.prototype._getConfirmationMessage=function(){switch(this._$scope.transferType){case"template":return this._$translate.instant("Are you sure that you want to transfer the templates in the {{filename}} file to {{user}}?",{filename:this._$scope.transferNow.base64File.filename,user:this._$scope.transferNow.selectedUser.name});default:return this._$translate.instant("Are you sure that you want to transfer the envelopes in the {{filename}} file to {{user}}?",{filename:this._$scope.transferNow.base64File.filename,user:this._$scope.transferNow.selectedUser.name})}},e.prototype._getSameSiteOrganizationAccounts=function(){var e=this;return this._organizationService.getOrganizationAccounts(this._organizationService.currentOrg.id).then(function(t){var n=t||[],a=e._.find(n,{account_id:e._$scope.transferFromOrganizationAccountId});return a&&e._.remove(n,function(e){return e.site_id!==a.site_id}),n})},e}();s.CustodyTransferModule.controller("TransferNowController",["$scope","$state","$translate","oliveModal","lodash","Users","TransferNowService","OrganizationService","dsUtilities",U])},function(e,t){var n="custody-transfer/transfer-from-csv-confirm.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-confirm">\n  <div class="modal_header"\n       data-qa="transfer_from_csv_header"\n       translate="Confirm [[type]] Transfer"\n       translate-interpolation="bracket"\n       translate-values="{type: transferNow.transferTypeName}">\n  </div>\n  <div class="modal_content" ng-switch="transferType">\n    <p>\n      <span data-qa="transfer_from_csv_confirm_message">{{ transferNow.confirmationMessage }}\n      </span>\n      <span translate="You will not be able to undo this action."></span>\n    </p>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete\n            data-qa="transfer_from_csv_confirm_button"\n            translate="Confirm"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="transfer_from_csv_cancel_button"\n            translate="Back"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="custody-transfer/custody-transfer.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main custody-transfer custody-transfer-list" ng-controller="CustodyTransferController as custodyTransfer">\n  <div class="section">\n    <div class="grid">\n      <div class="col-3-4">\n        <h1 class="header-title" translate="Custody Transfer"></h1>\n      </div>\n    </div>\n    <div class="grid header-action">\n      <div class="action-btns u-float-left" ng-switch="custodyTransfer.templateTransferEnabled">\n        <button class="btn btn-secondary btn-md"\n                ui-sref="authenticated.add-custody-transfer-rule"\n                data-qa="custody_transfer_add_rule_btn"\n                translate="Add Rule">\n        </button>\n        <button ng-switch-default class="btn btn-secondary btn-md"\n                ui-sref="authenticated.envelopes({action: \'transfer-now\'})"\n                data-qa="custody_transfer_transfer_envelope_btn" translate="Transfer Envelopes"></button>\n        <button ng-switch-when="true" olive-menu="transferMenu" class="btn btn-trigger btn-secondary"\n                olive-menu-trigger="transferMenu"\n                olive-menu-intialized="true" aria-haspopup="true" aria-expanded="false"\n                translate="Transfer"></button>\n        <div class="menu invisible" id="transferMenu">\n          <ul>\n            <li class="menu_listItem">\n              <a class="menu_item" ui-sref="authenticated.envelopes({action: \'transfer-now\'})"\n                 data-qa="custody_transfer_transfer_envelope_btn" translate="Envelopes"> </a>\n            </li>\n            <li class="menu_listItem">\n              <a class="menu_item" ui-sref="authenticated.templates({action: \'transfer-now\'})"\n                 translate="Templates"> </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class="col-1-5 pagination">\n        <paging-controls list-name="custodyTransfer.listType | translate" page="custodyTransfer.page"\n                         page-controls="custodyTransfer.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n  <table class="rad-list list-tbl mtbl">\n    <thead>\n    <tr>\n      <th name="fromEntity"><span translate="DS_CONTEXT=(user or group) From"></span></th>\n      <th name="toUser"><span translate="DS_CONTEXT=(user) To"></span></th>\n      <th name="toFolder"><span translate="Destination"></span></th>\n      <th name="eventType" class="hidden-xs-down"><span translate="Execute On"></span></th>\n      <th name="enabled"><span translate="Enabled"></span></th>\n      <th>&nbsp;</th>\n    </tr>\n    </thead>\n    <tbody ng-if="successfullyLoaded">\n      <tr class="click-row" ng-repeat="rule in custodyTransfer.list">\n        <td data-title="fromEntity" ng-click="custodyTransfer.viewTransferRuleDetails(rule)">\n          <span class="truncate u-ellipsis">\n            {{::custodyTransfer.getFromEntityName(rule)}}\n          </span>\n        </td>\n\n        <td data-title="toUser" ng-click="custodyTransfer.viewTransferRuleDetails(rule)">\n          <span class="truncate u-ellipsis">\n            {{::custodyTransfer.getUserName(rule.toUser)}}\n          </span>\n        </td>\n\n        <td data-title="toFolder" ng-click="custodyTransfer.viewTransferRuleDetails(rule)">\n          <span ng-if="rule.toFolder.isSystemFolder" class="truncate u-ellipsis"\n            translate="{{rule.toFolder.name}}">\n          </span>\n          <span ng-if="!rule.toFolder.isSystemFolder" class="truncate u-ellipsis">\n            {{::rule.toFolder.name }}\n          </span>\n        </td>\n\n        <td data-title="eventType" class="hidden-xs-down" ng-click="custodyTransfer.viewTransferRuleDetails(rule)"\n            translate="{{rule.eventType}}"></td>\n        <td data-title="enabled" ng-click="custodyTransfer.viewTransferRuleDetails(rule)">\n          <i ng-show="rule.enabled" class="icon icon-check new-olive-icon"\n             data-qa="custody_transfer_enable_icon"></i></td>\n        <td data-title="actions" class="column-min">\n          <button type="button" class="btn btn-secondary btn-trigger u-float-right"\n                  olive-menu="ruleActions-{{ rule.envelopeTransferRuleId }}"\n                  olive-menu-position="below right"\n                  data-qa="custody_transfer_actions_btn"\n                  translate="Actions">\n          </button>\n          <div id="ruleActions-{{ rule.envelopeTransferRuleId }}" class="menu invisible">\n            <ul>\n              <li><a name="enable" class="item" ng-if="!rule.enabled && rule.isAvailable"\n                     ng-click="custodyTransfer.enableTransferRule(rule)"\n                     data-qa="custody_transfer_actions_enable_li" translate="Enable"></a></li>\n              <li><a name="disable" class="item" ng-if="rule.enabled"\n                     ng-click="custodyTransfer.disableTransferRule(rule)"\n                     data-qa="custody_transfer_actions_disable_li" translate="Disable"></a></li>\n              <li><a name="delete" class="item" ng-click="custodyTransfer.deleteTransferRule(rule)"\n                     data-qa="custody_transfer_actions_delete_li" translate="DS_CONTEXT=(rule) Delete"></a></li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div ds-loading="custodyTransfer.loading"\n       ds-loading-succeeded="successfullyLoaded"\n       ds-loading-error="{{\'Oops! We had trouble loading transfer rules. Go ahead and try that again.\' | translate}}">\n  </div>\n\n  <div class="section">\n    <div class="grid" >\n      <div class="col-2-5 pagination">\n        <paging-controls page="custodyTransfer.page" page-controls="custodyTransfer.pageControls"></paging-controls>\n      </div>\n    </div>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t){var n="custody-transfer/custody-transfer-rule-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="document-settings custody-transfer"\n     ng-controller="CustodyTransferRuleDetailsController as custodyTransferDetails">\n\n  <div class="modal_header" olive-modal-header translate="Custody Transfer Rule Details"></div>\n\n  <div class="modal_content" olive-modal-content>\n\n    <div class="form-group" ng-switch="custodyTransferDetails.isFromUser()">\n      <div ng-switch-when="false">\n        <label class="label" for="from-group" translate="From Group: "></label>\n        <input name="from-group" type="text" class="input-text" id="from-group" disabled\n               ng-model="custodyTransferDetails.transferRule.fromGroup.groupName"\n               data-qa="custody_transfer_rule_details_from_group_txtb"/>\n      </div>\n      <div ng-switch-default>\n        <label class="label" for="from-user" translate="From User: "></label>\n        <input name="from-user" type="text" class="input-text" id="from-user" disabled\n               ng-model="custodyTransferDetails.transferRule.fromUser.userName"\n               data-qa="custody_transfer_rule_details_from_user_txtb"/>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="label" for="to-user" translate="To User: "></label>\n      <input name="to-user" type="text" class="input-text" id="to-user" disabled\n             ng-model="custodyTransferDetails.transferRule.toUser.userName"\n             data-qa="custody_transfer_rule_details_to_user_txtb"/>\n    </div>\n\n    <div class="form-group">\n      <label class="label" for="transfer-time" translate="Transfer Time: "></label>\n      <div id="transfer-time">\n        <input type="text" class="input-text" name="transfer-eventType"\n          id="transfer-eventType" disabled\n          ng-model="custodyTransferDetails.transferRule.eventType"\n          data-qa="custody_transfer_rule_details_transfer_time_txtb">\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="label" for="to-folder" translate="Destination Folder: "></label>\n      <input name="to-folder" type="text" ng-if="custodyTransferDetails.transferRule.toFolder.isSystemFolder" class="input-text" id="to-folder" disabled\n             data-qa="custody_transfer_rule_details_system_folder_txtb"\n             ng-value="custodyTransferDetails.transferRule.toFolder.name | translate"/>\n      <input name="to-folder" type="text" ng-if="!custodyTransferDetails.transferRule.toFolder.isSystemFolder" class="input-text" id="to-folder" disabled\n             data-qa="custody_transfer_rule_details_custom_folder_txtb"\n             ng-value="custodyTransferDetails.transferRule.toFolder.name"/>\n    </div>\n\n    <div class="form-group">\n      <label class="label" for="modified-date" translate="Modified Date: "></label>\n      <input name="modified-date" type="text" class="input-text" id="modified-date" disabled\n             ng-init="modifiedDate = (custodyTransferDetails.transferRule.modifiedDate|moment:custodyTransferDetails.dateTimeFormat:custodyTransferDetails.timeZone).toString()"\n             ng-model="modifiedDate" data-qa="custody_transfer_rule_details_mod_date_txtb"/>\n    </div>\n\n    <div class="form-group">\n      <div class="inline-input cb" data-qa="custody_transfer_rule_details_carbon_copy_owner_div">\n        <input class="cb_input disabled" disabled type="checkbox" id="custody-transfer-rule-details-cc"\n               ng-model="custodyTransferDetails.transferRule.carbonCopyOriginalOwner">\n        <label class="cb_label disabled" disabled for="custody-transfer-rule-details-cc"\n               translate="Add Original Owner as Carbon Copy">\n        </label>\n      </div>\n\n      <div class="inline-input cb" ng-if="custodyTransferDetails.transferRule.eventType === custodyTransferDetails.getSentType()"\n           data-qa="custody_transfer_rule_details_transfer_prior_first_send_div">\n        <input class="cb_input disabled" disabled type="checkbox" id="custody-transfer-rule-details-xfer-prior"\n               ng-model="custodyTransferDetails.isBeforeSent">\n        <label class="cb_label disabled" disabled for="custody-transfer-rule-details-xfer-prior"\n               translate="Transfer prior to first send">\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" olive-modal-complete \n            data-qa="custody_transfer_rule_details_done_btn" translate="Done"></button>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(73),i=n(273),s=function(){return function(e,t,n,a){var s=this;this._=e,this._dateTimeService=t,this._CustodyTransferService=n,this._$translate=a,this.initTransferRuleForDisplay=function(){s.transferRule=s._CustodyTransferService.activeRules[0],s._CustodyTransferService.activeRules=[],s.isBeforeSent=s.transferRule.eventType===s.getBeforeSentType(),s.isBeforeSent&&(s.transferRule.eventType=s.getSentType()),s.transferRule.eventType=s._$translate.instant(s.transferRule.eventType)},this.isFromUser=function(){return s._.isUndefined(s.transferRule.fromGroup)},this.getBeforeSentType=function(){return i.EVENT_TYPE_BEFORE_SENT},this.getSentType=function(){return s._.startCase(i.EVENT_TYPE_SENT)},this.getCompletedType=function(){return s._.startCase(i.EVENT_TYPE_COMPLETED)},this.dateTimeFormat=t.getDateTimeFormat(),this.timeZone=t.getTimeZone(),this.initTransferRuleForDisplay()}}();a.CustodyTransferModule.controller("CustodyTransferRuleDetailsController",["lodash","DateTimeService","CustodyTransferService","$translate",s])},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(73),s=n(111),o=n(3);t.CUSTODY_TRANSFER_RULES="rules",t.TRANSLATE_CUSTODY_TRANSFER_FOLDERS_INBOX="Inbox",t.TRANSLATE_CUSTODY_TRANSFER_FOLDERS_SENT_ITEMS="Sent Items";var r="(Missing)",l=function(e){function n(n,a,i,s,l,c,d,u,p){var m=e.call(this,p)||this;m._CustodyTransferService=n,m._$scope=a,m._$translate=i,m._oliveModal=s,m._oliveMessage=l,m._configuration=c,m._appUser=d,m._$q=u,m._=p,m.REMOVE_SUCCESS_MSG_NAME="removeSuccessMessage",m.REMOVE_ERROR_MSG_NAME="removeErrorMessage",m.UPDATE_SUCCESS_MSG_NAME="updateSuccessMessage",m.UPDATE_ERROR_MSG_NAME="updateErrorMessage",m.PROCESS_SUCCESS_MSG_NAME="processSuccessMessage",m.listType=t.CUSTODY_TRANSFER_RULES,m.viewTransferRuleDetails=function(e){m._.isUndefined(e.fromGroup)&&(m._.isUndefined(e.fromUser)?e.fromUser={userName:m._$translate.instant(r)}:m._.isUndefined(e.fromUser.userName)&&(e.fromUser.userName=m._$translate.instant(r))),m._CustodyTransferService.activeRules=[e],m._oliveModal.openModal({scope:m._$scope,templateUrl:"custody-transfer/custody-transfer-rule-details.html",showClose:!0,size:"sm"}).then(function(e){m._$scope.transferRuleDetailsModal=e})},m.deleteTransferRule=function(e){m._CustodyTransferService.activeRules=[e];var t={title:m._$translate.instant("Delete Custody Transfer Rule"),text:m._$translate.instant("Are you sure you want to delete this rule?"),completeLabel:m._$translate.instant("DS_CONTEXT=(rule) Delete"),escapeLabel:m._$translate.instant("Cancel"),completeFunction:m._removeTransferRule};m._oliveModal.confirmationModal(t)},m._removeTransferRule=function(){m._CustodyTransferService.removeRule(m._CustodyTransferService.activeRules[0]).then(function(){m._oliveMessage.show(m._$translate.instant("Successfully removed Transfer Rule"),m.REMOVE_SUCCESS_MSG_NAME,"success"),m.loading=m.getPage(o.FIRST_PAGE)},function(){m._oliveMessage.show(m._$translate.instant("Error removing Transfer Rule"),m.REMOVE_ERROR_MSG_NAME,"error")}).finally(function(){m._CustodyTransferService.activeRules=[]})},m.disableTransferRule=function(e){e.enabled=!1,m._updateTransferRule(e)},m.enableTransferRule=function(e){e.enabled=!0,m._updateTransferRule(e)},m._updateTransferRule=function(e){m._CustodyTransferService.updateRule(e).then(function(t){m._.assign(e,t),m._oliveMessage.show(m._$translate.instant("Successfully updated Transfer Rule"),m.UPDATE_SUCCESS_MSG_NAME,"success")},function(){e.enabled=!e.enabled,m._oliveMessage.show(m._$translate.instant("Error updating Transfer Rule"),m.UPDATE_ERROR_MSG_NAME,"error")})},m.getFromEntityName=function(e){var t="";return m._.isUndefined(e.fromUser)?m._.isUndefined(e.fromGroup)||(t=e.fromGroup.groupName):t=m.getUserName(e.fromUser),t||m._$translate.instant(r)},m.getUserName=function(e){return"closed"===e.userStatus.toLowerCase()?m._$translate.instant(r):e.userName};var g=[m.getPage(o.FIRST_PAGE),m._appUser.currentAccountInfo.settingsRetrieved];return m.loading=m._$q.when(g).then(function(){m.templateTransferEnabled=m._appUser.currentAccountInfo.settings.allowServerTemplates}),m}return a(n,e),n.prototype.setGetPage=function(){var e=this;return function(t){return e._CustodyTransferService.getRulesPage(t).then(function(t){var n=t.page;e.setPage({page:n,list:t.transferRules}),e._CustodyTransferService.didProcessRules&&(e._displayRulesProcessedMessages(),e._CustodyTransferService.didProcessRules=!1)})}},n.prototype.setSetPage=function(){var e=this;return function(t){e.page=t.page,e._.defaults(e.page,o.BLANK_PAGE),e.list=t.list}},n.prototype._displayRulesProcessedMessages=function(){var e=this;this._messagesForProcessedRules().forEach(function(t){e._oliveMessage.show(t,e.PROCESS_SUCCESS_MSG_NAME,"success")},this)},n.prototype._messagesForProcessedRules=function(){var e=[],t=this._CustodyTransferService.totalNumberOfRules-this._CustodyTransferService.previousTotalNumberOfRules,n=this._CustodyTransferService.numberOfRulesProcessed-t;return t>0&&(1===t?e.push(this._$translate.instant("Successfully added 1 Transfer Rule")):e.push(this._$translate.instant("Successfully added {{count}} Transfer Rules",{count:t}))),n>0&&(1===n?e.push(this._$translate.instant("Successfully updated 1 Transfer Rule")):e.push(this._$translate.instant("Successfully updated {{count}} Transfer Rules",{count:n}))),e},n.prototype.setGetSearchOptions=function(){return function(){return{}}},n.prototype.setFilterList=function(){return function(e){return e}},n}(s.SearchablePagingController);i.CustodyTransferModule.controller("CustodyTransferController",["CustodyTransferService","$scope","$translate","oliveModal","oliveMessage","configuration","appUser","$q","lodash",l])},function(e,t){var n="custody-transfer/add-custody-transfer-rule.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!-- BREADCRUMBS --\x3e\n<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.custody-transfer"\n         translate="Custody Transfer"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Add Custody Transfer"></span>\n    </li>\n  </ul>\n</div>\n\n<div class="document-settings custody-transfer" ng-controller="AddCustodyTransferRuleController as addCustodyTransfer"\n     ds-form>\n\n  <form name="CustodyTransferRuleForm">\n    <div class="section-header">\n      <h1 class="header-title" translate="Add Custody Transfer Rule"></h1>\n\n      <div class="header-actions">\n      <span class="action-btns" ds-ackbar="CustodyTransferRuleForm"\n            ds-ackbar-save="addCustodyTransfer.addTransferRule()"\n            ds-ackbar-cancel="addCustodyTransfer.cancelTransferRule()"></span>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2 translate="DS_CONTEXT=(user or group) From: "></h2>\n      <div class="form-group">\n        <div class="inner-wrapper">\n          <div class="u-float-left pad">\n            <div class="inline-input rb">\n              <input class="rb_input"\n                     type="radio"\n                     id="add-custody-transfer-rule-from-users"\n                     ng-model="addCustodyTransfer.isFromUser"\n                     ng-value=\'true\'\n                     ng-click="addCustodyTransfer.fromEntitySelected()"\n                     data-qa="custody_transfer_add_rule_from_user_rbtn">\n              <label class="rb_label"\n                     for="add-custody-transfer-rule-from-users"\n                     data-qa="custody_transfer_add_rule_from_user_rbtn_lbl"\n                     translate="From User"></label>\n            </div>\n          </div>\n          <div class="u-float-left">\n            <div class="inline-input rb">\n              <input class="rb_input"\n                     type="radio"\n                     id="add-custody-transfer-rule-from-groups"\n                     ng-model="addCustodyTransfer.isFromUser"\n                     ng-value=\'false\'\n                     ng-click="addCustodyTransfer.fromEntitySelected()"\n                     data-qa="custody_transfer_add_rule_from_group_rbtn">\n              <label class="rb_label"\n                     for="add-custody-transfer-rule-from-groups"\n                     data-qa="custody_transfer_add_rule_from_group_rbtn_lbl"\n                     translate="From Group"></label>\n            </div>\n          </div>\n        </div>\n\n        <div class="form_group form_group-unified">\n          <div class="select-wrap form_addon-select"\n               ng-if="addCustodyTransfer.isFromUser">\n            <select ng-model="addCustodyTransfer.fromSearch.users.type"\n                    data-qa="custody_transfer_add_rule_from_user_search_filter_option"\n                    ng-options="opt.value as opt.label | translate for opt in addCustodyTransfer.availableSearchFilters">\n            </select>\n          </div>\n          <div class="form_item form_item-iconLeft form_item-iconRight">\n            <span class="icon icon-search"></span>\n            <input type=\'text\'\n                   ng-if="addCustodyTransfer.isFromUser"\n                   class=\'input-text search\'\n                   ng-model=\'addCustodyTransfer.fromSearch.users.pendingPhrase\'\n                   maxlength="100"\n                   ng-keypress="addCustodyTransfer.submitFromSearchPhrase($event)"\n                   data-qa="custody_transfer_add_rule_from_user_search_txtb"\n                   translate\n                   translate-attr-placeholder=\'Search\' />\n            <input type=\'text\'\n                   ng-if="!addCustodyTransfer.isFromUser"\n                   class=\'input-text search\'\n                   ng-model=\'addCustodyTransfer.fromSearch.groups.pendingPhrase\'\n                   maxlength="100"\n                   data-qa="custody_transfer_add_rule_from_group_search_txtb"\n                   ng-keypress="addCustodyTransfer.submitFromSearchPhrase($event)"\n                   translate\n                   translate-attr-placeholder=\'Search\' />\n            <button type="button"\n                    class="button-icon"\n                    ng-click="addCustodyTransfer.isFromUser? addCustodyTransfer.resetFromUsersSearch() : addCustodyTransfer.resetFromGroupsSearch()">\n              <span class="icon icon-circle-x"\n                    ng-show="addCustodyTransfer.fromSearch.users.phrase.length || addCustodyTransfer.fromSearch.groups.phrase.length">\n              </span>\n            </button>\n          </div>\n        </div>\n\n        <div class="multi-select"\n             ds-valid="function"\n             ds-valid-function="addCustodyTransfer.isFromValid"\n             required>\n          <div class="list users"\n               ng-if="addCustodyTransfer.isFromUser">\n            <div class="inline-input label"\n                 ng-switch="addCustodyTransfer.fromUsers.list.length"\n                 ng-show="addCustodyTransfer.fromSearch.users.onSearch">\n              <span ng-switch-when="1">\n                <span ng-show="addCustodyTransfer.fromSearch.users.pendingPhrase.length === 0"\n                      translate="Showing 1 user">\n                </span>\n                <span ng-show="addCustodyTransfer.fromSearch.users.pendingPhrase.length > 0"\n                      translate="Showing 1 user for search query \'[[searchPhrase]]\'"\n                      translate-interpolation="bracket"\n                      translate-values="{searchPhrase: addCustodyTransfer.fromSearch.users.pendingPhrase}">\n                </span>\n              </span>\n              <span ng-switch-default>\n                <span ng-show="addCustodyTransfer.fromSearch.users.pendingPhrase.length === 0"\n                      translate="Showing [[filteredCount]] users"\n                      translate-interpolation="bracket"\n                      translate-values="{filteredCount: addCustodyTransfer.fromUsers.list.length}">\n                </span>\n                <span ng-show="addCustodyTransfer.fromSearch.users.pendingPhrase.length > 0"\n                      translate="Showing [[filteredCount]] users for search query \'[[searchPhrase]]\'"\n                      translate-interpolation="bracket"\n                      translate-values="{\n                                        filteredCount: addCustodyTransfer.fromUsers.list.length,\n                                        searchPhrase: addCustodyTransfer.fromSearch.users.pendingPhrase}">\n                </span>\n              </span>\n              <span ng-show="addCustodyTransfer.fromSearch.users.pendingPhrase.length">\n                &nbsp;|&nbsp;&nbsp;\n                <a translate="Reset"\n                   ng-click="addCustodyTransfer.resetFromUsersSearch()"></a>\n              </span>\n            </div>\n            <table class="table" olive-table-select>\n              <tbody>\n                <tr ng-repeat="user in addCustodyTransfer.fromUsers.list">\n                  <td class="table_cell-checkbox">\n                    <span class="cb cb-noText">\n                      <input class="cb_input"\n                             type="checkbox"\n                             id="from-select-{{ user.id }}"\n                             ng-model="user.isSelectedFrom"\n                             ng-click="addCustodyTransfer.fromUserSelected(user)"\n                             data-qa="custody_transfer_add_rule_from_user_cb"\n                             olive-table-select-row />\n                      <label class="cb_label"\n                             for="from-select-{{ user.id }}"\n                             data-qa="custody_transfer_add_rule_from_user_cb_lbl">\n                      </label>\n                    </span>\n                  </td>\n                  <td>\n                    <span class="u-ellipsis" ng-attr-title="{{ user.name }}">{{ user.name }}</span>\n                  </td>\n                  <td>\n                    <span class="u-ellipsis" ng-attr-title="{{ user.email }}">{{ user.email }}</span>\n                  </td>\n                  <td>\n                    <span class="u-ellipsis" ng-attr-title="{{ user.role }}">{{ user.role }}</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class="list users"\n               ng-if="!addCustodyTransfer.isFromUser">\n\n            <div class="inline-input label"\n                 ng-switch="addCustodyTransfer.groups.list.length"\n                 ng-show="addCustodyTransfer.fromSearch.groups.onSearch">\n              <span ng-switch-when="1">\n                <span ng-show="addCustodyTransfer.fromSearch.groups.pendingPhrase.length === 0"\n                      translate="Showing 1 group">\n                </span>\n                <span ng-show="addCustodyTransfer.fromSearch.groups.pendingPhrase.length > 0"\n                      translate="Showing 1 group for search query \'[[searchPhrase]]\'"\n                      translate-interpolation="bracket"\n                      translate-values="{ searchPhrase: addCustodyTransfer.fromSearch.groups.pendingPhrase }">\n                </span>\n              </span>\n              <span ng-switch-default>\n                <span ng-show="addCustodyTransfer.fromSearch.groups.pendingPhrase.length === 0"\n                      translate="Showing [[filteredCount]] groups"\n                      translate-interpolation="bracket"\n                      translate-values="{ filteredCount: addCustodyTransfer.groups.list.length }">\n                </span>\n                <span ng-show="addCustodyTransfer.fromSearch.groups.pendingPhrase.length > 0"\n                      translate="Showing [[filteredCount]] groups for search query \'[[searchPhrase]]\'"\n                      translate-interpolation="bracket"\n                      translate-values="{\n                                          filteredCount: addCustodyTransfer.groups.list.length,\n                                          searchPhrase: addCustodyTransfer.fromSearch.groups.pendingPhrase\n                                        }">\n                </span>\n              </span>\n              <span ng-show="addCustodyTransfer.fromSearch.groups.pendingPhrase.length">\n                &nbsp;|&nbsp;&nbsp;\n                <a translate="Reset"\n                   ng-click="addCustodyTransfer.resetFromGroupsSearch()"></a>\n              </span>\n            </div>\n            <table class="table" olive-table-select>\n              <tbody>\n                <tr ng-repeat="group in addCustodyTransfer.groups.list">\n                  <td class="table_cell-checkbox">\n                    <span class="cb cb-noText">\n                      <input class="cb_input"\n                             type="checkbox"\n                             id="from-select-{{ group.groupId }}"\n                             ng-model="group.isSelectedFrom"\n                             ng-click="addCustodyTransfer.fromGroupSelected(group)"\n                             data-qa="custody_transfer_add_rule_from_group_cb"\n                             olive-table-select-row />\n                      <label class="cb_label"\n                             for="from-select-{{ group.groupId }}"\n                             data-qa="custody_transfer_add_rule_from_group_cb_lbl">\n                      </label>\n                    </span>\n                  </td>\n                  <td>\n                    <span class="u-ellipsis" ng-attr-title="{{ group.groupName }}">{{ group.groupName }}</span>\n                  </td>\n                  <td>\n                    <span class="u-ellipsis" ng-attr-title="{{ group.usersCount }}">{{ group.usersCount }}</span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <h2 translate="DS_CONTEXT=(user) To: "></h2>\n      <div class="form-group">\n        <div class="form_group form_group-unified">\n          <div class="select-wrap form_addon-select">\n            <select ng-model="addCustodyTransfer.toSearch.type"\n                    data-qa="custody_transfer_add_rule_to_option"\n                    ng-options="opt.value as opt.label | translate for opt in addCustodyTransfer.availableSearchFilters">\n            </select>\n          </div>\n          <div class="form_item form_item-iconLeft form_item-iconRight">\n            <span class="icon icon-search"></span>\n            <input type=\'text\'\n                   class=\'input-text search\'\n                   ng-model=\'addCustodyTransfer.toSearch.pendingPhrase\'\n                   maxlength="100"\n                   ng-keypress="addCustodyTransfer.submitToSearchPhrase($event)"\n                   data-qa="custody_transfer_add_rule_to_search_txtb"\n                   translate\n                   translate-attr-placeholder=\'Search\' />\n            <button type="button"\n                    class="button-icon"\n                    ng-click="addCustodyTransfer.resetToUsersSearch()">\n              <span class="icon icon-circle-x"\n                    ng-show="addCustodyTransfer.toSearch.phrase.length">\n              </span>\n            </button>\n          </div>\n        </div>\n        <div class="multi-select"\n             ds-valid="function"\n             ds-valid-function="addCustodyTransfer.isToValid"\n             required>\n          <div class="grid">\n            <div class="list users"\n                 ng-class="{ \'col-2-3\': addCustodyTransfer.selectedToUser }">\n              <div class="inline-input label"\n                   ng-switch="addCustodyTransfer.toUsers.list.length"\n                   ng-show="addCustodyTransfer.toSearch.onSearch">\n                <span ng-switch-when="1">\n                  <span ng-show="addCustodyTransfer.toSearch.pendingPhrase.length === 0"\n                        translate="Showing 1 user">\n                  </span>\n                  <span ng-show="addCustodyTransfer.toSearch.pendingPhrase.length > 0"\n                        translate="Showing 1 user for search query \'[[searchPhrase]]\'"\n                        translate-interpolation="bracket"\n                        translate-values="{searchPhrase: addCustodyTransfer.toSearch.pendingPhrase}">\n                  </span>\n                </span>\n                <span ng-switch-default>\n                  <span ng-show="addCustodyTransfer.toSearch.pendingPhrase.length === 0"\n                        translate="Showing [[filteredCount]] users"\n                        translate-interpolation="bracket"\n                        translate-values="{filteredCount: addCustodyTransfer.toUsers.list.length}">\n                  </span>\n                  <span ng-show="addCustodyTransfer.toSearch.pendingPhrase.length > 0"\n                        translate="Showing [[filteredCount]] users for search query \'[[searchPhrase]]\'"\n                        translate-interpolation="bracket"\n                        translate-values="{\n                                        filteredCount: addCustodyTransfer.toUsers.list.length,\n                                        searchPhrase: addCustodyTransfer.toSearch.pendingPhrase}">\n                  </span>\n                </span>\n                <span ng-show="addCustodyTransfer.toSearch.pendingPhrase.length">\n                  &nbsp;|&nbsp;&nbsp;\n                  <a translate="Reset"\n                     ng-click="addCustodyTransfer.resetToUsersSearch()"></a>\n                </span>\n              </div>\n              <table class="table">\n                <tbody>\n                  <tr ng-repeat="user in addCustodyTransfer.toUsers.list"\n                      ng-if="!addCustodyTransfer.selectedToUser || addCustodyTransfer.isSelectedUser(user)">\n                    <td class="table_cell-checkbox">\n                      <span class="cb cb-noText">\n                        <input class="cb_input"\n                               type="checkbox"\n                               id="to-select-{{ user.id }}"\n                               ng-model="user.isSelectedTo"\n                               ng-click="addCustodyTransfer.toUserSelected(user)"\n                               data-qa="custody_transfer_add_rule_to_user_cb" />\n                        <label class="cb_label"\n                               for="to-select-{{ user.id }}"\n                               data-qa="custody_transfer_add_rule_to_user_cb_lbl">\n                        </label>\n                      </span>\n                    </td>\n                    <td>\n                      <span class="u-ellipsis" ng-attr-title="{{ user.name }}">{{ user.name }}</span>\n                    </td>\n                    <td>\n                      <span class="u-ellipsis" ng-attr-title="{{ user.email }}">{{ user.email }}</span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class="tree-sidebar col-1-3"\n                 ng-if="addCustodyTransfer.selectedToUser">\n              <h2 translate="Folders:"></h2>\n              <div class="tree"\n                   olive-tree="userFolderTree"\n                   ds-valid="function"\n                   ds-valid-function="addCustodyTransfer.isFolderValid"\n                   required>\n                <ul class="tree_list">\n                  <span class="spinner-circle spinner-sm"\n                        ng-if="!addCustodyTransfer.folders.folders"></span>\n                  <li ng-repeat="folder in addCustodyTransfer.folders.folders"\n                      ng-include="\'folderTree\'"></li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <script type="text/ng-template"\n                id="folderTree">\n          <a class="tree_item tree_item-isClosed"\n             ng-attr-olive-tree-expandable="{{ folder.hasSubFolders }}">\n            <span class="tree_itemTrigger icon-menu-triangle-right"\n                  ng-if="folder.hasSubFolders"\n                  ng-click="addCustodyTransfer.getFolders(folder, $event)"\n                  olive-tree-trigger></span>\n\n            <span ng-if="folder.isSystemFolder"\n                  class="tree_itemText"\n                  title="{{ folder.name | translate }}"\n                  ng-click="addCustodyTransfer.toFolderSelected(folder)"\n                  data-qa="custody_transfer_add_rule_to_folder_li">\n              <span class="tree_itemIcon icon-folder"></span>\n              {{ folder.name | translate }}\n            </span>\n            <span ng-if="!folder.isSystemFolder"\n                  class="tree_itemText"\n                  title="{{ folder.name }}"\n                  ng-click="addCustodyTransfer.toFolderSelected(folder)">\n              <span class="tree_itemIcon icon-folder"></span>\n              {{ folder.name }}\n            </span>\n          </a>\n          <ul class="tree_list"\n              ng-if="folder.hasSubFolders">\n            <span class="spinner-circle spinner-sm"\n                  ng-if="folder.loading"></span>\n            <li ng-repeat="folder in folder.folders"\n                ng-include="\'folderTree\'"></li>\n          </ul>\n        <\/script>\n      </div>\n\n      <h2 translate="Transfer Time: "></h2>\n      <div class="form-group">\n        <div class="u-float-left pad">\n          <div class="inline-input rb">\n            <input class="rb_input"\n                   type="radio"\n                   id="add-custody-transfer-rule-on-send"\n                   ng-model="addCustodyTransfer.transferRule.eventType"\n                   ng-value=\'addCustodyTransfer.sentEventType\'\n                   data-qa="custody_transfer_add_rule_transfer_time_on_send_rbtn">\n            <label class="rb_label"\n                   for="add-custody-transfer-rule-on-send"\n                   data-qa="custody_transfer_add_rule_transfer_time_on_send_rbtn_lbl"\n                   translate="On Send"></label>\n          </div>\n        </div>\n\n        <div class="u-float-left">\n          <div class="inline-input rb">\n            <input class="rb_input"\n                   type="radio"\n                   id="add-custody-transfer-rule-on-complete"\n                   ng-model="addCustodyTransfer.transferRule.eventType"\n                   ng-value=\'addCustodyTransfer.completedEventType\'\n                   data-qa="custody_transfer_add_rule_transfer_time_on_complete_rbtn">\n            <label class="rb_label"\n                   for="add-custody-transfer-rule-on-complete"\n                   data-qa="custody_transfer_add_rule_transfer_time_on_complete_rbtn_lbl"\n                   translate="On Complete"></label>\n          </div>\n        </div>\n      </div>\n\n      <br>\n\n      <div class="form-group">\n        <div class="inline-input cb">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="add-custody-transfer-rule-cc"\n                 ng-model="addCustodyTransfer.transferRule.carbonCopyOriginalOwner"\n                 data-qa="custody_transfer_add_rule_transfer_time_carbon_copy_original_owner_cb">\n          <label class="cb_label"\n                 for="add-custody-transfer-rule-cc"\n                 data-qa="custody_transfer_add_rule_transfer_time_carbon_copy_original_owner_cb_lb"\n                 translate="Add Original Owner as Carbon Copy"></label>\n        </div>\n\n        <div class="inline-input cb"\n             ng-if="addCustodyTransfer.transferRule.eventType === addCustodyTransfer.sentEventType">\n          <input class="cb_input"\n                 type="checkbox"\n                 id="add-custody-transfer-rule-xfer-prior"\n                 ng-model="addCustodyTransfer.isBeforeSent"\n                 data-qa="custody_transfer_add_rule_transfer_time_prior_to_first_send_cb">\n          <label class="cb_label"\n                 for="add-custody-transfer-rule-xfer-prior"\n                 data-qa="custody_transfer_add_rule_transfer_time_prior_to_first_send_cb_lbl"\n                 translate="Transfer prior to first send"></label>\n        </div>\n      </div>\n    </div>\n\n    <div class="section-footer">\n    <span class="action-btns" ds-ackbar="CustodyTransferRuleForm" ds-ackbar-save="addCustodyTransfer.addTransferRule()"\n          ds-ackbar-cancel="addCustodyTransfer.cancelTransferRule()"></span>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(73),s=n(3),o=n(273);t.GET_FOLDERS_FOR_USER_PARAMS={user_filter:o.OWNED_BY_ME_FOLDER_USER_FILTER},function(e){e[e.Name=0]="Name",e[e.Email=1]="Email"}(a||(a={}));var r=function(){return function(e,n,i,r,l,c,d,u,p,m){var g=this;this._$scope=e,this._$state=n,this._CustodyTransferService=i,this._FoldersService=r,this._Users=l,this._dsGroups=c,this._$translate=d,this._oliveMessage=u,this._=p,this._$q=m,this.sentEventType=o.EVENT_TYPE_SENT,this.beforeSentEventType=o.EVENT_TYPE_BEFORE_SENT,this.completedEventType=o.EVENT_TYPE_COMPLETED,this.resetFromUsersSearch=function(){g.fromSearch.users.pendingPhrase="",g.submitFromSearchPhrase()},this.resetFromGroupsSearch=function(){g.fromSearch.groups.pendingPhrase="",g.submitFromSearchPhrase()},this.resetToUsersSearch=function(){g.toUserSelected(),g.toSearch.pendingPhrase="",g.submitToSearchPhrase()},this.submitFromSearchPhrase=function(e){e&&e.keyCode!==o.ENTER_KEY||(e&&e.preventDefault(),g.isFromUser?(g.fromUserSelected(),g.fromSearch.users.phrase=g.fromSearch.users.pendingPhrase,g._getFromUsers(s.FIRST_PAGE),g.fromSearch.users.onSearch=g.fromSearch.users.pendingPhrase.length>0):(g.fromGroupSelected(),g.fromSearch.groups.phrase=g.fromSearch.groups.pendingPhrase,g._getGroups(s.FIRST_PAGE),g.fromSearch.groups.onSearch=g.fromSearch.groups.pendingPhrase.length>0))},this.submitToSearchPhrase=function(e){e&&e.keyCode!==o.ENTER_KEY||(e&&e.preventDefault(),g.toUserSelected(),g.toSearch.phrase=g.toSearch.pendingPhrase,g._getToUsers(s.FIRST_PAGE),g.toSearch.onSearch=g.toSearch.pendingPhrase.length>0)},this._getFromUsers=function(e){var t={};g.fromSearch.users.type===a.Name?t.user_name_substring=g.fromSearch.users.phrase:t.email_substring=g.fromSearch.users.phrase,t.include_groups=!1,t.status=o.ACTIVE_USER_STATUS;var n=g._.merge(t,e);return g._Users.getPage(n).then(function(e){g.fromUsers={page:e.page,list:e.users},g._oliveMessage.closeAll()},function(e){e.data.message===o.NO_USER_FOUND_SERVER_ERROR?(g._oliveMessage.show(g._$translate.instant("No users found based on your search: {{search}}.",{search:g.fromSearch.users.phrase}),"noSearchResult","warning"),g.fromUsers={page:s.BLANK_PAGE,list:[]}):g._$q.reject(e)})},this._initUsers=function(e){var t={include_groups:!1};t.status=o.ACTIVE_USER_STATUS;var n=g._.merge(t,e);return g._Users.getPage(n).then(function(e){g.toUsers={page:e.page,list:e.users},g.fromUsers=g.toUsers},function(e){e.data.message===o.NO_USER_FOUND_SERVER_ERROR?(g.toUsers={page:s.BLANK_PAGE,list:[]},g.fromUsers=g.toUsers):(g._$q.reject(e),g._oliveMessage.show(g._$translate.instant("Error loading Users"),o.TRANSFER_RULE_USERS_ERROR_MSG_NAME,"error"))})},this._getToUsers=function(e){var t={};g.toSearch.type===a.Name?t.user_name_substring=g.toSearch.phrase:t.email_substring=g.toSearch.phrase,t.include_groups=!1,t.status=o.ACTIVE_USER_STATUS;var n=g._.merge(t,e);return g._Users.getPage(n).then(function(e){g.toUsers={page:e.page,list:e.users},g._oliveMessage.closeAll()},function(e){e.data.message===o.NO_USER_FOUND_SERVER_ERROR?(g._oliveMessage.show(g._$translate.instant("No users found based on your search: {{search}}.",{search:g.toSearch.phrase}),"noSearchResult","warning"),g.toUsers={page:s.BLANK_PAGE,list:[]}):(g._$q.reject(e),g._oliveMessage.show(g._$translate.instant("Error loading Users"),o.TRANSFER_RULE_USERS_ERROR_MSG_NAME,"error"))})},this._getGroups=function(e){var t={search_text:g.fromSearch.groups.phrase},n=g._.merge(t,e);return g._dsGroups.getPage(n).then(function(e){g.groups={page:e.page,list:e.groups},0===g.groups.list.length?g._oliveMessage.show(g._$translate.instant("No groups found base on your search: {{search}}.",{search:g.fromSearch.groups.phrase}),"noSearchResult","warning"):g._oliveMessage.closeAll()},function(e){g._oliveMessage.show(g._$translate.instant("Error loading Groups"),o.TRANSFER_RULE_GROUPS_ERROR_MSG_NAME,"error")})},this.isFromValid=function(){return!g._.isEmpty(g.isFromUser?g.selectedFromUsers:g.selectedFromGroups)},this.isToValid=function(){return!!g.selectedToUser},this.isFolderValid=function(){return!!g.selectedToFolder},this.fromEntitySelected=function(){g.fromUserSelected(),g.fromGroupSelected()},this.fromUserSelected=function(e){g._.isUndefined(e)?(g._.forEach(g.selectedFromUsers,function(e){e.isSelectedFrom=!1}),g.selectedFromUsers=[]):e.isSelectedFrom?g.selectedFromUsers.push(e):g._.pull(g.selectedFromUsers,e)},this.fromGroupSelected=function(e){g._.isUndefined(e)?(g._.forEach(g.selectedFromGroups,function(e){e.isSelectedFrom=!1}),g.selectedFromGroups=[]):e.isSelectedFrom?g.selectedFromGroups.push(e):g._.pull(g.selectedFromGroups,e)},this.toUserSelected=function(e){e&&e.isSelectedTo?(g.selectedToUser=e,g.getFolders()):(g._.forEach(g.toUsers.list,function(e){e.isSelectedTo=!1}),g.selectedToUser=null,g.selectedToFolder=null,g.folders=null)},this.toFolderSelected=function(e){g.selectedToFolder=e},this.isSelectedUser=function(e){return g.selectedToUser&&g.selectedToUser.id===e.id},this.getFolders=function(e,n){if(!n||$(n.target).parent(".tree_item").hasClass("tree_item-isClosed")){g._.isUndefined(e)||(e.folders=[],e.loading=!0);var a=g._.isUndefined(e)?null:e.folderId;g._FoldersService.getFoldersForUser(g.selectedToUser.id,t.GET_FOLDERS_FOR_USER_PARAMS,a).then(function(t){g._.isUndefined(e)?g.folders=t:e.folders=t.folders[0].folders},function(e){g._oliveMessage.show(g._$translate.instant("Error loading Folders"),o.TRANSFER_RULE_FOLDER_ERROR_MSG_NAME,"error")}).finally(function(){g._.isUndefined(e)||(e.loading=!1)})}},this.addTransferRule=function(){g.isFromUser?g.transferRule.fromUsers=g._.map(g.selectedFromUsers,function(e){return{userId:e.id}}):g.transferRule.fromGroups=g._.map(g.selectedFromGroups,function(e){return{groupId:e.groupId}}),g.transferRule.eventType===o.EVENT_TYPE_SENT&&g.isBeforeSent&&(g.transferRule.eventType=o.EVENT_TYPE_BEFORE_SENT),g.transferRule.toUser={userId:g.selectedToUser.id},g.transferRule.toFolder={folderId:g.selectedToFolder.folderId},g._CustodyTransferService.addRule(g.transferRule).then(g.goToListPage,function(){g._oliveMessage.show(g._$translate.instant("An error occurred!"),o.TRANSFER_RULE_ADD_ERROR_MSG_NAME,"error")})},this.cancelTransferRule=function(){g.goToListPage()},this.goToListPage=function(){g._$state.go("authenticated.custody-transfer")},this.transferRule={eventType:o.EVENT_TYPE_SENT,toUser:null,toFolder:null,carbonCopyOriginalOwner:!0,enabled:!0},this.searchTypes=[{label:o.NAME_SEARCH_TYPE,value:a.Name},{label:o.EMAIL_SEARCH_TYPE,value:a.Email}],this.availableSearchFilters=this.searchTypes,this.fromSearch={users:{type:a.Name,pendingPhrase:"",phrase:""},groups:{pendingPhrase:"",phrase:""}},this.toSearch={type:a.Name,pendingPhrase:"",phrase:""},this.isFromUser=!0,this.isBeforeSent=!1,this.selectedFromUsers=[],this.selectedFromGroups=[],this._$scope.$watch(function(){return this.isFromUser}.bind(this),function(e,t){e!==t&&(this.fromSearch.users.pendingPhrase=this.fromSearch.users.phrase,this.fromSearch.groups.pendingPhrase=this.fromSearch.groups.phrase)}.bind(this)),this._$scope.$watch(function(){return this.fromSearch.users.type}.bind(this),function(e,t){e!==t&&this.resetFromUsersSearch()}.bind(this)),this._$scope.$watch(function(){return this.toSearch.type}.bind(this),function(e,t){e!==t&&this.resetToUsersSearch()}.bind(this)),this._initUsers(s.FIRST_PAGE),this._getGroups(s.FIRST_PAGE)}}();i.CustodyTransferModule.controller("AddCustodyTransferRuleController",["$scope","$state","CustodyTransferService","dsFolders","Users","dsGroups","$translate","oliveMessage","lodash","$q",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("ConnectedAppsSettingsController",["$scope","appUser","dsNotification","dsAccount","dsModals","$translate","lodash",function(e,t,n,a,i,s,o){e.connectedAppsSettings={externalDocumentSources:{dropboxEnabled:!1,boxnetEnabled:!1,evernoteEnabled:!1,googleDriveEnabled:!1,salesforceEnabled:!1,oneDriveEnabled:!1}},e.getAll=function(){return t.currentAccountInfo.settingsRetrieved.then(function(){o.merge(e.connectedAppsSettings,o.pick(t.currentAccountInfo.settings,o.keys(e.connectedAppsSettings)))})},e.cancel=function(t){e.getAll(),t&&t.$setPristine()},e.save=function(o){var r=s.instant("Saved Successfully!"),l="success";a.updateSettings(t.getCurrentAccountId(),e.connectedAppsSettings).then(null,function(e){r=s.instant("An error occurred!"),l="alert"}).finally(function(){t.refreshAccountSettings(),o&&o.$setPristine(),i.closeModal(),n.show({msg:r,type:l})})},e.getAll()}])},function(e,t){var n="connected-apps/connected-apps.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="connected-apps site-main" ng-controller="ConnectedAppsSettingsController" ds-form>\n  <div class="section">\n    <h1 class="header-title" translate="Connected Apps"></h1>\n    <div class="header-description" translate="Select the applications that can be used for accessing documents.">\n    </div>\n    <div class="header-actions" ds-ackbar="connectedAppsForm" ds-ackbar-save="save(connectedAppsForm)" ds-ackbar-cancel="cancel(connectedAppsForm)"></div>\n  </div>\n  <form class=\'section\' name="connectedAppsForm">\n    <div class="connected-apps">\n      <div class="section">\n        <div class="inline-input cb">\n          <input class="cb_input" type="checkbox" id="box" data-qa="connected_apps_box_cb"\n            ng-model="connectedAppsSettings.externalDocumentSources.boxnetEnabled">\n\n          <label class="cb_label" for="box" data-qa="connected_apps_box_cb_lbl">\n            <span class="m-right-xx-small logo logo-img logo-box"></span>\n            <span translate="Box" setting-key-map="BoxnetEnabled"></span>\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input" type="checkbox" id="dropbox" data-qa="connected_apps_dropbox_cb"\n            ng-model="connectedAppsSettings.externalDocumentSources.dropboxEnabled">\n\n          <label class="cb_label" for="dropbox" data-qa="connected_apps_dropbox_cb_lbl">\n            <span class="m-right-xx-small logo logo-img logo-dropbox"></span>\n            <span translate="Dropbox" setting-key-map="DropboxEnabled"></span>\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input" type="checkbox" id="google-drive" data-qa="connected_apps_google_drive_cb"\n            ng-model="connectedAppsSettings.externalDocumentSources.googleDriveEnabled">\n\n          <label class="cb_label" for="google-drive" data-qa="connected_apps_google_drive_cb_lbl">\n            <span class="m-right-xx-small logo logo-img logo-googledrive"></span>\n            <span translate="Google Drive" setting-key-map="GoogleDriveEnabled"></span>\n          </label>\n        </div>\n\n        <div class="inline-input cb">\n          <input class="cb_input" type="checkbox" id="one-drive" data-qa="connected_apps_one_drive_cb"\n            ng-model="connectedAppsSettings.externalDocumentSources.oneDriveEnabled">\n\n          <label class="cb_label" for="one-drive" data-qa="connected_apps_one_drive_cb_lbl">\n            <span class="m-right-xx-small logo logo-img logo-onedrive"></span>\n            <span translate="OneDrive" setting-key-map="OneDriveEnabled"></span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class="section">\n    <div class="header-actions" ds-ackbar="connectedAppsForm" ds-ackbar-save="save(connectedAppsForm)" ds-ackbar-cancel="cancel(connectedAppsForm)"></div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="connect/upload-salesforce-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class=\'header\'>\n  <h1 translate="Upload Salesforce Configuration"></h1>\n</div>\n\n<div class=\'content\'\n     translate="Uploading a configuration file will append your existing configuration. Do you wish to continue?">\n</div>\n\n<div class=\'footer\'>\n  <label class="btn btn-xl btn-primary" for="config-upload">\n    <span translate="Ok"></span>\n  </label>\n  <input id="config-upload" type="file" nv-file-select uploader="upload" class="oldBrowserCompatibleHiddenFileInput" />\n  <button class=\'btn btn-xl btn-minor\' ds-close-modal translate="Cancel"></button>\n</div>')}]),e.exports=n},function(e,t){var n="connect/trigger-events.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'  <h2 class="header-title" translate=\'Trigger Events\'></h2>\n  <div class="grid">\n    <div class="col-1-3">\n\n      <div class="form-group">\n        <label class="label" translate=\'Envelope Events:\'></label>\n        <div class="inline-input cb">\n          <input id="connect-document-sent-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_sent_cb"\n                 value=\'Sent\'\n                 ng-checked=\'hasDocumentEvent("Sent")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.envelopeEvents)\'/>\n          <label class="cb_label" for="connect-document-sent-event"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_sent_cb_lbl"\n                 translate=\'Envelope Sent\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-document-delivered-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_delivered_cb"\n                 value=\'Delivered\'\n                 ng-checked=\'hasDocumentEvent("Delivered")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.envelopeEvents)\'/>\n          <label class="cb_label" for="connect-document-delivered-event"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_delivered_cb_lbl"\n                 translate=\'Envelope Delivered\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-document-completed-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_completed_cb"\n                 value=\'Completed\'\n                 ng-checked=\'hasDocumentEvent("Completed")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.envelopeEvents)\'/>\n          <label class="cb_label" for="connect-document-completed-event"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_completed_cb_lbl"\n                 translate=\'Envelope Signed/Completed\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-document-declined-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_declined_cb"\n                 value=\'Declined\'\n                 ng-checked=\'hasDocumentEvent("Declined")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.envelopeEvents)\'/>\n          <label class="cb_label" for="connect-document-declined-event"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_declined_cb_lbl"\n                 translate=\'Envelope Declined\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-document-voided-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_voided_cb"\n                 value=\'Voided\'\n                 ng-checked=\'hasDocumentEvent("Voided")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.envelopeEvents)\'/>\n          <label class="cb_label" for="connect-document-voided-event"\n                 data-qa="connect_add_edit_custom_config_trigger_doc_voided_cb_lbl"\n                 translate=\'Envelope Voided\'></label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="label" translate=\'Recipient Events:\'></label>\n        <div class="inline-input cb">\n          <input id="connect-recipient-sent-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_sent_cb"\n                 value=\'Sent\'\n                 ng-checked=\'hasRecipientEvent("Sent")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-sent-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_sent_cb_lbl"\n                 translate=\'Recipient Sent\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-recipient-delivery-failed-event" class="cb_input" type="checkbox"\n                data-qa="connect_add_edit_custom_config_trigger_recipient_delivery_failed_cb"\n                value=\'AutoResponded\'\n                ng-checked=\'hasRecipientEvent("AutoResponded")\'\n                ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-delivery-failed-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_delivery_failed_cb_lbl"\n                 translate=\'Recipient Delivery Failed\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-recipient-delivered-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_delivered_cb"\n                 value=\'Delivered\'\n                 ng-checked=\'hasRecipientEvent("Delivered")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-delivered-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_delivered_cb_lbl"\n                 translate=\'Recipient Delivered\'></label>\n        </div>\n        <div class="inline-input cb" ng-if="allowConnectSendFinishLater && form.model.configurationType === \'custom\'">\n          <input id="connect-recipient-finish-later-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_finish_later_cb"\n                 value=\'FinishLater\'\n                 ng-checked=\'hasRecipientEvent("FinishLater")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-finish-later-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_finish_later_cb_lbl"\n                 translate=\'Recipient Finish Later\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-recipient-completed-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_completed_cb"\n                 value=\'Completed\'\n                 ng-checked=\'hasRecipientEvent("Completed")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-completed-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_completed_cb_lbl"\n                 translate=\'Recipient Signed/Completed\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-recipient-declined-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_declined_cb"\n                 value=\'Declined\'\n                 ng-checked=\'hasRecipientEvent("Declined")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-declined-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_declined_cb_lbl"\n                 translate=\'Recipient Declined\'></label>\n        </div>\n        <div class="inline-input cb">\n          <input id="connect-recipient-auth-failure-event" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_auth_failed_cb"\n                 value=\'AuthenticationFailed\'\n                 ng-checked=\'hasRecipientEvent("AuthenticationFailed")\'\n                 ng-click=\'addRemoveCheckedOption($event, form.model.recipientEvents)\'/>\n          <label class="cb_label" for="connect-recipient-auth-failure-event"\n                 data-qa="connect_add_edit_custom_config_trigger_recipient_auth_failed_cb_lbl"\n                 translate=\'Recipient Authentication Failure\'></label>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n')}]),e.exports=n},function(e,t){var n="connect/salesforce-object.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!-- BREADCRUMBS ///////////////////////////////////////////////////////////////////////////////--\x3e\n<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.connect"\n         translate="Connect Configurations List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.edit-salesforce-configuration"\n         translate="Connect for Salesforce Configuration"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Salesforce Connect Object"></span>\n    </li>\n  </ul>\n</div>\n<div ng-controller="SalesforceObjectController as sfObject" ds-form>\n  \x3c!-- HEADER TITLE BAR //////////////////////////////////////////////////////////////////////////--\x3e\n  <div class="section">\n    <h1 class="header-title" translate="Salesforce Connect Object"></h1>\n\n    <div class="header-actions">\n      <button class="btn btn-primary" ds-form-submit="sfObject.save()" ng-disabled="sfObjectForm.$pristine"\n              translate="Save"></button>\n      <button class="btn btn-minor" ng-click="sfObject.cancel()" translate="Cancel"></button>\n    </div>\n  </div>\n  <form class="salesforceObjectForm wait-to-load" name="sfObjectForm">\n    \x3c!-- GENERAL SETTINGS //////////////////////////////////////////////////////////////////////////--\x3e\n    <div class="section sfObject" ng-if="entriesDoneLoading">\n      <h2 class="header-title" translate="General Settings"></h2>\n\n      <div class="grid section">\n        <div class="col-1-3">\n\n          <div class="header-status">\n            <button type="button" class="btn btn-secondary btn-trigger" olive-menu="statusMenu">\n              <span ng-if="sfObject.isActive()"><i class="icon icon-circle text-success icon-left"></i>\n              <span translate="Active Object"></span></span>\n              <span ng-if="!sfObject.isActive()"><i class="icon icon-circleclosed text-muted icon-left"></i>\n              <span translate="Inactive Object"></span></span>\n            </button>\n            <div class="menu invisible" id="statusMenu">\n              <ul>\n                <li ng-if="sfObject.isActive()" ng-click="sfObject.toggleActivation()"><a class="item on"\n                                                                                          translate="Deactivate Object"></a>\n                </li>\n                <li ng-if="!sfObject.isActive()" ng-click="sfObject.toggleActivation()"><a class="item on"\n                                                                                           translate="Activate Object"></a>\n                </li>\n              </ul>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="name" translate="Object Name"></label>\n            <input type="text" class="input-text" id="name" ng-model="sfObject.selectedObject.sfObjectName" />\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="descrip" translate="Object Description"></label>\n            <textarea class="input-textarea" id="descrip" ng-model="sfObject.selectedObject.description"></textarea>\n          </div>\n\n          <div class="form-group">\n            <div class="inline-input cb">\n              <input class="cb_input" type="checkbox" checked id="onComp"\n                     ng-model="sfObject.selectedObject.onCompleteOnly" />\n              <label class="cb_label" for="onComp" translate="On Completed Envelope Only"></label>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{\'disabled\': !sfObject.allObjectSelected.isCreateable}">\n            <div class="inline-input cb">\n              <input class="cb_input" type="checkbox" checked id="addIfNoMatch"\n                     ng-disabled="!sfObject.allObjectSelected.isCreateable" ng-model="sfObject.selectedObject.insert" />\n              <label class="cb_label" for="addIfNoMatch" translate="Add If No Match"></label>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="label" for="objectCombo" translate="Select Salesforce Object"></label>\n\n            <div class="select-wrap">\n              <select class="input-combo" id="objectCombo" ng-change="sfObject.onObjectChange()"\n                      ng-model="sfObject.allObjectSelected" ng-options="obj.displayName for obj in sfObject.allObjects"\n                      ds-valid required>\n                <option value="" translate="-- Select --"></option>\n              </select>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      \x3c!-- SELECT WHERE ///////////////////////////////////////////////////////////////////////--\x3e\n      <div class="grid section">\n      <h2 class="header-title" translate="Select Where"></h2>\n\n      <p\n        translate="Select the Salesforce and DocuSign fields that are used to match a Salesforce object with DocuSign information so that the system knows when to send updates to Salesforce."></p>\n\n        <div class="form-group col-7-8">\n          <table class="table" olive-table-select olive-table-select-initialized="true">\n            <thead>\n            <tr>\n              <th><span translate="Salesforce.com Field"></span></th>\n              <th><span translate="DocuSign Field"></span></th>\n              <th>&nbsp;</th>\n            </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="field in sfObject.selectedObject.selectFields">\n                <td>\n                  <div class="select-wrap">\n                    <select ng-model="field.sfField" ds-valid required\n                      ng-options="obj.name as (obj.displayName + \' (\' + obj.dataType + \')\') for obj in sfObject.allSelectFields">\n                      <option value="" translate="Select Salesforce Field"></option>\n                    </select>\n                  </div>\n                </td>\n                <td>\n                  <div class="select-wrap">\n                    <select ng-model="field.docuSignField"\n                      ng-options="obj.displayName for obj in sfObject.allSelectDocuSignFields"\n                      ng-change="sfObject.setField(field, field.docuSignField)" ds-valid required>\n                      <option value="" translate="Select DocuSign Field"></option>\n                    </select>\n                  </div>\n                  <div ng-if="field.docuSignField.dsNode === \'Tab\'">\n                    <input type="text" class="input-text" ng-model="field.dsAttribute"\n                           translate translate-attr-placeholder=\'Recipient Secure Field Value\' />\n                  </div>\n                  <div ng-if="field.docuSignField.displayName === \'Custom\'">\n                    <input type="text" class="input-text" ng-model="field.sfLockedValue"\n                           translate translate-attr-placeholder="Value" ds-valid required />\n                  </div>\n                </td>\n                <td>\n                  <button type="button" class="btn btn-minor btn-icon u-float-right"\n                    ng-click="sfObject.removeSelectField(field)">\n                    <span class="icon icon-times"></span>\n                    <span class="sr-text" translate>remove icon</span>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div class="addNewItem" ng-click="sfObject.addSelectField()">\n            <i class="icon icon-plus"></i>\n            <span translate="Add New Item"></span>\n          </div>\n        </div>\n      </div>\n      \x3c!-- UPDATE FIELDS ///////////////////////////////////////////////////////////////////////--\x3e\n      <div class="grid section">\n      <h2 class="header-title" translate="Update Fields"></h2>\n\n      <p\n        translate="Select the Salesforce and DocuSign fields that are used to match a Salesforce object with DocuSign information so that the system knows when to send updates to Salesforce."></p>\n\n        <div class="form-group col-7-8">\n          <table class="table" olive-table-select olive-table-select-initialized="true">\n            <thead>\n              <tr>\n                <th><span translate="Salesforce.com Field"></span></th>\n                <th><span translate="DocuSign Field"></span></th>\n                <th>&nbsp;</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="field in sfObject.selectedObject.updateFields | filter: sfObject.filterAttachmentFields">\n                <td>\n                  <div class="select-wrap">\n                    <select ng-model="field.sfField" ds-valid required\n                      ng-options="obj.objectName as (obj.displayName + \' (\' + obj.dataType + \')\') for obj in sfObject.allUpdateFields">\n                      <option value="" translate="Select Salesforce Field"></option>\n                    </select>\n                  </div>\n                  <div ng-if="sfObject.checkShowLink(field.sfField)">\n                    <div class="cb">\n                      <input class="cb_input" type="checkbox" id="{{\'cbLink\' + $index}}" ng-model="field.dsLink" />\n                      <label class="cb_label" for="{{\'cbLink\' + $index}}" translate="Link Back"></label>\n                    </div>\n                  </div>\n                </td>\n                <td>\n                  <div class="select-wrap">\n                    <select ng-model="field.docuSignField" ds-valid required\n                      ng-options="obj.displayName for obj in sfObject.allUpdateDocuSignFields"\n                      ng-change="sfObject.setField(field, field.docuSignField)">\n                      <option value="" translate="Select DocuSign Field"></option>\n                    </select>\n                  </div>\n                  <div ng-if="field.docuSignField.dsNode === \'Tab\'">\n                    <input type="text" class="input-text" ng-model="field.dsAttribute" translate\n                           translate-attr-placeholder=\'Recipient Secure Field Value\' ds-valid required />\n                  </div>\n                  <div ng-if="field.docuSignField.displayName === \'Custom\'">\n                    <input type="text" class="input-text" ng-model="field.sfLockedValue" ds-valid required\n                           translate translate-attr-placeholder=\'Value\' />\n                  </div>\n                </td>\n                <td style="vertical-align: top">\n                  <button type="button" class="btn btn-minor btn-icon u-float-right"\n                          ng-click="sfObject.removeUpdateField(field)">\n                    <span class="icon icon-times"></span>\n                    <span class="sr-text" translate>remove icon</span>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div class="addNewItem" ng-click="sfObject.addUpdateField()">\n            <i class="icon icon-plus"></i>\n            <span translate="Add New Item"></span>\n          </div>\n        </div>\n      </div>\n\n\n      \x3c!-- ATTACHMENTS ///////////////////////////////////////////////////////////////////////--\x3e\n      <div class="grid section">\n      <h2 class="header-title" translate="Attachments"></h2>\n        <div class="col-1-3">\n\n          <div class="form-group conditional-group">\n            <div class="inline-input cb">\n              <input class="cb_input" type="checkbox" id="attachDocs" ng-model="sfObject.attachDocs" />\n              <label class="cb_label" for="attachDocs" translate="Attach DocuSign Envelopes"></label>\n\n              <div class="related-input conditional-hide" ng-if="sfObject.attachDocs">\n                <div class="fgrid fgrid-eq">\n                  <div class="fgrid_cell">\n                    <div class="form-group">\n                      <label class="label" for="docName" translate="Filename"></label>\n\n                      <div class="select-wrap">\n                        <select id="docName" ng-model="sfObject.docName">\n                          <option value="Name" translate="Document Name"></option>\n                          <option value="NameEnvStatus" translate="Document Name + Envelope Status"></option>\n                          <option value="NamePDF" translate="Document Name + .pdf"></option>\n                          <option value="NamePDFReplaceExt" translate="Document Name remove extension + .pdf"></option>\n                          <option value="NameEnvStatusPDF" translate="Document Name + Envelope Status + .pdf"></option>\n                          <option value="NameEnvStatusPDFReplaceExt"\n                                  translate="Document Name remove extension + Envelope Status + .pdf"></option>\n                          <option value="EnvelopePDF" translate="\'Envelope \' + Envelope ID + .pdf"></option>\n                          <option value="EnvelopeEnvStatusPDF"\n                                  translate="Certificate \' + Envelope ID + Envelope Status + .pdf"></option>\n                          <option value="Custom" translate="Custom"></option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="fgrid_cell" ng-if="sfObject.docName === \'Custom\'">\n                    <div class="form-group">\n                      <label class="label">&nbsp;</label>\n                      <input class="input-text sfAttachmentCustomName" type="text"\n                             ng-model="sfObject.docCustomFileName" ds-valid required translate\n                             translate-attr-placeholder="Custom File Name" />\n                    </div>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <label class="label" for="contents" translate="Contents"></label>\n\n                  <div class="select-wrap">\n                    <select id="contents" ng-model="sfObject.docContents">\n                      <option value="Document" translate=\'Document - one per PDF Document\'></option>\n                      <option value="Envelope" translate="Document - one PDF per envelope"></option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class="inline-input cb">\n                  <input class="cb_input" type="checkbox" id="cbNewFile" ng-model="sfObject.docNewFile" />\n                  <label class="cb_label" for="cbNewFile" translate="New file on each publish"></label>\n                </div>\n\n                <div class="inline-input cb">\n                  <input class="cb_input" type="checkbox" id="cbComplete" ng-model="sfObject.docComplete" />\n                  <label class="cb_label" for="cbComplete" translate="Completed envelope only"></label>\n                </div>\n\n              </div>\n            </div>\n          </div>\n\n          <div class="form-group conditional-group">\n            <div class="inline-input cb">\n              <input class="cb_input" type="checkbox" id="attachCert" ng-model="sfObject.attachCert" />\n              <label class="cb_label" for="attachCert" translate="Attach DocuSign Certificate"></label>\n\n              <div class="related-input conditional-hide" ng-if="sfObject.attachCert">\n                <div class="fgrid fgrid-eq">\n                  <div class="fgrid_cell">\n                    <div class="form-group">\n                      <label class="label" for="certFilename" translate="Filename"></label>\n\n                      <div class="select-wrap">\n                        <select id="certFilename" ng-model="sfObject.certFileName">\n                          <option value="CertificatePDF" translate=\'"Certificate" + Envelope ID + .pdf\'></option>\n                          <option value="Custom">Custom</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="fgrid_cell" ng-if="sfObject.certFileName === \'Custom\'">\n                    <div class="form-group">\n                      <label class="label">&nbsp;</label>\n                      <input class="input-text" type="text" ng-model="sfObject.certCustomFileName" ds-valid\n                             required translate translate-attr-placeholder="Custom File Name" />\n                    </div>\n                  </div>\n                </div>\n                <div class="inline-input cb">\n                  <input class="cb_input" type="checkbox" id="certNewFile" ng-model="sfObject.certNewFile" />\n                  <label class="cb_label" for="certNewFile" translate="New file on each publish"></label>\n                </div>\n\n                <div class="inline-input cb">\n                  <input class="cb_input" type="checkbox" id="certComplete" ng-model="sfObject.certComplete"/>\n                  <label class="cb_label" for="certComplete" translate="Completed envelope only"></label>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class="text-center grid pad" ds-loading="sfObject.loadingDone"\n       ds-progress-message="{{\'Getting Salesforce Objects\' | translate}}" ds-loading-succeeded="entriesDoneLoading"\n       ds-loading-error="{{\'Oops! We had trouble loading your Salesforce connect object. Go ahead and try that again.\' | translate}}"></div>\n\n  \x3c!-- SAVE / CANCEL SECTION /////////////////////////////////////////////////////////////////////--\x3e\n  <div class="section" ng-if="entriesDoneLoading">\n    <div class="action-btns">\n      <button class="btn btn-primary" ds-form-submit="sfObject.save()" ng-disabled="sfObjectForm.$pristine"\n              translate="Save"></button>\n      <button class="btn btn-minor" ng-click="sfObject.cancel()" translate="Cancel"></button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.factory("SalesforceObjectService",["appUser","dsApiClient","dsDocumentLabel","SalesforceObjectModel","ConnectConfigurationsService","lodash",function(e,t,n,a,i,s){var o=e.getCurrentAccountId();function r(e){return{dsNode:"EnvelopeCustomField",dsAttribute:e.name,displayName:"EnvelopeCustomField:"+e.name}}return{getSalesforceObjects:function(e){var n=t.endpoint().accounts(o).connect(e).objectHierarchy().uri();return t.get(n).then(function(e){if(e.data)return s.map(e.data.connectObjects,a.createFromApiResponse)})},getSalesforceFields:function(e,n){var a=t.endpoint().accounts(o).connect(e).objectHierarchy().uri({path:n});return t.get(a).then(function(e){return s.remove(e.data.connectObjects,function(e){return"child_relationship"===e.dataType}),s.sortBy(e.data.connectObjects,"displayName")})},getDocumentLabels:function(){return n.getForAccount(o).then(function(e){return s.map(e,r)})},save:function(e){return i.save(e)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=n(11),o=function(){function e(){this.sfObject="",this.active=null,this.onCompleteOnly=null,this.description="",this.sfObjectName="",this.selectFields=[new i],this.updateFields=[new i],this.displayName="",this.insert=null,this.isCreateable=null}return e.createFromApiResponse=function(t){var n=new e;return n.sfObject=t.name||t.sfObject,n.sfObjectName=t.sfObjectName||t.sfObject,n.displayName=t.displayName||t.sfObjectName||t.sfObject,n.active=t.active,n.description=t.description,n.onCompleteOnly=t.onCompleteOnly,n.insert=t.insert,n.isCreateable=t.isCreateable,n.selectFields=a.map(t.selectFields,i.createFromApiResponse),n.updateFields=a.map(t.updateFields,i.createFromApiResponse),n},e}();s.ConnectModule.factory("SalesforceObjectModel",["lodash","SalesforceFieldModel",function(e,t){return a=e,i=t,o}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=n(13);a.ConnectModule.controller("SalesforceObjectController",["$scope","$rootScope","$state","$stateParams","$translate","NotificationQueueService","dsModals","dsNotification","SalesforceObjectService","ConnectConfigurationsService","$q","SalesforceObjectModel","SalesforceFieldModel","SalesforceConfigurationModel",function(e,t,n,a,s,o,r,l,c,d,u,p,m,g){var h=this,f=d.active(),v=d.getActiveObject().salesforceObject,_=!0;function b(t){i.pull(h.selectedObject.selectFields,t),e.sfObjectForm.$setDirty()}function y(t){i.pull(h.selectedObject.updateFields,t),e.sfObjectForm.$setDirty()}function A(e){var t=i.find(h.allUpdateFields,function(t){return t.name===e});if(!i.isEmpty(t))return"textarea"===t.dataType}function S(){h.selectedObject.selectFields.push(new m),e.sfObjectForm.$setDirty()}function w(){h.selectedObject.updateFields.push(new m),e.sfObjectForm.$setDirty()}function C(e,t){e.dsNode=t.dsNode,e.dsAttribute=t.dsAttribute,e.sfLockedValue=function(e){return/^custom$/i.test(e.displayName)}(e.docuSignField)?e.sfLockedValue:null}function P(e){return T(h.allSelectDocuSignFields,h.allSelectFields,e)}function E(e){return T(h.allUpdateDocuSignFields,h.allUpdateFields,e)}function T(e,t,n){n.docuSignField=i.find(e,function(e){return n.sfLockedValue?function(e){return""===e.dsNode&&""===e.dsAttribute}(e):function(e,t){return e.dsNode===t.dsNode}(e,n)&&(function(e,t){return e.dsAttribute===t.dsAttribute}(e,n)||function(e){return/^tab$/i.test(e)}(n.dsNode))});var a=i.find(t,function(e){return e.objectName===n.sfField});return i.isEmpty(a)&&(n.sfField=null),n}function M(){return h.selectedObject.active}function k(){h.selectedObject.active=!h.selectedObject.active,e.sfObjectForm.$setDirty()}function I(e){return"##docattachment"!==e.dsNode&&"##certattachment"!==e.dsNode}function D(){e.showLoadingText=!1,r.openModal("site/templates/loading modal.html",e,"sm",!0,!1),i.isEmpty(h.selectedObject.sfObjectName)&&(h.selectedObject.sfObjectName=h.allObjectSelected.displayName),function(){var e=new m;if(i.remove(h.selectedObject.updateFields,function(e){return"##docattachment"===e.dsNode||"##docattachment"===e.sfField}),h.attachDocs){var t=i.isEmpty(h.docCustomFileName)?h.docName:h.docCustomFileName;e.dsAttribute=[h.docContents,+h.docNewFile,+h.docComplete,t].join(","),e.dsNode="##docattachment",e.sfField="##docattachment",h.selectedObject.updateFields.unshift(e)}var n=new m;if(i.remove(h.selectedObject.updateFields,function(e){return"##certattachment"===e.dsNode||"##certattachment"===e.sfField}),h.attachCert){var a=i.isEmpty(h.certCustomFileName)?h.certFileName:h.certCustomFileName;n.dsAttribute=["Certificate",+h.certNewFile,+h.certComplete,a].join(","),n.dsNode="##certattachment",n.sfField="##certattachment",h.selectedObject.updateFields.unshift(n)}}(),v?d.active().sfObjects[d.getActiveObject().index]=h.selectedObject:d.active().sfObjects.push(h.selectedObject),c.save(d.active()).then(function(e){f=g.createFromApiResponse(e),d.active(f);var t={msg:s.instant("You successfully updated your Salesforce configuration."),type:"success"};o.displayOnNextNavigation(t),r.closeModal(),O()},function(e){r.closeModal(),l.show({msg:e.message,type:"alert"})})}function N(){r.openModal("site/templates/confirmation-modal.html",e,"sm",!0,!1)}function x(){return _||(e.showLoadingText=!0,r.openModal("site/templates/loading modal.html",e,"sm",!0,!1)),!h.allObjectSelected.isCreateable&&h.selectedObject.insert&&(h.selectedObject.insert=!1),c.getSalesforceFields(f.connectId,h.allObjectSelected.sfObject).then(function(e){i.isEmpty(h.selectedObject.sfObjectName)&&(h.selectedObject.sfObjectName=h.allObjectSelected.sfObjectName),h.selectedObject.sfObject=h.allObjectSelected.sfObject,h.allSelectFields=e,h.allUpdateFields=i.filter(e,function(e){return"reference"===e.dataType||!0===e.isUpdateable}),v?(h.selectedObject.selectFields=i.map(v.selectFields,P),h.selectedObject.updateFields=i.map(v.updateFields,E),function(){var e=i.find(h.selectedObject.updateFields,function(e){return"##docattachment"===e.dsNode});if(!i.isEmpty(e)){h.attachDocs=!0;var t=e.dsAttribute.split(",");if(4===t.length){h.docContents=t[0],h.docNewFile="1"===t[1],h.docComplete="1"===t[2];var n=i.indexOf(["Name","NameEnvStatus","NamePDF","NamePDFReplaceExt","NameEnvStatusPDF","NameEnvStatusPDFReplaceExt","EnvelopePDF","EnvelopeEnvStatusPDF"],t[3]);n>-1?h.docName=t[3]:(h.docName="Custom",h.docCustomFileName=t[3])}}var a=i.find(h.selectedObject.updateFields,function(e){return"##certattachment"===e.dsNode});if(!i.isEmpty(a)){h.attachCert=!0;var s=a.dsAttribute.split(",");4===s.length&&(h.certNewFile="1"===s[1],h.certComplete="1"===s[2],"CertificatePDF"===s[3]?h.certFileName=s[3]:(h.certFileName="Custom",h.certCustomFileName=s[3]))}}()):(h.selectedObject.selectFields=[new m],h.selectedObject.updateFields=[new m])}).finally(function(){_&&(_=!1),r.closeModal()})}function O(){n.go("authenticated.edit-salesforce-configuration",{connectId:a.connectId})}(function(){e.confirm=O,e.headerText="Confirm",e.contentText="Are you sure you want to discard all changes?",e.confirmButtonText="Yes",e.cancelButtonText="Cancel",h.name="",h.attachCert=!1,h.certComplete=!1,h.certNewFile=!1,h.certFileName="CertificatePDF",h.certCustomFileName="",h.attachDocs=!1,h.docName="Name",h.docContents="Document",h.docNewFile=!1,h.docComplete=!1,h.docCustomFileName="",h.selectedObject=new p,v?h.selectedObject=v:_=!1;h.allObjectSelected=null,h.allSelectFields=[],h.allUpdateFields=[],h.allObjects=[],h.allSelectDocuSignFields=[],h.allUpdateDocuSignFields=[],h.selectedSelectDocuSignField=null,h.selectedUpdateDocuSignField=null,h.save=D,h.cancel=N,h.onObjectChange=x,h.isActive=M,h.toggleActivation=k,h.setField=C,h.addSelectField=S,h.addUpdateField=w,h.filterAttachmentFields=I,h.checkShowLink=A,h.removeSelectField=b,h.removeUpdateField=y,h.loadingDone=function(){var e=c.getSalesforceObjects(f.connectId),t=c.getDocumentLabels();h.allSelectDocuSignFields=[{dsNode:"Document",dsAttribute:"DocumentId",displayName:"Document ID"},{dsNode:"Document",dsAttribute:"Name",displayName:"Document Name"},{dsNode:"Document",dsAttribute:"NamePDF",displayName:"Document Name + .pdf"},{dsNode:"Envelope",dsAttribute:"EnvelopeId",displayName:"Envelope ID"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFAccount",displayName:"Envelope External Account"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFCase",displayName:"Envelope External Case"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFContract",displayName:"Envelope External Contract"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFOpportunity",displayName:"Envelope External Opportunity"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFQuote",displayName:"Envelope External Quote"},{dsNode:"EnvelopeCustomField",dsAttribute:"DSFSSourceObjectId",displayName:"Envelope External Source ID"},{dsNode:"Envelope",dsAttribute:"UserName",displayName:"Envelope Sender"},{dsNode:"Envelope",dsAttribute:"Email",displayName:"Envelope Sender Email"},{dsNode:"Envelope",dsAttribute:"Subject",displayName:"Subject"},{dsNode:"Recipient",dsAttribute:"CompanyName",displayName:"Recipient Company"},{dsNode:"Recipient",dsAttribute:"Email",displayName:"Recipient Email"},{dsNode:"Recipient",dsAttribute:"ExternalUserName",displayName:"Recipient External Contact"},{dsNode:"Recipient",dsAttribute:"ExternalUserName",displayName:"Recipient External Lead"},{dsNode:"Recipient",dsAttribute:"RecipientId",displayName:"Recipient ID"},{dsNode:"Recipient",dsAttribute:"UserName",displayName:"Recipient Name"},{dsNode:"Tab",dsAttribute:"",displayName:"Recipient Secure Field"},{dsNode:"Envelope",dsAttribute:"CertificatePDF",displayName:"'Certificate ' + Envelope ID + .pdf"},{dsNode:"Envelope",dsAttribute:"EnvelopePDF",displayName:"'Envelope ' + Envelope ID + .pdf"},{dsNode:"",dsAttribute:"",displayName:"Custom"}],h.allUpdateDocuSignFields=[{dsNode:"Document",dsAttribute:"DocumentId",displayName:"Document ID"},{dsNode:"Document",dsAttribute:"Name",displayName:"Document Name"},{dsNode:"Document",dsAttribute:"NamePDF",displayName:"Document Name + .pdf"},{dsNode:"Document",dsAttribute:"Document",displayName:"Document - one PDF per document"},{dsNode:"Envelope",dsAttribute:"Document",displayName:"Document - one PDF per envelope"},{dsNode:"Envelope",dsAttribute:"EnvelopeId",displayName:"Envelope ID"},{dsNode:"Envelope",dsAttribute:"Certificate",displayName:"Envelope Certificate"},{dsNode:"Envelope",dsAttribute:"Completed",displayName:"Envelope Completed Date"},{dsNode:"Envelope",dsAttribute:"Created",displayName:"Envelope Created Date"},{dsNode:"Envelope",dsAttribute:"Delivered",displayName:"Envelope Delivered Date"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFAccount",displayName:"Envelope External Account"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFCase",displayName:"Envelope External Case"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFContract",displayName:"Envelope External Contract"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFOpportunity",displayName:"Envelope External Opportunity"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFQuote",displayName:"Envelope External Quote"},{dsNode:"EnvelopeCustomField",dsAttribute:"DSFSSourceObjectId",displayName:"Envelope External Source ID"},{dsNode:"Envelope",dsAttribute:"SentInitial",displayName:"Envelope Initial Sent Date"},{dsNode:"Envelope",dsAttribute:"UserName",displayName:"Envelope Sender"},{dsNode:"Envelope",dsAttribute:"Email",displayName:"Envelope Sender Email"},{dsNode:"Envelope",dsAttribute:"Sent",displayName:"Envelope Sent Date"},{dsNode:"Envelope",dsAttribute:"Signed",displayName:"Envelope Signed Date"},{dsNode:"Envelope",dsAttribute:"Status",displayName:"Envelope Status"},{dsNode:"Envelope",dsAttribute:"Subject",displayName:"Subject"},{dsNode:"Envelope",dsAttribute:"Voided",displayName:"Envelope Void Date"},{dsNode:"Envelope",dsAttribute:"VoidedReason",displayName:"Envelope Void Reason"},{dsNode:"Recipient",dsAttribute:"CompanyName",displayName:"Recipient Company"},{dsNode:"Recipient",dsAttribute:"Declined",displayName:"Recipient Declined Date"},{dsNode:"Recipient",dsAttribute:"DeclineReason",displayName:"Recipient Declined Reason"},{dsNode:"Recipient",dsAttribute:"Delivered",displayName:"Recipient Delivered Date"},{dsNode:"Recipient",dsAttribute:"Email",displayName:"Recipient Email"},{dsNode:"Recipient",dsAttribute:"ExternalCompanyName",displayName:"Recipient External Account"},{dsNode:"Recipient",dsAttribute:"ExternalUserName",displayName:"Recipient External Contact"},{dsNode:"Recipient",dsAttribute:"ExternalUserName",displayName:"Recipient External Lead"},{dsNode:"Recipient",dsAttribute:"UserName",displayName:"Recipient Name"},{dsNode:"Recipient",dsAttribute:"RoutingOrder",displayName:"Recipient Routing Order"},{dsNode:"Recipient",dsAttribute:"Sent",displayName:"Recipient Sent Date"},{dsNode:"Recipient",dsAttribute:"Signed",displayName:"Recipient Signed Date"},{dsNode:"Recipient",dsAttribute:"WetSigned",displayName:"Recipient Signed On Paper"},{dsNode:"Recipient",dsAttribute:"Status",displayName:"Recipient Status"},{dsNode:"Recipient",dsAttribute:"JobTitle",displayName:"Recipient Title"},{dsNode:"Recipient",dsAttribute:"RecipientType",displayName:"Recipient Type"},{dsNode:"Recipient",dsAttribute:"RecipientId",displayName:"Recipient ID"},{dsNode:"Tab",dsAttribute:"",displayName:"Recipient Secure Field"},{dsNode:"Envelope",dsAttribute:"CertificatePDF",displayName:"'Certificate ' + Envelope ID + .pdf"},{dsNode:"Envelope",dsAttribute:"EnvelopePDF",displayName:"'Envelope ' + Envelope ID + .pdf"},{dsNode:"",dsAttribute:"",displayName:"Custom"}];var n=u.all([e,t]).then(function(e){h.allObjects=e[0];var t=e[1];i.isEmpty(t)||i.forEach(t.reverse(),function(e){h.allSelectDocuSignFields.unshift(e),h.allUpdateDocuSignFields.unshift(e)}),v&&(h.allObjectSelected=i.find(h.allObjects,function(e){return e.sfObject===v.sfObject}))});return v?[{promise:n,progressMessage:s.instant("Getting Salesforce Objects")},{promise:x,progressMessage:s.instant("Getting Salesforce Fields")}]:n}()})(),t.$on("$stateChangeSuccess",function(e,t,n,a){h.previousState=a})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(11),s=function(){function e(){this.environment="production",this.userName="",this.password="",this.customUrl="",this.salesforceApiVersion="21",this.salesforceApiVerionsAvailable=["21","39"]}return e.create=function(t,n,i){var s=new e;return s.userName=t,s.salesforceApiVersion=i.toString(),s.environment=function(e){return a.includes(["production","test"],e)?e:"custom"}(n),s.customUrl=function(e){return a.includes(["production","test"],e)?"":e}(n),s},e.prototype.urlToPublishTo=function(){return"custom"===this.environment?this.customUrl:this.environment},e}();i.ConnectModule.factory("SalesforceLoginModel",["lodash",function(e){return a=e,s}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=function(){function e(){this.id=null,this.dsNode="",this.dsAttribute="",this.dsLink=!1,this.sfFolder="",this.sfLockedValue="",this.sfField="",this.displayName=""}return e.createFromApiResponse=function(t){var n=new e;return n.dsNode=t.dsNode,n.dsAttribute=t.dsAttribute,n.dsLink=t.dsLink,n.sfFolder=t.sfFolder,n.sfLockedValue=t.sfLockedValue,n.sfField=t.sfField,n},e}();a.ConnectModule.factory("SalesforceFieldModel",[function(){return i}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=n(11),o=function(){function e(){this.connectId=null,this.userName=null,this.name="Salesforce Connection",this.urlToPublishTo="production",this.configurationType="salesforce",this.allowSalesforcePublish=!1,this.senderOverride=!1,this.enableLog=!0,this.requiresAcknowledgement=!0,this.salesforceDocumentsAsContentFiles=!0,this.salesforceApiVersion="21",this.senderSelectableItems=[],this.allUsers=!0,this.users=[],this.recipientEvents=[],this.envelopeEvents=[],this.sfObjects=[]}return e.createFromApiResponse=function(t){var n=new e;return a.extend(n,t),a.isUndefined(t.senderSelectableItems)||a.pull(n.senderSelectableItems,""),a.isUndefined(t.envelopeEvents)||a.pull(n.envelopeEvents,""),a.isUndefined(t.recipientEvents)||a.pull(n.recipientEvents,""),t.allUsers||(n.users=a.map(t.userIds,function(e){return{id:e}})),n.sfObjects=a.map(t.sfObjects,i.createFromApiResponse),n},e.prototype.toggleActivation=function(){this.allowSalesforcePublish=!this.allowSalesforcePublish},e.prototype.isActive=function(){return this.allowSalesforcePublish},e.prototype.toApiModel=function(){var e=a.extend({},this);return this.allUsers||(e.userIds=a.map(this.users,function(e){return e.id}),delete e.users),e},e.prototype.hasObjects=function(){return!a.isEmpty(this.sfObjects)},e}();t.SalesforceConfigurationModel=o,s.ConnectModule.factory("SalesforceConfigurationModel",["lodash","SalesforceObjectModel",function(e,t){return a=e,i=t,o}])},function(e,t){var n="connect/salesforce-configuration-header.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item" \n         ui-sref="authenticated.connect"\n         translate="Connect Configurations List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Connect for Salesforce Configuration"></span>\n    </li>\n  </ul>\n</div>')}]),e.exports=n},function(e,t){var n="connect/folder-selector-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="FolderSelectorController as folderSelector" olive-modal-header>\n  <div class=\'modal_header\'>\n    <h1 translate="Select Folder"></h1>\n  </div>\n\n  <div class=\'modal_content\' olive-modal-content>\n    <div ng-if="entriesDoneLoading" class="tree tree-sidebar" olive-tree="{{folderSelector.root.id}}">\n      <ul class="tree_list">\n        <li ng-repeat="item in folderSelector.root.items" ng-include="\'folderTree\'"></li>\n      </ul>\n      <ul class="tree_list" ng-if="folderSelector.root.showLoadMore">\n        <li ng-if="!folderSelector.root.loading">\n          <a class="tree_item btn btn-minor text-right" ng-click="folderSelector.loadMore(folderSelector.root)"\n             translate="Load More"></a>\n        </li>\n        <li class="text-center" ng-if="folderSelector.root.loading">\n          <span class="spinner-circle spinner-sm" ng-if="folderSelector.root.loading"></span>\n        </li>\n      </ul>\n    </div>\n\n    <script type="text/ng-template" id="folderTree">\n      <a class="tree_item"\n         ng-click="folderSelector.currentFolder = item"\n         ng-class="{\'tree_item-isClosed\': !item.isOpen}"\n         ng-attr-olive-tree-expandable="{{ item.items !== null }}">\n\n            <span class="tree_itemTrigger"\n                  ng-if="item.items"\n                  ng-class="{\'icon-menu-triangle-right\': !item.isOpen, \'icon-menu-triangle-down\': item.isOpen}"\n                  ng-click="folderSelector.toggleFolder(item)"\n                  olive-tree-trigger></span>\n\n            <span class="tree_itemText" title="{{ item.title }}">\n                <span class="tree_itemIcon {{ item.iconCssClass }}"></span>\n                {{ item.title }}\n            </span>\n      </a>\n      <ul class="tree_list" ng-if="item.loading">\n        <li class="text-center"><span class="spinner-circle spinner-sm"></span></li>\n      </ul>\n      <ul class="tree_list" ng-if="item.items">\n        <li ng-repeat="item in item.items" ng-include="\'folderTree\'"></li>\n      </ul>\n      <ul class="tree_list" ng-if="item.showLoadMore">\n        <li ng-if="!item.loading">\n          <a class="tree_item btn btn-minor text-right"\n               ng-click="folderSelector.loadMore(item)" translate="Load More"></a>\n        </li>\n        <li class="text-center" ng-if="item.loading">\n          <span class="spinner-circle spinner-sm" ng-if="item.loading"></span>\n        </li>\n      </ul>\n    <\/script>\n    <div class="text-center grid pad"\n         ds-loading="folderSelector.loadingDone"\n         ds-progress-message="{{\'Getting Folders\' | translate}}"\n         ds-loading-succeeded="entriesDoneLoading"></div>\n  </div>\n\n  <div class=\'modal_footer\' olive-modal-footer>\n    <button type="button" class="btn btn-xl btn-primary"\n            ng-disabled="!entriesDoneLoading"\n            ng-click="folderSelector.select()" translate="Select"></button>\n    <button type="button" class=\'btn btn-xl btn-minor\' olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=function(){function e(e,t,n,a,i,s){this._$scope=e,this._connectService=t,this._oliveModal=n,this._$translate=a,this._oliveMessage=i,this._=s,this.serviceId=this._$scope.provider.serviceId,this.root={id:this.serviceId,items:[]},this.folderStatus=[],this.loadingDone=this._getFolders(this.root)}return e.prototype.select=function(){this.currentFolder===this.root||this._.isEmpty(this.currentFolder)?this._oliveMessage.show({content:this._$translate.instant("You have not selected a folder."),type:"alert",modal:!0}):(this._$scope.$emit("FolderSelected",this.currentFolder),this._oliveModal.closeAllModals())},e.prototype.loadMore=function(e){var t=e&&!this._.isEmpty(e.items)?e.items.length:0;this._getFolders(e,t)},e.prototype.toggleFolder=function(e){var t=this._.find(this.folderStatus,{id:e.id});t?t.isOpen=!t.isOpen:(t={id:e.id,isOpen:!0},this.folderStatus.push({id:e.id,isOpen:!0})),!e.items||this._.isEmpty(e.items)||t.isOpen?this._getFolders(e):e.showLoadMore=!1},e.prototype._getFolders=function(e,t){var n=this;if(this.currentFolder=e,t||!this.currentFolder.items||this._.isEmpty(this.currentFolder.items))return this.currentFolder.loading=!0,this._connectService.getFolders(this.serviceId,this.currentFolder.id,t).then(function(e){if(this._.isEmpty(e))this.currentFolder.items=null;else{var t=e.map(function(e){return{id:e.id,title:e.name,iconCssClass:"icon-folder tree_itemAction-pale",isOpen:!1,hasMenu:!1,expandable:!this._.isEmpty(e.uri),loading:!1,items:[],showLoadMore:!1}}.bind(this));this.currentFolder.items=this.currentFolder.items.concat(t),this.currentFolder.showLoadMore=a.call(this,this.currentFolder)}}.bind(this)).catch(function(e){n._oliveMessage.show(n._$translate.instant("We had trouble loading your folders. Go ahead and try that again."),"folderLoadingError","error")}).finally(function(){n.currentFolder.loading=!1});function a(e){return!this._.isEmpty(e.items)&&e.items.length%40==0}this.currentFolder.showLoadMore=a(this.currentFolder)},e}();a.ConnectModule.controller("FolderSelectorController",["$scope","ConnectConfigurationsService","oliveModal","$translate","oliveMessage","lodash",i])},function(e,t){var n="connect/envelope-publish.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="EnvelopePublishController as publish">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" data-qa="envelope_publish_header">{{ publish.title }}</h1>\n    <div class="modal_description" ng-if="publish.isUpload"\n         data-qa="envelope_publish_message_div"\n         translate="Select UPLOAD .CSV FILE and upload a CSV file with the envelope IDs to publish. Select if the DocuSign Connect Settings should be applied and then select PUBLISH."></div>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="form_unit">\n      <div class="cb inline-input">\n        <input class="cb_input" type="checkbox" id="apply_docusign_connect" ng-model="publish.applyConnectSettings"\n               data-qa="envelope_publish_apply_connect_settings_cb">\n        <label class="cb_label" for="apply_docusign_connect"\n               data-qa="envelope_publish_apply_connect_settings_cb_lbl"\n               translate="Apply DocuSign Connect Settings"></label>\n      </div>\n    </div>\n    <div ng-if="publish.isUpload">\n      <div class="modal_utilityHeader">\n        <h2 translate="Upload CSV"></h2>\n      </div>\n      <div class="section">\n        <div class="select-file">\n          <div ng-if="!publish.base64File.filename">\n            <div class="form_unit">\n              <span class="label" data-qa="envelope_publish_add_csv_confirm_message_div"\n                    translate="Verify the file data is correct before submitting. You will not be able to undo this action.">\n              </span>\n              <label for="uploadEnvelopes1" class="btn btn-secondary btn-file" data-qa="envelope_publish_add_csv_btn">\n                <span translate="{{publish.selectFileAction}}"></span>\n                <input id="uploadEnvelopes1" type="file" ng-model="publish.base64File" base-sixty-four-input\n                       accept=".csv"></label>\n            </div>\n          </div>\n          <div ng-if="publish.base64File.filename">\n            <div class="form_unit">\n              <div class="form_group form_group-unified">\n                <div class="form_item">\n                  <input type="text" class="input-text" id="selectedFile" disabled="disabled"\n                         ng-model="publish.base64File.displayingFilename">\n                </div>\n                <label for="uploadEnvelopes2" class="btn btn-secondary btn-file u-nowrap"\n                    data-qa="envelope_publish_add_csv_btn">\n                  <span translate="{{publish.selectFileAction}}"></span>\n                  <input id="uploadEnvelopes2" type="file" accept=".csv" ng-model="publish.base64File"\n                    base-sixty-four-input>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="!publish.isUpload" data-qa="envelope_publish_confirm_message_div">\n      <p translate="You are publishing 1 envelope, could you confirm?" ng-if="envelopeList.length === 1"></p>\n      <p translate="You are publishing [[count]] envelopes, could you confirm?" ng-if="1 < envelopeList.length"\n         translate-interpolation="bracket" translate-values="{count: envelopeList.length}"></p>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ng-disabled="!publish.validated()" translate="Publish"\n            data-qa="envelope_publish_publish_btn"\n            ng-click="publish.publishEnvelopes()"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-complete\n            data-qa="envelope_publish_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=function(){function e(e,t){this.api=e,this.appUser=t}return e.prototype.publish=function(e){var t=this.api.endpoint().accounts(this.appUser.getCurrentAccountId()).connect().envelopes().publish().uri();return this.api.post(t,e).then(function(e){return e.data})},e.prototype.getPublishStatus=function(e){var t=this.api.endpoint().accounts(this.appUser.getCurrentAccountId()).connect().envelopes().publish().uri();return this.api.get(t).then(function(e){return e.data})},e.prototype.getPublishStatusById=function(e){var t=this.api.endpoint().accounts(this.appUser.getCurrentAccountId()).connect().envelopes().publish(e).uri();return this.api.get(t).then(function(e){return e.data})},e}();a.ConnectModule.service("EnvelopePublishService",["dsApiClient","appUser",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(11),s="Publish Using CSV",o="Publish Envelopes",r="Upload .CSV File",l="Change .CSV File",c=/The maximum number of envelopes is (\d+)\.$/i,d=function(){function e(e,t,n,a,i,c){var d=this;this._$scope=e,this._$state=t,this._$translate=n,this._oliveModal=a,this._=i,this.envelopePublishService=c,this.selectFileAction=r,this._$scope.isUpload?(this.title=this._$translate.instant(s),this.isUpload=!0):this.title=this._$translate.instant(o),this._$scope.$watch("publish.base64File",function(e,t){e!==t&&(d.selectFileAction=l,d.base64File.displayingFilename=d.base64File.filename,d.base64File.filename=d._asciiFilename(d.base64File.filename),d.base64File.filename!==d.base64File.displayingFilename&&(d.base64File.displayingFilename=d.base64File.displayingFilename+"("+d.base64File.filename+")"))})}return e.prototype.validated=function(){return!this.isUpload||!this._.isEmpty(this.base64File)},e.prototype.publishEnvelopes=function(){var e={applyConnectSettings:this.applyConnectSettings};this.isUpload?(e.envelopeIdsBase64=this.base64File.base64,this._$scope.displayingFilename=this.base64File.displayingFilename,this._oliveModal.openModal({scope:this._$scope,templateUrl:"connect/envelope-publish-confirm.html",showClose:!1,size:"md",onComplete:this._publish.bind(this,e)})):(e.envelopeIds=this._$scope.envelopeList,this._publish(e))},e.prototype._publish=function(e){var t=this;this.envelopePublishService.publish(e).then(function(e){t._.isEmpty(e.envelopePublishTransactionId)?t._errorMessage(null):(t._oliveModal.getTopModal().close(),t._$state.go("authenticated.bulk-actions",{bulkType:"publish"}))}).catch(function(e){if(!t._.isEmpty(e.data.errorCode)){var n=t._errorMessage(e.data);t._.isEmpty(n)||t._oliveModal.getTopModal().addMessage(n,"envelopePublishError","error",{allowUnsafeHtml:!1})}}).finally(function(){t._oliveModal.getTopModal().allowClose()})},e.prototype._asciiFilename=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e)?a(Date.now()).format("HH_mm")+".csv":e},e.prototype._errorMessage=function(e){var t=e&&e.errorCode&&e.errorCode.toUpperCase(),n=e&&e.message||"";switch(t){case"ENVELOPE_PUBLISH_TRANSACTIONS_PENDING":return this._$translate.instant("Cannot submit envelope publish requests when others are pending.");case"ENVELOPE_PUBLISH_EnvelopeIds_Missing":return this._$translate.instant("No envelopes were identified for transfer.");case"ENVELOPE_PUBLISH_MAX_ENVELOPES_EXCEEDED":var a=n.match(c),i=a&&a.pop();return i?this._$translate.instant("The maximum number of envelopes for publish was exceeded. The maximum number of envelopes is {{limit}}.",{limit:i}):this._$translate.instant("Your .csv file could not be uploaded. The maximum number of envelopes for publish was exceeded.");default:return this._$translate.instant("Your .csv file could not be uploaded. Please try again later.")}},e}();i.ConnectModule.controller("EnvelopePublishController",["$scope","$state","$translate","oliveModal","lodash","EnvelopePublishService",d])},function(e,t){var n="connect/envelope-publish-confirm.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="bulk-actions-confirm">\n  <div class="modal_header"\n       data-qa="envelope_publish_csv_confirm_header"\n       translate="Confirm Envelope Publish"></div>\n\n  <div class="modal_content" data-qa="envelope_publish_csv_confirm_message_div">\n    <p>\n      <span\n        translate="Are you sure that you want to publish the envelopes in the [[formatStart]][[filename]][[formatEnd]] file?"\n        translate-interpolation="bracket" translate-values="{\n          formatStart: \'<strong class=\\\'selected-file\\\' \' +\n            \'title=\\\'{{ publish.base64File.displayingFilename }}\\\'>\',\n          filename: publish.base64File.displayingFilename,\n          formatEnd: \'</strong>\'\n        }">\n      </span>\n      <span translate="You will not be able to undo this action."></span>\n    </p>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" olive-modal-complete\n            data-qa="envelope_publish_csv_confirm_btn"\n            translate="Confirm"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape\n            data-qa="envelope_publish_csv_confirm_cancel_btn"\n            translate="Back"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="connect/edit-salesforce-login.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='EditSalesforceLoginController as login' ds-form>\n  <div class='header'>\n    <h1 translate>Login Configuration</h1>\n  </div>\n\n  <div class='grid content' ng-include=\"'connect/add-edit-salesforce-login.html'\"></div>\n\n  <div class='footer'>\n    <button id='salesforce-login-save' type=\"submit\" class=\"btn btn-lg btn-primary\"\n            ds-form-submit='login.save()' translate>Save</button>\n    <button type=\"button\" class=\"btn btn-lg btn-minor\"\n            ds-close-modal translate>Cancel</button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("EditSalesforceLoginController",["SalesforceLoginModel","ConnectConfigurationsService","dsModals","dsNotification","$translate",function(e,t,n,a,i){var s,o=this;function r(){s.userName=o.model.userName,s.password=o.model.password,s.salesforceApiVersion=o.model.salesforceApiVersion,s.urlToPublishTo=o.model.urlToPublishTo(),t.save(s).then(function(){t.active(s),n.closeModal(),a.show({msg:i.instant("Your Salesforce credentials have been successfully saved."),type:"success"})},function(){a.show({msg:i.instant("Your credentials are invalid. Please correct them and try again."),type:"alert",modal:!0})})}s=t.active(),o.model=e.create(s.userName,s.urlToPublishTo,s.salesforceApiVersion),o.save=r}])},function(e,t){var n="connect/edit-salesforce-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditCustomConnectConfigurationController\'>\n  <div ng-controller=\'EditSalesforceConfigurationController\' ds-form>\n    <div ng-include="\'connect/salesforce-configuration-header.html\'"></div>\n\n    <div class="section">\n      <h1 class="header-title" translate>Connect for Salesforce Configuration</h1>\n\n      <div class="header-actions">\n        <button id="page-save-top" class="btn btn-primary"\n                ds-modal=\'site/templates/loading modal.html\'\n                ds-form-submit=\'save()\'\n                ng-disabled="formView.$pristine"\n                translate>Save</button>\n        <button id="page-cancel-top" class="btn btn-minor" ui-sref="authenticated.connect" translate>Cancel</button>\n      </div>\n    </div>\n\n    <form name="formView">\n      <div class=\'section add-edit-configuration\' ng-include="\'connect/add-edit-salesforce-configuration.html\'"></div>\n    </form>\n\n    <div class="section">\n      <div class="action-btns">\n        <button id="page-save-bottom" class="btn btn-primary"\n                ds-modal=\'site/templates/loading modal.html\'\n                ds-form-submit=\'save()\'\n                ng-disabled="formView.$pristine"\n                translate>Save</button>\n        <button id="page-cancel-bottom"\n                class="btn btn-minor"\n                ui-sref="authenticated.connect"\n                translate>Cancel</button>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=n(2);a.ConnectModule.controller("EditSalesforceConfigurationController",["$scope","ConnectConfigurationsService","$state","dsNotification","dsModals","$translate","$timeout","lodash",function(e,t,n,a,s,o,r,l){var c;function d(a,i){t.setActiveObject(a,i),e.formView.$pristine?n.go("authenticated.salesforce-object"):(e.confirm=u,e.headerText="Confirm",e.contentText="You have unsaved changes, do you want to save?",e.confirmButtonText="Save",s.openModal("site/templates/confirmation-modal.html",e,"sm",!0,!1))}function u(){_().then(function(){n.go("authenticated.salesforce-object")})}function p(e){e.active=!e.active}function m(t){e.form.selectedObject=t,e.confirm=g,e.headerText="DS_CONTEXT=(salesforce object) Delete",e.contentText="Are you sure you want to delete this object?",e.confirmButtonText="Yes",s.openModal("site/templates/confirmation-modal.html",e,"sm",!0,!1)}function g(){e.form.selectedObject&&(l.pull(e.form.model.sfObjects,e.form.selectedObject),e.form.selectedObject=null,s.closeModal())}function h(t){return l.includes(e.form.model.senderSelectableItems,t)}function f(t){return l.includes(e.form.model.envelopeEvents,t)}function v(t){return l.includes(e.form.model.recipientEvents,t)}function _(){return t.save(e.form.model).then(function(){c=i.copy(e.form.model),s.closeModal(),n.go("authenticated.connect"),r(function(){a.show({msg:o.instant("You successfully updated your Salesforce configuration."),type:"success"})},0)},function(e){s.closeModal(),a.show({msg:e.message,type:"alert"})})}function b(t){e.headerText="Confirm",e.confirmButtonText="Add","docusign"===t?(e.confirm=y,e.contentText="Are you sure you want to add DocuSign for Salesforce? It will load preconfigured objects to your configuration"):"ios"===t&&(e.confirm=A,e.contentText="Are you sure you want to add iPad QuickStart? It will load preconfigured objects to your configuration"),s.openModal("site/templates/confirmation-modal.html",e,"sm",!0,!1)}function y(){S([{sfObjectName:"dsfs__DocuSign_Status__c",sfObject:"dsfs__DocuSign_Status__c",insert:!0,onCompleteOnly:!1,selectFields:[{dsNode:"Envelope",dsAttribute:"EnvelopeId",sfField:"dsfs__DocuSign_Envelope_ID__c"}],updateFields:[{dsNode:"##docattachment",dsAttribute:"Document,0,1,NamePDFReplaceExt",sfFolder:"",sfLockedValue:"",sfField:"##docattachment"},{dsNode:"Recipient",dsAttribute:"Delivered",sfField:"dsfs__Viewed_Date_Time__c"},{dsNode:"Envelope",dsAttribute:"EnvelopeId",dsLink:"true",sfField:"dsfs__Envelope_Link__c"},{dsNode:"Envelope",dsAttribute:"VoidedReason",sfField:"dsfs__Voided_Reason__c"},{dsNode:"Envelope",dsAttribute:"Voided",sfField:"dsfs__Voided_Date_Time__c"},{dsNode:"Recipient",dsAttribute:"DeclineReason",sfField:"dsfs__Declined_Reason__c"},{dsNode:"Recipient",dsAttribute:"Declined",sfField:"dsfs__Declined_Date_Time__c"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFOpportunity",sfField:"dsfs__Opportunity__c"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFContract",sfField:"dsfs__Contract__c"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFCase",sfField:"dsfs__Case__c"},{dsNode:"EnvelopeCustomField",dsAttribute:"##SFAccount",sfField:"dsfs__Company__c"},{dsNode:"Envelope",dsAttribute:"Subject",sfField:"dsfs__Subject__c"},{dsNode:"Envelope",dsAttribute:"Completed",sfField:"dsfs__Completed_Date_Time__c"},{dsNode:"Envelope",dsAttribute:"Status",sfField:"dsfs__Envelope_Status__c"},{dsNode:"Envelope",dsAttribute:"Email",sfField:"dsfs__Sender_Email__c"},{dsNode:"Envelope",dsAttribute:"UserName",sfField:"dsfs__Sender__c"},{dsNode:"Envelope",dsAttribute:"SentInitial",sfField:"dsfs__Sent_Date_Time__c"},{dsNode:"Envelope",dsAttribute:"EnvelopeId",sfField:"dsfs__DocuSign_Envelope_ID__c"}]},{sfObjectName:"dsfs__DocuSign_Recipient_Status__c",sfObject:"dsfs__DocuSign_Recipient_Status__c",insert:!0,onCompleteOnly:!1,selectFields:[{dsNode:"Recipient",dsAttribute:"RecipientId",sfField:"dsfs__DocuSign_Recipient_Id__c"}],updateFields:[{dsNode:"Recipient",dsAttribute:"ExternalUserName:Lead",sfField:"dsfs__Lead__c"},{dsNode:"Recipient",dsAttribute:"RoutingOrder",sfField:"dsfs__DocuSign_Routing_Order__c"},{dsNode:"Envelope",dsAttribute:"EnvelopeId",sfField:"dsfs__Envelope_Id__c"},{dsNode:"Recipient",dsAttribute:"Status",sfField:"dsfs__Recipient_Status__c"},{dsNode:"Recipient",dsAttribute:"UserName",sfField:"Name"},{dsNode:"Recipient",dsAttribute:"JobTitle",sfField:"dsfs__DocuSign_Recipient_Title__c"},{dsNode:"Recipient",dsAttribute:"Email",sfField:"dsfs__DocuSign_Recipient_Email__c"},{dsNode:"Recipient",dsAttribute:"CompanyName",sfField:"dsfs__DocuSign_Recipient_Company__c"},{dsNode:"Recipient",dsAttribute:"DeclineReason",sfField:"dsfs__Decline_Reason__c"},{dsNode:"Recipient",dsAttribute:"Signed",sfField:"dsfs__Date_Signed__c"},{dsNode:"Recipient",dsAttribute:"Sent",sfField:"dsfs__Date_Sent__c"},{dsNode:"Recipient",dsAttribute:"Delivered",sfField:"dsfs__Date_Delivered__c"},{dsNode:"Recipient",dsAttribute:"Declined",sfField:"dsfs__Date_Declined__c"},{dsNode:"Recipient",dsAttribute:"ExternalUserName:Contact",sfField:"dsfs__Contact__c"},{dsNode:"Recipient",dsAttribute:"ExternalCompanyName",sfField:"dsfs__Account__c"},{dsNode:"Recipient",dsAttribute:"RecipientId",sfField:"dsfs__DocuSign_Recipient_Id__c"}]}])}function A(){S([{sfObject:"Account",sfObjectName:"iPad App: Accounts",description:"Please do not remove this object or the iPad App may not publish the envelope back to Salesforce properly.",active:!0,onCompleteOnly:!0,selectFields:[{dsNode:"EnvelopeCustomField",dsAttribute:"##SFAccount",sfFolder:"",sfLockedValue:"",sfField:"Id"}],updateFields:[{dsNode:"##docattachment",dsAttribute:"Document,0,1,NameEnvStatusPDF",sfFolder:"",sfLockedValue:"",sfField:"##docattachment"}]},{sfObject:"Case",sfObjectName:"iPad App: Cases",description:"Please do not remove this object or the iPad App may not publish the envelope back to Salesforce properly.",active:!0,onCompleteOnly:!0,selectFields:[{dsNode:"EnvelopeCustomField",dsAttribute:"##SFCase",sfFolder:"",sfLockedValue:"",sfField:"Id"}],updateFields:[{dsNode:"##docattachment",dsAttribute:"Document,0,1,NameEnvStatusPDF",sfFolder:"",sfLockedValue:"",sfField:"##docattachment"}]},{sfObject:"Contract",sfObjectName:"iPad App: Contracts",description:"Please do not remove this object or the iPad App may not publish the envelope back to Salesforce properly.",active:!0,onCompleteOnly:!0,selectFields:[{dsNode:"EnvelopeCustomField",dsAttribute:"##SFContract",sfFolder:"",sfLockedValue:"",sfField:"Id"}],updateFields:[{dsNode:"##docattachment",dsAttribute:"Document,0,1,NameEnvStatusPDF",sfFolder:"",sfLockedValue:"",sfField:"##docattachment"}]},{sfObject:"Opportunity",sfObjectName:"iPad App: Opportunities",description:"Please do not remove this object or the iPad App may not publish the envelope back to Salesforce properly.",active:!0,onCompleteOnly:!0,selectFields:[{dsNode:"EnvelopeCustomField",dsAttribute:"##SFOpportunity",sfFolder:"",sfLockedValue:"",sfField:"Id"}],updateFields:[{dsNode:"##docattachment",dsAttribute:"Document,0,1,NameEnvStatusPDF",sfFolder:"",sfLockedValue:"",sfField:"##docattachment"}]}])}function S(t){var n=l.cloneDeep(e.form.model.sfObjects);l.isEmpty(n)||t.push(n),l.isEmpty(e.form.model.sfObjects)?e.form.model.sfObjects=t:e.form.model.sfObjects=l.flatten(t),s.closeModal()}l.isEmpty(t.active())?n.go("authenticated.connect"):(e.form.model=t.active(),e.fillUpLists().then(function(){c=i.copy(e.form.model),e.$watch("form.model",function(t){i.equals(t,c)?e.formView.$setPristine():e.formView.$setDirty()},!0)}),e.form.sortableOptions={handle:".column-handle"},e.cancelButtonText="Cancel",e.hasDocumentEvent=f,e.hasRecipientEvent=v,e.hasSenderSelectableItem=h,e.save=_,e.editSalesforceObject=d,e.toggleActivationSalesforceObject=p,e.confirmDeleteSalesforceObject=m,e.confirmAdd=b)}])},function(e,t){var n="connect/edit-custom-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditCustomConnectConfigurationController\'>\n  <div ng-controller=\'EditCustomConnectConfigurationController\' ds-form>\n\n    <div ng-include="\'connect/add-edit-custom-configuration-header.html\'"></div>\n\n    <div class="section">\n      <h1 class="header-title" translate="Custom Configuration Settings"></h1>\n\n      <div class="header-actions">\n        <button class="btn btn-primary" ds-form-submit=\'save()\' id="page-save-top"\n                data-qa="connect_edit_custom_config_top_save_btn"\n                translate="Save"></button>\n        <button class="btn btn-minor" ui-sref="authenticated.connect" id="page-cancel-top"\n                data-qa="connect_edit_custom_config_top_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n    <div class=\'section add-edit-configuration\' ng-include="\'connect/add-edit-custom-configuration.html\'"></div>\n\n    <div class="section">\n      <div class="action-btns">\n        <button class="btn btn-primary" id="page-save-bottom" ds-form-submit=\'save()\'\n                data-qa="connect_edit_custom_config_bot_save_btn"\n                translate="Save"></button>\n        <button class="btn btn-minor" ui-sref="authenticated.connect" id="page-cancel-bottom"\n                data-qa="connect_edit_custom_config_bot_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("EditCustomConnectConfigurationController",["$scope","ConnectConfigurationsService","$state","dsNotification","lodash","$translate","$timeout","configuration",function(e,t,n,a,i,s,o,r){i.isEmpty(t.active())?n.go("authenticated.connect"):(e.form.model=t.active(),e.form.isEdit=!0,e.fillUpLists()),e.hasDocumentEvent=function(t){return i.includes(e.form.model.envelopeEvents,t)},e.hasRecipientEvent=function(t){return i.includes(e.form.model.recipientEvents,t)},e.save=function(){if(e.basicAuth.includeBasicAuthenticationHeader){var r=!1;if(i.isNull(e.form.model.password)||(e.form.model.password.length>255&&(a.show({msg:s.instant("Password must be under 256 characters in length."),type:"alert"}),r=!0),e.form.model.password.length>0&&i.trim(e.form.model.password).length<1&&(a.show({msg:s.instant("Password cannot consist solely of whitespace."),type:"alert"}),r=!0)),r)return}else e.form.model.userName="";t.save(e.form.model).then(function(e){n.go("authenticated.connect"),o(function(){a.show({msg:s.instant("You successfully saved the configuration {{name}}.",{name:e.name}),type:"success"})},0)},function(e){a.show({msg:e.message,type:"alert"})})},e.configurationTitle="Custom Configuration Settings",e.isCloudStorage=!1,e.basicAuth={includeBasicAuthenticationHeader:e.form.model.userName&&e.form.model.userName.length>0},e.passwordAssumed=e.form.model.userName&&e.form.model.userName.length>0}])},function(e,t){var n="connect/delete-connect-configuration-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="header">\n  <h1 translate="Delete Connect Configuration"></h1>\n</div>\n\n<div class="content" translate="Are you sure you want to delete this configuration?">\n</div>\n\n<div class="footer" ng-controller="DeleteConnectConfigurationController as deletion">\n  <button type="submit" class="btn btn-lg btn-primary" ng-click="deletion.delete()"\n          data-qa="connect_delete_confirm_btn"\n          ds-close-modal translate="DS_CONTEXT=(connect configuration) Delete"></button>\n  <button type="button" class="btn btn-lg btn-minor" ds-close-modal\n          data-qa="connect_delete_cancel_btn"\n          translate="Cancel"></button>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("DeleteConnectConfigurationController",["ConnectConfigurationsService","dsNotification","$translate",function(e,t,n){this.delete=function(){var a,i=e.active();e.delete(i.connectId).then(function(){a={msg:n.instant("You successfully removed the configuration {{name}}.",{name:i.name}),type:"success",modal:!1}},function(e){a={type:"alert",msg:n.instant("This connect configuration could not be removed. Try again in a moment."),modal:!1}}).finally(function(){t.show(a)})}}])},function(e,t){var n="connect/connect-logs.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!-- BREADCRUMBS ///////////////////////////////////////////////////////////////////////////////--\x3e\n<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.connect"\n         translate="Connect Configurations List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item" \n            translate="Connect Logs"></span>\n    </li>\n  </ul>\n</div>\n\n<div ng-controller="ConnectLogListController as connectLogs">\n  \x3c!-- HEADER TITLE BAR //////////////////////////////////////////////////////////////////////////--\x3e\n  <div class="section">\n    <div class="grid">\n      <div class="col">\n        <h1 class="header-title" translate="Connect Logs"></h1>\n      </div>\n      <div class="col">\n        <div class="button-bar u-float-right">\n          <button type="button" class="btn btn-secondary" ng-click="connectLogs.refreshLogs()"\n                  data-qa="connect_logs_refresh_btn"\n                  translate="Refresh"></button>\n          <button type="button" class="btn btn-secondary" ng-click="connectLogs.deleteLogs()"\n                  data-qa="connect_logs_clear_logs_btn"\n                  translate="Clear Logs"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- LOG LIST ////////////////////////////////////////////////////////////////////////////////--\x3e\n  <table class="connect-log sort-enabled list-tbl thin rtbl"\n         ng-if="entriesDoneLoading && connectLogs.hasEntries()"\n         ds-sortable="sortProperty"\n         ds-sortable-initially-reversed\n         ds-sortable-initial-property="created"\n         ds-sortable-reverse="reverseSort">\n    <thead>\n      <tr>\n        <th name="created" ds-sort="created"><span translate="Created"></span>\n\n        </th>\n        <th name="envelopeId" ds-sort="envelopeId"><span translate="ID"></span>\n\n        </th>\n        <th name="subject" ds-sort="subject"><span translate="Subject"></span>\n\n        </th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="click-row" ng-repeat="log in connectLogs.entries | orderBy:sortProperty:reverseSort">\n        <td ng-click="connectLogs.viewLog(log)">\n          {{ log.created|moment:dateTimeFormat:timeZone }}\n        </td>\n        <td ng-click="connectLogs.viewLog(log)">\n          {{ log.envelopeId }}\n        </td>\n        <td ng-click="connectLogs.viewLog(log)">\n          {{ log.subject }}\n        </td>\n        <td class="column-action">\n          \x3c!-- hide it until API bug is resolved --\x3e\n          <button ng-if="false"\n            type="button" class="btn btn-secondary" ng-click="connectLogs.publish(log)" translate="Republish"></button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="entriesDoneLoading && !connectLogs.hasEntries()">\n    <i class="icon icon-voided emptyState_icon"></i>\n    <div class="emptyState_text">\n      <h3 translate="No Logs"></h3>\n      <p translate="There are no logs currently available."></p>\n    </div>\n  </div>\n\n  <div class="text-center grid pad" ds-loading="connectLogs.entriesLoaded" ds-loading-succeeded="entriesDoneLoading"\n       ds-loading-error="{{\'Oops! We had trouble loading your Connect logs. Go ahead and try that again.\' | translate}}"></div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";var a;function i(e,t,n,i,s,o,r,l){a=o,this.$scope=e,this.connectService=t,this.appUser=n,this.modals=i,this.notifications=s,this.$translate=r,this.dateTimeService=l,this.entriesLoaded=this.getLogs(),this.getDateTimeFormat(),this.entries=[]}Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("ConnectLogListController",["$scope","dsConnect","appUser","dsModals","dsNotification","lodash","$translate","DateTimeService",i]),i.prototype.getDateTimeFormat=function(){this.$scope.dateTimeFormat=this.dateTimeService.getDateTimeFormat(),this.$scope.timeZone=this.dateTimeService.getTimeZone()},i.prototype.getLogs=function(){var e=this;return this.connectService.getLogs(this.appUser.getCurrentAccountId()).then(function(t){e.entries=t.logs})},i.prototype.deleteLogs=function(){var e=this;return this.connectService.deleteLogs(this.appUser.getCurrentAccountId()).then(function(){e.entries=[]})},i.prototype.refreshLogs=function(){return this.entriesLoaded=this.getLogs()},i.prototype.hasEntries=function(){return!a.isEmpty(this.entries)},i.prototype.viewLog=function(e){var t=this.$scope.$new();t.active=e,this.modals.openModal("connect/connect-log-details-modal.html",t,"lg",!1,!0)},i.prototype.publish=function(e){var t,n=this;return this.connectService.republishEnvelope(this.appUser.getCurrentAccountId(),e.envelopeId).then(function(e){if(a.isEmpty(e.retryQueue))t={msg:n.$translate.instant("This log could not be republished. Try again in a moment."),type:"alert"};else{var i=a.head(e.retryQueue);t="Fail"===i.status?{msg:n.$translate.instant("This log could not be republished for the following reason: {{message}}",{message:i.statusMessage}),type:"alert"}:{msg:n.$translate.instant("You successfully republished the log"),type:"success"}}},function(){t={msg:n.$translate.instant("This log could not be republished. Try again in a moment."),type:"alert"}}).finally(function(){n.notifications.show(t),n.entriesLoaded=n.getLogs()})}},function(e,t){var n="connect/connect-log-details-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ConnectLogDetailsController as logDetails">\n  <div class="grid header">\n    <h1 translate="Log Details"></h1>\n\n    <div class="header-title">\n      <h3>{{ logDetails.details.envelopeId }}</h3>\n      <span class="text-muted" ng-if="entriesDoneLoading" translate="Created [[date]]"\n            translate-interpolation="bracket"\n            translate-values="{date: logDetails.formatDateTime(logDetails.details.created)}"></span>\n    </div>\n  </div>\n  <div class="grid content contained">\n\n    <dl class="def-list" ng-if="entriesDoneLoading">\n      <dt ng-repeat-start="eventLog in logDetails.details.connectDebugLog">\n        {{ eventLog.eventDateTime|moment:logDetails.dateTimeFormat:logDetails.timeZone }}\n      </dt>\n      <dd ng-repeat-end>\n        {{ eventLog.connectConfig }}{{ eventLog.eventDescription }}{{ eventLog.payload }}{{\n                        eventLog.errorDetails.message\n        }}\n      </dd>\n    </dl>\n\n    <div class="text-center grid pad" ds-loading="logDetails.loaded" ds-loading-succeeded="entriesDoneLoading" ds-loading-error="{{\'Oops! We had trouble loading your log details. Go ahead and try that again.\' | translate}}"></div>\n\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("ConnectLogDetailsController",["$scope","dsConnect","appUser","DateTimeService","$filter",function(e,t,n,a,i){var s=this;function o(e,n){return t.getLog(e,n).then(function(e){s.details=e,s.dateTimeFormat=a.getDateTimeFormat(),s.timeZone=a.getTimeZone()})}function r(e){return i("moment")(e,s.dateTimeFormat,s.timeZone)}s.timeZone="",s.dateTimeFormat="",s.loaded=o(n.getCurrentAccountId(),e.active.logId),s.formatDateTime=r}])},function(e,t){var n="connect/connect-failures.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!-- BREADCRUMBS ///////////////////////////////////////////////////////////////////////////////--\x3e\n<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.connect"\n         translate="Connect Configurations List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="Failed Connect Notifications"></span>\n    </li>\n  </ul>\n</div>\n<div class="wait-to-load" ng-controller="ConnectFailureListController as connectFailures">\n  \x3c!-- HEADER TITLE BAR //////////////////////////////////////////////////////////////////////////--\x3e\n  <div class="section">\n    <h1 class="header-title" translate="Failed Connect Notifications"></h1>\n  </div>\n\n  <div ng-if="entriesDoneLoading">\n    \x3c!-- EMPTY STATE (Currently Hidden) //////////////////////////////////////////////////////////--\x3e\n    <div class="empty-state" ng-if="!connectFailures.hasEntries()">\n      <i class="icon icon-voided text-muted"></i>\n\n      <h3 translate="No Failures"></h3>\n\n      <p translate="All seems to be running smoothly. There are currently no Connect failures."></p>\n    </div>\n\n    \x3c!--BULK ACTIONS ////////////////////////////////////////////////////--\x3e\n    <div class = "button-bar u-float-right" ng-if="connectFailures.hasEntries()">\n      <button type="button" class="btn btn-secondary" ng-click="connectFailures.displayDeleteAllConfirmation()" translate="Delete All"></button>\n      <button type="button" class="btn btn-secondary" ng-click="connectFailures.displayRepublishAllConfirmation()" translate="Republish All" ></button>\n      <button type="button" class="btn btn-secondary" ng-click="connectFailures.refresh()" translate="Refresh"></button>\n    </div>\n\n    \x3c!-- LOG LIST ////////////////////////////////////////////////////////////////////////////////--\x3e\n    <table class="list-tbl thin rtbl"\n           ng-if="connectFailures.hasEntries()"\n           ds-sortable="sortProperty"\n           ds-sortable-initially-reversed\n           ds-sortable-initial-property="created"\n           ds-sortable-reverse="reverseSort">\n      <thead>\n      <tr>\n        <th class="sort column-failed" name="created" ds-sort="created"><span translate="Failed"></span></th>\n        <th class="sort column-retried" name="lastTry" ds-sort="lastTry"><span translate="Retried"></span></th>\n        <th class="sort column-count" name="retryCount" ds-sort="retryCount"><span translate="Retry Count"></span></th>\n        <th class="sort column-envid" name="envelopeId" ds-sort="envelopeId"><span translate="ID"></span></th>\n        <th class="sort column-envstatus" name="status" ds-sort="status"><span translate="Status"></span></th>\n        <th class="sort column-sender" name="userName" ds-sort="userName"><span translate="Sender"></span></th>\n        <th class="sort column-email" name="email" ds-sort="email"><span translate="Sender Email"></span></th>\n        <th class="sort column-subj" name="subject" ds-sort="subject"><span translate="Subject"></span></th>\n        <th class="sort column-config" name="connectId" ds-sort="connectId"><span translate="Config ID"></span></th>\n        <th class="sort column-error" name="error" ds-sort="error"><span translate="Error"></span></th>\n        <th class="column-action">&nbsp;</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="log in connectFailures.entries | orderBy:sortProperty:reverseSort">\n        <td class="column-failed">\n          {{ log.created|moment:connectFailures.dateTimeFormat:connectFailures.timeZone }}\n        </td>\n        <td class="column-retried">\n          {{ log.lastTry|moment:connectFailures.dateTimeFormat:connectFailures.timeZone }}\n        </td>\n        <td class="column-count">\n          {{ log.retryCount }}\n        </td>\n        <td class="column-envid">\n          {{ log.envelopeId }}\n        </td>\n        <td class="column-envstatus">\n          {{ log.status }}\n        </td>\n        <td class="column-sender">\n          {{ log.userName }}\n        </td>\n        <td class="column-email">\n          {{ log.email }}\n        </td>\n        <td class="column-subj">\n          {{ log.subject }}\n        </td>\n        <td class="column-config" data-qa="connect-failures-configid" translate="[[connectId]] Failure Config" translate-interpolation="bracket" translate-values="{connectId: log.connectId}">\n        </td>\n        <td class="column-error">\n          {{ log.error }}\n        </td>\n        <td class="column-action">\n          <button type="button" class="btn btn-secondary btn-trigger" olive-menu="failActions-{{ $index }}" translate="Actions"></button>\n          <div class="menu invisible" id="failActions-{{ $index }}">\n            <ul>\n              <li><a class="item" ng-click="connectFailures.publish(log)" translate="Republish"></a></li>\n              <li><a class="item" ng-click="connectFailures.delete(log)" translate="DS_CONTEXT=(log) Delete"></a></li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  \x3c!-- ACTIONS MENU BUTTON OPTIONS /////////////////////////////////////////////////////////////--\x3e\n\n\n  <div class="text-center grid pad" ds-loading="connectFailures.entriesLoaded" ds-loading-succeeded="entriesDoneLoading"\n       ds-loading-error="{{\'Oops! We had trouble loading your Connect failures. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("ConnectFailureListController",["$scope","dsConnect","appUser","dsNotification","lodash","$translate","DateTimeService","$q","oliveModal",function(e,t,n,a,i,s,o,r,l){var c=this;function d(){return t.getFailures(n.getCurrentAccountId()).then(function(e){c.entries=e.failures,c.dateTimeFormat=o.getDateTimeFormat(),c.timeZone=o.getTimeZone()})}function u(e){return t.deleteFailure(n.getCurrentAccountId(),e.failureId)}function p(){var e=c.entries.map(u),t=1===c.entries.length?s.instant("You have successfully deleted 1 failure entry. Any new failures will be shown below."):s.instant("You have successfully deleted {{totalNumber}} failure entries. Any new failures will be shown below.",{totalNumber:c.entries.length}),n={msg:t,type:"success"},i=1===c.entries.length?s.instant("This failure entry could not be deleted. Please try again in a moment."):s.instant("These failure entries could not be deleted. Please try again in a moment."),o={msg:i,type:"alert"};r.all(e).then(function(){return a.show(n)}).catch(function(){return a.show(o)}).finally(function(){return c.entriesLoaded=d()})}function m(){var e=function(e){var a=[],i={};return e.forEach(function(e){e.envelopeId&&!i[e.envelopeId]&&(i[e.envelopeId]=!0,a.push(t.republishEnvelope(n.getCurrentAccountId(),e.envelopeId)))}),a}(c.entries),i={msg:s.instant("The failed envelopes could not be republished. Please try again in a moment."),type:"alert"};r.all(e).then(function(e){return function(e){var t=e.filter(g),n=e.filter(h);t.length&&a.show({msg:s.instant("Your request to republish {{numberOfSuccesses}} failed notifications is in process. Please click REFRESH to update the Retry Count. ",{numberOfSuccesses:t.length}),type:"success"}),n.length&&a.show({msg:s.instant("Republish failed for {{numberOfFailures}} out of {{totalNumber}} envelopes. Please try again in a moment.",{numberOfFailures:n.length,totalNumber:e.length}),type:"alert"})}(e)}).catch(function(){return a.show(i)}).finally(function(){return c.entriesLoaded=d()})}function g(e){return!h(e)}function h(e){var t=e.retryQueue&&e.retryQueue.length&&e.retryQueue[0].status||"";return t.trim().match(/fail/i)}c.entriesLoaded=d(),c.entries=[],c.hasEntries=function(){return!i.isEmpty(c.entries)},c.delete=function(e){var o={msg:s.instant("This failure entry could not be deleted. Try again in a moment."),type:"alert"};return t.deleteFailure(n.getCurrentAccountId(),e.failureId).then(function(){o={msg:s.instant("You successfully deleted the failure entry"),type:"success"},i.pull(c.entries,e)}).finally(function(){a.show(o)})},c.publish=function(e){var o={msg:s.instant("This failure entry could not be republished. Try again in a moment."),type:"alert"};return t.republishEnvelope(n.getCurrentAccountId(),e.envelopeId).then(function(e){if(!i.isEmpty(e.retryQueue)){var t=i.head(e.retryQueue);o="Fail"===t.status?{msg:s.instant("This failure entry could not be republished for the following reason: {{message}}",{message:t.statusMessage}),type:"alert"}:{msg:s.instant("You successfully republished the failure entry"),type:"success"}}}).finally(function(){a.show(o),c.entriesLoaded=d()})},c.displayDeleteAllConfirmation=function(){var e=1===c.entries.length?s.instant("Are you sure you wish to proceed and delete 1 failure entry?"):s.instant("Are you sure you wish to proceed and delete {{totalNumber}} failure entries?",{totalNumber:c.entries.length}),t={title:s.instant("Delete All"),text:e,completeLabel:s.instant("Delete All"),completeFunction:p,escapeLabel:s.instant("Cancel")};l.confirmationModal(t)},c.displayRepublishAllConfirmation=function(){var e={title:s.instant("Republish All"),text:s.instant("Are you sure you wish to proceed and republish all?"),completeLabel:s.instant("Republish All"),completeFunction:m,escapeLabel:s.instant("Cancel")};l.confirmationModal(e)},c.refresh=function(){c.entriesLoaded=d()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=n(2);a.ConnectModule.service("ConnectConfigurationsService",["appUser","dsAccount","dsApiClient","CustomConfigurationModel","SalesforceConfigurationModel","$q","lodash","ApiConverter","Users",function(e,t,n,a,s,o,r,l,c){var d,u,p,m,g={custom:a,salesforce:s,"box.net":a,skydrive:a,eoriginal:a};function h(e,t){return t?e.createFromApiResponse(t):new e}return{all:[],load:function(){var t=this,a=e.getCurrentAccountId();if(u!==a){var i=n.endpoint().accounts(a).connect().uri();return u=a,this.all=[],n.get(i).then(function(e){return r.each(e.data.configurations,function(e){var n=g[e.configurationType.toLowerCase()];if(!r.isUndefined(n))return t.all.push(h(n,e))}),t.all})}return o.when(this.all)},add:function(t){var a=this,s=e.getCurrentAccountId(),r=n.endpoint().accounts(s).connect().uri();return n.post(r,t.toApiModel()).then(function(e){if(i.isUndefined(e.errorCode)){var t=g[e.data.configurationType.toLowerCase()],n=h(t,e.data);return a.all.push(n),n}return o.reject(e.data)},function(e){return o.reject(e.data)})},save:function(t){var a=this,s=e.getCurrentAccountId(),r=n.endpoint().accounts(s).connect().uri();return n.put(r,t.toApiModel()).then(function(e){return i.isUndefined(e.errorCode)?a.updateConfigList(e.data):o.reject(e.data)},function(e){return o.reject(e.data)})},delete:function(t){var a=this,i=e.getCurrentAccountId(),s=n.endpoint().accounts(i).connect(t).uri();return n.delete(s).then(function(){r.remove(a.all,function(e){return e.connectId===t}),d=null})},enabled:function(){return e.currentAccountInfo.settings.envelopeIntegrationEnabled},setConnectEnabled:function(n){return t.updateSettings(e.getCurrentAccountId(),{envelopeIntegrationEnabled:n}).then(function(){return e.refreshAccountSettings()})},active:function(e){if(r.isNull(e))d=null;else{if(!e)return d;var t=g[e.configurationType.toLowerCase()];d=r.extend(h(t),r.cloneDeep(e))}},getActiveObject:function(){return{salesforceObject:p,index:m}},setActiveObject:function(e,t){e?(p=r.cloneDeep(e),m=t):(p=null,m=-1)},setSelectedFolder:function(e){e},availableUsers:function(e,t,n,a){return r.isEmpty(n.users)||!r.isNumber(e)||a?c.getPage(t).then(function(e){return e}):this.connectUsers(e,t).then(function(e){return e})},connectUsers:function(t,a){var i=e.getCurrentAccountId(),s=n.endpoint().accounts(i).connect(t).users().uri(a);return n.get(s).then(function(e){var t=r.map(e.data.users,function(e){return{id:e.userId,name:e.userName,email:e.email}});return r.remove(e.data,"users"),{users:t,page:e.data}})},downloadSfConfiguration:function(t){var a=e.getCurrentAccountId(),i=n.extended().accounts(a).connect(t).uri({acceptHeader:"text/xml"});return n.authorizationManager.authorizeUri(i)},uploadSfConfigurationUri:function(){var t=e.getCurrentAccountId();return n.authorizationManager.authorizeUri(["upload","api","put","accounts",t,"connect"].join("/"))},allowedConnectedApps:function(t){return e.currentAccountInfo.settingsRetrieved.then(function(){return t.box.enabled=e.currentAccountInfo.settings.externalDocumentSources.boxnetEnabled,t.salesforce.enabled=e.currentAccountInfo.settings.externalDocumentSources.salesforceEnabled,t.oneDrive.enabled=e.currentAccountInfo.settings.externalDocumentSources.oneDriveEnabled,t})},authenticatedApps:function(){var t=e.getCurrentAccountId(),a=e.currentAccount.userId,i=n.endpoint().accounts(t).users(a).cloudStorage().uri();return n.get(i).then(function(e){return e.data.storageProviders})},getFolders:function(t,a,i){void 0===i&&(i=0);var s=e.getCurrentAccountId(),o=e.currentAccount.userId;r.isEmpty(a)&&(a=null);var l=n.endpoint().accounts(s).users(o).cloudStorage(t).folders(a).uri({start_position:i,order_by:"name"});return n.get(l).then(function(e){return r.remove(e.data.items,function(e){return"folder"!==e.type}),e.data.items})},updateConfigList:function(e){var t=g[e.configurationType.toLowerCase()],n=h(t,e),a=r.findIndex(this.all,{connectId:n.connectId});return this.all[a]=n,n},convertUploadedConfig:function(e){var t=l.propertiesToJsonTypes(e);this.updateConfigList(t)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(11),s=function(){function e(){this.connectId=null,this.configurationType="custom",this.name="",this.allowEnvelopePublish=!0,this.urlToPublishTo="",this.enableLog=!0,this.requiresAcknowledgement=!0,this.includeDocuments=!1,this.includeCertificateOfCompletion=!1,this.includeTimeZoneInformation=!1,this.includeEnvelopeVoidReason=!1,this.includeSenderAccountAsCustomField=!1,this.includeDocumentFields=!1,this.allUsers=!0,this.users=[],this.recipientEvents=[],this.envelopeEvents=[],this.useSoapInterface=!1,this.soapNamespace="",this.includeCertSoapHeader=!1,this.signMessageWithX509Certificate=!1,this.requireMutualTls=!1,this.userName=null,this.password=null}return e.createFromApiResponse=function(t){var n=new e;return a.extend(n,t),a.isUndefined(n.envelopeEvents)||a.pull(n.envelopeEvents,""),a.isUndefined(n.recipientEvents)||a.pull(n.recipientEvents,""),t.allUsers||(n.users=a.map(t.userIds,function(e){return{id:e}})),n.includeSenderAccountAsCustomField=t.includeSenderAccountasCustomField,n},e.prototype.toggleActivation=function(){this.allowEnvelopePublish=!this.allowEnvelopePublish},e.prototype.isActive=function(){return this.allowEnvelopePublish},e.prototype.toApiModel=function(){var e=a.extend({},this);return this.allUsers||(e.userIds=a.map(this.users,function(e){return e.id}),delete e.users),e.includeSenderAccountasCustomField=this.includeSenderAccountAsCustomField,e},e}();i.ConnectModule.factory("CustomConfigurationModel",["lodash",function(e){return a=e,s}])},function(e,t){var n="connect/connect-configuration-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ConnectConfigurationListController as connectList">\n  <div class="section">\n    <div class="grid">\n      <div class="col">\n        <h1 translate="Connect Configurations"></h1>\n      </div>\n\n      <div class="col header-actions" ng-if="connectList.connectEnabled">\n        <div class="button-bar u-float-left">\n          <button type="button" class="btn btn-secondary" ng-click="connectList.onConnectDisable()"\n            data-qa="connect_disable_connect_btn"\n            translate="Disable Connect">\n          </button>\n        </div>\n\n        <div class="button-bar u-float-right">\n          <button type="button" class="btn btn-secondary"\n            ng-if="connectList.allowEnvelopePublishReporting"\n            ui-sref="authenticated.envelopes({action: \'publish\'})"\n            data-qa="connect_publish_btn"\n            translate="Publish">\n          </button>\n\n          <button type="button" class="btn btn-secondary" ui-sref="authenticated.connect-logs"\n            data-qa="connect_logs_btn"\n            translate="Logs">\n          </button>\n\n          <button type="button" class="btn btn-secondary" ui-sref="authenticated.connect-failures"\n            data-qa="connect_failures_btn"\n            translate="Failures">\n          </button>\n\n          <span class="vertical-divider"></span>\n\n          <button type="button" class="btn btn-secondary btn-trigger"\n            olive-menu="connect-options-menu"\n            data-qa="connect_add_configuration_one_btn"\n            translate="Add Configuration">\n          </button>\n\n          <div class="menu invisible" id="connect-options-menu">\n            <ul>\n              <li>\n                <a class="item" ui-sref="authenticated.add-custom-configuration"\n                     data-qa="connect_add_custom_configuration_link"\n                     translate="Custom">\n                  <img src="/images/icon-custom-connect.png" class="menu-options-icon"\n                    translate translate-attr-alt="Custom configuration icon" />\n                </a>\n              </li>\n            </ul>\n\n            <ul>\n              <li>\n                <a class="item" ng-click="connectList.addConfiguration(\'box.net\')"\n                   data-qa="connect_add_box_configuration_link"\n                   ng-if="connectList.connectedApps.box.enabled">\n                  <span class="logo logo-img logo-box"></span>\n                  <span translate="Box"></span>\n                </a>\n              </li>\n\n              <li id=\'connect-salesforce-option\' ng-if=\'connectList.allowAddSalesforceConfiguration()\'>\n                <a class="item" ds-modal=\'connect/add-salesforce-login.html\' ds-size=\'large\'\n                   data-qa="connect_add_salesforce_configuration_link">\n                  <span class="logo logo-img logo-salesforce"></span>\n                  <span translate="Salesforce"></span>\n                </a>\n              </li>\n\n              <li>\n                <a class="item" ng-click="connectList.addConfiguration(\'skydrive\')"\n                   data-qa="connect_add_oneDrive_configuration_link"\n                   ng-if="connectList.connectedApps.oneDrive.enabled">\n                  <span class="logo logo-img logo-onedrive"></span>\n                  <span translate="OneDrive"></span>\n                </a>\n              </li>\n\n              <li>\n                <a class="item" ng-click="connectList.addConfiguration(\'eoriginal\')"\n                   data-qa="connect_add_eOriginal_configuration_link"\n                   ng-if="!connectList.hasEOriginalConfiguration()">\n                  <span class="logo logo-img logo-eoriginal"></span>\n                  <span translate="eOriginal"></span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table class="list-tbl"\n      ng-if="configsDoneLoading && configsDoneEnabling && connectList.connectEnabled && connectList.hasConfigurations()"\n      ds-sortable="sortProperty"\n      ds-sortable-initial-property="name"\n      ds-sortable-reverse="reverseSort">\n    <thead>\n      <tr>\n        <th name=\'name\' class="column-name" ds-sort="name"><span translate="Name"></span></th>\n        <th class="column-connectstatus" ds-sort="!allowEnvelopePublish"><span translate="Status"></span></th>\n        <th class="column-failures" ds-sort="failures"><span translate="Failures"></span></th>\n        <th class="column-min">&nbsp;</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr class="click-row"\n          ng-repeat="config in connectList.items | orderBy:sortProperty:reverseSort track by config.connectId ">\n        <td class="column-name" ng-click=\'connectList.edit(config)\' ng-if=\'config.configurationType === "custom"\'>\n          <img src="/images/icon-custom-connect.png" class="menu-options-icon" alt="Custom configuration icon" />\n          {{config.name}}\n        </td>\n\n        <td class="column-name" ng-click=\'connectList.edit(config)\' ng-if=\'config.configurationType === "box.net"\'>\n            <span class="logo logo-img logo-box"></span> &nbsp;&nbsp;{{config.name}}\n        </td>\n\n        <td class="column-name" ng-click=\'connectList.edit(config)\' ng-if=\'config.configurationType === "skydrive"\'>\n          <span class="logo logo-img logo-onedrive"></span> &nbsp;&nbsp;{{config.name}}\n        </td>\n\n        <td class="column-name" ng-click=\'connectList.edit(config)\' ng-if=\'config.configurationType === "eoriginal"\'>\n          <span class="logo logo-img logo-eoriginal"></span> &nbsp;&nbsp;{{config.name}}\n        </td>\n\n        <td class="column-name" ng-click=\'connectList.edit(config)\' ng-if=\'config.configurationType === "salesforce"\'>\n          <span class="logo logo-img logo-salesforce"></span>&nbsp;&nbsp;<span translate="Salesforce"></span>\n        </td>\n\n        <td class="column-connectstatus" ng-click=\'connectList.edit(config)\'>\n          <span ng-show="config.isActive()"><i class="icon icon-circle text-success"></i> <span translate="Active"></span></span>\n          <span ng-hide="config.isActive()"><i class="icon icon-circleclosed text-muted"></i> <span translate="Inactive"></span></span>\n        </td>\n\n        <td class="column-failures" ng-click=\'connectList.edit(config)\'>\n           <span ng-show="config.isActive()">{{config.failures}}</span>\n        </td>\n\n        <td class="column-min">\n          <button type="button" class="btn btn-secondary btn-trigger"\n                  data-qa="connect_actions_button"\n                  olive-menu="connectConfigMenu-{{::config.connectId}}" translate="Actions"></button>\n          <div class="menu invisible" id="connectConfigMenu-{{::config.connectId}}">\n            <ul>\n              <li class="item" ng-click="connectList.edit(config)"\n                 data-qa="connect_actions_edit_link"\n                 translate="Edit">\n              </li>\n\n              <li ng-if=\'config.configurationType === "salesforce"\'\n                  class="item"\n                  data-qa="connect_actions_salesforce_download_link">\n                <a target="_blank" ng-href="{{connectList.getDownloadUri(config.connectId)}}">\n                  <span translate="Download"></span>\n                </a>\n              </li>\n\n              <li class="item" ng-if=\'config.configurationType === "salesforce"\'\n                data-qa="connect_actions_salesforce_upload_link"\n                ds-modal="connect/upload-salesforce-modal.html" translate="Upload">\n              </li>\n\n              <li class="item" ng-show="config.isActive()" ng-click="connectList.toggleConfigurationActivation(config)"\n                data-qa="connect_actions_deactivate_link"\n                translate="Deactivate">\n              </li>\n\n              <li class="item" ng-hide="config.isActive()" ng-click="connectList.toggleConfigurationActivation(config)"\n                data-qa="connect_actions_activate_link"\n                translate="Activate">\n              </li>\n\n              <li class="item" ds-modal="connect/delete-connect-configuration-modal.html"\n                data-qa="connect_actions_delete_link"\n                ng-click="connectList.deleteConfiguration(config)" translate="DS_CONTEXT=(connect configuration) Delete">\n              </li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="emptyState" ng-if="configsDoneLoading && configsDoneEnabling && configsDoneEnabling && connectList.connectEnabled && !connectList.hasConfigurations()">\n    <i class="icon icon-voided emptyState_icon"></i>\n\n    <div class="emptyState_text">\n      <h3 translate="No Configurations"></h3>\n      <p translate="You currently do not have any Connect configurations set up."></p>\n    </div>\n\n    <p>\n      <button type="button" class="btn btn-primary btn-trigger"\n        olive-menu="connect-options-menu"\n        data-qa="connect_add_configuration_two_btn"\n        translate="Add Configuration">\n      </button>\n    </p>\n  </div>\n\n  <div class="emptyState" ng-if="configsDoneLoading && configsDoneEnabling && !connectList.connectEnabled">\n    <i class="icon icon-voided emptyState_icon"></i>\n\n    <div class="emptyState_text">\n      <h3 translate="Connect Not Enabled"></h3>\n      <p translate="DocuSign Connect is a push service that sends real‐time envelope and recipient data updates to customer listener applications."></p>\n      <p translate="You currently do not have Connect enabled."></p>\n    </div>\n\n    <p>\n      <button type="button" class="btn btn-primary"\n        ng-click="connectList.setConnectEnabled(true)"\n        data-qa="connect_enable_connect_btn"\n        translate="Enable Connect">\n      </button>\n    </p>\n  </div>\n\n  <div class="text-center grid pad" ds-loading="connectList.enablabilityLoaded"\n    ds-loading-succeeded="configsDoneLoading"\n    ds-loading-error="{{\'Oops! We had trouble enabling your Connect configurations. Go ahead and try that again.\' | translate}}">\n  </div>\n\n  <div class="text-center grid pad" ds-loading="connectList.configurationsLoaded"\n    ds-loading-succeeded="configsDoneEnabling"\n    ds-loading-error="{{\'Oops! We had trouble loading your Connect configurations. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("ConnectConfigurationListController",["ConnectConfigurationsService","dsModals","dsNotification","dsConnect","appUser","$state","lodash","$translate","$q","$window","FileUploader","$scope","userPermissions","oliveModal",function(e,t,n,a,i,s,o,r,l,c,d,u,p,m){var g=this,h="";function f(){var a=function(){var e=/\.(xml)/i,t=new d({autoUpload:!0,removeAfterUpload:!0,mimeType:"application/xml",filters:[{fn:function(t){return e.test(t.name)},displayError:function(){n.show({msg:r.instant("The file format is not supported. Please upload a file that is a xml format."),type:"alert",modal:!0})}}]});return t.onWhenAddingFileFailed=function(e,t){t.displayError()},t.onErrorItem=function(){n.show({msg:r.instant("The file is corrupt. Please upload a different version of this file."),type:"alert",modal:!0})},t}();return a.isEmptyAfterSelection=function(){return!0},a.onBeforeUploadItem=function(a){a.url=e.uploadSfConfigurationUri();var i=function(e){var t=l.defer();return e.onSuccess=function(e,n,a){t.resolve({response:e,status:n,headers:a})},e.onError=function(e,n,a){t.reject({response:e,status:n,headers:a})},t.promise}(a);i.then(function(a){e.convertUploadedConfig(a.response),t.closeModal(),n.show({msg:r.instant("You successfully uploaded your Salesforce configuration."),type:"success"})})},a}function v(){m.openModal({templateUrl:"connect/confirm-disable-connect-modal.html",scope:u,size:"sm",onComplete:function(){return g.setConnectEnabled(!1)},showClose:!1})}function _(t){g.enablabilityLoaded=e.setConnectEnabled(t).then(function(){g.connectEnabled=e.enabled()})}function b(t){var n=null;switch(e.active(null),t){case"box.net":h="authenticated.add-box-configuration",n=g.connectedApps.box;break;case"skydrive":h="authenticated.add-onedrive-configuration",n=g.connectedApps.oneDrive;break;case"eoriginal":h="authenticated.add-eoriginal-configuration"}if(o.isEmpty(n)||o.isEmpty(n.authenticationUrl))s.go(h);else{var a=n.authenticationUrl+"&redirectUrl="+c.location.protocol+"//"+c.location.host+s.href("authenticated.cloud-redirect");c.open(a,"_blank","width=500,height=500")}}function y(){return o.some(g.items,{configurationType:"eoriginal"})}function A(t){return e.downloadSfConfiguration(t)}function S(t){e.active(t),"salesforce"===t.configurationType?s.go("authenticated.edit-salesforce-configuration"):"custom"===t.configurationType?s.go("authenticated.edit-custom-configuration"):"box.net"===t.configurationType?s.go("authenticated.edit-box-configuration"):"skydrive"===t.configurationType?s.go("authenticated.edit-onedrive-configuration"):"eoriginal"===t.configurationType&&s.go("authenticated.edit-eoriginal-configuration")}function w(t){e.active(t)}function C(){return!o.isEmpty(g.items)}function P(){return!o.some(g.items,{configurationType:"salesforce"})}function E(t){var a;return t.toggleActivation(),e.save(t).then(function(){a={msg:r.instant("You successfully updated the configuration {{name}}.",{name:t.name}),type:"success"}},function(){a={msg:r.instant("This connect configuration could not be updated. Try again in a moment."),type:"alert"}}).finally(function(){n.show(a)})}function T(){s.go(h)}g.connectedApps={box:{enabled:!1,authenticationUrl:""},oneDrive:{enabled:!1,authenticationUrl:""},salesforce:{enabled:!1}},g.configurationsLoaded=l.all([e.load(),e.allowedConnectedApps(g.connectedApps),e.authenticatedApps(),a.getFailures(i.getCurrentAccountId())]).then(function(e){g.items=e[0],g.connectedApps=e[1];var t=e[2],n=o.find(t,function(e){return"Box"===e.service});n&&!o.isEmpty(n.authenticationUrl)&&(g.connectedApps.box.authenticationUrl=n.authenticationUrl);var a=o.find(t,function(e){return"SkyDrive"===e.service});if(a&&!o.isEmpty(a.authenticationUrl)&&(g.connectedApps.oneDrive.authenticationUrl=a.authenticationUrl),!o.isEmpty(g.items)){var i=e[3]&&e[3].failures||[];o.each(g.items,function(e){e.failures=o.filter(i,{connectId:e.connectId}).length})}}),g.enablabilityLoaded=l.when(),g.items=null,g.connectEnabled=e.enabled(),g.deleteConfiguration=w,g.edit=S,g.hasConfigurations=C,g.allowAddSalesforceConfiguration=P,g.toggleConfigurationActivation=E,g.getDownloadUri=A,g.hasEOriginalConfiguration=y,g.addConfiguration=b,g.setConnectEnabled=_,g.onConnectDisable=v,g.allowEnvelopePublishReporting=p.allowEnvelopePublishReporting(),u.upload=f(),c.goToAdd=T}])},function(e,t){var n="connect/confirm-disable-connect-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="header-title" translate="Disable Connect"></h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <p translate="Are you sure you want to disable connect configurations?">\n    </p>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary"\n            olive-modal-complete\n            data-qa="disable_connect_disable_btn"\n            translate="Disable"></button>\n    <button class="btn btn-lg btn-minor"\n            olive-modal-escape\n            data-qa="disable_connect_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="connect/cloud-storage/e-original-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditCustomConnectConfigurationController\'>\n  <div ng-controller=\'EOriginalConfigurationController\' ds-form>\n\n    <div ng-include="\'connect/add-edit-custom-configuration-header.html\'"></div>\n\n    <div class="section">\n      <h1 class="header-title" translate="{{ configurationTitle }}"></h1>\n\n      <div class="header-actions">\n        <button id="page-add-top" ng-if="!form.isEdit" class="btn btn-primary" ds-form-submit=\'add()\'\n                data-qa="connect_add_eoriginal_configuration_top_add_btn"\n                translate="Add"></button>\n        <button id="page-save-top" ng-if="form.isEdit" class="btn btn-primary" ds-form-submit=\'save()\'\n                data-qa="connect_add_eoriginal_configuration_top_save_btn"\n                translate="Save"></button>\n        <button id="page-cancel-top" class="btn btn-minor" ui-sref="authenticated.connect"\n                data-qa="connect_add_eoriginal_configuration_top_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n    <div class=\'section add-edit-configuration\' ng-include="\'connect/add-edit-custom-configuration.html\'"></div>\n\n    <div class="section">\n      <div class="action-btns">\n        <button id="page-add-bottom" ng-if="!form.isEdit" class="btn btn-primary" ds-form-submit=\'add()\'\n                data-qa="connect_add_eoriginal_configuration_bot_add_btn"\n                translate="Add"></button>\n        <button id="page-save-bottom" ng-if="form.isEdit" class="btn btn-primary" ds-form-submit=\'save()\'\n                data-qa="connect_add_eoriginal_configuration_bot_save_btn"\n                translate="Save"></button>\n        <button id="page-cancel-bottom" class="btn btn-minor" ui-sref="authenticated.connect"\n                data-qa="connect_add_eoriginal_configuration_bot_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("EOriginalConfigurationController",["$scope","ConnectConfigurationsService","CustomConfigurationModel","$state","dsNotification","lodash","$translate","$timeout",function(e,t,n,a,i,s,o,r){function l(){t.add(e.form.model).then(function(e){a.go("authenticated.connect"),r(function(){i.show({msg:o.instant("You successfully added the configuration {{configName}}.",{configName:e.name}),type:"success"})},0)},function(e){i.show({msg:e.message,type:"alert"})})}function c(){t.save(e.form.model).then(function(e){a.go("authenticated.connect"),r(function(){i.show({msg:o.instant("You successfully saved the configuration {{configName}}.",{configName:e.name}),type:"success"})},0)},function(e){i.show({msg:e.message,type:"alert"})})}!function(){e.form.model=new n,e.form.model.configurationType="eoriginal",e.form.model.urlToPublishTo="https://ondemand.eoriginal.com/docusign-listener/",e.form.isEdit=!1,e.isCloudStorage=!0,e.configurationTitle=a.current.data.configurationTitle,e.configurationType=a.current.data.configurationType,s.isEmpty(t.active())||(e.form.model=t.active(),e.form.isEdit=!0);e.fillUpLists(),e.add=l,e.save=c}()}])},function(e,t){var n="connect/cloud-storage/cloud-storage-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditCustomConnectConfigurationController\'>\n  <div ng-controller=\'CloudStorageConfigurationController\' ds-form>\n\n    <div ng-include="\'connect/add-edit-custom-configuration-header.html\'"></div>\n\n    <div class="section">\n      <h1 class="header-title" translate="{{ configurationTitle }}"></h1>\n\n      <div class="header-actions">\n        <button id="page-add-top" ng-if="!form.isEdit" class="btn btn-primary" ds-form-submit=\'add()\'\n                translate="Add"></button>\n        <button id="page-save-top" ng-if="form.isEdit" class="btn btn-primary" ds-form-submit=\'save()\'\n                translate="Save"></button>\n        <button id="page-cancel-top" class="btn btn-minor" ui-sref="authenticated.connect" translate="Cancel"></button>\n      </div>\n    </div>\n\n    <div class=\'section add-edit-configuration\' ng-include="\'connect/add-edit-custom-configuration.html\'"></div>\n\n    <div class="section">\n      <div class="action-btns">\n        <button id="page-add-bottom" ng-if="!form.isEdit" class="btn btn-primary" ds-form-submit=\'add()\'\n                translate="Add"></button>\n        <button id="page-save-bottom" ng-if="form.isEdit" class="btn btn-primary" ds-form-submit=\'save()\'\n                translate="Save"></button>\n        <button id="page-cancel-bottom" class="btn btn-minor" ui-sref="authenticated.connect"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("CloudStorageConfigurationController",["$scope","ConnectConfigurationsService","CustomConfigurationModel","$state","dsNotification","lodash","$translate","$timeout","oliveModal",function(e,t,n,a,i,s,o,r,l){function c(){l.openModal({templateUrl:"connect/folder-selector-modal.html",scope:e,size:"sm",showClose:!1})}function d(){t.add(e.form.model).then(function(e){a.go("authenticated.connect"),r(function(){i.show({msg:o.instant("You successfully added the configuration {{configName}}.",{configName:e.name}),type:"success"})},0)},function(e){i.show({msg:e.message,type:"alert"})})}function u(){t.save(e.form.model).then(function(e){a.go("authenticated.connect"),r(function(){i.show({msg:o.instant("You successfully saved the configuration {{configName}}.",{configName:e.name}),type:"success"})},0)},function(e){i.show({msg:e.message,type:"alert"})})}!function(){e.form.model=new n,e.form.model.enableLog=!1,e.form.model.requiresAcknowledgement=!1,e.form.isEdit=!1,e.configurationTitle=a.current.data.configurationTitle,e.configurationType=a.current.data.configurationType,e.isCloudStorage=!0,s.isEmpty(t.active())?e.form.model.configurationType=e.configurationType:(e.form.model=t.active(),e.form.isEdit=!0);e.fillUpLists(),e.browseFolder=c,e.add=d,e.save=u,function(){var n=null,a="";switch(e.configurationType){case"box.net":a="Box";break;case"skydrive":a="SkyDrive"}t.authenticatedApps().then(function(t){n=s.find(t,function(e){return e.service===a}),s.isEmpty(n)||(e.provider=n)})}(),e.$on("FolderSelected",function(t,n){e.form.model.externalFolderId=n.id,e.form.model.externalFolderLabel=n.title})}()}])},function(e,t){var n="connect/cloud-storage/cloud-redirect.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<html>\n<header>\n\n  <script type="text/javascript">\n    try {\n      window.opener.goToAdd();\n    }\n    catch (e) {}\n    window.close();\n  <\/script>\n</header>\n<body>\n\n</body>\n</html>')}]),e.exports=n},function(e,t){var n="connect/associated-users.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 class="header-title" translate=\'Associated Users\'></h2>\n<div class="grid">\n  <div class="col-3-4">\n\n    <div class="form-group conditional-group">\n\n      <div class="inline-input rb">\n        <input id="include-all-users" class="rb_input" type="radio" checked name="radio"\n               ng-model=\'form.model.allUsers\' ng-value=\'true\'\n               data-qa="connect_add_edit_custom_config_include_all_users_rb"/>\n        <label class="rb_label" for="include-all-users"\n               data-qa="connect_add_edit_custom_config_include_all_users_rb_lbl"\n               translate=\'All users (includes new users)\'></label>\n      </div>\n\n      <div class="inline-input rb">\n        <input id="select-users-to-include" class="rb_input" type="radio" name="radio"\n               data-qa="connect_add_edit_custom_config_select_users_to_include_rb"\n               ng-model=\'form.model.allUsers\' ng-value=\'false\' />\n        <label class="rb_label" for="select-users-to-include"\n               data-qa="connect_add_edit_custom_config_select_users_to_include_rb_lbl"\n               translate=\'Select users to include\'></label>\n      </div>\n      \x3c!-- Conditional Content --\x3e\n      <div id="selected-users-accumulator" ng-show="form.model.allUsers === false">\n        <accumulator accumulator-options="accumulatorOptions"></accumulator>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="connect/add-salesforce-login.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='AddSalesforceLoginController as login' ds-form>\n  <div class='header'>\n    <h1 translate>Login Configuration</h1>\n  </div>\n\n  <div class='grid content' ng-include=\"'connect/add-edit-salesforce-login.html'\"></div>\n\n  <div class='footer'>\n    <button id='salesforce-login-add' type=\"submit\" class=\"btn btn-lg btn-primary\"\n            ds-form-submit='login.add()' translate>Add</button>\n    <button type=\"button\" class=\"btn btn-lg btn-minor\" ng-click='login.cancel()'\n            ds-close-modal translate>Cancel</button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("AddSalesforceLoginController",["SalesforceLoginModel","SalesforceConfigurationModel","ConnectConfigurationsService","$state","oliveMessage","$translate",function(e,t,n,a,i,s){var o=this;function r(){var e=new t;e.userName=o.model.userName,e.password=o.model.password,e.salesforceApiVersion=o.model.salesforceApiVersion,e.urlToPublishTo=o.model.urlToPublishTo(),n.add(e).then(function(e){n.active(e),a.go("authenticated.edit-salesforce-configuration")}).catch(function(){i.show({content:"Your credentials are invalid. Please correct them and try again.",name:"salesforceLoginError",type:"error",modal:!0})})}o.model=new e,o.add=r}])},function(e,t){var n="connect/add-edit-salesforce-login.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="form-group conditional-group">\n\n  <div class="inline-input rb">\n    <input id="salesforce-production" name="salesforce-environment" class="rb_input"\n           type="radio" ng-model=\'login.model.environment\' value=\'production\' />\n    <label class="rb_label" for="salesforce-production" translate="Production"></label>\n  </div>\n\n  <div class="inline-input rb">\n    <input id="salesforce-test" name="salesforce-environment" class="rb_input"\n           type="radio" ng-model=\'login.model.environment\' value=\'test\' />\n    <label class="rb_label" for="salesforce-test" translate="Test"></label>\n  </div>\n\n  <div class="inline-input rb">\n    <input id="salesforce-custom" name="salesforce-environment" class="rb_input"\n           type="radio" ng-model=\'login.model.environment\' value=\'custom\' />\n    <label class="rb_label" for="salesforce-custom" translate="URL"></label>\n\n    \x3c!-- Conditional Content --\x3e\n    <div class="related-input conditional-input">\n      <input id="salesforce-url" type="text" class="input-text" ng-model=\'login.model.customUrl\'\n             placeholder="https://" ds-form-ignore="login.model.environment !==\'custom\'"\n             ds-valid required />\n      <p class="small-text" translate>Sample URL: https://[[your_salesforce_instance_url_here]]/services/Soap/u/21.0</p>\n    </div>\n  </div>\n</div>\n\n<div class="form_unit">\n  <label class="label" for="salesforce-api-version" translate="Salesforce SOAP Web Services API Version"></label>\n\n  <select id="salesforce-api-version"\n          ng-options="ver as ver for ver in login.model.salesforceApiVerionsAvailable track by ver"\n          ng-model="login.model.salesforceApiVersion">\n  </select>\n</div>\n\n<div class="form_unit">\n  <label class="label" label-required="*" for="salesforce-username" translate="Salesforce Username"></label>\n  <input id="salesforce-username"type="text" class="input-text"\n         ng-model=\'login.model.userName\' ds-valid required />\n</div>\n\n<div class="form_unit">\n  <label class="label" for="salesforce-password" translate="Salesforce Password"></label>\n  <input id=\'salesforce-password\' type="password" class="input-text"\n         ng-model="login.model.password" ds-valid required />\n  <p class="small-text" translate>\n    Add your security token if DocuSign is not part of your company\'s trusted networks. For example, if your password is "MyPassword" and your security token is "XXXXXX", enter "MyPasswordXXXXXX" in the Salesforce Password field.\n  </p>\n</div>\n')}]),e.exports=n},function(e,t){var n="connect/add-edit-salesforce-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<h2 class="header-title" translate>Salesforce Account Settings</h2>\n\n<div class="grid">\n  <div class="col-1-3">\n\n    <div class="form-group">\n      <label class="label" for="configName" translate="Salesforce Username"></label>\n      <input type="text" class="input-text" id="configName" disabled="disabled"\n             ng-model=\'form.model.userName\' />\n    </div>\n\n    <div class="status-message">\n      <p ng-switch=\'form.model.urlToPublishTo\'>\n        <span ng-switch-when=\'production\'\n              translate=\'Environment: [[styleStart]]Production[[styleEnd]]\'\n              translate-values="{styleStart:\'<strong>\', styleEnd:\'</strong>\'}"\n              translate-interpolation=\'bracket\'>\n        </span>\n        <span ng-switch-when=\'test\'\n              translate=\'Environment: [[styleStart]]Test[[styleEnd]]\'\n              translate-values="{styleStart:\'<strong>\', styleEnd:\'</strong>\'}"\n              translate-interpolation=\'bracket\'>\n        </span>\n        <span ng-switch-default>\n          <span translate>Environment: </span>\n          <input type="text" class="input-text" id="salesforce-custom-url" disabled="disabled"\n                 ng-value=\'form.model.urlToPublishTo\' />\n        </span>\n      </p>\n\n      <p>\n        <a ds-modal="connect/edit-salesforce-login.html"\n           ds-size="small"\n           class="ng-scope" translate="Reconfigure Login"></a>\n      </p>\n    </div>\n\n  </div>\n</div>\n\n<h2 class="header-title" translate="System Settings"></h2>\n\n<div class="grid">\n  <div class="col-1-3">\n\n    <div class="header-status">\n      <button id=\'connect-toggle-activation\' type="button" class="btn btn-secondary btn-trigger" olive-menu="connect-toggle-menu">\n        <span ng-if=\'!form.model.isActive()\'><i class="icon icon-circleclosed text-muted icon-left"></i><span translate="Inactive Connection"></span></span>\n        <span ng-if=\'form.model.isActive()\'><i class="icon icon-circle text-success icon-left"></i> <span translate="Active Connection"></span></span>\n      </button>\n      <div class="menu invisible" id="connect-toggle-menu">\n        <ul>\n          <li ng-if=\'!form.model.isActive()\' ng-click=\'form.model.toggleActivation()\'>\n            <a class="item on" translate="Activate Connection"></a>\n          </li>\n          <li ng-if=\'form.model.isActive()\' ng-click=\'form.model.toggleActivation()\'>\n            <a class="item on" translate="Inactivate Connection"></a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="inline-input cb">\n        <input id=\'connect-sender-can-disable-publish\' class="cb_input" type="checkbox"\n               ng-model=\'form.model.senderOverride\'/>\n        <label class="cb_label" for="connect-sender-can-disable-publish" translate="Sender can disable Envelope Publish">\n\n        </label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id="connect-sf-enable-log" class="cb_input" type="checkbox"\n               ng-model=\'form.model.enableLog\' >\n        <label class="cb_label" for="connect-sf-enable-log" translate="Enable Log (maximum 100)"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id="connect-requires-acknowledgement" class="cb_input" type="checkbox"\n               ng-model=\'form.model.requiresAcknowledgement\' >\n        <label class="cb_label" for="connect-requires-acknowledgement" translate="Require Acknowledgement"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id="use-content-files" class="cb_input" type="checkbox"\n               ng-model=\'form.model.salesforceDocumentsAsContentFiles\' >\n        <label class="cb_label" for="use-content-files" translate="Use Content Files"></label>\n      </div>\n    </div>\n\n    \x3c!-- Checkbox Select List --\x3e\n    <div class="form-group">\n      <label class="label" translate>Sender Selectable Items:</label>\n\n      <div class="inline-input cb">\n        <input id=\'connect-salesforce-leads\' class="cb_input" type="checkbox"\n               value="Lead"\n               ng-checked="hasSenderSelectableItem(\'Lead\')"\n               ng-click=\'addRemoveCheckedOption($event, form.model.senderSelectableItems)\'/>\n        <label class="cb_label" for="connect-salesforce-leads" translate="Leads"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id=\'connect-salesforce-opportunities\' class="cb_input" type="checkbox"\n               value=\'Opportunity\'\n               ng-checked="hasSenderSelectableItem(\'Opportunity\')"\n               ng-click=\'addRemoveCheckedOption($event, form.model.senderSelectableItems)\'/>\n        <label class="cb_label" for="connect-salesforce-opportunities" translate="Opportunities"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id=\'connect-salesforce-contracts\' class="cb_input" type="checkbox"\n               value=\'Contract\'\n               ng-checked="hasSenderSelectableItem(\'Contract\')"\n               ng-click=\'addRemoveCheckedOption($event, form.model.senderSelectableItems)\'/>\n        <label class="cb_label" for="connect-salesforce-contracts" translate="Contracts"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id=\'connect-salesforce-cases\' class="cb_input" type="checkbox"\n               value=\'Case\'\n               ng-checked="hasSenderSelectableItem(\'Case\')"\n               ng-click=\'addRemoveCheckedOption($event, form.model.senderSelectableItems)\'/>\n        <label class="cb_label" for="connect-salesforce-cases" translate="Cases"></label>\n      </div>\n\n      <div class="inline-input cb">\n        <input id="connect-salesforce-accounts" class="cb_input" type="checkbox"\n               value=\'Account\'\n               ng-checked="hasSenderSelectableItem(\'Account\')"\n               ng-click=\'addRemoveCheckedOption($event, form.model.senderSelectableItems)\'/>\n        <label class="cb_label" for="connect-salesforce-accounts" translate="Accounts"></label>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-include="\'connect/associated-users.html\'" include-replace></div>\n\n<h2 class="header-title" translate>Connect Objects</h2>\n<p class="small-text" translate>Connect Objects map data between DocuSign and your Salesforce account.</p>\n<div class="grid">\n  <div class="col-3-4">\n    <button type="button" class="btn btn-secondary btn-trigger" olive-menu="objectOptions" translate="New Object">\n\n    </button>\n\n    <div class="menu invisible" id="objectOptions" style="top: 1014px; left: 24px; min-width: 127px;">\n      <ul>\n        <li><a class="item" ng-click="editSalesforceObject(null)" translate="Salesforce Object"></a></li>\n        <li><a class="item" ng-click="confirmAdd(\'docusign\')" translate="DocuSign for Salesforce"></a></li>\n        <li><a class="item" ng-click="confirmAdd(\'ios\')" translate="iPad QuickStart"></a></li>\n      </ul>\n    </div>\n\n    \x3c!-- Connect Object List Table --\x3e\n    <table class="list-tbl thin rtbl" ng-if="form.model.hasObjects()">\n      <thead>\n        <tr>\n          <th class="column-handle">&nbsp;</th>\n          <th class="column-name" translate="Name"></th>\n          <th class="column-map" translate="Status"></th>\n          <th class="column-action">&nbsp;</th>\n        </tr>\n      </thead>\n      <tbody ui-sortable="form.sortableOptions" ng-model="form.model.sfObjects">\n        <tr class="click-row"\n            ng-repeat="item in form.model.sfObjects track by $index">\n          <td class="column-handle">\n            <span class="icon icon-handle recipient-handle"></span>\n          </td>\n          <td class="column-name"\n              ng-click="editSalesforceObject(item, $index)">\n            <a href="#">\n              {{ item.sfObjectName }}\n            </a>\n          </td>\n          <td class="column-map"\n              ng-click="editSalesforceObject(item, $index)">\n            <a href="#">\n              <span ng-if="item.active"><i class="icon icon-circle text-success icon-left"></i>\n              <span translate="Active"></span></span>\n              <span ng-if="!item.active"><i class="icon icon-circleclosed text-muted icon-left"></i>\n              <span translate="Inactive"></span></span>\n            </a>\n          </td>\n          <td class="column-action">\n            <button type="button" class="btn btn-secondary btn-sm btn-trigger" olive-menu="configActions{{ $index }}"\n                    translate="Actions">\n              Actions</button>\n            \x3c!-- Menu Options --\x3e\n            <div class="menu invisible" id="configActions{{ $index }}">\n              <ul>\n                <li><a class="item" ng-click="editSalesforceObject(item, $index)" translate="Edit"></a></li>\n                <li ng-if="item.active">\n                  <a class="item" ng-click="toggleActivationSalesforceObject(item)" translate="Deactivate"></a>\n                </li>\n                <li ng-if="!item.active">\n                  <a class="item" ng-click="toggleActivationSalesforceObject(item)" translate="Activate"></a>\n                </li>\n                <li><a class="item" ng-click="confirmDeleteSalesforceObject(item)" translate="DS_CONTEXT=(salesforce object) Delete"></a></li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <script type="text/ng-template" id="draggingTemplate">\n      <span>{{form.model.draggingObject}}</span>\n    <\/script>\n  </div>\n</div>\n\n<div ng-include="\'connect/trigger-events.html\'" include-replace></div>\n')}]),e.exports=n},function(e,t){var n="connect/add-edit-custom-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form class="customConnectForm">\n  <h2 class="header-title" translate="System Settings"></h2>\n\n  <div class="grid">\n    <div class="col-1-3">\n      <div class="header-status form-group">\n        <button id=\'connect-toggle-activation\' type="button" class="btn btn-secondary btn-trigger"\n                data-qa="connect_add_edit_custom_config_activation_toggle_btn"\n                olive-menu="connect-toggle-menu">\n          <span ng-if=\'!form.model.isActive()\'><i class="icon icon-circleclosed text-muted icon-left"></i><span translate>Inactive Connection</span></span>\n          <span ng-if=\'form.model.isActive()\'><i class="icon icon-circle text-success icon-left"></i> <span translate>Active Connection</span></span>\n        </button>\n        <div class="menu invisible" id="connect-toggle-menu">\n          <ul>\n            <li ng-if=\'!form.model.isActive()\' ng-click=\'form.model.toggleActivation()\'>\n              <a class="item on"\n                 data-qa="connect_add_edit_custom_config_activate_link"\n                 translate>Activate Connection</a>\n            </li>\n            <li ng-if=\'form.model.isActive()\' ng-click=\'form.model.toggleActivation()\'>\n              <a class="item on"\n                 data-qa="connect_add_edit_custom_config_inactivate_link"\n                 translate>Inactivate Connection</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="form-group" ng-if="form.model.configurationType !== \'eoriginal\'">\n        <label class="label" for="connect-name" translate="Name"></label>\n        <input id=\'connect-name\' type="text" class="input-text"\n               data-qa="connect_add_edit_custom_config_name_txtb"\n               ng-model=\'form.model.name\' ds-valid required />\n      </div>\n\n      <div class="form-group" ng-if="!isCloudStorage && form.model.configurationType !== \'eoriginal\'">\n        <label ng-if=\'allowConnectHttpListenerConfigs\' class="label" for="connect-url" translate="URL to Publish (HTTPS recommended. See System Updates.)"></label>\n        <label ng-if=\'!allowConnectHttpListenerConfigs\' class="label" for="connect-url" translate="URL to Publish (HTTPS required)"></label>\n        <input id=\'connect-url\' type="text" class="input-text"\n               data-qa="connect_add_edit_custom_config_url_to_publish_txtb"\n               ng-model=\'form.model.urlToPublishTo\' ng-maxlength=\'1024\' ds-valid=\'regex\' ds-valid-regex=\'connectListenerUrlRegEx\' required />\n      </div>\n\n      <div class="form-group cb" ng-if="!isCloudStorage">\n        <input class="cb_input" type="checkbox" id="include-basicauthentication-header"\n          data-qa="connect_add_edit_custom_config_include_basicauthentication_header_cb"\n          ng-model="basicAuth.includeBasicAuthenticationHeader">\n        <label class="cb_label" for="include-basicauthentication-header"\n          data-qa="connect_add_edit_custom_config_include_basicauthentication_header_cb_lbl"\n          translate="Include Basic Authentication Header"></label>\n      </div>\n\n      <div class="form-group" ng-if="!isCloudStorage && basicAuth.includeBasicAuthenticationHeader">\n        <label class="label" for="basicauth-username" translate>User Name</label>\n        <input id="basicauth-username"type="text" class="input-text"\n          ng-model=\'form.model.userName\' ng-maxlength=\'255\' ds-valid required />\n      </div>\n\n      <div class="form-group" ng-if="!isCloudStorage && basicAuth.includeBasicAuthenticationHeader && passwordAssumed">\n        <label class="label" for="basicauth-password" translate>Password (previous value not displayed)</label>\n        <input id=\'basicauth-password\' type="password" class="input-text"\n          ng-model="form.model.password" ds-valid />\n      </div>\n\n      <div class="form-group" ng-if="!isCloudStorage && basicAuth.includeBasicAuthenticationHeader && !passwordAssumed">\n        <label class="label" for="basicauth-password" translate>Password</label>\n        <input id=\'basicauth-password\' type="password" class="input-text"\n          ng-model="form.model.password" ng-maxlength=\'255\' ds-valid required />\n      </div>\n\n      <div class="form-group" ng-if="form.model.configurationType === \'eoriginal\'">\n        <div class="select-wrap">\n          <select ng-model="form.model.urlToPublishTo"\n                  data-qa="connect_add_edit_custom_config_eoriginal_option">\n            <option value="https://ondemand.eoriginal.com/docusign-listener/">eCore On Demand</option>\n            <option value="https://previewondemand.eoriginal.com/docusign-listener/">Preview On Demand</option>\n            <option value="https://testondemand.eoriginal.com/docusign-listener/">Test On Demand</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="inline-input cb">\n          <input id=\'connect-enable-log\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_enable_log_cb"\n                 ng-model=\'form.model.enableLog\' />\n          <label class="cb_label" for=\'connect-enable-log\'\n                 data-qa="connect_add_edit_custom_config_enable_log_cb_lbl"\n                 translate="Enable Log (maximum 100)"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="form.model.configurationType !== \'eoriginal\'">\n          <input id=\'connect-requires-acknowledgement\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_requires_acknowledgement_cb"\n                 ng-model=\'form.model.requiresAcknowledgement\' />\n          <label class="cb_label" for="connect-requires-acknowledgement"\n                 data-qa="connect_add_edit_custom_config_requires_acknowledgement_cb_lbl"\n                 translate="Require Acknowledgement"></label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="label" translate="Include:"></label>\n        <div class="inline-input cb" ng-if="!isCloudStorage">\n          <input id=\'connect-include-documents\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_document_pdf_cb"\n                 ng-model=\'form.model.includeDocuments\' />\n          <label class="cb_label" for="connect-include-documents"\n                 data-qa="connect_add_edit_custom_config_document_pdf_cb_lbl"\n                 translate="Document PDFs"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="form.model.configurationType !== \'eoriginal\'">\n          <input id="connect-include-certificate-of-completion" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_certificate_of_completion_cb"\n                 ng-model=\'form.model.includeCertificateOfCompletion\' />\n          <label class="cb_label" for="connect-include-certificate-of-completion"\n                 data-qa="connect_add_edit_custom_config_certificate_of_completion_cb_lbl"\n                 translate="Certificate of Completion"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="!isCloudStorage">\n          <input id=\'connect-include-timezone-information\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_timezone_info_cb"\n                 ng-model=\'form.model.includeTimeZoneInformation\'/>\n          <label class="cb_label" for="connect-include-timezone-information"\n                 data-qa="connect_add_edit_custom_config_timezone_info_cb_lbl"\n                 translate="Time Zone Information"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="form.model.configurationType !== \'eoriginal\'">\n          <input id=\'connect-include-void-reason\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_doc_voided_reason_cb"\n                 ng-model=\'form.model.includeEnvelopeVoidReason\' />\n          <label class="cb_label" for="connect-include-void-reason"\n                 data-qa="connect_add_edit_custom_config_doc_voided_reason_cb_lbl"\n                 translate="Envelope Voided Reason"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="!isCloudStorage || form.model.configurationType === \'eoriginal\'">\n          <input id=\'connect-include-sender-as-custom-field\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_sender_account_as_custom_field_cb"\n                 ng-model=\'form.model.includeSenderAccountAsCustomField\' />\n          <label class="cb_label" for="connect-include-sender-as-custom-field"\n                 data-qa="connect_add_edit_custom_config_sender_account_as_custom_field_cb_lbl"\n                 translate="Sender Account as Custom Field"></label>\n        </div>\n\n        <div class="inline-input cb" ng-if="!isCloudStorage || form.model.configurationType === \'eoriginal\'">\n          <input id=\'connect-include-document-fields\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_doc_fields_cb"\n                 ng-model=\'form.model.includeDocumentFields\' />\n          <label class="cb_label" for="connect-include-document-fields"\n                 data-qa="connect_add_edit_custom_config_doc_fields_cb_lbl"\n                 translate="Document Fields"></label>\n        </div>\n      </div>\n\n      <div class="form-group" ng-if="isCloudStorage && form.model.configurationType !== \'eoriginal\'">\n        <h2 class="header-title" translate="Folder to Publish to"></h2>\n        <div class="inline-input">\n          <button type="button"\n                  data-qa="connect_add_edit_custom_config_browse_btn"\n                  translate="Browse"\n                  class="btn btn-secondary"\n                  ng-click="browseFolder()"\n                  olive-tooltip\n                  olive-tooltip-position="after middle"\n                  translate-attr-title="Select a Folder by Clicking Browse"></button>\n\n          <span class="grid pad text-strong">{{ form.model.externalFolderLabel }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-include="\'connect/associated-users.html\'"></div>\n\n  <div ng-include="\'connect/trigger-events.html\'"\n       ng-if="!isCloudStorage && form.model.configurationType !== \'eoriginal\'"></div>\n\n  <h2 class="header-title" translate="Integration and Security Settings" ng-if="!isCloudStorage || form.model.configurationType === \'eoriginal\'"></h2>\n  <div class="grid" ng-if="!isCloudStorage || form.model.configurationType === \'eoriginal\'">\n    <div class="col-1-3">\n      <div class="form-group conditional-group" ng-if="!isCloudStorage && form.model.configurationType !== \'eoriginal\'">\n        <div class="inline-input cb">\n          <input id="connect-use-soap" class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_connect_use_soap_cb"\n                 ng-model=\'form.model.useSoapInterface\'/>\n          <label class="cb_label" for="connect-use-soap"\n                 data-qa="connect_add_edit_custom_config_connect_use_soap_cb_lbl"\n                 translate="Use SOAP Interface (SOAP Method: DocuSignConnectUpdate)"></label>\n\n          <div id=\'namespace-control-group\' class="related-input conditional-hide">\n\n            <div class="form-group">\n              <label class="label" for="connect-soap-namespace" translate="Namespace"></label>\n              <input id="connect-soap-namespace" type="text" class="input-text"\n                     data-qa="connect_add_edit_custom_config_connect_soap_namespace_txtb"\n                     ng-model=\'form.model.soapNamespace\' />\n            </div>\n\n            <div class="inline-input cb">\n              <input id=\'connect-include-cert-soap-header\' class="cb_input" type="checkbox"\n                     data-qa="connect_add_edit_custom_config_include_cert_in_soap_header_cb"\n                     ng-model=\'form.model.includeCertSoapHeader\'/>\n              <label class="cb_label" for="connect-include-cert-soap-header"\n                     data-qa="connect_add_edit_custom_config_include_cert_in_soap_header_cb_lbl"\n                     translate="Include XML Digital Signature in SOAP Header"></label>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div class="inline-input cb" ng-if="!isCloudStorage && form.model.configurationType !== \'eoriginal\'">\n        <input id=\'connect-sign-message-with-x509\'  class="cb_input" type="checkbox"\n               data-qa="connect_add_edit_custom_config_connect_sign_message_with_x509_cb"\n               ng-model=\'form.model.signMessageWithX509Certificate\' />\n        <label class="cb_label" for="connect-sign-message-with-x509"\n               data-qa="connect_add_edit_custom_config_connect_sign_message_with_x509_cb_lbl"\n               translate="Enable Mutual TLS"></label>\n      </div>\n\n      <div class="form-group" ng-if="!isCloudStorage || form.model.configurationType === \'eoriginal\'">\n        <div class="inline-input cb">\n          <input id=\'connect-require-mutual-tls\' class="cb_input" type="checkbox"\n                 data-qa="connect_add_edit_custom_config_require_mutual_tls_cb"\n                 ng-model=\'form.model.requireMutualTls\' />\n          <label class="cb_label" for="connect-require-mutual-tls"\n                 data-qa="connect_add_edit_custom_config_require_mutual_tls_cb_lbl"\n                 translate="Require Mutual TLS"></label>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),e.exports=n},function(e,t){var n="connect/add-edit-custom-configuration-header.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="crumbs">\n  <ul class="crumbs_list">\n    <li class="crumbs_listItem">\n      <a class="crumbs_item"\n         ui-sref="authenticated.connect"\n         translate="Connect Configurations List"></a>\n    </li>\n    <li class="crumbs_listItem">\n      <span class="crumbs_item"\n            translate="{{ configurationTitle }}"></span>\n    </li>\n  </ul>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("AddEditCustomConnectConfigurationController",["$scope","ConnectConfigurationsService","RADminUtil","lodash","appUser","dsNotification","$translate","$q",function(e,t,n,a,i,s,o,r){e.form={},e.form.users=[],e.form.usersSearchPhrase="",e.form.membersSearchPhrase="";var l=!0,c=50,d=100,u="name",p="email";e.accumulatorOptions={totalItemsInAccount:0,pageSize:c,itemTypeSingular:"User",itemTypePlural:"Users",updateLists:function(t,n){"add"===t?function(t){e.form.model.users.push(t),A(e.accumulatorOptions.selectedList),0===e.accumulatorOptions.availableList.length&&(""!==e.accumulatorOptions.availableSearchPhrase&&f.start_position<f.totalSetSize?(E(f),b(f)):a.isEmpty(e.accumulatorOptions.availableSearchPhrase)&&g.start_position<g.totalSetSize&&(E(g),S(g,!1).then(function(e){return C(e)})))}(n):"remove"===t&&function(t){(function(e,t){a.remove(e,function(e){return e.id===t.id})})(e.form.model.users,t),A(e.accumulatorOptions.availableList),0===e.accumulatorOptions.selectedList.length&&(""!==e.accumulatorOptions.selectedSearchPhrase&&v.start_position<v.totalSetSize?(E(v),y(v)):a.isEmpty(e.accumulatorOptions.selectedSearchPhrase)&&h.start_position<h.totalSetSize&&(E(h),w(h,!1).then(function(e){return P(e)})))}(n)},showAddAll:!1,showRemoveAll:!0,maximumShowingLimit:d,availableList:[],totalAvailable:0,availableSearchPhrase:"",availableSearchTotalSet:0,availableLoading:null,hideAvailable:!1,availableMultipleSearchTypes:!0,availableSearchType:u,isAddEnabled:!0,selectedList:[],totalSelected:0,selectedSearchPhrase:"",selectedLoading:null,hideSelected:!1,selectedMultipleSearchTypes:!0,selectedSearchType:u,isRemoveEnabled:!0};var m={status:"active,activationsent,activationrequired",start_position:0,count:c,list_included_users:!1,endPosition:0,totalSetSize:0},g=a.cloneDeep(m),h=a.cloneDeep(m),f=a.cloneDeep(m),v=a.cloneDeep(m);h.list_included_users=!0,v.list_included_users=!0,e.$watch(function(){return e.accumulatorOptions.availableSearchPhrase},function(t,n){t!==n&&(s.closeBy("type","warn"),a.isEmpty(e.accumulatorOptions.availableSearchPhrase)?(e.accumulatorOptions.availableSearchTotalSet=e.accumulatorOptions.totalItemsInAccount,f=a.omit(f,"user_name_substring"),f=a.omit(f,"email_substring"),e.accumulatorOptions.totalAvailable=e.accumulatorOptions.totalItemsInAccount,b(g).then(function(){e.accumulatorOptions.availableList.length>0&&a.remove(e.accumulatorOptions.availableList,function(t){return a.find(e.accumulatorOptions.selectedList,{id:t.id})})})):(f.start_position=0,f.count=c,a.isEmpty(f.user_name_substring)&&a.isEmpty(f.email_substring)&&a.cloneDeep(e.accumulatorOptions.availableList),e.accumulatorOptions.availableSearchType===u?(f.user_name_substring=e.accumulatorOptions.availableSearchPhrase,f=a.omit(f,"email_substring")):e.accumulatorOptions.availableSearchType===p&&(f.email_substring=e.accumulatorOptions.availableSearchPhrase,f=a.omit(f,"user_name_substring")),b(f)))}),e.$watch(function(){return e.accumulatorOptions.selectedSearchPhrase},function(t,n){t!==n&&(s.closeBy("type","warn"),a.isEmpty(e.accumulatorOptions.selectedSearchPhrase)?(v=a.omit(v,"user_name_substring"),v=a.omit(v,"email_substring"),y(h).then(function(){e.accumulatorOptions.selectedList.length>0&&a.remove(e.accumulatorOptions.selectedList,function(t){return a.find(e.accumulatorOptions.availableList,{id:t.id})})})):(v.start_position=0,v.count=c,a.isEmpty(v.user_name_substring)&&a.isEmpty(v.email_substring)&&a.cloneDeep(e.accumulatorOptions.selectedList),e.accumulatorOptions.selectedSearchType===u?(v.user_name_substring=e.accumulatorOptions.selectedSearchPhrase,v=a.omit(v,"email_substring")):e.accumulatorOptions.selectedSearchType===p&&(v.email_substring=e.accumulatorOptions.selectedSearchPhrase,v=a.omit(v,"user_name_substring")),y(v)))}),e.fillUpLists=function(){l=e.form.model.allUsers;var t=[S(g,!1).then(function(e){return C(e)})];if(!a.isEmpty(e.form.model.users)){var n=w(h,!1).then(function(e){return P(e)});t.push(n)}return r.all(t)},e.addRemoveCheckedOption=function(e,t){"checkbox"===e.target.type?e.target.checked?t.push(e.target.value):a.remove(t,function(t){return t===e.target.value}):e.stopPropagation()},e.allowConnectSendFinishLater=!1,e.allowConnectHttpListenerConfigs||(e.allowConnectHttpListenerConfigs=!0,e.connectListenerUrlRegEx=n.generateHttpUriPattern());function _(e){s.show({type:"warn",msg:o.instant("No users found based on your search: {{search}}.",{search:e})})}function b(t){if(t.count>0){var n=0===e.accumulatorOptions.availableSearchPhrase.length;return S(t,n).then(function(i){a.isEmpty(i)||(e.accumulatorOptions.availableList=i.users,n||(t=E(t)),e.accumulatorOptions.availableSearchTotalSet=i.page.totalSetSize,0===e.accumulatorOptions.availableList.length&&(e.accumulatorOptions.availableList=[],e.accumulatorOptions.availableSearchTotalSet=0,_(e.accumulatorOptions.availableSearchPhrase)))},function(t){"USER_NOT_FOUND"===t.data.errorCode&&(e.accumulatorOptions.availableList=[],e.accumulatorOptions.availableSearchTotalSet=0,_(e.accumulatorOptions.availableSearchPhrase))})}}function y(t){if(t.count>0){var n=0===e.accumulatorOptions.selectedSearchPhrase.length;return w(t,n).then(function(i){a.isEmpty(i)||(e.accumulatorOptions.selectedList=i.users,n||(t=E(t)),0===e.accumulatorOptions.selectedList.length&&(e.accumulatorOptions.selectedList=[],_(e.accumulatorOptions.selectedSearchPhrase)))},function(t){"USER_NOT_FOUND"===t.data.errorCode&&(e.accumulatorOptions.selectedList=[],_(e.accumulatorOptions.selectedSearchPhrase))})}}function A(e){e.length>=d?s.show({type:"warn",hideClose:!0,msg:o.instant("To add or remove more users, please click save and continue.")}):s.closeBy("type","warn")}function S(n,a){return n||(n=g),0===e.accumulatorOptions.availableList.length&&n.totalSetSize>0&&!a&&(n=E(n)),n.count>0?(e.accumulatorOptions.availableLoading=t.availableUsers(e.form.model.connectId,n,e.form.model,l),e.accumulatorOptions.availableLoading):r.when()}function w(n,a){return n||(n=h),0===e.accumulatorOptions.selectedList.length&&n.totalSetSize>0&&!a&&(n=E(n)),n.count>0?(e.accumulatorOptions.selectedLoading=t.connectUsers(e.form.model.connectId,n),e.accumulatorOptions.selectedLoading):r.when()}function C(t){a.isEmpty(t)||(e.accumulatorOptions.availableList=t.users,e.accumulatorOptions.totalAvailable=t.page.totalSetSize,e.accumulatorOptions.totalItemsInAccount<1&&(e.accumulatorOptions.totalItemsInAccount=t.page.totalSetSize),a.isEmpty(e.accumulatorOptions.availableSearchPhrase)?(g.totalSetSize=t.page.totalSetSize,g.endPosition=t.page.endPosition):(f.totalSetSize=t.page.totalSetSize,f.endPosition=t.page.endPosition))}function P(t){a.isEmpty(t)||(e.accumulatorOptions.selectedList=t.users,e.accumulatorOptions.totalSelected=t.page.totalSetSize,a.isEmpty(e.accumulatorOptions.selectedSearchPhrase)?(h.totalSetSize=t.page.totalSetSize,h.endPosition=t.page.endPosition):(v.totalSetSize=t.page.totalSetSize,v.endPosition=t.page.endPosition))}function E(e){return a.isEmpty(e)||(e.endPosition+c<=e.totalSetSize?(e.start_position=e.endPosition+1,e.count=c):e.count=0),e}i.currentAccountInfo.settingsRetrieved.then(function(){e.allowConnectSendFinishLater=i.currentAccountInfo.settings.allowConnectSendFinishLater||!1,e.allowConnectHttpListenerConfigs=i.currentAccountInfo.settings.allowConnectHttpListenerConfigs,e.connectListenerUrlRegEx=e.allowConnectHttpListenerConfigs?n.generateHttpUriPattern():n.generateHttpUriPattern({forceHttps:!0})})}])},function(e,t){var n="connect/add-custom-configuration.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddEditCustomConnectConfigurationController\'>\n  <div ng-controller=\'AddCustomConfigurationController\' ds-form>\n\n    <div ng-include="\'connect/add-edit-custom-configuration-header.html\'"></div>\n\n    <div class="section">\n      <h1 class="header-title" translate="Custom Configuration Settings"></h1>\n\n      <div class="header-actions">\n        <button id="page-add-top" class="btn btn-primary" ds-form-submit=\'add()\'\n                data-qa="connect_add_custom_configuration_top_add_btn"\n                translate="Add"></button>\n        <button id="page-cancel-top" class="btn btn-minor" ui-sref="authenticated.connect"\n                data-qa="connect_add_custom_configuration_top_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n    <div class=\'section add-edit-configuration\' ng-include="\'connect/add-edit-custom-configuration.html\'"></div>\n\n    <div class="section">\n      <div class="action-btns">\n        <button id="page-add-bottom" class="btn btn-primary" ds-form-submit=\'add()\'\n                data-qa="connect_add_custom_configuration_bot_add_btn"\n                translate="Add"></button>\n        <button id="page-cancel-bottom" class="btn btn-minor" ui-sref="authenticated.connect"\n                data-qa="connect_add_custom_configuration_bot_cancel_btn"\n                translate="Cancel"></button>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11).ConnectModule.controller("AddCustomConfigurationController",["$scope","ConnectConfigurationsService","CustomConfigurationModel","$state","dsNotification","$translate","$timeout","configuration","lodash",function(e,t,n,a,i,s,o,r,l){e.form.model=new n,e.add=function(){if(e.basicAuth.includeBasicAuthenticationHeader){var n=!1;if(e.form.model.password.length>0&&l.trim(e.form.model.password).length<1&&(i.show({msg:s.instant("Password cannot consist solely of whitespace."),type:"alert"}),n=!0),n)return}else e.form.model.userName="";t.add(e.form.model).then(function(e){a.go("authenticated.connect"),o(function(){i.show({msg:s.instant("You successfully added the configuration {{configName}}.",{configName:e.name}),type:"success"})},0)},function(e){i.show({msg:e.message,type:"alert"})})},e.configurationTitle="Custom Configuration Settings",e.isCloudStorage=!1,e.form.model.urlToPublishTo="https://",e.fillUpLists(),e.basicAuth={includeBasicAuthenticationHeader:!1},e.passwordAssumed=!1}])},function(e,t){var n="comments/comments.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="document-settings site-main" ds-form\n     ng-controller="CommentsSettingsController as commentsCtrl">\n  <div class="section">\n    <h1 class="header-title" translate="Comments Settings"></h1>\n    <div class="header-actions" ds-ackbar="commentsForm"\n         ds-ackbar-save="commentsCtrl.save(commentsForm)"\n         ds-ackbar-cancel="commentsCtrl.cancel(commentsForm)">\n    </div>\n  </div>\n  <div class=\'section\'>\n    <form name="commentsForm">\n      <div class="comments-settings">\n        <div class="form_group" ng-if="commentsCtrl.loaded">\n          <div class="cb"\n               ui-cfr\n               ui-hint\n               ui-models="[commentsCtrl.commentsSettings.enableSigningExtensionCommentsMetadata]">\n            <input class="cb_input" type="checkbox" id="signing-extensions-comments"\n                   ng-model="commentsCtrl.commentsSettings.enableSigningExtensionComments"\n                   data-qa="signing_extensions_comments_cb"\n                   ng-click="commentsCtrl.setCommentsSubItemsState();"/>\n            <label class="cb_label" for="signing-extensions-comments"\n                   translate="Enable comments in envelopes sent from this account"\n                   setting-key-map="EnableSigningExtensionComments"\n                   data-qa="signing_extensions_comments_cb_lbl">\n            </label>\n\n            <div class="cb" ng-if="commentsCtrl.shouldShowCommentsAllowEnvelopeOverride"\n                 ui-cfr\n                 ui-hint\n                 ui-models="[commentsCtrl.commentsSettings.commentsAllowEnvelopeOverrideMetadata]">\n              <input class="cb_input" type="checkbox" id="comments-allow-envelope-override"\n                     ng-model="commentsCtrl.commentsSettings.commentsAllowEnvelopeOverride"\n                     data-qa="signing_extensions_allow-envelope-override_cb"/>\n              <label class="cb_label" for="comments-allow-envelope-override"\n                     translate="Allow senders to override"\n                     setting-key-map="CommentsAllowEnvelopeOverride"\n                     data-qa="signing_extensions_allow-envelope-override_cb_lbl">\n              </label>\n            </div>\n\n            <div class="cb" ng-if="commentsCtrl.shouldShowCommentsTextInEmail"\n                 ui-cfr\n                 ui-hint\n                 ui-models="[commentsCtrl.commentsSettings.commentEmailShowMessageTextMetadata]">\n              <input class="cb_input" type="checkbox" id="comments-email-show-msg-content"\n                     ng-model="commentsCtrl.commentsSettings.commentEmailShowMessageText"\n                     data-qa="signing_extensions_email_comments_content_cb"/>\n              <label class="cb_label" for="comments-email-show-msg-content"\n                     translate="Include comment text in email notifications when a comment is posted"\n                     setting-key-map="CommentEmailShowMessageText"\n                     data-qa="signing_extensions_email_comments_content_cb_lbl">\n              </label>\n              <i class="icon icon-help" olive-tooltip="emailShowMessageTextTooltip"\n                 olive-tooltip-position="after middle"></i>\n              <div class="tooltip invisible" id="emailShowMessageTextTooltip">\n                <div class="tooltip-content"\n                     translate="Comment text is not included if the envelope requires additional authentication by recipients">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="section">\n    <div ds-ackbar="commentsForm"\n         ds-ackbar-save="commentsCtrl.save(commentsForm)"\n         ds-ackbar-cancel="commentsCtrl.cancel(commentsForm)"></div>\n  </div>\n  <div ds-loading="commentsCtrl.loading" class="text-center"\n       ds-loading-succeeded="commentsCtrl.loaded"\n       ds-loading-error="{{\'Oops! We had trouble loading Signing Settings. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n\n\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(358),i=function(){return function(e,t,n,a,i,s,o,r){var l=this;this.appUser=e,this.$q=t,this.dsNotification=n,this.dsAccount=a,this.dsModals=i,this.$translate=s,this._$timeout=o,this._=r,this.shouldShowSigningExtensionsSection=!1,this.shouldShowCommentsTextInEmail=!1,this.shouldShowCommentsAllowEnvelopeOverride=!1,this.loading=null,this.commentsSettings={allowSigningExtensions:null,enableSigningExtensionComments:null,commentEmailShowMessageText:null,commentsAllowEnvelopeOverride:null,allowSigningExtensionsMetadata:null,enableSigningExtensionCommentsMetadata:null,commentEmailShowMessageTextMetadata:null,commentsAllowEnvelopeOverrideMetadata:null},this.setCommentsSubItemsState=function(){l.commentsSettings.commentEmailShowMessageTextMetadata&&(l.commentsSettings.commentEmailShowMessageTextMetadata.rights=l.commentsSettings.enableSigningExtensionComments?"editable":"read_only"),l.commentsSettings.commentsAllowEnvelopeOverrideMetadata&&(l.commentsSettings.commentsAllowEnvelopeOverrideMetadata.rights=l.commentsSettings.enableSigningExtensionComments?"editable":"read_only")},this.cancel=function(e){l.refreshSetting(),e.$setPristine()},this.save=function(e){return l.dsAccount.updateSettings(l.appUser.getCurrentAccountId(),l.commentsSettings).then(function(){l.appUser.refreshAccountSettings(),e.$setPristine(),l.dsNotification.show({msg:l.$translate.instant("Saved Successfully!"),type:"success"})},function(e){l.dsNotification.show({msg:l.$translate.instant("An error occurred!"),type:"alert"})}).finally(function(){this.modal.closeModal()})},this.getData=function(){l.loading=l._$timeout(function(){return l.getSettings()},1e3)},this.getSettings=function(){var e={settings:l.appUser.currentAccountInfo.settingsRetrieved,accountInformation:l.appUser.currentAccountInfo.informationRetrieved};return l.$q.all(e).then(function(){l._.merge(l.commentsSettings,l._.pick(l.appUser.currentAccountInfo.settings,l._.keys(l.commentsSettings))),l.setCommentsSettings(),l.setCommentsSubItemsState()})},this.refreshSetting=function(){l.getSettings()},this.shouldShowCommentsText=function(){return l.commentsSettings.commentEmailShowMessageText||l.commentsSettings.commentEmailShowMessageTextMetadata&&"available"===l.commentsSettings.commentEmailShowMessageTextMetadata.uiHint},this.shouldShowCommentsEnvelopeOverride=function(){return l.commentsSettings.commentsAllowEnvelopeOverride||l.commentsSettings.commentsAllowEnvelopeOverrideMetadata&&"available"===l.commentsSettings.commentsAllowEnvelopeOverrideMetadata.uiHint},this.setCommentsSettings=function(){var e=new RegExp("Metadata$");for(var t in l.commentsSettings)if(e.test(t)){var n=t.replace("Metadata",""),a=l.commentsSettings[t];l._.has(a,"uiHint")&&"available"!==a.uiHint&&(l.commentsSettings[n]=null)}l.shouldShowSigningExtensionsSection=l.commentsSettings.allowSigningExtensions,l.shouldShowCommentsTextInEmail=l.shouldShowCommentsText(),l.shouldShowCommentsAllowEnvelopeOverride=l.shouldShowCommentsEnvelopeOverride()},this.getData()}}();t.CommentsSettingsController=i,a.CommentsModule.controller("CommentsSettingsController",["appUser","$q","dsNotification","dsAccount","dsModals","$translate","$timeout","lodash",i])},function(e,t){var n="classic-preferences/classic-preferences.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="ClassicPreferencesController">\n  <ng-include src="\'login/loading.html\'"></ng-include>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="Features";n(359).ClassicPreferencesModule.controller("ClassicPreferencesController",["appUser","dsApiClient","$timeout",function(e,t,n){!function(){var n=e.currentAccount.accountIdGuid,i=t.authorizationManager.authorizeUri("/redirectToClassic?accountId="+n+"&destination="+a);e.logout(),$('<form action="'+i+'" method="post"></form>').appendTo("body").submit()}()}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(52),s=n(362),o="Select File",r="Change",l="UPLOAD SIGNING RESOURCE",c="UPLOAD CAPTIVE SIGNING RESOURCE",d="UPLOAD EMAIL RESOURCE",u="UPLOAD SENDING RESOURCE",p="Invalid file type. Only .xml is allowed",m=1500,g="upload-error",h=/xml/i,f="Your file could not be uploaded. Please try again later.",v="You successfully uploaded a resource file.",_="BRAND_RESOURCES_XML_LOAD_OR_PARSE_ERROR",b="XML syntax error. The '{{startTag}}' start tag on line {{startLine}} position {{startPos}} does not match the end tag of '{{endTag}}'. Line {{endLine}}, position {{endPos}}.",y=/The '(\w+)' start tag on line (\d+) position (\d+) does not match the end tag of '(\w+)'. Line (\d+), position (\d+).$/i,A="BRAND_RESOURCES_NO_DIFFERENCES",S="No changes were detected in the file and therefore not updated.",w=function(){return function(e,t,n,i,w,C,P,E,T,M,k){var I=this;this._$scope=e,this._$translate=t,this._$q=n,this._$timeout=i,this._$state=w,this._$stateParams=C,this._=P,this._oliveMessage=E,this._oliveModal=T,this._FileUploader=M,this._brandService=k,this.isUpload=!1,this.hasError=!1,this.selectFileAction=o,this._getHeader=function(e){switch(e){case s.RESOURCE_TYPE_SIGNING:return I._$translate.instant(l);case s.RESOURCE_TYPE_CAPTIVE_SIGNING:return I._$translate.instant(c);case s.RESOURCE_TYPE_EMAIL:return I._$translate.instant(d);case s.RESOURCE_TYPE_SENDING:return I._$translate.instant(u)}},this._createUploader=function(){var e=new I._FileUploader;return e.onAfterAddingFile=I._onAfterAddingFile,e},this._onAfterAddingFile=function(e){I._addBrandModal().removeMessage(g),I.hasError=!1,I._getFileExtension(e.file.type)&&(I._setSelectedFile(e),I.selectFileAction=r)},this._setSelectedFile=function(e){I._removePreviousFileFromQueue(),I._setFileItemProperties(e),I.selectedFile=e},this._removePreviousFileFromQueue=function(){I.selectedFile&&I.uploader.removeFromQueue(I.selectedFile)},this._setFileItemProperties=function(e){var t=I._asciiFilename(e.file);e.headers={"Content-Disposition":'file; filename="'+t+'"',Accept:"application/json"},e.url=I._brandService.getResourceUploadUri(I._$scope.brandId,I._$scope.type),e.name=e.file.name===t?e.file.name:e.file.name+" ("+t+")"},this._asciiFilename=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e.name)?I._alternateAsciiFilename(e.type):e.name},this._alternateAsciiFilename=function(e){return a(Date.now()).format("HH_mm")+I._getFileExtension(e)},this._getFileExtension=function(e){if(h.test(e))return".xml";I._showError(p)},this._uploadFile=function(e){var t=I._$q.defer();return e.onSuccess=t.resolve,e.onError=t.reject,I.uploader.uploadItem(e),I._$timeout(function(){return t.promise},m)},this._uploadSuccess=function(){I._addBrandModal().allowClose(),I._addBrandModal().complete(),I._oliveMessage.show(I._$translate.instant(v),"upload-resource-success","success")},this._uploadFailure=function(e){I.uploading=null,I.selectedFile=null,I.selectFileAction=o;var t=e&&e.message||"",n="";switch(e&&e.errorCode&&e.errorCode.toUpperCase()){case _:var a=t.match(y),i=I._.slice(a,1);n=I._$translate.instant(b,{startTag:i[0],startLine:i[1],startPos:i[2],endTag:i[3],endLine:i[4],endPos:i[5]});break;case A:n=I._$translate.instant(S);break;default:n=I._$translate.instant(f)}I._showError(n),I._addBrandModal().allowClose()},this._addBrandModal=function(){return I._oliveModal.getTopModal()},this._showError=function(e){I.hasError||(I.hasError=!0,I._addBrandModal().addMessage(e,g,"error",{allowUnsafeHtml:!1}))},this.upload=function(){I._addBrandModal().removeMessage(g),I._addBrandModal().preventClose(),I.uploading=I._uploadFile(I.selectedFile),I.uploading.then(I._uploadSuccess,I._uploadFailure)},this.title=this._getHeader(this._$scope.type),this.uploader=this._createUploader()}}();i.BrandsModule.controller("UploadResourceFileController",["$scope","$translate","$q","$timeout","$state","$stateParams","lodash","oliveMessage","oliveModal","FileUploader","BrandService",w])},function(e,t){var n="branding/templates/sending/sending-brand-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div>\n    <span translate="Add your logo and colors to your sending experience."></span>\n    <div class="fgrid fgrid-gutters" ng-if="brands.hasSendingBrand()">\n        <div class="viewer fgrid_cell fgrid_cell-1-4">\n        <h4 class="m-bottom-xxx-small" translate="Sending"></h4>\n        <img class="brand-logo-sending p-around-xxx-small" ng-if="brands.hasSendingLogo()" translate translate-attr-alt="Logo"\n            ng-src="{{brands.sendingBrand.logos.primary}}&{{brands.sendingBrand.logos.lastLogoUpdate}}"\n            ng-style="{\'background-color\': brands.sendingBrand.colors.headerBackground}" data-qa="sending_brand_logo_img"/>\n        </div>\n        <div class="viewer fgrid_cell">\n        <h4 class="m-bottom-xxx-small" translate="Colors"></h4>\n        <div class="color-preview" ng-repeat="(name, color) in brands.sendingBrand.colors track by $index"\n            ng-style="{\'background-color\':color}"\n            ng-class="{\'u-display-none\': !brands.displaySendingBrandColor(name)}" data-qa="branding_sending_text_color_selection"></div>\n        </div>\n    </div>\n    <div class="m-top-xx-small">\n        <button type="button" class="btn btn-secondary" ng-click="brands.editSendingBrand()"\n                data-qa="brands_sending_create_edit_theme_btn" ds-size="xl"\n                ds-modal="branding/templates/sending/brand-preview-modal.html">\n        <span ng-if="brands.hasSendingBrand()" translate="Edit Your Theme"></span>\n        <span ng-if="!brands.hasSendingBrand()" translate="Create Your Theme"></span>\n        </button>\n    </div>\n    <div data-qa="brands_sending_advanced_config_title" class="fgrid fgrid-gutters">\n        <div class="fgrid_cell">\n            <h3 translate="Advanced Configuration"></h3>\n        </div>\n    </div>\n    <p data-qa="brands_sending_advanced_config_text" translate="Modify advanced default settings to customize resource files."></p>\n    <p>\n    <div>\n        <a translate="Header and Footer Links"\n           ui-sref="authenticated.brand-links({brandId: brands.sendingBrand.brandId, isSendingBrand: true})"\n           data-qa="brands_sending_header_footer_links"></a>\n    </div>\n    <div>\n        <a translate="Resource Files" ng-if="brands.showSendingAdvancedSetting"\n           ui-sref="authenticated.brand-advanced-settings({brandId: brands.sendingBrand.brandId, sending: true})"\n           data-qa="brands_sending_header_footer_links"></a>\n    </div>\n    </p>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/sending/previews/manage.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site_content content preview-manage">\n  <div class="content_wrap">\n    <div class="content_left resizable side-bar-custom">\n      <div class="resize-horizontal resize-right resize-line"></div>\n      <div class="sidebar_group padding-zero new-buttom">\n        <div class="sidebar_item">\n          <button class="btn btn-main btn-block btn-sm text-size"\n              type="button" data-qa="branding_sending_preview_manage_primary_button">\n            <span translate="New"></span>\n          </button>\n        </div>\n      </div>\n      <div class="sidebar_group padding-zero">\n        <div class="sidebar_item margin-bottom-eight">\n          <h4 class="sidebar_title text-size margin-bottom-zero"><span translate="Envelopes"></span></h4>\n          <div class="menu-nav margin-right-zero">\n            <ul class="menu_list folder-items">\n              <li class="menu_listItem">\n                <a href="#" class="menu_item menu_item-isOn">\n                  <span class="menu_itemIcon icon-inbox icon-size"></span>\n                  <span class="text-size">\n                    <span translate="Inbox"></span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span class="menu_itemIcon icon-sent icon-size"></span>\n                  <span class="text-size">\n                    <span translate="Sent"></span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span class="menu_itemIcon icon-draft icon-size"></span>\n                  <span class="text-size">\n                    <span translate="Draft"></span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span class="menu_itemIcon icon-trash icon-size"></span>\n                  <span class="text-size">\n                    <span translate="DS_CONTEXT=(envelope) Delete"></span>\n                  </span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class="sidebar_item">\n          <h4 class="sidebar_title text-size margin-bottom-zero"><span translate="Quick View"></span></h4>\n          <div class="menu-nav margin-right-zero">\n            <ul class="menu_list folder-items">\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span>\n                    <span class="menu_itemIcon icon-action-required margin-right-five icon-size"></span>\n                    <span class="text-size">\n                      <span translate="Action Required"></span>\n                    </span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span>\n                    <span class="menu_itemIcon icon-clock margin-right-five icon-size"></span>\n                    <span class="text-size">\n                      <span translate="Waiting for Others"></span>\n                    </span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span>\n                    <span class="menu_itemIcon icon-alert margin-right-five icon-size"></span>\n                    <span class="text-size">\n                      <span translate="Expiring Soon"></span>\n                    </span>\n                  </span>\n                </a>\n              </li>\n              <li class="menu_listItem">\n                <a href="#" class="menu_item">\n                  <span>\n                    <span class="menu_itemIcon icon-completed margin-right-five icon-size"></span>\n                    <span class="text-size">\n                      <span translate="Completed"></span>\n                    </span>\n                  </span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="content_main manage-content">\n      <div>\n        <div data-qa="manage_filter_header">\n          <div class="listHeaderWrap cheshireContainer">\n            <div class="listHeader padding-top-ten">\n              <div class="listHeader_titleRow fgrid padding-bottom-nine">\n                <div class="fgrid_cell content-border-left">\n                  <h1 class="listHeader_heading content-header"><span><span translate="Inbox"></span></span></h1>\n                </div>\n                <div class="fgrid_cell fgrid_cell-auto">\n                  <form action="" class="u-inline-block">\n                    <span class="cheshire_visibleContent u-inline-block">\n                      <span class="listHeader_search filter-header">\n                        <div class="form_item-iconLeft form_item-iconRight">\n                          <span class="icon icon-search"></span>\n                          <input type="text" class="input-text" translate translate-attr-placeholder="Search Inbox">\n                        </div>\n                      </span>\n                      <p class="btn btn_minor padding-zero border-none manage-filters">\n                        <span class="icon icon-filter icon-size margin-zero padding-top-five"></span>\n                        <span class="text-size margin-right-four" translate="Filters"></span>\n                      </p>\n                    </span>\n                  </form>\n                </div>\n              </div>\n              <div class="listHeader_filtersRow filter-summary">\n                <strong class="text-size">\n                  <span translate="Filtered by:"></span>\n                </strong>\n                <span>\n                  <span>\n                    <span translate="Date (Last 6 months)" class="text-size"></span>\n                  </span>\n                </span>\n                <span class="listHeader_filtersRowAction"><a href="#" class="text-size"><span translate="Edit"></span></a></span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div data-qa="envelopes_table">\n          <table class="table respTable-noColumns u-no-border table-padding">\n            <thead>\n              <tr>\n                <th class="table_cell-checkbox">&nbsp;</th>\n                <th class="table_cell-icon">&nbsp;</th>\n                <th class="text-size"><span translate="Subject"></span></th>\n                <th class="text-size"><span translate="Status"></span></th>\n                <th class="text-size"><span translate="Last Change"></span></th>\n                <th>&nbsp;</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr class="table_row-clickable table_row-icon table_row-info">\n                <td  class="padding-left-three">\n                  <span class="cb cb-noText">\n                    <input type="checkbox" id="check1" class="cb_input" />\n                    <label for="check1" class="cb_label checkbox-before"><span translate="Select"></span></label>\n                  </span>\n                </td>\n                <td >\n                  <span class="icon icon-action-required text-info text-size"></span>\n                </td>\n                <td>\n                  <span class="table_copy-line-1 text-size item-wrap-line-height">\n                    <span translate="Sign Grant Deed"></span>\n                  </span>\n                  <span class="table_copy-line-2 text-size item-wrap-line-height">\n                    <span>\n                      <span translate="DS_CONTEXT=(user) From:"></span> Jon Doe\n                    </span>\n                  </span>\n                </td>\n                <td>\n                  <span><span class="text-size"><span translate="Need to Sign"></span></span></span>\n                </td>\n                <td >\n                  <span class="table_date text-size item-wrap-line-height display-block">\n                    08/01/2017\n                  </span>\n                  <span class="table_time text-size item-wrap-line-height display-block">\n                    12:03:32 pm\n                  </span>\n                </td>\n                <td>\n                  <div class="btn-group btn-combo action-buttons">\n                    <button class="btn btn-primary text-size padding-top-zero"\n                        type="button" data-qa="branding_sending_preview_manage_secondary_button">\n                      <span translate="Sign"></span>\n                    </button>\n                    <button class="btn btn-primary btn-icon border-left-solid">\n                      <i class="icon icon-menu-triangle-down text-size"></i>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n              <tr class="table_row-clickable table_row-icon table_row-info">\n                <td  class="padding-left-three">\n                  <span class="cb cb-noText">\n                    <input type="checkbox" id="check1" class="cb_input" />\n                    <label for="check1" class="cb_label checkbox-before" translate="Select"></label>\n                  </span>\n                </td>\n                <td >\n                  <span class="icon icon-action-required text-info text-size"></span>\n                </td>\n                <td>\n                  <span class="table_copy-line-1 text-size item-wrap-line-height">\n                    <span translate="Offer Letter"></span>\n                  </span>\n                  <span class="table_copy-line-2 text-size item-wrap-line-height">\n                    <span>\n                      <span translate="DS_CONTEXT=(user) From:"></span> Jon Doe\n                    </span>\n                  </span>\n                </td>\n                <td >\n                  <span class="text-size" translate="Need to Sign"></span>\n                </td>\n                <td >\n                  <span class="table_date text-size item-wrap-line-height display-block">\n                    08/01/2017\n                  </span>\n                  <span class="table_time text-size item-wrap-line-height display-block">\n                    12:03:32 pm\n                  </span>\n                </td>\n\n                <td>\n                  <div class="btn-group btn-combo action-buttons">\n                    <button class="btn btn-primary text-size padding-top-zero"\n                        type="button">\n                      <span translate="Sign"></span>\n                    </button>\n                    <button class="btn btn-primary btn-icon border-left-solid">\n                      <i class="icon icon-menu-triangle-down text-size"></i>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/sending/previews/home.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site_content padding-zero margin-zero preview-home">\n    <div class="site_hero hero">\n        <div class="hero_wrap hero-height">\n            <div class="hero-cell">\n                <h4 class="hero-title hero-font-size">\n                    <span translate="Sign or Get Signatures"></span>\n                </h4>\n            </div>\n            <div class="hero-cell">\n                <button type="button" class="btn btn-main btn-sm hero-action primary-action-button" data-qa="branding_sending_preview_primary_action_button">\n                    <span translate="New" class="text-size"></span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="site_content content-home padding-zero margin-zero">\n        <div class="bg-white">\n            <div class="content_wrap">\n                <div class="content_main">\n                    <div class="home-previewContainer">\n                        <div class="home-previewContainer-item">\n                            <div class="grid home-panel-title">\n                                <h4 class="u-float-left text-size margin-left-overview"><span translate="Overview"></span></h4>\n                                <span class="text-muted u-float-right text-size padding-top-five"><span translate="Last 6 months"></span></span>\n                            </div>\n                            <ul class="nav-list nav-list-padding">\n                                <li class="item-wrap item-wrap-line-height">\n                                    <a href="#" class="item">\n                                        <span class="title-icon icon-action-required text-info text-size nav-list-padding width-zero"></span>\n                                        <h3 class="title text-size nav-list-padding"><span translate="Action Required"></span></h3>\n                                        <span class="meta nav-list-padding width-zero">\n                                            <span class="text-semi-muted text-size">6</span>\n                                        </span>\n                                        <span class="icon icon-caret-right nav-list-go nav-list-padding"></span>\n                                    </a>\n                                </li>\n                                <li class="item-wrap item-wrap-line-height">\n                                    <a href="#" class="item">\n                                        <span class="title-icon icon-clock text-muted text-size nav-list-padding width-zero"></span>\n                                        <h3 class="title text-size nav-list-padding"><span translate="Waiting for Others"></span></h3>\n                                        <span class="meta nav-list-padding width-zero">\n                                            <span class="text-semi-muted text-size">12</span>\n                                        </span>\n                                        <span class="icon icon-caret-right nav-list-go nav-list-padding"></span>\n                                    </a>\n                                </li>\n                                <li class="item-wrap item-wrap-line-height">\n                                    <a href="#" class="item">\n                                        <span class="title-icon icon-alert text-alert text-size nav-list-padding width-zero"></span>\n                                        <h3 class="title text-size nav-list-padding"><span translate="Expiring Soon"></span></h3>\n                                        <span class="meta nav-list-padding width-zero">\n                                            <span class="text-semi-muted text-size">4</span>\n                                        </span>\n                                        <span class="icon icon-caret-right nav-list-go nav-list-padding"></span>\n                                    </a>\n                                </li>\n                                <li class="item-wrap item-wrap-line-height">\n                                    <a href="#" class="item">\n                                        <span class="title-icon icon-completed text-success text-size nav-list-padding width-zero"></span>\n                                        <h3 class="title text-size nav-list-padding"><span translate="Completed"></span></h3>\n                                        <span class="meta nav-list-padding width-zero">\n                                            <span class="text-semi-muted text-size">0</span>\n                                        </span>\n                                        <span class="icon icon-caret-right nav-list-go nav-list-padding"></span>\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="home-previewContainer-item">\n                            <h4 class="home-panel-title text-size"><span translate="What\'s New"></span></h4>\n                            <div class="margin-zero">\n                                <strong class="text-size"><span translate="Shared Template Folders"></span></strong>\n                                <br/>\n                                <p class="text-size margin-zero item-wrap-line-height">\n                                    <span translate="Share collections of templates quickly with individuals and groups by adding a shared template folder."></span>\n                                </p>\n                                <a href="#"><span class="btn btn-sm btn-primary text-size" translate="More"></span></a>\n                            </div>\n                        </div>\n                        <div class="home-previewContainer-item">\n                            <div class="grid home-panel-title">\n                                <h4 class="u-float-left text-size"><span translate="My Docusign ID"></span></h4>\n                                <a href="#" class="u-float-right text-size padding-top-five"><span translate="Edit"></span></a>\n                            </div>\n                            <div>\n                                <table class="id-card">\n                                    <tbody>\n                                        <tr>\n                                            <td class="block-lg u-text-center">\n                                                <div ng-include="\'site/templates/avatar.html\'"></div>\n                                            </td>\n                                            <td class="id-card-info docusign-id-userinfo">\n                                                <strong class="class-1 text-size">Jon Doe</strong>\n                                                <br/>\n                                                <span class="text-muted text-size">jon.doe@example.com</span>\n                                                <br/>\n                                                <span class="text-muted text-size" translate="Member since 2012"></span>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                            <div class="horizontal-separator"></div>\n                            <div class="signature-wrap">\n                                <div class="add-sig">\n                                    <span class="add-sig-marker icon-close"></span>\n                                    <a  class="add-sig-link text-size">\n                                        <span translate="Create Your Signature"></span>\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="content_main bg-gray home-footer">\n            <div class="eq-cols">\n                <div class="col">\n                    <h4 class="home-panel-title text-size"><span translate="Tips and Tricks"></span></h4>\n                </div>\n                <div class="col">\n                    <h4 class="home-panel-title text-size"><span translate="We want your feedback"></span></h4>\n                </div>\n                <div class="col help-support">\n                    <h4 class="home-panel-title text-size"><span translate="Help and Support"></span></h4>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),e.exports=n},function(e,t){var n="branding/templates/sending/brand-preview-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!--branding theme modal--\x3e\n<div class="sending-branding" ng-controller="CustomizeThemeModalController">\n  <div class="modal_header">\n    <h2 translate="Customize a Sending Brand"></h2>\n  </div>\n  <div class="modal_content overflow-visible" ng-click="closeSwatch(null)">\n    <div class="fgrid">\n      <div ng-if="preview.allowCustomization" class="brand-left-nav fgrid_cell-1-3"\n           ng-include="\'branding/templates/sending/brand-left-nav.html\'"></div>\n      <div class="brand-preview fgrid_cell-2-3" ng-include="\'branding/templates/sending/brand-preview-body.html\'"></div>\n    </div>\n  </div>\n  <div class="modal_footer">\n  <div class="u-float-left">\n    <button class="btn btn-primary" ds-close-modal ng-click="saveBrand()" data-qa="brand_preview_modal_save_btn"\n            ng-if="preview.allowCustomization" translate="Apply Brand"></button>\n    <button type="button" class="btn btn-minor" ds-close-modal ng-click="cancelChanges()"\n            ng-if="preview.allowCustomization" data-qa="brand_preview_modal_cancel_btn" translate="Cancel"></button>\n    <button type="button" class="btn btn-secondary" ds-close-modal data-qa="brand_preview_modal_close_btn"\n            ng-if="!preview.allowCustomization" translate="DS_CONTEXT=(modal) Close"></button>\n  </div>\n  <div class="u-float-right">\n    <button type="button" class="btn btn-minor u-float-right" ds-close-modal ng-click="revertToDefault()"\n            ng-if="preview.allowCustomization" translate="Reset To Default" data-qa="brand_preview_modal_reset_default"></button>\n  </div>\n\n\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/sending/brand-preview-body.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div id="sending-branding-preview">\n</div>\n<div class="branding-preview sending page-branded page-branded-logo">\n    <div class="preview-toggle">\n        <span class="preview-label" translate="Preview:"></span>\n        <span class="group">\n            <button type="button" class="btn btn-strong btn-secondary btn-icon group-item" ng-click="displayingBrand.previewHome = !displayingBrand.previewHome" ng-class="{on: displayingBrand.previewHome}" translate="Home" data-qa="branding_sending_preview_home"></button>\n            <button type="button" class="btn btn-strong btn-secondary btn-icon group-item" ng-click="displayingBrand.previewHome = !displayingBrand.previewHome" ng-class="{on: !displayingBrand.previewHome}" translate="Manage" data-qa="branding_sending_preview_manage"></button>\n        </span>\n    </div>\n    <div class="site-classic preview-container">\n        <div>\n            <div class="site_header header header-ndse header-ndse-compat ng-scope padding-zero branding-preview-header" data-qa="branding_sending_preview_header">\n                <div class="header_wrap header-height">\n                    <div class="header_left logo-container-width" ng-class="{ \'header_left-branded\': brand.logoIsCustom === true }">\n                        <div class="logo-width" data-qa="branding_preview_logo">\n                            <img alt="Logo" ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}" ng-if="hasPrimaryLogo && preview.allowCustomization && displayingBrand.logos.primary">\n                            <img alt="Logo" src="{{displayingBrand.logos.primarySrc}}" ng-if="hasPrimaryLogo && preview.allowCustomization && !displayingBrand.logos.primary">\n                        </div>\n                    </div>\n                    <div class="header-main">\n                        <nav>\n                            <ul class="nav_list">\n                                <li class="icon-size">\n                                    <a class="nav_item on main-nav-header" data-qa="branding_preview_header_button">\n                            <span class="icon icon-home margin-zero icon-size" ></span> <span class="text-size" translate="Home"></span>\n                        </a>\n                                </li>\n                                <li class="icon-size">\n                                    <a class="nav_item main-nav-header">\n                            <span class="icon icon-documents margin-zero icon-size" ></span> <span class="text-size" translate="Manage"></span>\n                        </a>\n                                </li>\n                                <li class="icon-size">\n                                    <a class="nav_item main-nav-header">\n                              <span class="icon icon-templates margin-zero icon-size" ></span> <span class="text-size" translate="Templates"></span>\n                          </a>\n                                </li>\n                                <li class="icon-size">\n                                    <a class="nav_item main-nav-header">\n                              <span class="icon icon-reports margin-zero icon-size" ></span> <span class="text-size" translate="Reports"></span>\n                          </a>\n                                </li>\n                            </ul>\n                        </nav>\n                    </div>\n                    <div class="header-right">\n                        <div class="header_actions">\n                            <a href="" class="header_action">\n                              <i class="icon icon-help icon-size"></i>\n                            </a>\n                            <span class="header_action">\n                              <span ng-include="\'site/templates/avatar.html\'" \n                                    include-replace></span>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div ng-if="displayingBrand.previewHome" ng-include="\'branding/templates/sending/previews/home.html\'">\n                </div>\n            </div>\n            <div>\n                <div ng-if="!displayingBrand.previewHome" ng-include="\'branding/templates/sending/previews/manage.html\'">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/sending/brand-left-nav.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="nav-wrapper customize-theme">\n  <div class="swatch-wrapper text-color-picker" text-color-picker tcp-show-at="textColorPicker" tcp-on-change="updatePreviewFromTextColorPicker(color)" tcp-on-close="closeTextColorPicker()">\n  </div>\n\n  <div class="swatch-wrapper background-color-picker" ng-show="showSwatch" ng-click="$event.stopImmediatePropagation()" data-qa="branding_text_color_picker">\n    <div class="swatch">\n      <div class="picker-dropper-toggle group">\n        <div class="btn btn-secondary btn-icon picker selected group-item" olive-tooltip\n             title="{{\'Select color from color picker\' | translate}}"\n             ng-class="customizeMethod == \'picker\'? \'selected\' : \'\'" ng-click="selectMethod(\'picker\')">\n          <span class="icon icon-palette"></span>\n        </div>\n        <div class="btn btn-secondary btn-icon dropper group-item"\n             ng-class="customizeMethod == \'dropper\'? \'selected\' : \'\'" ng-click="initializeEyeDropper()"\n             title="{{ \'Select color from eye dropper\' | translate }}" olive-tooltip>\n          <span class="icon icon-eyedrop"></span>\n        </div>\n      </div>\n      <div class="picker-dropper-wrapper">\n        <div class="picker-wrapper" ng-if="customizeMethod==\'picker\'">\n          <div>\n            <input id="picker" class="minicolors-input" type="text" always-show minicolors ng-model="customizeColor"\n                   ng-change="updatePreviewFromPicker(this)" ng-keypress="updateHistory($event)" data-qa="branding_sending_color_picker_tool"/>\n          </div>\n          <div class="clones-container">\n            <span class="minicolors-swatch-clone" ng-repeat="colorHistory in colorHistoryList track by $index"\n                  ng-class="{\'black\': \'with-border\', \'white\': \'\'}[calculateContrast(colorHistory)]"\n                  ng-click="applyColor(colorHistory)">\n              <span class="minicolors-swatch-color" ng-style="{\'background-color\': colorHistory}"></span>\n            </span>\n          </div>\n        </div>\n        <div class="dropper-wrapper" ng-show="customizeMethod==\'dropper\'">\n          <img id="hiddenLogo" class="ng-hide" ng-if="!displayingBrand.logos.primarySrc"\n               ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}" />\n          <img id="hiddenLogo" class="ng-hide" ng-if="displayingBrand.logos.primarySrc"\n               src="{{displayingBrand.logos.primarySrc}}" />\n          <img id="hiddenDifferentLogo" class="ng-hide" />\n          <div class="logo-area" ng-show="hasPrimaryLogo || hasDropperLogoSelected">\n            <canvas id="logo" width="223" height="160"\n                    translate="Your browser does not support color selection."></canvas>\n            <div class="instructions">\n              <div translate="Click anywhere on the image above to sample a color"></div>\n            </div>\n            <label for="dropperImageUpload" translate="Upload a different image" class="btn btn-minor"\n                   olive-tooltip="brandLogoImageRequirements-dropperLogoImage"\n                   ng-show="isNewDropperImageAllowed"></label>\n            <div class="tooltip tip above center invisible" id="brandLogoImageRequirements-dropperLogoImage">\n              <div class="tooltip-header" translate="Image Requirements"></div>\n              <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n            </div>\n          </div>\n          <div class="upload-area" ng-hide="hasPrimaryLogo || hasDropperLogoSelected">\n            <label ng-show="isNewDropperImageAllowed">\n              <label class="btn btn-primary btn-lg" for="dropperImageUpload" translate="Upload Image"></label>\n              <input id="dropperImageUpload" type="file" nv-file-select uploader="dropperLogoUploader"\n                     class="oldBrowserCompatibleHiddenFileInput" />\n            </label>\n            <div class="text-info image-requirements padding-top-forty" olive-tooltip="brandLogoImageRequirements-dropperImage"\n                 translate="Image Requirements"></div>\n            <div class="tooltip invisible" olive-tooltip-position="above center"\n                 id="brandLogoImageRequirements-dropperImage">\n              <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n            </div>\n            <div class="instructions" ng-class="{\'legacy\': !isNewDropperImageAllowed}">\n              <div class="text-strong" translate="Sample Colors From an Image"></div>\n              <span translate="To sample colors, you must first upload an image."></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="arrow-with-border">\n      <div class="arrow-inner icon icon-triangle"></div>\n      <div class="arrow-outer icon icon-triangle"></div>\n    </div>\n  </div>\n  <div class="logo-area">\n    <header>\n      <h2 translate="Logo"></h2>\n    </header>\n    <div class="m-top-xx-small" ng-if="hasPrimaryLogo">\n      <div class="brand-logo-manager">\n        <div class="vertical-alignment-group">\n        <span class="brand-logo-container">\n          <img class="brand-logo" translate translate-attr-alt="Sending Logo"\n               ng-if="!displayingBrand.logos.primary" src="{{displayingBrand.logos.primarySrc}}" />\n          <img class="brand-logo" translate translate-attr-alt="Sending Logo"\n               ng-if="displayingBrand.logos.primary" ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}"\n               ng-style="{\'background-color\': displayingBrand.colors.headerBackground}" />\n        </span>\n          <span class="icon icon-times" ng-click="removeLogo(\'primary\')" />\n        </div>\n      </div>\n    </div>\n\n    <div ng-hide="hasPrimaryLogo">\n      <label for="primaryLogoUploader" class="btn btn-primary btn-lg" data-qa="brand_left_nav_upload_a_custom_logo_lbl"\n             translate="Upload Logo"></label>\n      <input id="primaryLogoUploader" type="file" nv-file-select uploader="primaryLogoUploader"\n             class="oldBrowserCompatibleHiddenFileInput" />\n\n    </div>\n\n    <div class="text-info image-requirements m-top-x-small padding-top-forty" olive-tooltip="brandLogoImageRequirements"\n         translate="Image Requirements"></div>\n    <div class="tooltip invisible" olive-tooltip-position="top center" id="brandLogoImageRequirements">\n      <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n    </div>\n  </div>\n  <div class="colors-wrapper m-top-large">\n    <h2 class="color-text" translate="Colors"></h2>\n    <div class="eight-colors m-top-x-small">\n      <div class="color-row-2" ng-repeat="color in colors | orderBy:\'index\'" data-qa="section_selector">\n        <div class="label m-bottom-xx-small" translate="{{ color.label }}"></div>\n        <div class="color-row-wrapper">\n          <div class="color-preview outer background-color" olive-tooltip title="{{ \'Edit color\' | translate }}"\n              ng-click="setCustomizeColor(color.background, $event)"\n              ng-style="{\'background-color\': displayingBrand.colors[color.background.fieldName]}" data-qa="backgroundColor_selector">\n            <div class="inner" ng-class="color.background.name"></div>\n          </div>\n          <div class="color-type m-left-small" translate="Background" data-qa="backgroundText_selector"></div>\n          <span class="icon icon-alert-triangle text-alert u-float-right"\n                ng-show="(color.background.showWarningIcon != null && color.background.showWarningIcon) || (color.text.showWarningIcon != null &&color.text.showWarningIcon)">\n          </span>\n        </div>\n        <div class="color-row-wrapper">\n          <div class="color-preview outer text-color" olive-tooltip title="{{ \'Edit color\' | translate }}"\n              ng-click="setCustomizeTextColor(color.text, $event)"\n              ng-style="{\'background-color\': displayingBrand.colors[color.text.fieldName]}" data-qa="textColor_selector">\n            <div class="inner" ng-class="color.text.name"></div>\n          </div>\n          <div class="color-type m-left-small" translate="Text" data-qa="text_selector"></div>\n          <span class="icon icon-alert-triangle text-alert u-float-right"\n                ng-show="(color.background.showWarningIcon != null && color.background.showWarningIcon) || (color.text.showWarningIcon != null &&color.text.showWarningIcon)">\n          </span>\n        </div>\n        <div class="contrast-error-wrapper text-alert"\n             ng-show="(color.background.showWarningIcon != null && color.background.showWarningIcon) || (color.text.showWarningIcon != null &&color.text.showWarningIcon)">\n          <span class="contrast-error text-alert warning"\n                translate="This color combination is low contrast and may cause legibility issues.">\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){e.exports=n.p+"images/powerform-preview-footer.png"},function(e,t,n){var a="branding/templates/previews/powerform.html",i='<div class="signing-preview powerform-preview preview-content">\n  <div class="action-section brand-header-background" ng-style="{\'background-color\': displayingBrand.colors.headerBackground}">\n    <div class="u-float-left">\n      <img class="custom-logo" ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}"\n           ng-if="hasPrimaryLogo && preview.allowCustomization" />\n      <img class="custom-logo" src="'+n(360)+'" ng-if="!hasPrimaryLogo || !preview.allowCustomization"/>\n    </div>\n    <div class="u-float-right">\n      <div class="continue-button medium-font brand-button-text brand-button-background"\n           ng-style="{\'background-color\':displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}">\n        {{powerformPreview.buttonLabel}}\n      </div>\n    </div>\n  </div>\n  <div class="document-section">\n    <div class="outer">\n      <div class="inner">\n        <div class="document-page">\n          <h3 class="form-header">{{powerformPreview.title}}</h3>\n          <p translate="Fill in the Name and Email for each signing role listed below. Signers will receive an email inviting them to sign this document.">\n          </p>\n          <p>{{powerformPreview.nameEmailDirective}}</p>\n          <h3 class="role-header">{{powerformPreview.primarySignerRole}}</h3>\n          <div class="form-unit">\n            <p>\n              <label class="label-text" label-required="*">{{powerformPreview.primarySignerName}}</label>\n              <input type="text" class="input-text" placeholder={{powerformPreview.name}} />\n            </p>\n          </div>\n          <div class="form-unit">\n            <p>\n              <label class="label-text" label-required="*">{{powerformPreview.primarySignerEmail}}</label>\n              <input type="text" class="input-text" placeholder="{{powerformPreview.email}}" />\n            </p>\n          </div>\n          <p>{{powerformPreview.provideSignerInfoDirective}}</p>\n          <h3 class="role-header" translate="User"></h3>\n          <div class="form-unit">\n            <p>\n              <label class="label-text">{{powerformPreview.name}}</label>\n              <input type="text" class="input-text" placeholder="{{powerformPreview.name}}" />\n            </p>\n          </div>\n          <div class="form-unit">\n            <p>\n              <label class="label-text">{{powerformPreview.email}}</label>\n              <input type="text" class="input-text" placeholder={{powerformPreview.email}} />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="footer-section">\n    <div class="continue-button medium-font brand-button-text brand-button-background"\n         ng-style="{\'background-color\': displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}">\n      {{powerformPreview.buttonLabel}}\n    </div>\n  </div>\n  <div>\n    <img src="'+n(1127)+'" />\n  </div>\n</div>';window.angular.module("templates").run(["$templateCache",function(e){e.put(a,i)}]),e.exports=a},function(e,t){var n="branding/templates/previews/old-signing.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="signing-preview preview-content" ng-style="{\'background-color\': displayingBrand.colors.headerBackground, \'color\': displayingBrand.colors.headerText}">\n    <div class="frameHeader" translate="Subject: Please sign this document"></div>\n    <div class="previewDocument">\n        <div class="documentHeader">\n            <img alt="Logo" ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}"\n                 ng-if="hasLogo && preview.allowCustomization" />\n            <img alt="DocuSign Logo" ng-hide="preview.allowCustomization" src="data:image/png;base64,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" />\n            <div ng-hide="hasLogo || !preview.allowCustomization" translate="Your Logo"></div>\n        </div>\n        <div class="documentBody">\n            <div class="documentPage">\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n                <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem.</p>\n                <p>Aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>\n                <p>Quis nostrum,</p>\n                <div class="signature">\n                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAtCAYAAAAX6M0gAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjVJivzgAAAQ7ElEQVRoQ91aaVRUR9q+gHtM/OJkYpJJ4rjigruIqESU+LkgatSYxG1Qk7jEyZx8+WZykjFnLqKIGy4TjeKGGjXMRIkroqIgmy2yoyCKLCI6GhANKGvXPG91VVPdNC44f5w+5zn33rq1vO9Tbz1vdXdpmviwzZod8AowCfgJiAUi/wuQAB9igD/VbNLeDP1cs5M+P/KKBm2ALQAzY6vDQ7a1UZkFtuHZFqzrPemz7EutT2VP2v7R9R6wLQ4V0h8Q8s/CFVoHEOEA2ANEjm2C0Gi2mYgdTe+y4FfT2FHHk+x492PseLdjLKz7sZqj3Y6XBnaKKvJrl1gS0OE8C+12rDqk64nyvY6neR1eV9Q338sy29eK4C7hFfu6hLPQ7qHUtvrnrmHlPzierj7UNezx/aljynFlGV27hbKQt+PY9iYl0rfKjdr2459rb4OIpkAjhRjLgEGDI7zRjmbFLMzpMMua4c/yF+js+nxgnl6TM9enYO2E7fEeroY4Z+fEuIHOF68tGrMvRx+7+6L38LCyWG9/XvfGZzormKezfGqn4Aa9E/3xd7jH85X/HxWcOW/Egerseb6sYL5+e/eUDWlT3Y/+cuCjdYzaoKy2HfqlPqmsAO3lGNQvPQtbWb4Yn66Xpy5noV1DJSnGzdpDRMnn8L4V0AJobJMUkHGBbbGv5Ixembms1iF0CgNKo/7gnzB6cHTCqMGGPP9xQekzh4fkL/PaWrjhve+vfDlqX3nSnKXsF5AhUYT7mwQYWvRHlC80gcq4Uyi/9ZmeNMHtzPmhA2Mrc+YtYXc+0/NXjQ+K6d0/pWDTpEBWRG1Q/zaAd5yYf+FajHL5bB6T+lZIIcKJEBora7o/O9r5FJbhAxBS/UuA9iNI+B3QGnhBIaU2SkBIBl9vhzueriWDOiX25+slYdNXnn9n4IX44a5J98/NWlVRuNC3Om+ez60tkzZmLhhx0Jg7T89ZPHZX/LuDzsUPc41PnTbs6LW/ee7N9fP6IXG8W2S8B8pHDIorCsHM3xKG45o03u2Mwc0ltuLSJ0uMmPG8ZV5BMb1AyJbJgXdDpwckjgNh7q7xGfNHHKzM+HRJ9l/HBCeOHRKB/gxlUd7L06a5hxmGDkxInvjOafS9nkcVItoiOomclHF/Zzua3zFu0qrz/bX98Lwr8JYgpbnQFWtC7CvYIRAiw1LOJAipuTbXJ/ubMTuje/TLPdulT9G5wS4p92O8V2V/PWZnoufg+OyvR++M7tkvJ9FryLHUj9z3R3bofSd5gtvpi7OHn4js2PtOyuShh2L79L9wfpirgc86n20Q8p7bmYj2ve5HdetbTDjbufd9jJGTu9RrByLnUtyAAefTpg87iHc5GXPfDUmZMjTqrGOfnEsfe/wTJBxBeWHqlKEh5wYOSEoa53a21DBrOY8+vqQUYtInrmVBzW8TIZcXa4fg+UBByhu4vgQ0sRARU4SAEIoQlRC+Lk1RYrw+36cszntJ1pejtoGUfMxsQvZXo3dhGV1IneZ+OK6/c3xJzKzVlTcX+J53cwmDgWfSvYefxPvY0oQ5y69+OXprbD/nVHYLfVJ4iwiBM7H3Ts5c8iB6ln71q9FBsX37p6TPGL4fBBdg+WTEuTingaQrcPwUSIhGn4crCz/zje7VP/Nspz43QFoq6l0xuA003D05I8BCX6SOpU1cB0J4hKT/TTsG5z2AfkA74DdAs/oJUQVRsFyR+vHSG+snbLuxedK2omPT150b5HL+nOuAeIjiLmjLhYx5I4Jj+vS/dM1//N7CoPcDY/s6J9ByIEISPYfEliXMVggBGaQlghAsRaEhC7mGoG1K5twRP8b07X/tgsegUxnz392DaDuS6+u1hQjJ+r+R/6iBLoGAaBCVcXHW8H0p7w89CC37oRx28gmV0SEFPO09TghSb3Xyt1oYnB8DDAIcgVeFwNpaMh2EhkiBMmWK0mhvfxhzHBkmCQ7ERTv1y8r+ZvTuPD+vwNQPhp4o3v/RyqRxQyLwPsEwyMUQ2bl3NhFy+Y//uz8devIwZY4fHNoAfTnDo0MIbvqMYT/D2aNV2XN9qbxw48RNqBNeuHnSxjTvYaGY+dT4d11jDINdzl0PmLDp4hyPI9e+9QwiQvD8fayzc7JhiIsBUZaQ9cXI4MrMT30t9UNkuvRaQpIWaSfguRfgBnQDXhPiWo+GEKs8tQmAkJpr83yKD09bnbPEKwjCtuf6dxMDq6/O9UW6XVZ8cOqaEryDuAZf0z135UJcQVgy1nvYvfCZK+8enR6A9ovL4mYvvb3vg7XSYCPE7+7RaauKD34UYIRAU6g/vDDb707wh2tppsviZy27vmbC1uxvPXff2vH+BojqYgjt6tIob38jxLOGRH3n5O9A0J78gPFbS+O8l9URU5mKFUISF2kn4fl4YCjQHXgdaGl7yZCo8v2HlSiRchcu0I0CfJaleOG+YM2EzXEDnNOhKxmYsayYXv2yCjdN3MBuo16hmCVKvw8+19l9XH8lIFXScxlQgudCSslUX4xPwou+jXSlMhqP7uV+hp7JDvU9TSZfLmoKxrOyZBRC3EGCE0DC+ihCrDZVttIYj6JaUqoyPvEtCv5wZcYcj93IBjtLjk9fWVMwH7Mu+sL11rbJ32V/47k9e5HAt57bMbscuT5e2x4aZvuZ60sx5wIvsoXUNp5BxISZN4+qblgudx41/zFCuEPCcanY5jKFOCqjdFqCWSdQZKj1MWvY3aaeebsnswWk3or8leMD+YbLvMO1ilJJbp0sKOyQQsrr0W5VTbu1GtLwCOHbYetNjiRBnQWljvW22kzmAj3OZcBjCBkXyHez6vacZwwBSZTF1wKxvNSvCXIbr9ZLN6VdyjJPT4jaucV9feQokWL9HUYR5scTQhECQqz74Hpgw3EpmBY22lguz7xkuKBa64h8lqGoklOfsbX6QbN+7rERUh8hlv3UCqaNbbpZVK3sfyYNkWEqZ4WTQwRISAOVTFNnltRlZJq1BhFiMTFW49e7nIXAqm2fmRBV2MxfraXAWl3VjGC+VwhBWsS2/wk0pL4IUQVSXRL1RKaajaQQN4wQ8W3XwsFHLA1ScTmg2QiRjtXZQ9o0ot4Ta4iMROsMZxZXsc9QUropMyl7D15XIc/2xuwJ9yEyMxRQCqQffGTH1jOilisGScPJYNpQ0dd9bKAeu2RWTwhkd+l3DbTjX+OJXIF6Nc1a64RN/Ecixb6GZRm7ChbS+jTLctNZ9hid5U4BpqPjWTDuE2U7L4ghwiRpRJxKHki8f2LG6uxFY/5x9evRBwjRPfper3cf0q5XFX5DOZO9xOtAto/ngcLNE7dVXsQXNSVLmb60qQTUk/XMNoltQ/5s/B7isY7taPqUaTdQq2A/2Z1mKc10lvoydndtdHbxLZ1lOOKnuL745WmQzq646+zqSBA2Xmc5H5gIy5sJeMPY2boxH8Txbf5C/faeDzfgm+sVkFBTHxE2N2ntepXiF7nj+D7jZ9qm29ANC6fFZPBJocjABOZOg41esHeIzjK76szwyjq23f4pCdkCQvaDkORGYFTCHvd2QGOAiHoBaAWyfqOzdCLsDZ1dItI6YmAn3ZjZTzdedtWNWUP1ynR336t/6bsnqmuPW09MSNuelRdGuhrunZq6it1QNWouHP0UAOGc9I/5BLBcTEYOIjl7LJz3wMS5wo4usA12pbYGmsNuB53F2oEQrQGE/GQPQsh5AkhJRWfyPhn3HI10I12pnN6ngrDUxrrRTFpT3DfTjWkt9Iq4F5ZcmtkuJLJDj5InIKXmnEv3S0X7HNeyq70QkQMAzDDh8mCgP5ztDfLxLqMTJuJNOP6KbkynaH4RNrQAmgp7NdhJk0kTCztj7RtIiIwQOMhSmijE0D1BIUM8mweVJNGMcHKIsEZ6ZWxj36RRHcMjft+z/BGkGKOduhfcXP/bDcaLDibCeaSKfmiS+LOYFD6GyT61rtHcRr4Xdsc6NJQQRAgfCEzDGXYJLKcR0zSAEi10n2oiyGS0JEyQSO84qaiX7qBXRDRfahjcJQGEGG2RcrazU3Ge/noguywckc4rjpvGUsdUCJN2cJusQRHSYEJIQ9BhWmO94myLJfn6azvv7n05gKWpjsvZp4HJAWkoRYQ0Rt6Lmc2w00v2t1qBKMizJiSifY9fM+e+HcwuE/Fiqdoi2dY7TpwSyaIdjxQ+IQINIkRmGQpPGHdz3avrz3bsUZL2QYefWYY0VhqsGqJojjTA7JCIHoo29Jnv89rWqC5ONyQpEW17lqe+1/5kdWIjX5NeqbOuOKQuQ4sxRH0iwJwMVHtEcmiQqApCuDhesdfzfN4IhBiWJo/rdJhlqoQ0wbpVwpeLcG1mMomr9XIy6UlVUiPfrPlvBqPf4jPIKIkjOseVhrZYwdJrnbDo22KZWi8ZlTA5vlr2rBEi0q6RHAQh+YtNhKRwQkTqVZcEnDYZLyEzjyg3ZyIig5YOxDLdXn8Y2dQvdXL70PODu8bf2dZ6vTHd5Cj1ZbSIEEWcbZbb0gv0w7OjVaQ1OMtgY8YJySJCfmciZDwIMa9vUnW5DMgJGeaqAZKQWoNNjiLKqC1EujyymV9ZaMvlNYlNfEh3TGteaoE6y5J0WSZFm7KdXCZiHHOGEdFpnjzUi3sWUaVwvwZCfF+vJSQLEUIzmUbZhTIP3Ytnusp3aahHz+Y6qE9trNsh8zBEi+kdrrw+gQiTbahfeqZx8I7uqR2vp44hbKE+CNwW+Z7qPyMh5RHNlt498FLA5QVt9yIDPEjwcAwv2vvS2qIga7RCGQHlO+U78Vynrq32ooy3ra+d0r/FGHJstZ1ijzL+/YMtV9ZENvr70+5UM5lJQ87k/vWNHXHO3RLPOvbIhfBVY9ncjHZyyrREd/Esr7beP6pOfe2s+3na57r9Jo12DL+/t+UWtkO7/TS/qaaBkHJ2wC78hn+bzYmjOkXF9u2WCUKqoro65cW7Oyaef6cLR7yAvLdVrr5T66vt6yu3riP7t+5THdf6vrZvx8SLU9sfLtvXfA8ipBj/7dak61qk+KPqkb+HJLNArZrt1dKqIxqvLY1o4X/1i7d2RbbvUZY40vHEveMtV95D6NXBIaXM+l4+W19lP1SutrHVP5XJehbXFy3b2rJDlD0Mb7aC/WhngH9V9Gc3/ts99SSEhPATRBQlwVo8S7Rbc3dP6xUxPbpnZC1o+wPLJHEigRPCxgWRRE8pV99zYRSiizpGKYS8jhRh0Z9oZ6SNmRRr2T8fj6AKuRRzKbiqDXIs0Veyw1IWbrebBWk3yb+q77XyNVO0VSBk3OP+yhyHBuWcFIqULdpDY5BdQdUmhxs12+3z2G4t54mx6ynqqv1SOxVPM2Z9dXdot/gkb9Zqqr/Xqo4s1IJfbKZNFX92D8GVDs7U/bO7fIPWomqj9gVEJwdhdR/Xh0A5OuEAsxXPKcpx0O7Br+u1X36aq+1u1Vz7AwiYDIwEXIBOwG8BOkVk+dk+U2txxVdz+9cqbel1f21bho+2G0cHfjR8re2P/Ur7OeYv2sHnDVF/1kLC/qTt07003zYvaTMEGZ5iufTGtS3wMkCnEut86PwmMUUnan4P9AIorIjNsQCtOzpG8DyCbCcfRgky6PQQRUcbgP75p9OIdT50mJXOWr0oKrbHtSdAoUXE0HkK9+cUZDv5QL7QRBMZdAzifwA6TkXBUOdDp3rpBYUPkUJriw65dgRIfOhwyfMKOinURfhCy4Qig8igFUEHeOs98k1RIkmhM5zU6BXRAakxnbZ5HkG2Ewk0yaQZtEzkaWbzEe9/Ayxflyghd3MiAAAAAElFTkSuQmCC" />\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="previewDialog">\n        <div class="header"\n             ng-style="{\'background-color\': displayingBrand.colors.accentBackground, \'color\': displayingBrand.colors.accentText}" translate="Floating Dialog Header"><span class="close icon icon-times"></span>\n        </div>\n        <div class="buttons">\n            <div class="primary"\n                 ng-style="{\'background-color\': displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText, \'border-color\': displayingBrand.colors.buttonPrimaryBackground}" translate="Primary Button"></div>\n            <div class="secondary"\n                 ng-style="{\'background-color\': displayingBrand.colors.buttonSecondaryBackground, \'color\': displayingBrand.colors.buttonSecondaryText, \'border-color\': displayingBrand.colors.buttonSecondaryBackground}" translate="Secondary Button"></div>\n        </div>\n    </div>\n    <div class="frameFooter">\n        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAUCAYAAABWHnVqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNmI3NjY4YS04MjFhLTQwODQtYjAzOS0zYTc0Y2QxZTQ1MGEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3OTIzNUFGNUVCMTFFM0FCMUJGREQ5OUJCRUI4RTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3OTIzNTlGNUVCMTFFM0FCMUJGREQ5OUJCRUI4RTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZDI5MDE2OC1hMGRmLTRkNDAtOGQ0Zi1mOGRkZDdiNzAzYjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDZiNzY2OGEtODIxYS00MDg0LWIwMzktM2E3NGNkMWU0NTBhIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+4T7Y5AAACFJJREFUeNrsWglsVEUYntm22wNs2RbkUtGCFyoRqyKCCmZVPGK8QCWoMcJujGc8KEckkJjQxishSmw9Eg9UbPDGqBQEoqLgelRFFChqEChWig1aeu34/e99rw7P7ralrQHshK/z3sy8mdn5//f9x0MbY9T/uQy87AX3QmulvLOQ65ZinH8tpbVxuDfOrdXnm0fOWfPeO3OT0U9lVj6rgtuWqnjG4Ym2eDYwBbgEGGK1vw/cA6zvloPhHlNVTzlQy3VAMXAU72uBT4BG4EjgIuA7oD+ws7s2EeiRwwFXBgMx4GUghSxxLJADjAHGAUPJJk2grgeEvnQ3baaHQdw3MR2I8343sAX49b9YXMfrQefe0o4CfATsAq4CXk/yqOyzBppRQeU4H/gJqOxRkK4t7yUwwssgviJcrOhG9VDxtFz6KnoE1vyIzDG5HQ+nkU3Wg0CyUC8HXgGu7zExXVv2ioDgOP6C+lPc76CDdgEEhkPXk7uTPZpCI5VJyQR/1S+hoWjver9bDupeYBJMzXzHW+7CuENHIpEw6gJfe1lXU1UnSyEdtn+1l5SUFHcyivkL55kJ0UyAgrxPVh2DQy7FSR/HYYOA7YxMcqFAJ/P6C/zd00oUcyqQjYZtqDcBmVDAoegXoW5nFDNAK93PpOf9nFH5TG1w+9JoPGPQPGjKt+hbDXwNyPXm9kceLcTUZVFMgMqRT8coxu7PgdABpCBFHWzvwCui3fPUOsBDbsLfVWi8GHWDwy7wU4yM0moehLsVNfr1KiWsY8wd1mzHO88q9SXrjeifBVyI628w0eue/IBFUIYKMMfU+iOvQZg7uCTQWAvF0sIKsvZzVC6R1FrgNpoVf+llWSy/cogMbwGijsJ2wsQIW5QTxVQUj1UifIPD1nMRKpVi+0RrQ4XWuDDvI1Z/ARFJMn/Ias9P9gOi0WgBUAhEeB+Se9+YwraUBHIIOrLQLfwsZ7JB2tCdCkzA5RywAOyB/gB9H0IYss8F1t4lDD0X7VVOnsIYcSTFbAXdHIg5zOL/3iJN3VibHs/orxr6j1e64fcdWOxO9I0G+gHjgUeBM4DHySr9rJ0vJMPc1cqvEjnuwqpPo34SYMLHOfubrXFyP9vZdzt9kBCFIge0zGKXQkv4IUspIpaww5ZAvfYYxy/jZl613vwS9sUshVAcE7LWTVa8NcKiCDA5NbwuoHJMTKpkXtLK8NIw8eW255BVBqPB28dMRj6IGvQCtk2FIK7EGHic6meMHwZBT3BMk9YrgL4ct8fyD/Y4iqkDDbq+WjUMnKAa+45VgYY/vH7Jd6wE7iUvINxRJwK/UZg/aPE73DyI7SKcyTHTgfuNe8bK8a1cJhHr8CyjpGLeP8gzT6ggEQrQQ5mlKDPILFFLWOXWWxNywq1/2KHcov8yXsc4VwHHTfKEapm1Ms7vjSm2GC1ZmQGl8O+vzFLgsLWPRPQh/kO185YT2o0GhrgC1RuMhpK4zuxzLdlnYxZxkiPwwDg+u9bzS3BdR81L432jlV11Y1vTLEoC/spV8WAf3De2tslj6BttIxO8BjyEGW+ylFaKmLvPmFQTc1dB07KTqn81sJVjlzAKOsthQ1fRvCJKeY6tIKWu1+7gdCpFyOeoVlp+iS3wmCVsWxgha0wB16jh2BprrgLLDyq2FM5eN2EhY3h1iNelloIUUIESRpoU9mn4ewoPRpT7JfavBBaL+ylCRj2zxRnV+h6GqBtx+5abljeSjxjG2fPpFNTTNxiqPH9Hq5NFOUxqNtBbZX1fpIJV5VCSPP8OwxS0JM0GADBT6iTlmo7bgR/pQC+nufuEJuQGII8KI77LI3ymj2WCRrE/l0wi5QngYSUONX5bsjA3ZgnOY5lyX6RTxHHlFEjM1x/jRoo5ly34cks5izk+v5V1J7bhg4St2l6/HG0lydnDUYwsRiELUFcAqx1z4r7p6yDNa2hm5rpkou+g3ZdE2rW0SwsxfLkyWnISeY5zKmOM2QxFmIbrdx1FMWYAWaAe8w0wgQy0NWVk/fiYSqta4f8eIxHUi2R0+CvqbUCipyuAKo45gee0lVhJxhDBv8Gcyjwq0kYqveRMLicJeKWayiS+lXz3Ga4ZQidLlNWQtl+1BDvDpwCFNBc11PSoz0kq4piQxSD7mAcegPf2R1tZN9aGiQnTCQ351i/lWzG0jeflDcwGKwQhwAA4og7Clufe4RxeeVm7b/FsjDuBbV9A7nMh7HXKjXLGwsddyO8o+Y4fYRAqa/0U6odoAgbiWgRZZYI556ZVr6mHckyPZw6C8xuAr2Ikizuc0YdX5gOzgFuBOZTb8/y9S5gJ/tXZj6skUYcFXLOR4/hF7ouWwu83nqN7paPkcKL5zWcpZSZkINpaK3mQgzrLBfORiFlEQEXon9RGHiTF+swax3V8HwfW/rLr5TtcE9KMvi3/Guf6J7m4F0WQ1PefLa6OMQNR90K9yXFC0vNSUndXpGT98MgolZJ1t9GBq6ytLaeQv27JwSg1kmwis201rvnN5tvf1wmlXadU3ITFZA9hkTVkoDo+L2bqKyrF0XRqq5jiz6SCirccPCRT7WSUiT7GS1Sa92OJTW307yL8Zfu+/k+gOWVPZbNubqiIp/bK49v/pmuSHGbzly9baaslttAkZdFHWcxsqz8zW2Vd/0LYpY7rnCf1ofotxsnpgD1iB/Y2ES3VQ15xiW31uE5Odh8VYgpN4yQqSsc35c5xo0Q3qYko+iA3O7GDZrOBdCfM7XAmfN/bEUyuXc2E2jQ6s/v7n4m20bRt6vmae2iU0QwSPlbu/0C7lGZqv77CkIE3SHKt52vuoVGW0jQMY3j8bhfMKWFz098CDABpQtXDIolDagAAAABJRU5ErkJggg==" />\n        <span>English (US)</span>\n        <span>Mobile Site</span>\n        <span>Terms of Use</span>\n        <span>Support</span>\n        <span>Feedback</span>\n        <span>Intellectual Property</span>\n        <span>Privacy Policy</span>\n        <span>Copyright &#169; 2014 DocuSign, Inc. All rights reserved.</span>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/previews/old-email.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="email-preview preview-content">\n    <div class="message-heading" ng-style="{\'background-color\': displayingBrand.colors.headerBackground, \'color\': displayingBrand.colors.headerText}">\n        <span translate="Please review and sign your document"></span>\n        <img alt="Logo" ng-src="{{displayingBrand.logos.email}}&{{displayingBrand.logos.lastLogoUpdate}}" ng-if="hasLogo && preview.allowCustomization" />\n        <img alt="DocuSign Logo" ng-hide="preview.allowCustomization" src="data:image/png;base64,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" />\n        <div ng-hide="hasLogo || !preview.allowCustomization" class="no-logo" translate="Your Logo"></div>\n    </div>\n    <div class="message-body">\n        <div class="sender" ng-controller="CurrentAccountInformationController as currentAccount">\n            <span translate="DS_CONTEXT=(user) From"></span>\n            <span ng-if="currentAccount.information.userProfile.userDetails.avatarImage"\n                  class="image">\n              <img src="{{currentAccount.information.userProfile.userDetails.avatarImage}}" />\n            </span>\n            <span class="image avatar avatar-placeholder avatar-background"></span>\n            <div>\n                <div class="name">{{ currentAccount.information.userProfile.userDetails.userName }} ({{ currentAccount.information.userProfile.userDetails.email }})</div>\n                <div class="company">DocuSign</div>\n            </div>\n        </div>\n        <div>\n            <p translate="Hello Recipient Name,"></p>\n            <p translate="- Envelope sender supplied email message"></p>\n            <p translate="[Formatted Recipient Note]"></p>\n        </div>\n    </div>\n    <div class="message-link"><div\n      ng-style="{\'background-color\': displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}" translate="View Documents"></div></div>\n    <div class="message-footer">\n        <p translate="Alternately, you can access these documents by visiting docusign.com, clicking the \'Access Envelope\' link, and using this security code:"></p>\n        <div class="securityCode">00000000000000000000000000000000</div>\n        <p translate="The Global Standard For Digital Transaction Management&#153;"></p>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/previews/new-signing.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="signing-preview preview-content">\n  <div class="title-section">\n    <div class="u-float-left">\n      <div class="title" translate="Please Review & Act"></div>\n      <div class="profile" ng-controller="CurrentAccountInformationController as currentAccount">\n        <span class="image avatar avatar-background avatar-placeholder"></span>\n        <div class="names">\n          <div class="user-name">{{ currentAccount.information.userProfile.userDetails.userName }}</div>\n          <div class="company-name">{{ currentAccount.information.userProfile.companyName }}</div>\n        </div>\n      </div>\n    </div>\n    <div class="u-float-right">\n      <img class="custom-logo" ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}"\n           ng-if="hasPrimaryLogo && preview.allowCustomization" />\n      <img class="custom-logo" ng-hide="preview.allowCustomization" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAAuCAYAAACmnrL/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAJD1JREFUeNq8nXecZFW1779rV1Xn7gkdJgcGBoFxSEqQnC4g4RIkeRVQRPGq4EUfmH3v+dQrhndFlA/3AgJGoowgXBAUBhgGGGEYMkgeJnWamU7V3dW11/vj7HPO3qeqe3pQX30+MNVVJ+yz99pr/dZvhZIFJ1yPiAEUVEEEtQCKiER/q0UEQEABUfevoNGhRP8oJjowuhbpMaqKgLuXja6FhMepRUiGQXRG/FJAEHccCIIbr7uGJP8DMMk56gYoGv/tni8+WNz4/NthQC0UmpHBtZiXfxT9bQoEL/XeS+bv6LGiqQ0/jeewBlgELBXYTeG9CO3AGEoZeBl4XGAl8IbGU5K5R8UrfJDqr2Tex3+G5K23pm7ZkzUK5mAyY9vGKy/x4MS7cXLD6I2IP0pJFk/dqCQYmaaDVU+QCKTFv0lGKNOTNb53PD43VhFQ633m1jcUzvT7+DpKcBnEuFvHz1pFmjQ+gOqLPN4aSDIbFa8m4BCUjwGnJ2P0FzY5UY9G5EL38V+B84GH/k5rv22Zzdxn2/f05mn8KRt/Hzk1kmiwRDDwhCwWPKLFSYQkEbJ0FlUrNYfGM+0JWXytVKAkkQyJxyLe8yRfazoh/q6NNZCGOtXbQ6FwJ7pXYj2dXKdSiiTdThJeeKIFqvL5bsDPEfpB7wJOl+ABMyeaCk23GFiO8i3+PwhjtefQSYlU5dvteRlEUuWY2BdNVUegKeM58sy7UiHEsTZKdlj2mFhwlIzmjf6VigmQBD6IO049rS4ZEyWSXUwJNHos7erbHRnfrMXbwH+O6guk1Vb0vcD9wPPAx7exYH1AL8JQoJb8c4RvAPv/7ZKm4w5dCIxPOAzdPo2XbvjJCb/xVjAEOyIVsxY9gyT4McVImpo2zcAYSY9J1I/42CTdBImwS3bZdZsQqVIzenBANVXS7l4pMsjcr0KYt0MHhqOYi3AXwrMCR1ZZlNdQ/h04CGUuIvUoUwXagGagAZgDciDww8xU/P5vUELBJEoG6/q3ESoV9/bcNDA44+37zMYwmhUmD3eR0SDhOmnwcOJpOPfG047iCZ+k+DSjBlRDwddgn6kHKzKYNDblIhlfSZPPnMWPT09gR6qk0zFmn122ZZ7CT3LAV4C1wHGk+wExvOJw4ByUxQpfFWWFwDpg2E2NSuT1FYH1wKMIlwB1wNfdrTqAqZpRRfIurKVW8UvehTKsUOTVvqsKcTLaxaR6UNIzYjMo2f3iiXkiUKmBlQDRxw6PJ8Cxw+GrT2/xY09efEHwpQiqmNjMfdw4JYMxJdhQ4s2HeJOkCRvg2xmdxCK44+YDryF8N5h9w28R3muVXVGudYKmjOP4jKN7R4DvOIoiFsqqzpW+W5Ap23euTBJr6mRtCmDUm/x43X1NVDlj6qmbzJR6gqbVNLKHUTVDC1Vqb814/Vrdm6Pad/5hElhuXzPHz5k4Ug5rJtpcCfCpTCw4x6C8hbDA++wnwCzgXxyGtExSuANL5BAHoucBxk2U9c/WCRSPTHQ/1crPJunC/z0cq0Azq5IXmAkyBxgWCc0wqgJYhL7IhGgfSClVIZphbrRCBUd8ovvcJvYyMro+bZTlATWDdcTTlj5ZWcGLVVsJSax5NAYqPHwhZAUqHaMJKcfPAVd4DNafEM4lMsWV1Il6BklDJzsdRAV9si/ItW7MW4DXBdB0jDngfcBLQF9wiSoUTIIRRQLsONHu+0dSTTHkyqvIdaL22ARDqWKcEKkIalMTJpEP9IKq/kKEe0CejdhiQUQ9o51yl6oTbFfBM5ESLohxApwlZQMboCmdiS+kmkLigPQONW5M4iup5szQp+7gMbAlMLlqwnkJ8H1P2ZwCLJuQOpHK91V2cXa+nkY5y33ye29rxSTRX4A93d9TnBJxQrd9Gi6l3sQjxysd83/Eywj6V8SkJixeGDGJiZOYeI6cn91E+B7wNOjbIpwYPbKEpjPBbim5rMEMe85JVhjH8cJi6icx827hEnTrNpSvgYLLe7SPTyIk3ncF3wg6NojWz4OmnaDUn52/Y4Dvu8NHgQVZYZRxTeV2r9UIyk0CNzqHx8fm09BEGEH1sNiaJPArhieqYG3FwEJ/VROoottwWN6Vgz8hDwnleFUT4ZHYSdEQkkoFKJwjmDuAR4HmbLQj0TpCJbGs1bCSZuwalUS4T4D73kqFhZMMYS+ho6Ip2R5skgxbIDqG1kxB62YgOuqPuBHkHm+Ms4G3q2ohzZg8b7zJsldTP9nPpAomj/7rjRRE8npgW6ZxXEGJ+eV3TY5v25PRCQTTuJBAtJtsTE1G8d8wfh0vlPHixMnl90ftFlRbCBbfA93q4cxMmC/w3JP7eELt7fSUEA/Js5gsF7LXlmSjqWcjRVKyPaCaPO0QLYwgOgbNO2Xl41NpyJVjEOmpAJiTiClrVaGoTolIKMvZy+wDHA5MB/onUk0yjoOmPiDXyWq3iQ+caAq0ynXzEQSUNN0hCgpfoaq/FpF6iT5QkMWgJ6jqyT4eU42wo4myJt5SpRXFSoJJPflMoiRaITwiocesntB69LkX68ThiFAbp0JlPD4xEjLx+FbNRC1FMkSopMKpYwPYqUvJTV0Cfa9AbRuo3dVTyRvGBViq21iVkO/UCWLlOrEZHFN4cHvDgVXHOMF4K/0jmfCZqjmCMgE1ZBIcFnCG9nojPI7qg8ByooD+tQKniNCiypdjXCiCxxvqVFQvjJxZxVqbJWiCOHBgfj38Vs0HUp+/FA/4a6WFi4UrGVtW4yTh0gxn6eFU9ZJKZGwYrWnFzv8IQgHKoyTYMTrkIaJoTB3bIH4n+l4nq0Hj96p/HwpmgjHKuyHDx7neZDaW8QM0mmgwMyVwzXzeEO0HLhPhwISr8zMChB+LkDcGjPGjKIH5bkZkZ+BA4ACFnYmyYDxiO8RJ4keVNcA6NaA7APuKcCiwG8j0ICwZCZigmgMxqmoUcqiKb9o97GpEMKBGFYMYI8ObsFOWYOedCsNdoPKqwt5AJzBV4H5VLQK3AF8CDhPYkSgUWPNugL9Usa+qWXyq2+f+6uQcE6F6Ztr2RHJksnH0EENm8wAVVetUiHFC4OOtRPE+iuo52YiGu9Y+7tJJRqI75AOoLpeIkngZ4RGEFYK+rGr7Bb034tIyGCZxtCSNrAizgZ+KUER5HeVxMA+CPA/aA/oE2APiiTHIEYh0Iqw3IuuNMZ0Ih4mf/hbh55wq64ENKOtFzCaERxGE0hbK7QdD43zncctq58wcqeh9bn5OQ/ke8ICirwJdoCMCzzoP/ELgUGBuQnLrJEhjwn3zbjRaEI2hWuKEVrFlTPjZRDKm26FBJYjUxKbT22yKYtWZ3BhGqmZN3y9R1qKxE2Ed6SXHoSkvqUi9IH8QMY8ieki08DbYsg4OHq3wFxFuA6nNpsR5HOfnRGQd8Fm1GNWsBy2o6j6qrAB+7bRgjSrTgRkIM1A7HWRKSEclXOcM0A6UGaBtwF6qipQGoWEmOuMwGOuLR1QG/ozI0QjNoPsD30V41M9IUHgvcBLCTxwUWotQRORyhKXZ1dVtEPLjZuNMQgt5180DOyucCZyJyB7vltnZFjJRJve9ES/0pAmLIKASCajVIPlAvQlTFAvf18SUxmbP7pV4slDA8jaix6taZ2GsJ9+RJxsR4QmSPFXhNRHJiTEZYdMfglzhhyuN8fjHhEczkWODXulsTSmORMU73aotWo1Gr37ShqgNgyW6NsGeo5ux7QdD4wK0kpccAB4HvoZyIDAV2BXhEoT7KoWGGoSLUH0GWAG0+hiX8R2cGRrBglN1PHw2sYS0onwJKGJ5GbgR4UZHHb0ENOAHGyYXx3/XzLkEJluiVH1xJQGqXnTNGBfNiGkh66ih2KEQBHlFBIyY1IEQmRfjMTHmN2K0LRvacxD1DVV9K8nlNsbHkHNE+GmcsS5iEDgE+KK1Nsz0jkx6pwivgI0EFAvYpSArJNLaNVkcZdyONIkpU1RiQt+kWtM6URVBx4bQupnojMNhtBeZ2Ofc6hb4h077t4hyfMATpjjnAKCbKO2sqm5RyCFciLIR+B7CbQhneHxkQGVVedURZSJ1EwU38pgK93dnhaswEvkUXmhSYKFA7bgaLzp2NlG+5pLJQgkNkisSLk1RjZwJk4zDRrbU4/18XjDl9iITrGqxkbZpdJkzrap6Wqx5bMJjyxWotDrQvwPQrsrVVq3TnsnsfFrRdmsVVWsQ/gSR3MbZSGrtK6rsBDIL1V3UMhPlAeB4kOc8+5bEGUV8d95p6NgSqKQUkkTCaIzxBNkgpS3YjsNg2u7oaF8FjzDBq1/hbuAIxxtWy4b9eCa8EL+ZR5RD+ZNMuP6mmA3bhhY6xEV4vptRqc8JLM94MPtI6CydiOpGhTcQhonqgLKv/YEnXPx+JfAccNn2OkBGYnbPecsxnWMTsxxROGmRVrRgxhj3r0z17xiZSlkHghj5sHoJESYKUf4cuAjV3sixFwW6Ve2nDPIrQTzgLQhyjrvyjkSYB2sTPNkJshSR10AsIqqwSaMFvzuE4jaROTR6vuQuokG0SNVLtxPfZXObszSArZmKXXgWomXUlraJ36pQJH8BlkilvZ1ZyRPyceBtL5NozAvwjPmhQbUVZzcA12tU/uAP4BlgD2CpKo+LBsT5te7IeoT7RfUOhDZvjK95vlU7wjJgJRptMs8QXgq0bA83muwslYj2ibk5I7FylFRjigZp/64C8CRn05z2tICscFc91acBnXNxaVC0hZ8WxqVpdZTTwHCM0+B7pBGWJF3s82Jk1A9JSiZm5/OQyVsxmGp1LF7qmbpQQYKNxDjWQcDkMSPdMG1PijNPYWvXO3R3dTI8PIzJ5QKTKeM4Ke6IF6tEBx/z/mwn0l4/d9+ehchiwHqL/m38VDQTqKPdEdkKcm4mjn68E8ZnEE4CLlVRv9rwZyrkgU6UIyvmyDLklMO+7piT3LfDYdIzoDpnu2LZXoCtIs4bh+OiLDRDnNWTMoJaLyL/okiktWJzqPqIUy37xaEuZ663AL0JaBc/jAeIdAFjUWQl0ci7uWz0GWmUOiphVeUptRZ1JHxKUQY0TopLUefFeTDEK+0MwsPuanGtVWwxrNOuRiybevuZ/p5jOPnD53LgQQfS1tbO8NBQRUpmZX5ZIpRzMlZ7QFXvQkQETnOLfQhRrc3eqN6E6laEGm/Rr6ymjgX+FWENkE+y6IW7HGfqrAfnoCwDXkFlzJ37kMIwVu+JuWGFDZmcmFXAVSiPu79fAPaKtKEelEnfqavgUh0mjS1eyENGXjFpdV2ahiUm6/FpEN6zqtfF3KAxAmJis/hgqkmNG5dJ1jeNE6tzoMLaGp/wUmutuHpvr8DVC8d4Hqj1sLVk2DNNMaKHf0txYFLFuHSSmCs3qEfEJ9QXSt4om/oN7bV9nH3AEMce/0EuuOiLHHfiSZRKJWxSx75NM3WrE5T4PrcgsjOqzyjc4kz/d4E2gdVuqPsnlkC4B5GuzM3qUb1L4cogIx8+KcoJCFvddvwP4AYicv8Mzyn5HLAXIkci3ARMA27KbKhDgfPc+4tcIdvTQAl4MkML9KXFNerr8ReANdk5yRNQJYq1YIRSVeWamr4cqpcT8Vfg+Ep3xl2gQ+7jpxAO8kJ+LajORGS9+mULaV7jbBHyjhVyzot52knIWsQGuZAi5hDQvwZ5keJhEPEMucQUF6AmTjmrzyZZimoBdRvVS2uLz80ZobMP2puVzx89RkdLmXUbR5k6pUyhtpZCoRDSIONL5lXAfgGhY/iQw4sATyNyCsKbQdYQHEFEZ4HGECdZ6F1QXqyMpfIB4DH3Vxsib4E2ADNRNqF8HUPeBSSeBz7sBO46hB1A/q0qpSPsibImCbOKy4IKA9YbM154zoWidwbeiJxUw8jwMAMDAxGro0FmsaIiefXT4qOHziEyVeEkkLUKn00wo6N8nGk9x+Xbg8hdImlJrbve5RXRIUkgwH9G4XXBuHxMVb3bLewz4vBfCi/0SpCmwCJGeDQX1i1E5KcmOZoR6W9Vz0uSAKzTmqIHxe5cmqwbbYScCJv6hfYW4fNHDzGjZYzufoNxMGZstJQmjYyTrUNUUfggcEGVKvwWZzk+pKp7F4eG3uzt6cFaG3O6AnzUnfEW8KwnKOcDL0ql0CxCecw9zgUoXaDLUCkAm4ACwv9xZucKECvwa4HrUKZJFAXzmAAFYYOItKnqmsGBAfr7+yL8HNF2DSkkYzUw6I2pxvGtBziodtjoyAgb1q+jrq6Os84+F6M2zZxJsJxyJcL1onqbwM2gfwBdi+pmRJYpdlbCKUpM+QBwvIj0ehkS1/kg12mb00BuRpkdYQgtAPMFuQPkWNCIOkpauXAjRhDsWyBbMg5CDehbIPuLSF2El2QX4DVVPTPJnIt4zfVpIoU4bCinKnqGKrWIFETYXdXhq4Qol0Qzru+D9kbl3/5piI4WS1e/SdRuRSZ4dVL7SKCPKOaeZuIL2LKlVCpdtnXr1sbNPb2/KxaLOmPWLA446BCGi8MMjwyDkQ6UNmcRikAh0ng8jHB1yu8m2moflDecAFgRrkI4CPhIlFMHIpzqFU9/O6b5HPv1rHr5qyJCuawPjY6O7tDf39ezcf16Dj78CL7wpa/Q2tpKV2cnxhjfp1nmcc5TI20v+4kRRkZHjurcuOFtEcNRx3yQT/zr5zj0iMMjwBskTEdk9y6o3cVzSxMHQNI6UieIjjIyehZwt59ZIyKbrNqrDXwSzzRbldONmNNR24eIsVabIvOcVi+4Sfi+CFvijDFBj0DMUylVZVGR6cBKVcUYel0+IESZ1etBHrZWMSKvpulyESaNHCO9yfUIGlCkyWgc/XQ0ilvZLUVl/lT41BFF2pqt04xZ7TeueV7gsqWO9DenWkVyhqHBoVut6hframvf3nGnxSxdujuz581lemsr8xcsouP2W1l22y3kc7kdcvl8vNq7AEPGmHypNEqxWGSkWPzn2rr6rubm5pWOxDtfjKwcGhzMj5VKNzW3TDlXREY0zRUwKlzjzOYDo8MjnZt7eqhvaqJlSsvHbNnOiZ3O0dERNvduvqqpqekzTc3N2tDQwLEnnMThRx3FlKlTOe+Cz3DlT/6Dzk0bpaO9g3LkHLRG6VG8T0RWgtLf38fg4MABre0dK4889jj2P+BA5i9cSHGoyMYNG8n7PW9ib9NaderXyxLXMJk1yqA0CNqthkNV5YUkWcjLTTRiPo3q+x1QDpJuRaQlXUeTuCxqFTGsQsyXYzPh6jxWC3qJqv4gyR12JjJymuz01PwLGqWFnSrI7YoMgi4HDjXZMtiIpmyKSTA/odcIlNWQE5Wz9h/RedMsG7bmEjPthxgLNYWwi4ayEOFbKGerl3A8XCwyNDRETU3Nc/l84aO5XG7N8SecyO577EltXR3NU1oYLhYZHRlh/bq3Oe7kkymNlbj7zmVd06a1ETfKKpfH8j3d3TQ2Nf7n4p3fc/F7dltSfOWlF3numTU3tTQ3n1lbV3/B4MDA6o4ZM49csMOizc89s4ZyuRytbbQGX0IjT3p4qPjx6W1tHH/SyaxZ/RTPPfvMce3tHQwPD9O3dWtnW3v7KUccffSju+y2hFmz5kBOaGtrZ8vmXjb39tLe0c6FX7iEK3/8o7Xr1q7t7Zg5c7oqF4FeFMm/Mjg4sHzhokX/tMuuS0o777YrO+60M0NDA3R1diaOcR7VKeIVyAt+fqLfEAqPIFIUXkD1KyLcrZaxBBeqd1p0krXoPgZ+gHKxJgVhrvtYQNDZmFy/zFr7VWP89JOEUvqhIK8iejsYTzDS+8dpEk44DlO43cGKU4zQG8OMtE7coFiHe7kY1b0FznalRvQXaV8y29oFbeWFXf1mPyM6mJLq0UZtamoaGS4O3Tc6Okq+UFgC/E8MpycJygaGBosMDQ4ye95cjvrgcbe+8eqrZzz91JP66QsvZJ8PHLhw65bN+42OjA52bdqU1rSomqGBAbN0j73ufPD++18rl8ceHxkZ3m+wf4CGxiY+cPDBfODAg1bNnTd/x8bmpnkHHXpY7slVj//2dzfe+MOtWze9s+uSJRsv/tJXalc98cRxqx5buUdtTc3hwBqBHoXvOmNzQ/9A/1t777svZ3z0o2bvffc99vqr/2uvJ594ggU7LOSwo45at3SPPYd3WLT4mNHR4a1Dg4OPWZSeni4EmZ3P5w/u6e4ebG3r0Au/eMnob35x/eAzq1dPz+fzFGpqaGpq6u7t6f7o/gce/Mezzzt/cT6f27W/b2u5a9NGt04GkIKq9svCE67/DsKlYLYklts5KqB50FEwb6E6gLBG4SmBB0DWWWvVuLZ5zmS68KMElX6p4ZMlwOdR/WTQYS11Hq4SkZ9EhLEbqFfjk8qmAEwT9BOIXIJqR+JNq7q0TPmNKt8R4QUQ1NrYq58VOU9yYrQB49Z4sgnhHKz+EeGbFr5mhD4wDZuH9Omlc+yBHzt46JaRUu40k8uTLxRoampCUUqjo/R093DjL284783XXz+tuaXluCx+HB0r0dDQwN7v35f37bs/c+fN/XZPd/c31r2zlnnzF1Aul39RLo+dHWe6Bx3lRGhuaen4/c23dN1/3735RYsW/e8FixZ99T27LmGPvfbCWqW/byvl8hg1NbW0tXc8ct89/33wrTf+mgULd2DRjosfXv3kqoPK5TK5fK5a+lBnqVT6sohcf+4nPyVLd9+zvHHDBl54/lnmzV/Aop12ZLB/iMHBfi/3I2HgvwX6jUjzWKZOm8bw8AiPPvIwI8PDdHd2XrzmqSevaGhqKn/28xcze+5c7e3pdc9XWaYuC0+8wYDmQGxYU4qf7m+jEF/EG4pv6vBrV7LF+GnFoYTZpjWReZXpLkunV4RekNEUFmRb8aWZxI42jRcth9JsVWeJSE4ip6ELKEbQIxHglMWMynubEJkhaBPQhchG1SgConHehTt4y5DYJbNK9vwjyo11jVOa+vr6Rzf3bh58/bVXa4B9173zzo9efP7ZPYeLwzQ0NlSE70ql0pPGyBfOOf+CZ3ffc8/clt6e3NDg0EChpnawvqGOgf5+rLX1IqYlXaWgyILpbW1dT6xcqb/8+bVc+vVvsvg9u7T3b93C4MAAZVt2JRuW2ro6M2fO3KHVTz3Zf/XPrjBjY+WrR0aGz2tqaqZQUxhQ1TNRdkf496DBlAibNmx48oRTTn3/CSd/qK2vb4s0NzdRLBYpDg3Hy2KAEdAt3pl1oFNUxUZwz1JbW0t9YyM5kzPGsOkX115DuVzmE5/+DF2dm1pVba5QqNWa2lrUWsQIY6WSjIyMlPNuEWw2bT9owuQVU4n4fXU0U0IR/p32kUwyxeMHG0VkI7AxTPDLVpBI2AXJB7oxnYOUEdkiqluCincJu7FF1EkQkhkABtJWf55nbcSqtTb+zlpL/ZR2GhoHB++5+67Bp558isHBgabuzq6PiPC1fL4wr66+noaGhkxVIL9C+Y5a+1K+po7Ghga2btlCsVgEMYyNlejvG43HWMQvb82S6NYyUhymrq6O2tpaerq7ukaGR5xjqdTW1TJlyhR6uru47eYb+fP99+XK5fLKhoaGfeob6kE5Q63ehmCjxOpkk+4AvA26R2Nzc+HVl19iy+ae7lzOsLm3N4E043eJ1GFgWFygwxhDqVSitGULqpaZs2fTMXMm3Z2dOOepZ9r0Ngb6B9iwfh2FfIFSaZQpU6fS1t7uQjcZZ4NsE9yqUchMj0SvMCpK/1KvrDZ2YkwlWVwtLTloxVUl576KFvcbCmRK9yobBXi5k6mMCla9MXsatXHKTDa/tYJrfnoXTzz5EnX19VfX1NSe39rWFkyL815f0CgKcrtAD14h28jIqLex313ioC2XKZVKiUbM5QzTW9vY3NvL3Xcs44mVK3ln7drclKlTX2xoaFxs1V6F8gWg6Ni9/yEiZ7pp+x0kxPtqYwwjxSLWjpHL1WxHei0Bbyue1i2NjlIcGiKXyzF1WivFoSGeXPUXHln+AOvfeYfa2lpGRkZoaWnh0COOirzssKFUNlVeggZM8fsUr7lqPkmFMKvgbMb8xs5T2JZPqxSuaUVLaaWy626glkWCJquJ12xDQQ0wmoaJGUm3BwXNN9JQfJ7ONf/Fm/2baeuYg8AuntCuQ/kj8DDCfSKsy+RSbDOrurINjE6Ymh1v+tbWNsQYlv/pPv70x3vZtHEDTU3NzJw1625gsVX7zyh3eku6FPgB6fOdE45DyRUKSZOI6unBWnXsqpUluqpKPl9g1uw53Lnsdn52+f9lc08PL734AqjS1NQ0fXRkpDWXy9X2dHU9f/Nvf6X5wPnItm/2FjRb1icePgyaTGlWAwiS6aAmokHMXCu0ZtgJ1/M4Q486mQnjhc/8jhlB+CZMtYlxnvE0oniNUGNnp9AMbz5Ezdgmatp3BC2jcDDQIJFSHZXkaprpiz5BdrWX0CLjtLOonJYomtTc0kxTUxNPrVrFyhUP89yaNdQUCsyYORtFL1PVoxH2wmseIDBF4Zk4hwDldIXB8cZY0Ud8nE0iVeqv4/Mi8z1KT0833V2dPPzn+6mpq2NKSwti5CAt20vzudzTCsXG5uaTVfV7+dTbGacbUcjjhAVBPt70hKeaAAcNRH2tV03DxUKnKUGd1nZTkRArGgqcmLBRQOUManCdCtgcm20lEsBcAyZXj2rZv9KQTrLEavxSVq2WkpZuVveBLVsKhQLNzS0U8nk292zmrmXLWPHQcowxTJ02DWMMqvbIKIVP9wN52rtlQeFVzyLcBNw6uTqZbZWUVWLL2LmZPXcuq//yBP99x+9pa29PE52hTVVrEfmeCqcR1T4tFpGD8ins0orqtrBXYkYORSqq1MRvTuWttAbdcdNG+hW/fFC1YF2rd6iQat2PMte3seNj3C83ZH0nDeN3mWKybMqkjCNG21NJMl4LfclCFe/TQm0NQ8UiL7/0AmVrueaqnzEw0M+01lZyuVycN1pD1Dr6YpAnvEEZpynjBNvXBD4y+Z70WpFk6X8XJOQTb6AybR0dvPX669x2443U1NaRMzkfm+/qcjHrQA8BeRy4GjjZ+BktWSGTAI+l1E76awtpW4psn+8gquP1W0yFQMN20FXuX9GWLvDyFb85hvr9KoMuU6mApjjYf148Le9njqdmVWJKiyo/77EdVX7ZioVt4Uxry+TzeebPn8+9f7iTP917D/UN9ZTLY7Q0N7u6dxuP/2Z32o8DYRT+SNRw39WksKcKZdie8kId9zHF64ocvxqbW3jrjTe46orL6ercRHNzc6aHJy+i7IHSLpjLiXpD7YvQb7I/w+H3xVG/N7ffXk9j4fRNY5WqXU+TqWqYhaDVFiHMRq/QfAFgqXKNKn3Rs62n01bTOo6GrPpDDNuWN/l79AXzhdHS2NhEfX09d9x+OytXrGB6axtGDIVCIdOSWqYAJwGf9jpn5xHuTzK+XQa6RJWRk/CdqxfYZtFYPFv+ejU1NbLqsZWsffsNWtvbsa6iwPuvG6Ek8E1VfZqoi9xFwD35IIUsaHMingbzOn7HptYJmTExUS2Z5FgNhCnEeZq25vF+qiOKl2caUKEVv9aQden8X2YIfzNHqphHr+9hFQfMLwLTbP/JiRSI/AOEsaGBX11/HX++7146ZsykvqHBZcZLkG4HfMgN/1VnVFqB1Sjz3LjGovfSO/nm9Vmw4sGmqvvPM9lWqauvp76hMcnkr0CewnKNCsH2BFkFek1UKB5zFAE1I1XcrUqwKxWtYEm6u4c+p6a/qeVFepI8ScVL8PTzGE0mMzi9FoEwec2rMl0v0r6R1nsMrZ6fEzyP/5lvzsNDsg1Bq7Uf2bYRT7FYJIwN1NU3cMO1V/Po8uXMmTMXYwy2XB6vi+3RLgflMoU7Uf6X9906UXbTqAxi8oTnuO81KHepnoesE7o/3rc9EFWSxseYsGF81syFPzLkf5c179megr6X6DvkmWgJ2T6OQbs9Xyt6oUfxGhpU9jCXKg2cMk3zpZqp1YoxpZlQmYb/jN84aTIN7Kup13iOC4UC+XwNv77+GlY8tJyOmTMxxsXix7/eBvfd+xBPGEVuEGRhLIyTUuI6ngunAQ7U7UArk20Fnf5OjVKFevFLQb3+iv6veAW9uTMUj4YChIZORopRtQrrU6WtUUWXMx9rSpVx+BlCvixV69BbzVvWwLGbjC7ZrsBG1R/LUJqam3l85Qoeeegh2jtmYHIG1/7Kw2Ca/aWVy8lSYsKpoB/TuGR2u5VjJVlVWd05eT99si+DXzNSiViD1C+paDIq4e8LVvxaEp4g4/+wYNXtlUBJzXJbYe+eqoLld+sNYp7eueM6J5lGpb4n441HJskxVrU4OpEBS08wxvDaq3/FmBz5fN7bfP5/cVPZeDPKmwgHoixD9VJgCnD7u0ex1Z9UtXr4+G++uneZ/zcA7KsuXQPZA5oAAAAASUVORK5CYII=" />\n      <div class="custom-logo" ng-hide="hasPrimaryLogo || !preview.allowCustomization">Your Logo</div>\n      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAUCAYAAABWHnVqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNmI3NjY4YS04MjFhLTQwODQtYjAzOS0zYTc0Y2QxZTQ1MGEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3OTIzNUFGNUVCMTFFM0FCMUJGREQ5OUJCRUI4RTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3OTIzNTlGNUVCMTFFM0FCMUJGREQ5OUJCRUI4RTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZDI5MDE2OC1hMGRmLTRkNDAtOGQ0Zi1mOGRkZDdiNzAzYjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDZiNzY2OGEtODIxYS00MDg0LWIwMzktM2E3NGNkMWU0NTBh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"\n           class="powered-by-docusign">\n    </div>\n  </div>\n  <div class="action-section brand-header-background" ng-style="{\'background-color\': displayingBrand.colors.headerBackground}">\n    <div class="empty-sign-button">\n      <div class="icon-body brand-button-background" ng-style="{\'color\': displayingBrand.colors.buttonPrimaryBackground,\'background-color\': displayingBrand.colors.buttonPrimaryBackground}">\n        <div class="icon icon-triangle brand-button-background" ng-style="{\'color\': displayingBrand.colors.buttonPrimaryBackground}"></div>\n      </div>\n    </div>\n    <div class="consant-check-box checkbox">\n      <input id="consant-check-box" type="checkbox" checked="checked"\n             class="checked"><label for="consant-check-box"\n                                    class="brand-header-text text-part-1 small-font"\n                                    ng-style="{\'color\':displayingBrand.colors.headerText}" translate="consent to use">\n      <div class="text-part-2 small-font brand-header-text"\n           ng-style="{\'color\':displayingBrand.colors.headerText}" translate="Electronic Records and Signatures"></div>\n    </label>\n    </div>\n    <div class="u-float-right">\n      <div class="continue-button medium-font brand-button-text brand-button-background"\n           ng-style="{\'background-color\':displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}" translate="Continue"></div>\n      <div class="other-actions medium-font brand-header-text"\n           ng-style="{\'color\': displayingBrand.colors.headerText}" translate="Other Actions"><span\n        class="icon icon-triangle brand-header-text" ng-style="{\'color\': displayingBrand.colors.headerText}"></span>\n      </div>\n    </div>\n  </div>\n  <div class="document-section">\n    <div class="outer">\n      <div class="auto-nav">\n        <div class="icon-body brand-button-text brand-button-background"\n             ng-style="{\'background-color\': displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}" translate="Sign">\n          <div class="icon icon-triangle brand-button-background" ng-style="{\'color\': displayingBrand.colors.buttonPrimaryBackground}"></div>\n        </div>\n      </div>\n      <div class="inner">\n        <div class="document-page">\n          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABCgAAAJyCAYAAAAGrfFXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNmI3NjY4YS04MjFhLTQwODQtYjAzOS0zYTc0Y2QxZTQ1MGEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDMyQzlGNkZGNDE4MTFFMzk2MkI5N0M4Q0Q5RDc2MDkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDMyQzlGNkVGNDE4MTFFMzk2MkI5N0M4Q0Q5RDc2MDkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZDI5MDE2OC1hMGRmLTRkNDAtOGQ0Zi1mOGRkZDdiNzAzYjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDZiNzY2OGEtODIxYS00MDg0LWIwMzktM2E3NGNkMWU0NTBh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">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/previews/new-email.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="email-preview preview-content">\n  <div class="main-section">\n    <div class="logo-section">\n      <img class="custom-logo" ng-src="{{displayingBrand.logos.email}}&{{displayingBrand.logos.lastLogoUpdate}}" ng-if="hasEmailLogo && preview.allowCustomization" />\n      <img class="custom-logo" ng-hide="preview.allowCustomization" src="data:image/png;base64,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" />\n      <div class="custom-logo" ng-hide="hasEmailLogo || !preview.allowCustomization" translate="Your Logo"></div>\n    </div>\n    <div class="review-document-section" ng-style="{\'background-color\':displayingBrand.colors.headerBackground}">\n      <div class="document-icon" ng-style="{\'color\':displayingBrand.colors.headerText}">\n        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5OGQzYmM0Ny1jZWExLTRkMzctYmZhNC1hZmI1ZTc1NzE1ZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTJFODRDQkRGNUFEMTFFMzg2RTJGRDFBM0Y1OTk5MjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTJFODRDQkNGNUFEMTFFMzg2RTJGRDFBM0Y1OTk5MjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphZjM5ZWVjOC02YjA4LTQxYzUtODU0OS1jZWFiODg1MGJkN2MiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OThkM2JjNDctY2VhMS00ZDM3LWJmYTQtYWZiNWU3NTcxNWU2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">\n      </div>\n      <div class="email-title" ng-style="{\'color\':displayingBrand.colors.headerText}" ng-controller="CurrentAccountInformationController as currentAccount">\n        {{ currentAccount.information.userProfile.userDetails.userName }} <span class="text-part-2" translate="sent you an envelope to review with enclosed documents to sign."></span>\n      </div>\n      <div class="review-button"\n           ng-style="{\'background-color\': displayingBrand.colors.buttonPrimaryBackground, \'color\': displayingBrand.colors.buttonPrimaryText}" translate="Review Envelope"></div>\n    </div>\n    <div class="sender-message-section">\n      <div class="profile" ng-controller="CurrentAccountInformationController as currentAccount">\n        <span class="image avatar-background avatar-placeholder"></span>\n        <div class="names">\n          <div class="user-name">{{ currentAccount.information.userProfile.userDetails.userName }}</div>\n          <div class="company-name">{{ currentAccount.information.userProfile.companyName }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="bottom-section">\n\n    <img\n      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApYAAAF8CAIAAAD6p2wkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5OGQzYmM0Ny1jZWExLTRkMzctYmZhNC1hZmI1ZTc1NzE1ZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEFGRUUwODRDQ0ZDMTFFNEI5QTJFMEVEMzI1REM5OUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEFGRUUwODNDQ0ZDMTFFNEI5QTJFMEVEMzI1REM5OUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNDRDMDc2OEY1RTgxMUUzQUIxQkZERDk5QkJFQjhFMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNDRDMDc2OUY1RTgxMUUzQUIxQkZERDk5QkJFQjhFMyIvPiA8L3Jk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" />\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/post-signing-destinations.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='PostSigningDestinations' ng-click=\"clearSelections($event)\">\n  <div class='header'>\n    <h1 translate=\"Configure Destinations\"></h1>\n  </div>\n\n  <div class='content post-signing-modal'>\n    <p class='description' translate=\"Configure a destination URL for any of the actions below.\"></p>\n\n    <div class='form_unit' ng-repeat='page in pages'>\n      <label class='label' ng-attr-for=\"{{page.controlName}}\" translate=\"{{page.name}}\"></label>\n\n      <input name='{{page.controlName}}'\n        type=\"text\"\n        class='input-text' maxlength=\"500\"\n        ng-focus='enlarge($event)'\n        ng-attr-id=\"{{page.controlName}}\"\n        ng-model='brand.landingPages[page.controlName]'\n        translate translate-attr-placeholder=\"DocuSign Default\">\n      </input>\n    </div>\n\n    <div id='merge-fields-menu' class='form_unit merge-fields-menu'\n        ng-show=\"displayMergeFieldMenu\"\n        ng-click=\"$event.stopImmediatePropagation()\">\n\n      <button type='button' class='btn btn-secondary btn-trigger merge-fields'\n        olive-menu='menuActions'\n        data-qa=\"post_signing_dest_insert_merge_field_btn\"\n        translate=\"Insert Merge Field\">\n      </button>\n\n      <div class='menu invisible' id='menuActions'>\n        <ul>\n          <li class='item' ng-repeat='field in mergeFields'\n              ng-class=\"{true: 'disabled', false: ''}[field.invalid]\"\n              ng-click='field.invalid || insertField(field)'>\n            {{field.name}}\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div class='footer'>\n    <button class='btn btn-primary btn-lg' ng-click='save()'\n      data-qa=\"post_signing_dest_save_btn\"\n      translate=\"Save\">\n    </button>\n\n    <button class='btn btn-minor btn-lg' ds-close-modal\n      data-qa=\"post_signing_dest_cancel_btn\"\n      translate=\"Cancel\">\n    </button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t){var n="branding/templates/branding.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site-main branding" ng-controller="BrandingController as brand" ds-form>\n\n  <div ng-if="isBrandingUpsell">\n    <div class="site-main branding">\n      <div class="block block-reversed block-xxl featureWall">\n        <div class="block_picture featureWall_videoImg">\n          <img ng-src="{{ imagesource }}" ng-click="openVideo()" ng-mouseenter="hoverImg()" ng-mouseleave="defaultImg()" />\n        </div>\n        <div class="block_content">\n          <h1 translate="Personalize communications to your customers with Branding"></h1>\n\n          <p translate="Add a professional look to envelopes and emails"></p>\n\n          <div>\n            <ul>\n              <li translate="Add your logo to envelopes, templates and emails"></li>\n              <li translate="Use your color theme"></li>\n              <li translate="Increase engagement with customers"></li>\n            </ul>\n          </div>\n          <div class="buttonRow">\n            <button ng-if="isAdmin" type="button" class="btn btn-main btn-cta btn-featureWall" translate="Upgrade"\n                    ng-click="redirectToDotComBilling(\'upgrade\', \'tgr=fw-templates-radmin&f=templates\')">\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!isBrandingUpsell && loaded">\n    <div class="crumbs"\n         ng-if="isNewBranding">\n      <ul class="crumbs_list">\n        <li class="crumbs_listItem">\n          <a class="crumbs_item"\n             ui-sref="authenticated.brands"\n             translate="Brands"></a>\n        </li>\n        <li class="crumbs_listItem">\n          <span class="crumbs_item truncate u-ellipsis">{{ brandInformation.signingBrand.brandName }}</span>\n        </li>\n      </ul>\n    </div>\n    <div class="section">\n      <h1 class="header-title" translate="Branding"></h1>\n\n      <div class="header-actions" ds-ackbar="brand.brandForm" ds-ackbar-save="save()" ds-ackbar-cancel="cancel()"></div>\n\n      <p ng-if="!isNewBranding"\n         translate="Manage the brand associated with your signing experience. Brand your DocuSign account with a custom logo."></p>\n    </div>\n    <form name="brand.brandForm" class="section">\n      <h2 translate="Info"></h2>\n\n      <div class="form_unit">\n        <label for="brandName" class="label" translate="Brand Name" label-required="*"></label>\n        <input id="brandName" type="text" class="input-text input-md" ds-valid="function" required\n               ds-valid-function="validateBrandName" ng-model="brandInformation.signingBrand.brandName" />\n        <p class="helper-text error-msg" ng-show="brandNameRequired" translate="A brand is required."></p>\n        <p class="helper-text error-msg" ng-show="brandNameError"\n           translate="A brand already exists with that brand name, please provide a unique brand name."></p>\n      </div>\n\n      <div class="form_unit">\n        <label for="companyName" class="label" translate="Company Name"></label>\n        <input id="companyName" type="text" class="input-text input-md"\n               ng-model="brandInformation.signingBrand.brandCompany" />\n        <p class="helper-text">\n          <span translate="Brand ID:"></span>\n          {{ brandInformation.signingBrand.brandId }}\n        </p>\n      </div>\n\n      <div class="form_unit">\n        <div class="cb">\n          <input id="useMembershipCompanyName" name="checkbox_group1" type="checkbox" class="cb_input"\n                 ng-model="brandInformation.signingBrand.isOverridingCompanyName" />\n          <label for="useMembershipCompanyName" class="cb_label" translate="Use membership company name"></label>\n        </div>\n        <div class="cb">\n          <input id="isSignDefault" name="checkbox_group1" type="checkbox" class="cb_input"\n                 ng-model="brandInformation.signingBrand.isSigningDefault" />\n          <label for="isSignDefault" class="cb_label" translate="Set as Sign Default"></label>\n        </div>\n      </div>\n    </form>\n\n    <div class="section signing">\n      <h2 class="header-title" translate="Customize What Recipients See"></h2>\n      <p translate="Add your logo and brand colors to emails and the signing experience."></p>\n\n      <div class="fgrid fgrid-gutters" ng-if="isSigningBrandCustomized">\n        <div class="viewer fgrid_cell fgrid_cell-1-5" ng-show="hasSigningLogo()">\n          <h4 translate="Signing"></h4>\n          <img class="brand-logo" translate translate-attr-alt="Signing Logo"\n               ng-src="{{brandInformation.signingBrand.logos.primary}}&{{brandInformation.signingBrand.logos.lastLogoUpdate}}" />\n        </div>\n        <div class="viewer fgrid_cell fgrid_cell-1-5" ng-show="hasEmailLogo()">\n          <h4 translate="Email"></h4>\n          <img class="brand-logo" translate translate-attr-alt="Email Logo"\n               ng-src="{{brandInformation.signingBrand.logos.email}}&{{brandInformation.signingBrand.logos.lastLogoUpdate}}" />\n        </div>\n        <div class="viewer fgrid_cell">\n          <h4 translate="Colors"></h4>\n          <div class="color-preview" ng-repeat="(name, color) in brandInformation.signingBrand.colors track by $index"\n               ng-style="{\'background-color\':color}"\n               ng-class-even="{true:\'\', false: \'color-group\'}[isAccountUsingNewSigning]" ng-class="name"></div>\n        </div>\n      </div>\n\n      <div class="grid button-bar">\n        <button class="customize-signing-theme btn btn-secondary" type="button"\n                data-qa="branding_create_or_edit_theme_btn" ng-click="openModal(true)" ds-size="xl"\n                ds-modal="branding/templates/brand-preview-modal.html">\n          <span ng-if="isSigningBrandCustomized" translate="Edit Your Theme"></span>\n          <span ng-if="!isSigningBrandCustomized" translate="Create Your Theme"></span>\n        </button>\n        <a class="anchor" ng-if="false" ng-click="resetToDocuSignTheme()" translate="Reset to DocuSign Theme"> </a> <a\n        class="anchor" ng-hide="isSigningBrandCustomized" ng-click="openModal(false)" ds-size="lg"\n        ds-modal="branding/templates/brand-preview-modal.html" translate="View DocuSign Theme"> </a>\n      </div>\n      <div class="post-signing">\n        <h3 class="header-title" translate="Advanced Configuration"></h3>\n        <p translate="Modify advanced default settings to customize destination URLs, links, and resource files."></p>\n        <div>\n          <a ds-size="xl" ds-modal="branding/templates/post-signing-destinations.html"\n             translate="Destination URLs"> </a>\n        </div>\n        <div>\n          <a translate="Header and Footer Links"\n                ui-sref="authenticated.brand-links({brandId: brandInformation.signingBrand.brandId})"></a>\n        </div>\n        <div>\n          <a type="button" translate="Resource Files" ng-if="showAdvancedSetting"\n             ui-sref="authenticated.brand-advanced-settings({brandId: brandInformation.signingBrand.brandId})"></a> <br><br>\n        </div>\n      </div>\n    </div>\n    <div class="section sending" ng-if="!isNewBranding">\n      <h2 class="header-title" translate="Customize What Your Users See"></h2>\n      <p translate="Add your logo to the DocuSign application."></p>\n      <ul>\n        <li translate="Maximum file size: 300 KB"></li>\n        <li translate="Recommended dimensions: 296 x 76 pixels (larger images will be resized)"></li>\n        <li translate="Supported formats: JPG, GIF, PNG"></li>\n        <li translate="Changes may take up to one hour to display in all places"></li>\n      </ul>\n      <div class="brand-logo-manager" ng-if="hasSendingLogo()">\n        <div class="vertical-alignment-group">\n          <span class="brand-logo-container">\n            <img class="brand-logo" translate translate-attr-alt="Sending Logo"\n                 ng-src="{{brandInformation.sendingBrand.logos.primary}}&{{brandInformation.sendingBrand.logos.lastLogoUpdate}}" />\n          </span>\n          <span class="icon icon-times" ng-click="removeSendingLogo()" />\n        </div>\n      </div>\n      <div class="button-bar">\n        <label for="sendingLogoUploader" class="upload-sending-logo btn btn-secondary" ng-hide="hasSendingLogo()"\n               data-qa="branding_upload_your_logo_lbl" translate="Upload Your Logo"></label>\n        <input id="sendingLogoUploader" type="file" nv-file-select uploader="sendingLogoUploader"\n               class="oldBrowserCompatibleHiddenFileInput" />\n      </div>\n    </div>\n  </div>\n  <div ds-loading="loading" class="text-center p-top-xx-large" ds-loading-succeeded="loaded"\n       ds-loading-error="{{\'We had trouble loading your brand. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/brand-preview-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\x3c!--branding theme modal--\x3e\n<div ng-controller="CustomizeThemeModalController">\n  <div class="modal_header">\n    <h2 ng-show="preview.allowCustomization" translate="Customize Signing & Email"></h2>\n    <h2 ng-hide="preview.allowCustomization" translate="Default DocuSign Theme"></h2>\n  </div>\n  <div class="modal_content" ng-click="closeSwatch(null)">\n    <div class="fgrid">\n      <div ng-if="preview.allowCustomization" class="brand-left-nav fgrid_cell-1-4"\n           ng-include="\'branding/templates/brand-left-nav.html\'"></div>\n      <div class="brand-preview fgrid_cell" ng-include="\'branding/templates/brand-preview-body.html\'"></div>\n    </div>\n  </div>\n  <div class="modal_footer">\n    <button class="btn btn-primary" ds-close-modal ng-click="saveBrand()" data-qa="brand_preview_modal_save_btn"\n            ng-if="preview.allowCustomization" translate="Save"></button>\n    <button type="button" class="btn btn-secondary" ds-close-modal ng-click="cancelChanges()"\n            ng-if="preview.allowCustomization" data-qa="brand_preview_modal_cancel_btn" translate="Cancel"></button>\n    <button type="button" class="btn btn-secondary" ds-close-modal data-qa="brand_preview_modal_close_btn"\n            ng-if="!preview.allowCustomization" translate="DS_CONTEXT=(modal) Close"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/templates/brand-preview-body.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="branding-preview">\n    <div class="preview-toggle">\n      <div class="switch-container">\n        <span class="preview-label" translate="Preview:"></span>\n        <span class="group">\n            <button type="button" class="btn btn-strong btn-secondary btn-icon group-item on"\n                    ng-click="currentPreview = \'signing\'"\n                    data-qa="brand_preview_signing_btn"\n                    ng-class="{true: \'on\', false: \'\'}[currentPreview == \'signing\']">{{ signingLabel }}</button>\n            <button type="button" class="btn btn-strong btn-secondary btn-icon group-item"\n                    ng-show="showPowerformPreview"\n                    ng-click="currentPreview = \'powerform\'"\n                    data-qa="brand_preview_powerform_btn"\n                    ng-class="{true: \'on\', false: \'\'}[currentPreview == \'powerform\']">{{ powerformLabel }}</button>\n            <button type="button" class="btn btn-strong btn-secondary btn-icon group-item"\n                    ng-click="currentPreview = \'email\'"\n                    data-qa="brand_preview_email_btn"\n                    ng-class="{true: \'on\', false: \'\'}[currentPreview == \'email\']">{{ emailLabel }}</button>\n        </span>\n      </div>\n    </div>\n    <div class="signing-v0" ng-if="!useNewSigning">\n        <div ng-show="currentPreview == \'signing\'" ng-include="\'branding/templates/previews/old-signing.html\'">\n        </div>\n        <div ng-show="currentPreview == \'powerform\'" ng-include="\'branding/templates/previews/powerform.html\'">\n        </div>\n        <div ng-show="currentPreview == \'email\'" ng-include="\'branding/templates/previews/old-email.html\'">\n        </div>\n    </div>\n    <div class="signing-v1" ng-if="useNewSigning">\n        <div ng-show="currentPreview == \'signing\'" ng-include="\'branding/templates/previews/new-signing.html\'">\n        </div>\n        <div ng-show="currentPreview == \'powerform\'" ng-include="\'branding/templates/previews/powerform.html\'">\n        </div>\n        <div ng-show="currentPreview == \'email\'" ng-include="\'branding/templates/previews/new-email.html\'">\n        </div>\n\n    </div>\n</div>')}]),e.exports=n},function(e,t){var n="branding/templates/brand-logo-requirements.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<ul class="brand-logo-image-requirements">\n    <li translate="Maximum file size: 300 KB"></li>\n    <li translate="Recommended dimensions: 296 x 76 pixels (larger images will be resized)"></li>\n    <li translate="Supported formats: JPG, GIF, PNG"></li>\n    <li translate="Changes may take up to one hour to display in all places"></li>\n</ul>\n')}]),e.exports=n},function(e,t){var n="branding/templates/brand-left-nav.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="nav-wrapper customize-theme">\n  <div class="swatch-wrapper background-color-picker" ng-show="showSwatch" ng-click="$event.stopImmediatePropagation()">\n    <div class="swatch">\n      <div class="picker-dropper-toggle group">\n        <div class="btn btn-secondary btn-icon picker selected group-item" olive-tooltip\n             title="{{\'Select color from color picker\' | translate}}"\n             ng-class="customizeMethod == \'picker\'? \'selected\' : \'\'" ng-click="selectMethod(\'picker\')">\n          <span class="icon icon-palette"></span>\n        </div>\n        <div class="btn btn-secondary btn-icon dropper group-item"\n             ng-class="customizeMethod == \'dropper\'? \'selected\' : \'\'" ng-click="initializeEyeDropper()"\n             title="{{ \'Select color from eye dropper\' | translate }}" olive-tooltip>\n          <span class="icon icon-eyedrop"></span>\n        </div>\n      </div>\n      <div class="picker-dropper-wrapper">\n        <div class="picker-wrapper" ng-if="customizeMethod==\'picker\'">\n          <div>\n            <input id="picker" class="minicolors-input" type="text" always-show minicolors ng-model="customizeColor"\n                   ng-change="updatePreviewFromPicker(this)" ng-keypress="updateHistory($event)" />\n          </div>\n          <div class="clones-container">\n            <span class="minicolors-swatch-clone" ng-repeat="colorHistory in colorHistoryList track by $index"\n                  ng-class="{\'black\': \'with-border\', \'white\': \'\'}[calculateContrast(colorHistory)]"\n                  ng-click="applyColor(colorHistory)">\n              <span class="minicolors-swatch-color" ng-style="{\'background-color\': colorHistory}"></span>\n            </span>\n          </div>\n        </div>\n        <div class="dropper-wrapper" ng-show="customizeMethod==\'dropper\'">\n          <img id="hiddenLogo" class="ng-hide"\n               ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}" />\n          <img id="hiddenDifferentLogo" class="ng-hide" />\n          <div class="logo-area" ng-show="hasPrimaryLogo || hasDropperLogoSelected">\n            <canvas id="logo" width="223" height="160"\n                    translate="Your browser does not support color selection."></canvas>\n            <div class="instructions">\n              <div translate="Click anywhere on the image above to sample a color"></div>\n            </div>\n            <label for="dropperImageUpload" translate="Upload a different image" class="btn btn-minor"\n                   olive-tooltip="brandLogoImageRequirements-dropperLogoImage"\n                   ng-show="isNewDropperImageAllowed"></label>\n            <div class="tooltip tip above center invisible" id="brandLogoImageRequirements-dropperLogoImage">\n              <div class="tooltip-header" translate="Image Requirements"></div>\n              <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n            </div>\n          </div>\n          <div class="upload-area" ng-hide="hasPrimaryLogo || hasDropperLogoSelected">\n            <label ng-show="isNewDropperImageAllowed">\n              <label class="btn btn-primary btn-lg" for="dropperImageUpload" translate="Upload Image"></label>\n              <input id="dropperImageUpload" type="file" nv-file-select uploader="dropperLogoUploader"\n                     class="oldBrowserCompatibleHiddenFileInput" />\n            </label>\n            <div class="text-info image-requirements" olive-tooltip="brandLogoImageRequirements-dropperImage"\n                 translate="Image Requirements"></div>\n            <div class="tooltip invisible" olive-tooltip-position="above center"\n                 id="brandLogoImageRequirements-dropperImage">\n              <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n            </div>\n            <div class="instructions" ng-class="{\'legacy\': !isNewDropperImageAllowed}">\n              <div class="text-strong" translate="Sample Colors From an Image"></div>\n              <span translate="To sample colors, you must first upload an image."></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="arrow-with-border">\n      <div class="arrow-inner icon icon-triangle"></div>\n      <div class="arrow-outer icon icon-triangle"></div>\n    </div>\n  </div>\n  <div class="logo-area">\n    <header>\n      <h2 translate="Logos"></h2>\n    </header>\n    <div ng-if="hasPrimaryLogo">\n      <h4 class="label" translate="Signing"></h4>\n      <div class="brand-logo-manager">\n        <div class="vertical-alignment-group">\n        <span class="brand-logo-container">\n          <img class="brand-logo" translate translate-attr-alt="Signing Logo"\n               ng-src="{{displayingBrand.logos.primary}}&{{displayingBrand.logos.lastLogoUpdate}}" />\n        </span>\n          <span class="icon icon-times" ng-click="removeLogo(\'primary\')" />\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="hasEmailLogo">\n      <h4 class="label" translate="Email"></h4>\n      <div class="brand-logo-manager">\n        <div class="vertical-alignment-group">\n        <span class="brand-logo-container">\n          <img class="brand-logo" translate translate-attr-alt="Email Logo"\n               ng-src="{{displayingBrand.logos.email}}&{{displayingBrand.logos.lastLogoUpdate}}" />\n        </span>\n          <span class="icon icon-times" ng-click="removeLogo(\'email\')" />\n        </div>\n      </div>\n    </div>\n    <div ng-hide="hasPrimaryLogo">\n      <label for="signingLogoUploader" class="btn btn-primary btn-lg" data-qa="brand_left_nav_upload_a_custom_logo_lbl"\n             translate="Upload Signing Logo"></label>\n      <input id="signingLogoUploader" type="file" nv-file-select uploader="primaryLogoUploader"\n             class="oldBrowserCompatibleHiddenFileInput" />\n\n    </div>\n    <br>\n    <div ng-hide="hasEmailLogo">\n      <label for="signingLogoUploader2" class="btn btn-primary btn-lg" data-qa="brand_left_nav_upload_a_custom_logo_lbl"\n             translate="Upload Email Logo"></label>\n      <input id="signingLogoUploader2" type="file" nv-file-select uploader="emailLogoUploader"\n             class="oldBrowserCompatibleHiddenFileInput" />\n    </div>\n    <div class="text-info image-requirements"\n         olive-tooltip="brandLogoImageRequirements"\n         olive-tooltip-position="below center"\n         translate="Image Requirements"></div>\n    <div class="tooltip invisible" id="brandLogoImageRequirements">\n      <div class="tooltip-content" ng-include="\'branding/templates/brand-logo-requirements.html\'"></div>\n    </div>\n  </div>\n  <div class="colors-wrapper m-top-large" ng-switch="useNewSigning">\n    <h2 class="color-text" translate="Colors"></h2>\n    <div class="four-colors" ng-switch-when="true">\n      <div ng-repeat="color in colors" ng-if="color">\n        <div class="color-row">\n          \x3c!-- background --\x3e\n          <div class="color-preview outer" olive-tooltip title="{{ \'Edit color\' | translate }}"\n               ng-click="setCustomizeColor(color.background, $event)"\n               ng-style="{\'background-color\': displayingBrand.colors[color.background.fieldName]}">\n            <div class="inner" ng-class="color.background.name"></div>\n          </div>\n          <div class="color-label" translate="{{ color.background.label }}"></div>\n          <div class="icon icon-alert-triangle text-alert"\n               ng-show="color.background.showWarningIcon != null && color.background.showWarningIcon"></div>\n          <div class="contrast-error text-alert warning"\n               ng-show="color.background.showWarningText != null && color.background.showWarningText"\n               translate="This color is low contrast and may cause legibility issues."></div>\n        </div>\n        <div class="color-row">\n          \x3c!-- Text --\x3e\n          <div class="color-preview outer" olive-tooltip title="{{ \'Edit color\' | translate }}"\n               ng-click="setCustomizeColor(color.text, $event)"\n               ng-style="{\'background-color\': displayingBrand.colors[color.text.fieldName]}">\n            <div class="inner" ng-class="color.text.name"></div>\n          </div>\n          <div class="color-label" translate="{{ color.text.label }}"></div>\n          <div class="icon icon-alert-triangle text-alert"\n               ng-show="color.text.showWarningIcon != null && color.text.showWarningIcon"></div>\n          <div class="contrast-error text-alert warning"\n               ng-show="color.text.showWarningText != null && color.text.showWarningText"\n               translate="This color is low contrast and may cause legibility issues."></div>\n        </div>\n      </div>\n    </div>\n    <div class="eight-colors" ng-switch-when="false">\n      <div class="column-names">\n        <div class="column-background" translate="Background"></div>\n        <div class="column-text" translate="Text"></div>\n      </div>\n      <div class="color-row-2" ng-repeat="color in colors | orderBy:\'index\'">\n        <div class="color-label" translate="{{ color.label }}"></div>\n        <div class="color-preview outer background-color" olive-tooltip title="{{ \'Edit color\' | translate }}"\n             ng-click="setCustomizeColor(color.background, $event)"\n             ng-style="{\'background-color\': displayingBrand.colors[color.background.fieldName]}">\n          <div class="inner" ng-class="color.background.name"></div>\n        </div>\n        <div class="color-preview outer text-color" olive-tooltip title="{{ \'Edit color\' | translate }}"\n             ng-click="setCustomizeColor(color.text, $event)"\n             ng-style="{\'background-color\': displayingBrand.colors[color.text.fieldName]}">\n          <div class="inner" ng-class="color.text.name"></div>\n        </div>\n        <div class="contrast-error-wrapper text-alert"\n             ng-show="(color.background.showWarningIcon != null && color.background.showWarningIcon) || (color.text.showWarningIcon != null &&color.text.showWarningIcon)">\n          <span class="icon icon-alert-triangle"></span>\n          <span class="contrast-error text-alert warning"\n                translate="This color combination is low contrast and may cause legibility issues.">\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.factory("BrandConstants",["dsNotification","FileUploader","$translate","lodash",function(e,t,n,a){var i,s,o,r,l,c,d,u,p,m,g,h,f;return s={0:{label:"Header",background:{colorGroup:0,compareContrastWithField:"headerText",fieldName:"headerBackground",label:"Header Background",isTextColor:!1},text:{colorGroup:0,compareContrastWithField:"headerBackground",fieldName:"headerText",label:"Header Text",isTextColor:!0}},1:{label:"Primary Button",background:{colorGroup:1,label:"Button Background",fieldName:"buttonPrimaryBackground",compareContrastWithField:"buttonPrimaryText",isTextColor:!1},text:{colorGroup:1,label:"Button Text",fieldName:"buttonPrimaryText",compareContrastWithField:"buttonPrimaryBackground",isTextColor:!0}}},i={0:{label:"Page",background:{colorGroup:0,compareContrastWithField:"accentText",fieldName:"accentBackground",label:"Accent Background",isTextColor:!1},text:{colorGroup:0,compareContrastWithField:"accentBackground",fieldName:"accentText",label:"Accent Text",isTextColor:!0}},1:{label:"Header",background:{colorGroup:1,compareContrastWithField:"headerText",fieldName:"headerBackground",label:"Header Background",isTextColor:!1},text:{colorGroup:1,compareContrastWithField:"headerBackground",fieldName:"headerText",label:"Header Text",isTextColor:!0}},2:{label:"Action Buttons",background:{colorGroup:2,label:"Button Background",fieldName:"buttonPrimaryBackground",compareContrastWithField:"buttonPrimaryText",isTextColor:!1},text:{colorGroup:2,label:"Button Text",fieldName:"buttonPrimaryText",compareContrastWithField:"buttonPrimaryBackground",isTextColor:!0}},3:{label:"Primary Buttons",background:{colorGroup:3,fieldName:"buttonSecondaryBackground",compareContrastWithField:"buttonSecondaryText",isTextColor:!1},text:{colorGroup:3,fieldName:"buttonSecondaryText",compareContrastWithField:"buttonSecondaryBackground",isTextColor:!0}}},o=[{colors:{accentBackground:"#214e9f",accentText:"#ffffff",buttonPrimaryBackground:"#ffcc4a",buttonPrimaryText:"#333333",buttonSecondaryBackground:"#e2e2e2",buttonSecondaryText:"#666666",headerBackground:"#f2f2f2",headerText:"#999999"},landingPages:{},links:[],logos:{primary:null,email:null,lastLogoUpdate:(new Date).getTime()}},{colors:{buttonPrimaryBackground:"#ffc820",buttonPrimaryText:"#333333",headerBackground:"#214e9f",headerText:"#ffffff"},landingPages:{},links:[],logos:{primary:null,email:null,lastLogoUpdate:(new Date).getTime()}}],r=[{colors:{buttonPrimaryBackground:"#ffc820",buttonPrimaryText:"#333333",buttonSecondaryBackground:"#2c6ee1",buttonSecondaryText:"#ffffff",headerBackground:"#214e9f",headerText:"#ffffff"},logos:{primary:"/images/Logo-DS-White.svg?",lastLogoUpdate:(new Date).getTime()}}],h=/\.(jpg|jpeg|gif|png)/i,f=307200,u="The file size exceeds the 300KB limit. Please upload a smaller file.",d="The file format is not supported. Please upload a file that is a supported format - JPG, GIF, PNG.","The file is corrupt. Please upload a different version of this file.",{brandInformation:{accountId:null,accountSigningVersion:0,sendingBrand:null,signingBrand:null,isSigningBrandCustomized:!1,brandCompany:null,isOverridingCompanyName:!1},GetColors:function(e,t){return"Sending"===e?a.omit(i,["0"]):(null===t&&(t=0),t>0?s:i)},getBrandDefaultsForSigningVersion:l=function(e){return null===e||e<1?a.cloneDeep(o[0]):a.cloneDeep(o[1])},getBrandDefaultsForSendingVersion:c=function(){return a.cloneDeep(r[0])},getDefaultBrandColors:function(){return c().colors},applyBrandDefaults:function(e,t){var n,i;return null===t&&(t=0),n="Sending"===e.brandName?c():l(t),i=a.defaults(a.cloneDeep(e),n),a.defaults(i.colors,a.clone(n.colors)),i},isBrandIdenticalToDefaultBrand:function(e,t){var n;null===t&&(t=0);var i=e.isSendingDefault?c().colors:l(t).colors,s=a.keys(e.colors);return!a.isUndefined(e)&&!a.isNull(e)&&null===(null!==(n=e.logos)?n.primary:void 0)&&a.isEqual(a.pick(e.colors,s),i)},logo:{checkSizeIsValid:function(e){return e<=f},checkFileExtensionIsValid:function(e){return h.test(e)},createUploader:function(e){void 0===e&&(e=!0);var n=new t({autoUpload:e,removeAfterUpload:!0,filters:[{name:"File Extension",fn:function(e){return h.test(e.name)}},{name:"File Size",fn:function(e){return e.size<=f}}]});return n.onWhenAddingFileFailed=function(e,t){switch(t.name){case"File Extension":m();break;case"File Size":g()}},n.onErrorItem=function(){p()},n},showLogoSizeError:g=function(t){a.isEmpty(t)&&(t="alert"),e.show({msg:n.instant(u),type:t,modal:!0})},showLogoFormatError:m=function(t){a.isEmpty(t)&&(t="alert"),e.show({msg:n.instant(d),type:t,modal:!0})},showLogoCorruptError:p=function(t){a.isEmpty(t)&&(t="alert"),e.show({msg:n.instant("The file is corrupt. Please upload a different version of this file."),type:t,modal:!0})}},preview:{allowCustomization:!1,brand:null}}}])},function(e,t){var n="branding/resource-file-upload.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="UploadResourceFileController as uploadResource" ds-form>\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title">{{ uploadResource.title }}</h1>\n  </div>\n  <div class="modal_content" olive-modal-content>\n    <div class="section">\n      <div class="modal_utilityHeader">\n        <h4 translate="Upload XML"></h4>\n      </div>\n      <div class="section">\n        <div class="select-file" ng-if="!uploadResource.uploading">\n          <strong\n            translate="Important:"></strong>\n          <span\n            translate="Customizing resource files is an advanced branding configuration option which can significantly impact your account. Customizing resource files should be done only by someone with expertise in XML and HTML."></span>\n\n          <div class="form_unit" ng-show="!uploadResource.selectedFile.name">\n            <label for="uploadResource1" class="btn btn-secondary btn-file" data-qa="upload_resource_btn">\n              <span translate="{{uploadResource.selectFileAction}}"></span>\n              <input id="uploadResource1" type="file" type="file" accept=".xml" nv-file-select\n                     uploader="uploadResource.uploader">\n            </label>\n          </div>\n          <div ng-show="uploadResource.selectedFile.name" class="form_unit">\n            <div class="form_group form_group-unified uploaded">\n              <div class="form_item">\n                <input type="text" class="input-text" id="selectedFile" disabled="disabled"\n                       ng-model="uploadResource.selectedFile.name">\n              </div>\n              <label for="uploadResource2" class="btn btn-secondary btn-file" data-qa="transfer_now_add_csv_btn">\n                <span translate="{{uploadResource.selectFileAction}}"></span>\n                <input id="uploadResource2" type="file" type="file" accept=".xml" nv-file-select\n                       uploader="uploadResource.uploader">\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="text-center">\n      <div ds-loading="uploadResource.uploading" ds-progress-message="{{\'Uploading...\' | translate}}"></div>\n    </div>\n  </div>\n  <div class="modal_footer" olive-modal-footer>\n    <button class="btn btn-lg btn-primary" ng-disabled="!uploadResource.selectedFile" translate="Upload"\n            ng-click="uploadResource.upload()"></button>\n    <button class="btn btn-lg btn-minor" olive-modal-escape translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/group-brand-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="brands user-management site-main" ng-controller="BrandListController as brands">\n  <div class="user-management" ng-if="brands.loaded && brands.originalList.length > 0">\n    <div class="section">\n      <div class="fgrid action-row">\n        <div class="fgrid-cell u-float-left">\n          <h1 ng-if="brands.assignBrandToGroup"\n              translate="Assign Brands to [[groupName]]"\n              translate-interpolation="bracket"\n              translate-values="{groupName: brands.group.groupName}"></h1>\n        </div>\n        <div class="fgrid_cell u-float-right">\n          <ds-search-control searchable="brands" filterable="false"></ds-search-control>\n        </div>\n      </div>\n      <div class="fgrid action-row">\n        <div class="fgrid_cell">\n          <div class="action-btns u-float-left">\n            <button type="button" class="btn btn-secondary btn-md"\n                    ng-if="!brands.assignBrandToGroup"\n                    ng-click="brands.goToAssign()"\n                    translate="Assign Brands"></button>\n          </div>\n          <ds-page-controls pageable="brands"></ds-page-controls>\n        </div>\n      </div>\n    </div>\n    <table class="mgnt-list list-tbl mtbl" olive-table-select>\n      <thead>\n      <tr>\n        <th class="table_cell-checkbox" ng-if="brands.assignBrandToGroup">\n          <span class="cb cb-noText">\n              <input class="cb_input" type="checkbox" id="selectedUsers_selectAll"\n                     ng-checked="brands.isSelectAll()"\n                     ng-click="brands.toggleSelectAll()"\n                     ng-disabled="brands.disableSelectAll()" />\n              <label class="cb_label" for="selectedUsers_selectAll" translate="Select All"></label>\n          </span>\n        </th>\n        <th translate="Logo"></th>\n        <th translate="Brand Name"></th>\n        <th ng-if="!brands.assignBrandToGroup">&nbsp;</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-class="{\'table_row-selected\': brands.isBrandSelected(brand)}"\n          ng-repeat="brand in brands.list">\n        <td ng-if="brands.assignBrandToGroup">\n        <span class="cb cb-noText">\n            <input class="cb_input" type="checkbox" id="input_brand-{{$index}}"\n                   olive-table-select-row\n                   ng-checked="brands.isBrandSelected(brand)"\n                   ng-click="brands.toggleBrand(brand)"\n                   ng-disabled="brands.disableSelect(brand)" />\n            <label class="cb_label" for="input_brand-{{$index}}" translate="Select"></label>\n        </span>\n        </td>\n        <td>\n          <img ng-if="brand.logos.primary"\n               class="brand-logo"\n               translate-attr-alt="Signing Logo"\n               ng-src="{{ brand.logos.primary }}&{{ brand.logos.lastLogoUpdate }}">\n          <div ng-if="!brand.logos.primary">\n            <img class="brand-logo docusign-logo-blue-svg" src="/images/logo-docusign.svg#docusign">\n          </div>\n        </td>\n        <td>\n          <span class="truncate u-ellipsis">{{::brand.brandName}}</span>\n        </td>\n        <td ng-if="!brands.assignBrandToGroup">\n          <button type="button" class="btn btn-secondary u-float-right"\n                  ng-click="brands.removeFromGroup(brand)"\n                  translate="Remove"></button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <div class="section">\n      <div class="grid action-row">\n        <ds-page-controls pageable="brands" ng-if="brands.list.length > 0"></ds-page-controls>\n      </div>\n    </div>\n  </div>\n  <div class="emptyState" ng-if="brands.loaded && !brands.list.length && brands.submittedSearch">\n    <i class="icon icon-search emptyState_icon"></i>\n    <div class="emptyState_text">\n      <p ng-if="brands.submittedSearch"\n         translate="The search query \'[[searchQuery]]\' produced no results."\n         translate-interpolation="bracket"\n         translate-values="{searchQuery: brands.submittedSearch}"></p>\n    </div>\n  </div>\n  <div class="emptyState" ng-if="brands.loaded && !brands.originalList.length">\n    <div ng-if="!brands.assignBrandToGroup">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Brands"></h3>\n        <p ng-if="brands.originalList.length === 0" translate="There are no brands assigned to this group."></p>\n        <button type="button" class="btn btn-primary" ng-click="brands.goToAssign()" translate="Assign Brand"></button>\n      </div>\n    </div>\n    <div ng-if="brands.assignBrandToGroup">\n      <i class="icon icon-voided emptyState_icon"></i>\n      <div class="emptyState_text">\n        <h3 translate="No Brands"></h3>\n        <p ng-if="brands.originalList.length === 0" translate="You currently do not have any brands."></p>\n        <button type="button" class="btn btn-primary" translate="Add Brand" ng-click="brands.add(false)"></button>\n        <button type="button" class="btn btn-primary" translate="Import Brand" ng-click="brands.add(true)"></button>\n      </div>\n    </div>\n  </div>\n  <div ds-loading="brands.loading" ds-loading-succeeded="brands.loaded"\n       ds-loading-error="{{\'We had trouble loading group brands. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),i=function(){return function(){this.restrict="A",this.scope={onClose:"&tcpOnClose",onChange:"&tcpOnChange",onOffState:"=tcpShowAt"},this.controller=["$scope",function(e){e.colors=["#333333","#FFFFFF"]}],this.template='<div class="colors-wrapper"><div class="color-preview" ng-repeat="color in colors track by $index" ng-style="{\'background-color\': color}"><div class="inner" ng-attr-data-color="{{color}}"><i class="icon icon-completed selected u-text-lightgray" ng-attr-data-color="{{color}}" ng-show="color === selectedColor"></i></div></div></div>',this.link=function(e,t,n){var a=function(n){t.find(n.target).length||e.onClose()},i=function(e){t.css("top",e+"px"),t.css("display","block"),function(e){setTimeout(function(){return document.body.addEventListener("mouseup",e)},0)}(a)},s=function(){t.css("display","none"),function(e){document.body.removeEventListener("mouseup",e)}(a)};e.$watch("onOffState",function(t){var n=void 0===t?{show:!1,top:"0px",color:null}:t,a=n.show,o=n.top,r=n.color;if(a)return r&&(e.selectedColor=r),void i(o);s()}),t.on("click",function(t){e.selectedColor!==t.target.dataset.color&&(e.selectedColor=t.target.dataset.color,e.onChange({color:t.target.dataset.color})),s()})}}}();a.BrandsModule.directive("textColorPicker",[function(){return new i}])},function(e,t){var n="branding/delete-brand-confirmation.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="delete-brand-confirmation">\n  <div class="modal_header" olive-modal-header>\n    <h1 class="modal_title" translate="Confirm Delete Brand"></h1>\n  </div>\n\n  <div class="modal_content" olive-modal-content>\n    <p translate="Are you sure that you want to delete brand:"></p>\n    <p class="allow-word-break"><strong>{{ deleteBrandName }}</strong></p>\n  </div>\n\n  <div class="modal_footer" olive-modal-footer>\n    <button type="button" class="btn btn-primary btn-lg" data-qa=\'brands_deletion_modal_delete_btn\' translate="DS_CONTEXT=(brand) Delete" olive-modal-complete></button>\n    <button type="button" class="btn btn-lg btn-minor" data-qa=\'brands_deletion_modal_cancel_btn\' translate="Cancel" olive-modal-escape></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(13),s=n(7);s.RADminControllers.controller("PostSigningDestinations",["$scope","appUser","BrandConstants","dsAccountBranding","MergeFields","dsModals","oliveMessage","$translate","$q",function(e,t,n,s,l,c,d,u,p){function m(t,n){e.displayMergeFieldMenu=!1,$(".post-signing-modal textarea").attr("rows",r.default),t&&n&&t!==n&&a.element("button.menu_trigger-on").triggerHandler("click")}e.brand=i.cloneDeep(n.brandInformation.signingBrand),e.displayMergeFieldMenu=!1,l.getForAccount(t.getCurrentAccountId()).then(function(t){e.mergeFields=t.map(function(e){return e.name=e.isDefault?u.instant(e.name):e.name,e})}),e.pages=[{name:"Signing Completed",controlName:"signingComplete"},{name:"Viewed Exit",controlName:"viewingComplete"},{name:"Finish Later",controlName:"finishLater"},{name:"Decline",controlName:"decline"},{name:"Session Timeout",controlName:"sessionTimeout"},{name:"Authentication Failure",controlName:"failedAuthorization"}],e.enlarge=function(t){var n=$(o).data("target"),a=$(t.target).attr("name");m(n,a),$(t.target).attr("rows",r.active),$(o).data("target",a),$(t.target).after($(o)),e.displayMergeFieldMenu=!0},e.insertField=function(t){var n,a,i,s,r;r=$(o).data("target"),s=e.brand.landingPages[r],a=function(e){var t,n,a;t=0,"selectionStart"in e?t=e.selectionStart:"selection"in document&&(e.focus(),n=document.selection.createRange(),a=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),t=n.text.length-a);return t}($(".post-signing-modal [name="+r+"]").get(0)),n="[["+t.key+"]]",i=[s.slice(0,a),n,s.slice(a)].join(""),e.brand.landingPages[r]=i,setTimeout(function(){return function(e,t){var n;e.setSelectionRange?(e.focus(),e.setSelectionRange(t,t)):e.createTextRange&&((n=e.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())}($(".post-signing-modal [name="+r+"]").get(0),a+n.length)})},e.clearSelections=function(t){var n=i.find(e.pages,function(e){return t.target.name===e.controlName});n||(m(),e.displayMergeFieldMenu=!1)},e.save=function(){d.closeAll(),s.update(t.getCurrentAccountId(),e.brand).then(function(){n.brandInformation.signingBrand=e.brand,d.show({content:u.instant("Success! You have successfully configured your post-signing destinations."),type:"success"}),c.closeModal()}).catch(function(t){d.show({content:function(t){var n,a=t.match(/URI '(.*?)' specified for landing page '(.*?)' is invalid/i);if(a){var s=a[1],o=a[2],r=i.find(e.pages,function(e){return e.controlName===o}),l=u.instant(r.name),c=u.instant("The URI is not valid. The URI {{uri}} specified for landing page {{page}} is invalid.",{uri:s,page:l});$(".post-signing-modal [name="+o).addClass("has-error"),$(".post-signing-modal [for="+o).addClass("label-error"),n=c}else n=t;return n}(t.data.message),type:"alert",modal:!0})})}}]),s.RADminControllers.service("MergeFields",["dsApiClient",function(e){this.api=e,this.getForAccount=function(e){var t=this.api.endpoint().accounts(e).customFields().uri(),n=[{key:"EnvelopeId",name:"Envelope Id",isDefault:!0},{key:"RecipientEmail",name:"Recipient Email",isDefault:!0},{key:"RecipientName",name:"Recipient Name",isDefault:!0},{key:"RecipientCustomField1",name:"Recipient Custom Field 1",isDefault:!0},{key:"RecipientCustomField2",name:"Recipient Custom Field 2",isDefault:!0},{key:"RecipientCustomField3",name:"Recipient Custom Field 3",isDefault:!0}];return this.api.get(t).then(function(e){var t;return t=e.data.textCustomFields.concat(e.data.listCustomFields),n.concat(t.map(function(e){return{name:e.name,key:e.name,invalid:function(e){return!/^[\x00-\x7F]+$/.test(e)}(e.name)}}))})}}]);var o=".post-signing-modal #merge-fields-menu",r={default:1,active:3}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);n(1145);var i,s=n(7),o=function(e,t){return function(){return e.apply(t,arguments)}};i=function(){function e(e,t,n,i,s,r,l,c,d,u,p,m,g,h,f,v,_){var b,y=this;if(this.$scope=e,this.$stateParams=t,this.store=n,this.$q=i,this.$timeout=s,this.AccountBranding=l,this.BrandConstants=d,this.minicolors=p,this.dsNotification=m,this.removeLogo=o(this.removeLogo,this),this.uploadSigningLogoFromDropper=o(this.uploadSigningLogoFromDropper,this),this.uploadSigningLogo=o(this.uploadSigningLogo,this),this.initializeEyeDropper=o(this.initializeEyeDropper,this),this.calculateContrast=o(this.calculateContrast,this),this.selectMethod=o(this.selectMethod,this),this.closeSwatch=o(this.closeSwatch,this),this.setCustomizeColor=o(this.setCustomizeColor,this),this.closeTextColorPicker=o(this.closeTextColorPicker,this),this.setCustomizeTextColor=o(this.setCustomizeTextColor,this),this.renderHistory=o(this.renderHistory,this),this.updateHistory=o(this.updateHistory,this),this.updatePreview=o(this.updatePreview,this),this.updatePreviewFromEyeDropper=o(this.updatePreviewFromEyeDropper,this),this.updatePreviewFromPicker=o(this.updatePreviewFromPicker,this),this.updatePreviewFromTextColorPicker=o(this.updatePreviewFromTextColorPicker,this),this.updateLogo=o(this.updateLogo,this),this.applyColor=o(this.applyColor,this),this.checkContrast=o(this.checkContrast,this),this.getBrand=o(this.getBrand,this),this.saveBrand=o(this.saveBrand,this),this.revertToDefault=o(this.revertToDefault,this),this.oliveModal=g,this.$translate=h,this.log=_,e.preview=d.preview,e.emailLabel=this.$translate.instant("email"),e.signingLabel=this.$translate.instant("signing"),e.powerformLabel=this.$translate.instant("powerform"),e.powerformPreview={},e.useNewSigning=d.brandInformation.accountSigningVersion>0,e.isNewDropperImageAllowed=!f.isUndefined(window.FileReader)&&!f.isNull(window.FileReader),e.customizeColor=null,e.showSwatch=!1,e.initializedEyePicker=!1,e.customizeMethod="picker",e.setCustomizeColor=this.setCustomizeColor,e.closeTextColorPicker=this.closeTextColorPicker,e.setCustomizeTextColor=this.setCustomizeTextColor,e.selectMethod=this.selectMethod,e.initializeEyeDropper=this.initializeEyeDropper,e.uploadSigningLogo=this.uploadSigningLogo,e.uploadSigningLogoFromDropper=this.uploadSigningLogoFromDropper,e.updatePreviewFromPicker=this.updatePreviewFromPicker,e.updatePreviewFromTextColorPicker=this.updatePreviewFromTextColorPicker,e.updateHistory=this.updateHistory,e.applyColor=this.applyColor,e.calculateContrast=this.calculateContrast,e.colorHistoryList=[],e.checkContrast=this.checkContrast,e.closeSwatch=this.closeSwatch,e.saveBrand=this.saveBrand,e.revertToDefault=this.revertToDefault,e.removeLogo=this.removeLogo,e.displayingBrand=d.preview.brand,e.prevDisplayingBrandColors=d.preview.brand&&f.clone(d.preview.brand.colors),e.oliveBranding=v.Olive.branding,e.sameBrand=d.brandInformation.sendingBrand&&d.brandInformation.signingBrand&&d.brandInformation.sendingBrand.brandId===d.brandInformation.signingBrand.brandId,e.sameAsSendingBrand=e.displayingBrand&&d.brandInformation.sendingBrand&&d.brandInformation.sendingBrand.brandId===e.displayingBrand.brandId,e.isBrandLogoIdenticalToDefaultBrand=!!(e.displayingBrand&&e.displayingBrand.logos&&e.sameAsSendingBrand)&&d.getBrandDefaultsForSendingVersion().logos.primary===e.displayingBrand.logos.primary,e.colors=e.sameAsSendingBrand?f.cloneDeep(d.GetColors("Sending")):f.cloneDeep(d.GetColors("Signing",d.brandInformation.accountSigningVersion)),e.primaryLogoUploader=this.createLogoUploader("primary"),e.emailLogoUploader=this.createLogoUploader("email"),e.dropperLogoUploader=this.createLogoUploader("dropper"),e.showPowerformPreview=r.featureFlags.enablePowerFormPreview&&c.currentAccountInfo.settings.enablePowerForm&&"admin"===c.currentAccountInfo.userInformation.userSettings.powerFormMode,d.preview.allowCustomization){var A=[];a.forEach(e.colors,function(t,n){if(e.displayingBrand.colors[t.text.fieldName]&&e.displayingBrand.colors[t.background.fieldName])return e.colorHistoryList.push(e.displayingBrand.colors[t.text.fieldName]),e.checkContrast(t.text,!0),e.colorHistoryList.push(e.displayingBrand.colors[t.background.fieldName]),e.checkContrast(t.background,!0);A.push(n)}),f.each(A,function(t){delete e.colors[t]}),this.store.colorHistory=e.colorHistoryList,e.lastLogoUpdate=(new Date).getTime(),e.hasPrimaryLogo=!(!e.displayingBrand.logos||!e.displayingBrand.logos.primary),e.hasEmailLogo=!(!e.displayingBrand.logos||!e.displayingBrand.logos.email),e.$watch("customizeColor",this.updatePreview)}function S(e,t){var n=e&&e.find(t);return n&&n[0]&&n[0].textContent}null!==e.displayingBrand&&(b=f.cloneDeep(e.displayingBrand.colors),e.cancelChanges=function(){e.displayingBrand.colors=b}),e.sameAsSendingBrand||!e.showPowerformPreview||!e.displayingBrand||e.displayingBrand&&!e.displayingBrand.brandId?this.setPreviewResources(null):u.getResourceFileByType(e.displayingBrand&&e.displayingBrand.brandId,"signing").then(function(e){try{var t=v.jQuery(e),n={dialogTitle:S(t,'data[name="PowerForm_DialogTitle"]'),buttonLabel:S(t,'data[name="PowerForm_BeginSigning"]'),nameEmailDirective:S(t,'data[name="PowerForm_EnterNameAndEmail"]'),name:S(t,'data[name="PowerForm_Name"]'),email:S(t,'data[name="PowerForm_Email"]'),role:S(t,'data[name="PowerForm_Role"]'),roleIdentifier:S(t,'data[name="PowerForm_YourSpace"]'),provideSignerInfoDirective:S(t,'data[name="PowerForm_ProvideSignerInformation"]')};y.setPreviewResources(n)}catch(e){y.setPreviewResources(null)}}).catch(function(e){y.setPreviewResources(null)})}function t(e){var t=this.$q.defer();return e.onSuccess=function(e,n,a){t.resolve({response:e,status:n,headers:a})},e.onError=function(e,n,a){t.reject({response:e,status:n,headers:a})},t.promise}return e.prototype.setPreviewResources=function(e){this.$scope.powerformPreview.title=e&&e.dialogTitle||this.$translate.instant("Enter Signer Information"),this.$scope.powerformPreview.buttonLabel=e&&e.buttonLabel||this.$translate.instant("Begin Signing"),this.$scope.powerformPreview.nameEmailDirective=e&&e.nameEmailDirective||this.$translate.instant("Enter your name and email to begin signing."),this.$scope.powerformPreview.provideSignerInfoDirective=e&&e.provideSignerInfoDirective||this.$translate.instant("Please provide information for any other signers needed for this document."),this.$scope.powerformPreview.primarySignerRole=e&&e.role&&i(e.role,":")||this.$translate.instant("Some Role");var t=e&&e.name&&i(e.name,":"),n=e&&e.email&&i(e.email,":"),a=e&&e.roleIdentifier?e.roleIdentifier:"";function i(e,t){return e&&e.substring(e.length-1)===t?e.substring(0,e.length-1):e}this.$scope.powerformPreview.primarySignerName=t?a+t:this.$translate.instant("Your Name"),this.$scope.powerformPreview.primarySignerEmail=n?a+n:this.$translate.instant("Your Email"),this.$scope.powerformPreview.name=t||this.$translate.instant("Name"),this.$scope.powerformPreview.email=n||this.$translate.instant("Email")},e.prototype.getBrandStyles=function(){var e={image:this.$scope.displayingBrand.logos.primary,buttonMainBackground:this.$scope.displayingBrand.colors.buttonPrimaryBackground,buttonMainText:this.$scope.displayingBrand.colors.buttonPrimaryText,buttonPrimaryBackground:this.$scope.displayingBrand.colors.buttonSecondaryBackground,buttonPrimaryText:this.$scope.displayingBrand.colors.buttonSecondaryText,headerBackground:this.$scope.displayingBrand.colors.headerBackground,headerText:this.$scope.displayingBrand.colors.headerText},t=this.$scope.oliveBranding.getConfig(e),n=this.$scope.oliveBranding.getPageClasses(t);$("html").addClass(n.join(" ")),this.brandedStyles=this.$scope.oliveBranding.getStyles(t),$("<div />",{html:"<style>"+this.brandedStyles+"</style>"}).appendTo("#sending-branding-preview")},e.prototype.revertToDefault=function(){var e={title:this.$translate.instant("Reset to Default?"),text:this.$translate.instant("Are you sure you want to discard your current customizations and reset the Sending brand to the DocuSign Default?"),completeLabel:this.$translate.instant("Reset"),escapeLabel:this.$translate.instant("Cancel"),completeFunction:function(){var e=this,t=this;this.removeLogo("primary"),this.removeLogo("email"),Object.keys(this.$scope.displayingBrand.colors).forEach(function(e){t.$scope.displayingBrand.colors[e]=""});var n=this.saveBrandPromise();this.oliveModal.closeAllModals(),n.then(function(){return e.dsNotification.show({msg:e.$translate.instant("You have successfully reverted to default branding."),type:"success"}),e.$scope.isSigningBrandDefault&&e.$scope.isSigningBrandDefault()},function(){e.dsNotification.show({msg:e.$translate.instant("Something has gone wrong. Please try again."),type:"alert"})})}.bind(this)};this.oliveModal.confirmationModal(e)},e.prototype.saveBrandPromise=function(){var e=this,n=this,a=function(e){var a=n.$scope.displayingBrand.logos[e+"Item"];return delete n.$scope.displayingBrand.logos[e+"Item"],delete n.$scope.displayingBrand.logos[e+"Src"],t.call(n,a)},i={};if(n.$scope.displayingBrand.logos.primaryItem){var s=n.$scope.displayingBrand.logos.primaryItem;i.primary=a("primary"),s.upload()}else n.$scope.displayingBrand.logos.primary||(i.primary=n.AccountBranding.removeLogo(n.BrandConstants.brandInformation.accountId,n.$scope.displayingBrand.brandId,"primary"));if(n.$scope.displayingBrand.logos.emailItem){s=n.$scope.displayingBrand.logos.emailItem;i.email=a("email"),s.upload()}else n.$scope.displayingBrand.logos.email||(i.email=n.AccountBranding.removeLogo(n.BrandConstants.brandInformation.accountId,n.$scope.displayingBrand.brandId,"email"));return _.isEqual(this.$scope.prevDisplayingBrandColors,this.$scope.displayingBrand.colors)||(_.forEach(this.$scope.displayingBrand.colors,function(t,n){e.$scope.displayingBrand.colors[n]=t.trim()}),i.colors=this.AccountBranding.update(this.BrandConstants.brandInformation.accountId,this.$scope.displayingBrand)),n.$q.all(i).then(function(e){return n.dsNotification.closeBy("type","alert"),n.getBrand(n.$scope.displayingBrand.brandId).then(function(e){n.$scope.sameAsSendingBrand&&(n.$scope.brandInformation.sendingBrand.colors=_.defaults(_.clone(e.colors||{}),n.BrandConstants.getBrandDefaultsForSendingVersion().colors)),n.updateLogo(e)})})},e.prototype.saveBrand=function(){this.saveBrandPromise().then(function(e){return function(){return e.dsNotification.show({msg:e.$translate.instant("You have successfully customized branding."),type:"success"}),e.$scope.isSigningBrandDefault&&e.$scope.isSigningBrandDefault()}}(this),function(e){return function(t){return e.log.sendLog("An error occurred when saving customized brand - "+e.$scope.displayingBrand.brandId,t),e.dsNotification.show({msg:e.$translate.instant("Something has gone wrong. Please try again."),type:"alert"})}}(this))},e.prototype.checkContrast=function(e,t){var n,a,i,s,o;i=this.BrandConstants.isBrandIdenticalToDefaultBrand(this.$scope.displayingBrand,this.BrandConstants.brandInformation.accountSigningVersion),n=this.calculateContrast(this.$scope.displayingBrand.colors[e.fieldName]),s=this.calculateContrast(this.$scope.displayingBrand.colors[e.compareContrastWithField]),a=e,o=e.isTextColor?this.$scope.colors[e.colorGroup].background:this.$scope.colors[e.colorGroup].text,i?a.showWarningText=a.showWarningIcon=o.showWarningText=o.showWarningIcon=!1:null!==n&&null!==s&&null!==a&&null!==o&&(n===s?(a.showWarningText=!t,a.showWarningIcon=o.showWarningIcon=!0):a.showWarningText=a.showWarningIcon=o.showWarningText=o.showWarningIcon=!1)},e.prototype.applyColor=function(e){$("#picker").minicolors("value",e)},e.prototype.updatePreviewFromPicker=function(){this.$scope.customizeColor=$("#picker").val()},e.prototype.updatePreviewFromEyeDropper=function(e){this.$scope.customizeColor=e},e.prototype.updatePreview=function(){if(_.isObject(this.$scope.currentCustomizeColor)&&this.$scope.displayingBrand.colors[this.$scope.currentCustomizeColor.fieldName]!==this.$scope.customizeColor){if(this.$scope.displayingBrand.colors[this.$scope.currentCustomizeColor.fieldName]=this.$scope.customizeColor,this.$scope.sameAsSendingBrand&&-1===this.$scope.currentCustomizeColor.fieldName.indexOf("Text")){var e="black"===this.calculateContrast(this.$scope.customizeColor)?"#333333":"#FFFFFF";this.$scope.displayingBrand.colors[this.$scope.currentCustomizeColor.compareContrastWithField]=e}this.checkContrast(this.$scope.currentCustomizeColor,!1)}this.getBrandStyles()},e.prototype.parseHex=function(e,t){return 3!==(e=e.replace(/[^A-F0-9]/g,"")).length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e)},e.prototype.updateHistory=function(e){13===e.keyCode&&(this.$scope.customizeColor=this.parseHex(this.$scope.customizeColor,!0),this.$scope.colorHistoryList.push(this.$scope.customizeColor),this.$scope.colorHistoryList.length>20&&(this.$scope.colorHistoryList=_.last(this.$scope.colorHistoryList,20)),this.store.colorHistory=this.$scope.colorHistoryList,this.closeSwatch())},e.prototype.renderHistory=function(){var e;null!==(e=this.store.colorHistory)&&(this.$scope.colorHistoryList=e)},e.prototype.updatePreviewFromTextColorPicker=function(e){this.$scope.customizeColor=e},e.prototype.closeTextColorPicker=function(){this.$scope.textColorPicker={show:!1}},e.prototype.setCustomizeTextColor=function(e,t){this.$scope.currentCustomizeColor=e;var n=$(t.target),a=$(".swatch-wrapper.text-color-picker");if(n.hasClass("selected")&&a.is(":visible"))return this.closeTextColorPicker(),!1;$(".color-preview .inner.selected").removeClass("selected"),n.addClass("selected");var i=n.position().top-43-n.height()/2;this.$scope.customizeColor=this.$scope.displayingBrand.colors[e.fieldName],this.$scope.textColorPicker={show:!0,top:i,color:this.$scope.displayingBrand.colors[e.fieldName]}},e.prototype.setCustomizeColor=function(e,t){var n,a,i,s,o;return this.$scope.currentCustomizeColor=e,this.$scope.customizeColor=this.$scope.displayingBrand.colors[e.fieldName],s=$(".swatch-wrapper.background-color-picker"),(a=$(t.target)).hasClass("selected")&&s.is(":visible")?(this.closeSwatch(),!1):($(".color-preview .inner.selected").removeClass("selected"),a.addClass("selected"),$('.color-preview .inner:not(".selected")').parent().siblings(".contrast-error:visible").hide(),a.parent().siblings(".icon-alert-triangle").is(":visible")&&a.parent().siblings(".contrast-error").show(),!1===this.$scope.useNewSigning&&(i=a.parent(".outer"),n=s.find(".arrow-with-border"),i.hasClass("background-color")?n.removeClass("text-color").addClass("background-color"):i.hasClass("text-color")&&n.removeClass("background-color").addClass("text-color")),o=a.position().top-s.height()-a.height()/2,s.css("top",o+"px"),$("#picker").minicolors("value",this.$scope.customizeColor),this.$scope.showSwatch=!0,this.renderHistory(),t.stopImmediatePropagation())},e.prototype.closeSwatch=function(e){_.isEmpty(e)?e=$(".swatch-wrapper.background-color-picker"):e.is(":visible")&&(this.selectMethod("picker"),this.$scope.hasDropperLogoSelected=!1),this.$scope.showSwatch=!1},e.prototype.selectMethod=function(e){this.$scope.customizeMethod=e},e.prototype.calculateContrast=function(e){var t=e.match(/^#?(.*)/).pop();return parseInt(t,16)>8388607.5?"black":"white"},e.prototype.initializeEyeDropper=function(){var e,t,n,a,i,s,o,r,l,c,d,u,p;this.$scope.selectMethod("dropper"),(this.$scope.hasEmailLogo||this.$scope.hasPrimaryLogo||this.$scope.hasDropperLogoSelected)&&(e=$("#logo"),(s=this.$scope.hasDropperLogoSelected?$("#hiddenDifferentLogo"):$("#hiddenLogo")).length>0&&(s=s.get(0)),a=parseInt(e.attr("width")),n=parseInt(e.attr("height")),p=s.naturalWidth/a,i=s.naturalHeight/n,u=1/_.max([p,i]),c=(a-(r=s.naturalWidth*u))/2,d=(n-(o=s.naturalHeight*u))/2,(t=e.get(0).getContext("2d")).clearRect(0,0,a,n),t.drawImage(s,c,d,r,o),l={onColorChange:function(e){return function(t){return e.$scope.$apply(function(){return e.updatePreviewFromEyeDropper(t)})}}(this)},e.imageLens(l),this.$scope.initializedEyePicker=!0)},e.prototype.getBrand=function(e){return this.AccountBranding.getBrand(this.BrandConstants.brandInformation.accountId,e,!0)},e.prototype.updateLogo=function(e){return e.logos?e.logos.lastLogoUpdate=(new Date).getTime():e.logos={},this.$scope.displayingBrand.logos.primary=e.logos.primary,this.$scope.displayingBrand.logos.email=e.logos.email,this.$scope.displayingBrand.logos.lastLogoUpdate=e.logos.lastLogoUpdate,this.$scope.sameAsSendingBrand&&(_.defaults(e.logos,this.BrandConstants.getBrandDefaultsForSendingVersion().logos),this.$scope.brandInformation.sendingBrand.logos=_.clone(e.logos)),this.$scope.sameBrand&&(this.$scope.brandInformation.sendingBrand.logos.primary=e.logos.primary),null},e.prototype.createLogoUploader=function(e){var n=this,a="dropper"!==e&&!n.$scope.sameAsSendingBrand,i=n.BrandConstants.logo.createUploader(a);return i.isEmptyAfterSelection=function(){return!0},"dropper"!==e?a?i.onBeforeUploadItem=function(a){a.url=n.AccountBranding.generateLogoUploadUri(n.BrandConstants.brandInformation.accountId,n.$scope.displayingBrand.brandId,e),a.removeAfterUpload=!1,t.call(n,a).then(function(){if(_.isEmpty(n.$scope.displayingBrand.logos.primary)||_.isEmpty(n.$scope.displayingBrand.logos.email))return n.dsNotification.closeBy("type","alert"),n.getBrand(n.$scope.displayingBrand.brandId).then(n.updateLogo)}).then(function(){"primary"===e?n.$scope.hasPrimaryLogo=!0:"email"===e&&(n.$scope.hasEmailLogo=!0)})}:i.onAfterAddingFile=function(t){t.url=n.AccountBranding.generateLogoUploadUri(n.BrandConstants.brandInformation.accountId,n.$scope.displayingBrand.brandId,e),t.removeAfterUpload=!1;var a=new FileReader;return a.onload=function(){n.$scope.$apply(function(){n.$scope.displayingBrand.logos[e]=null,n.$scope.displayingBrand.logos[e+"Src"]=a.result,n.$scope.displayingBrand.logos[e+"Item"]=t,"primary"===e?n.$scope.hasPrimaryLogo=!0:"email"===e&&(n.$scope.hasEmailLogo=!0)})},a.readAsDataURL($("#"+e+"LogoUploader")[0].files[0])}:i.onAfterAddingFile=this.uploadSigningLogoFromDropper,i},e.prototype.uploadSigningLogo=function(e){var t,n;if(t=e[0],!_.isUndefined(t.size)&&!this.BrandConstants.logo.checkSizeIsValid(t.size))return this.BrandConstants.logo.showLogoSizeError("alert"),this.$q.reject(this.$translate.instant("File exceeds size restrictions"));if(!this.BrandConstants.logo.checkFileExtensionIsValid(t.name))return this.BrandConstants.logo.showLogoFormatError("alert"),this.$q.reject(this.$translate.instant("File is not a supported format"));var a=this;return(n=this.AccountBranding.uploadLogo(this.BrandConstants.brandInformation.accountId,this.$scope.displayingBrand.brandId,"primary",t).then(function(){return a.AccountBranding.uploadLogo(a.BrandConstants.brandInformation.accountId,a.$scope.displayingBrand.brandId,"email",t)})).then(function(e){return function(){e.$scope.lastLogoUpdate=(new Date).getTime(),e.$scope.lastSigningLogoUpdate=e.$scope.lastLogoUpdate,e.$scope.hasLogo=!0}}(this)),this.$scope.displayingBrand.logos.primary&&this.$scope.displayingBrand.logos.email?n:n.then(function(e){return e.AccountBranding.getBrand(e.BrandConstants.brandInformation.accountId,e.$scope.displayingBrand.brandId,!0).then(function(t){e.$scope.displayingBrand.logos.primary=t.logos.primary,e.$scope.displayingBrand.logos.email=t.logos.email})}(this),function(e){return function(){return e.BrandConstants.logo.showLogoCorruptError("alert"),e.$q.reject(this.$translate.instant("File is corrupt or otherwise unusable"))}}(this))},e.prototype.uploadSigningLogoFromDropper=function(e){var t;if(e.file){var n=$("#dropperImageUpload")[0].files;return(t=new FileReader).onload=function(e){return function(){return e.$scope.$apply(function(){return e.$scope.hasDropperLogoSelected=!0,$("#hiddenDifferentLogo").attr("src",t.result),e.$timeout(e.initializeEyeDropper,0)})}}(this),t.readAsDataURL(n[0])}},e.prototype.removeLogo=function(e){var t;return(t=this.$scope.sameAsSendingBrand?this.$q.when(null):this.AccountBranding.removeLogo(this.BrandConstants.brandInformation.accountId,this.$scope.displayingBrand.brandId,e)).then(function(t){"primary"===e?t.$scope.hasPrimaryLogo=!1:"email"===e&&(t.$scope.hasEmailLogo=!1),t.$scope.displayingBrand.logos[e]=null,delete t.$scope.displayingBrand.logos[e+"Item"],delete t.$scope.displayingBrand.logos[e+"Src"],t.$scope.sameAsSendingBrand||(t.$scope.sameAsSendingBrand&&t.$scope.brandInformation.sendingBrand.logos&&(t.$scope.brandInformation.sendingBrand.logos[e]=null),t.$scope.sameBrand&&t.$scope.brandInformation.sendingBrand.logos&&(t.$scope.brandInformation.sendingBrand.logos[e]=null)),t.dsNotification.closeBy("type","alert")}(this)),t},e}(),s.RADminControllers.controller("CustomizeThemeModalController",["$scope","$stateParams","$sessionStorage","$q","$timeout","configuration","dsAccountBranding","appUser","BrandConstants","BrandService","minicolors","dsNotification","oliveModal","$translate","lodash","$window","RADminErrorLogger",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(106),s=function(e,t){return function(){return e.apply(t,arguments)}},o=function(){function e(e,t,n,a,o,r,l,c,d,u,p,m,g,h,f,v,_){var b,y=this;this.$scope=e,this.$rootScope=t,this.$stateParams=n,this.$state=a,this.$q=o,this.Auth=r,this.BrandConstants=l,this.dsNotification=f,this.$translate=v,this.AccountBranding=c,this.AccountSettings=d,this._brandService=h,this._oliveModal=_,this._=m,this.$scope.loading=null,this.removeSendingLogo=s(this.removeSendingLogo,this),this.uploadSendingLogo=s(this.uploadSendingLogo,this),this.ensureAndGetDefaultBrands=s(this.ensureAndGetDefaultBrands,this),this.openModal=s(this.openModal,this),this.resetToDocuSignTheme=s(this.resetToDocuSignTheme,this),this.isSigningBrandDefault=s(this.isSigningBrandDefault,this),this.save=this.save.bind(this),this.cancel=this.cancel.bind(this),this.validateBrandName=this.validateBrandName.bind(this),e.openModal=this.openModal,e.uploadSendingLogo=this.uploadSendingLogo,e.removeSendingLogo=this.removeSendingLogo,e.currentPreview="signing",e.isSigningBrandDefault=this.isSigningBrandDefault,e.resetToDocuSignTheme=this.resetToDocuSignTheme,e.showAdvancedSettings=!1,e.brandNames=[],e.save=this.save,e.cancel=this.cancel,e.validateBrandName=this.validateBrandName,e.brandInformation=l.brandInformation,e.brandInformation.accountId=r.getCurrentAccountId(),e.sendingLogoUploader=this.createSendingLogoUploader(),(b=d.getSettings(r.getCurrentAccountId()).then(function(e){l.brandInformation.accountSigningVersion=parseInt(e.signingUiVersion),y.$scope.showAdvancedSetting=e.allowResourceFileBranding})).then(function(){e.isAccountUsingNewSigning=l.brandInformation.accountSigningVersion>0});var A=this.$stateParams.brandId;this._.isEmpty(A)||(this.$scope.isNewBranding=!0,b.then(function(){var t={brandsPage:h.getBrands({include_logos:!1}),brand:h.getBrandById(A,!0,!0)};y.$scope.loading=y.$q.all(t).then(function(t){var n=t.brand;y._.remove(t.brandsPage.brands,{brandId:n.brandId}),y._.map(t.brandsPage.brands,"brandName").forEach(function(t){t=t||"",e.brandNames.push(t.toLowerCase())}),y.$scope.brandInformation.signingBrand=l.applyBrandDefaults(n,l.brandInformation.accountSigningVersion),e.hasSigningLogo=function(){return!!e.brandInformation.signingBrand.logos.primary},e.hasEmailLogo=function(){return!!e.brandInformation.signingBrand.logos.email},e.brandInformation.signingBrand.logos.lastLogoUpdate=(new Date).getTime(),e.isSigningBrandDefault(),e.original=y._.cloneDeep(l.brandInformation.signingBrand)})})),!this.$scope.isNewBranding&&g.canManageBranding()&&(this.$scope.loading=this.ensureAndGetDefaultBrands(r.getCurrentAccountId()).then(function(t){return b.then(function(){e.brandInformation.sendingBrand=l.applyBrandDefaults(t.sending,l.brandInformation.accountSigningVersion),e.brandInformation.signingBrand=l.applyBrandDefaults(t.signing,l.brandInformation.accountSigningVersion),e.hasSendingLogo=function(){return!!e.brandInformation.sendingBrand.logos.primary},e.hasSigningLogo=function(){return!!e.brandInformation.signingBrand.logos.primary},e.hasEmailLogo=function(){return!!e.brandInformation.signingBrand.logos.email},e.brandInformation.sendingBrand.logos.lastLogoUpdate=(new Date).getTime(),e.brandInformation.signingBrand.logos.lastLogoUpdate=(new Date).getTime(),e.isSigningBrandDefault(),e.original=this._.cloneDeep(l.brandInformation.signingBrand)})})),e.imagesource="../images/branding_fw_grey.png",e.hoverImg=function(){e.imagesource="../images/branding_fw_hover.png"},e.defaultImg=function(){e.imagesource="../images/branding_fw_grey.png"},e.openVideo=function(){_.openModal({scope:e,size:"lg",name:"branding-feature-wall-video-open-modal",templateUrl:"branding/branding-feature-wall-video-open-modal.html",destroyOnClose:!1})},e.openDrawer=this.openDrawer,e.redirectToDotComBilling=function(e,t){var n;"upgrade"===e&&(n=i.MagentoBillingAction.upgrade),this._.isUndefined(n)||u.createMagentoUri(r.getCurrentAccountId(),n,p.location.href,t).then(function(e){p.location.href=e})},e.isAdmin=r.currentAccountInfo.userInformation.isAdmin,e.isBrandingUpsell=g.canUpsellBranding()}var t={brandName:"Sending",isSendingDefault:!0},n={brandName:"Signing",isSigningDefault:!0};return e.prototype.isSigningBrandDefault=function(){return this.$scope.isSigningBrandCustomized=!this.BrandConstants.isBrandIdenticalToDefaultBrand(this.$scope.brandInformation.signingBrand,this.BrandConstants.brandInformation.accountSigningVersion),this.$scope.isSigningBrandCustomized},e.prototype.resetToDocuSignTheme=function(){var e;return this.$scope.brandInformation.signingBrand.isSigningDefault=!1,e=this.Auth.getCurrentAccountId(),this.AccountBranding.update(e,this.$scope.brandInformation.signingBrand).then(function(t){return function(){return t.AccountBranding.remove(e,t.$scope.brandInformation.signingBrand.brandId).then(function(){return t.AccountBranding.create(e,n).then(function(e){return t.$scope.brandInformation.signingBrand=t.BrandConstants.applyBrandDefaults(e,t.BrandConstants.brandInformation.accountSigningVersion),t.$scope.brandInformation.signingBrand.logos.lastLogoUpdate=(new Date).getTime(),t.$scope.isSigningBrandDefault()})})}}(this))},e.prototype.openModal=function(e){this.BrandConstants.preview.allowCustomization=e,this.BrandConstants.preview.brand=e?this.BrandConstants.brandInformation.signingBrand:null},e.prototype.ensureAndGetDefaultBrands=function(e){var n,a,i;return n=(i=this.AccountBranding.getForAccount(e,!1,!0)).then(function(n){return function(a){var i;return i=this._.find(a,"isSendingDefault"),this._.isUndefined(i)?n.AccountBranding.create(e,t):n.AccountBranding.getBrand(e,i.brandId,!0,!0)}}(this)),a=i.then(function(t){return function(n){var a;if(a=this._.find(n,"isSigningDefault"),!this._.isUndefined(a))return t.AccountBranding.getBrand(e,a.brandId,!0,!0)}}(this)),this.$q.all({sending:n,signing:a}).then(function(e){return function(t){return t.sending.brandId===t.signing.brandId&&(e.$scope.sameBrand=!0),t}}(this))},e.prototype.createSendingLogoUploader=function(){var e=this,t=e.BrandConstants.logo.createUploader(!0);return t.isEmptyAfterSelection=function(){return!0},t.onBeforeUploadItem=function(t){t.url=e.AccountBranding.generateLogoUploadUri(e.Auth.getCurrentAccountId(),e.$scope.brandInformation.sendingBrand.brandId,"primary"),function(t){var n=e.$q.defer();return t.onSuccess=function(e,t,a){n.resolve({response:e,status:t,headers:a})},t.onError=function(e,t,a){n.reject({response:e,status:t,headers:a})},n.promise}(t).then(function(){if(this._.isEmpty(e.$scope.brandInformation.sendingBrand.logos.primary))return e.AccountBranding.getBrand(e.Auth.getCurrentAccountId(),e.$scope.brandInformation.sendingBrand.brandId,!0).then(function(t){e.$scope.brandInformation.sendingBrand.logos.primary=t.logos.primary,e.$scope.sameBrand&&(e.$scope.brandInformation.signingBrand.logos.primary=t.logos.primary)})}).then(function(){e.$scope.brandInformation.sendingBrand.logos.lastLogoUpdate=(new Date).getTime(),e.$scope.brandInformation.signingBrand.logos.lastLogoUpdate=(new Date).getTime()})},t},e.prototype.removeSendingLogo=function(){var e=this.AccountBranding.removeLogo(this.Auth.getCurrentAccountId(),this.$scope.brandInformation.sendingBrand.brandId,"primary");return e.then(function(e){return function(){return e.$scope.brandInformation.sendingBrand.logos.primary=null,e.$scope.sameBrand&&(e.$scope.brandInformation.signingBrand.logos.primary=null),e.$rootScope.$broadcast("SendingLogoChanged")}}(this)),e},e.prototype.validateBrandName=function(e){return this.$scope.brandNameRequired=!1,this.$scope.brandNameError=!1,this._.isEmpty(e)?(this.$scope.brandNameRequired=!0,!1):!(this._.indexOf(this.$scope.brandNames,e.toLowerCase())>-1)||(this.$scope.brandNameError=!0,!1)},e.prototype.save=function(){this.AccountBranding.update(this.BrandConstants.brandInformation.accountId,this.BrandConstants.brandInformation.signingBrand).then(function(e){return function(t){return e.$scope.original=e._.cloneDeep(t),e.brandForm.$setPristine(),e.dsNotification.show({msg:e.$translate.instant("You have successfully customized branding."),type:"success"}),e.$scope.isSigningBrandDefault()}}(this),function(e){return function(){return e.dsNotification.show({msg:e.$translate.instant("Something has gone wrong. Please try again."),type:"alert"})}}(this))},e.prototype.cancel=function(){this.BrandConstants.brandInformation.signingBrand=this._.cloneDeep(this.$scope.original),this.brandForm.$setPristine()},e}();a.RADminControllers.controller("BrandingController",["$scope","$rootScope","$stateParams","$state","$q","appUser","BrandConstants","dsAccountBranding","dsAccount","RADminApiClient","$window","lodash","userPermissions","BrandService","dsNotification","$translate","oliveModal",o])},function(e,t){var n="branding/branding-feature-wall-video-open-modal.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div>\n    <div class="modal_header" olive-modal-header>\n        <h1 class="modal_title" translate="More time to run your business with BulkSend"></h1>\n    </div>\n    <div class="modal_content">\n        <div class="videoContainer">\n            <iframe src="https://www.youtube.com/embed/XLi6h02VpyU/?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe>\n        </div>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/brand-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="brands" ng-controller="BrandListController as brands">\n  <div class="section-header">\n    <h1 class="header-title" translate="Brands"></h1>\n    <div class="header-description"\n         translate="Manage the brands associated with your account. Define multiple signing brands and set a default. Brand your DocuSign account with a custom logo."></div>\n  </div>\n  <div class="tabs-wrap">\n    <ul class="tabs" olive-tabset="brandingTabs">\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="signing" translate="Signing"></a>\n      </li>\n      <li class="tab-wrap">\n        <a class="tab" olive-tab-id="sending" translate="Sending"></a>\n      </li>\n    </ul>\n  </div>\n  <div class="section">\n    <div olive-tabset-parent="brandingTabs" olive-tab-id="signing">\n      <div ng-if="brands.loaded && brands.originalList.length > 0">\n        <div class="fgrid">\n          <div class="fgrid_cell"><h2 class="header-title" translate="Customize What Recipients See"></h2></div>\n          <div class="fgrid_cell u-float-right">\n            <ds-search-control searchable="brands" filterable="false"></ds-search-control>\n          </div>\n        </div>\n        <div class="header-actions fgrid-gutters">\n          <div class="action-btns u-float-left">\n            <button type="button" class="btn btn-secondary btn-md" data-qa="brands_add_signing_brand_btn"\n                    translate="Add Brand" ng-click="brands.add(false)" ng-if="brands.canAddBrand()"></button>\n            <button type="button" class="btn btn-secondary btn-md" data-qa="brands_upload_signing_brand_btn"\n                    translate="Upload Brand" ng-click="brands.add(true)" ng-if="brands.canManageMultipleBrands"></button>\n          </div>\n          <div class="switch-to-grid">\n            <button class="btn btn-minor btn-icon" data-qa="brands_view_toggle_btn" ng-click="brands.switchView()">\n              <i class="icon" ng-class="{\'icon-waffle\': brands.viewPreference === \'table\', \'icon-list\': brands.viewPreference === \'block\'}"></i>\n            </button>\n          </div>\n          <ds-page-controls pageable="brands"></ds-page-controls>\n        </div>\n        <div ng-show="brands.viewPreference === \'block\'" class="blocks-view u-clear-both">\n          <div class="blocks-content u-clear-both">\n            <section class="cards-fixed m-vertical-large">\n              <article ng-class="{\'brand_default\': brand.isSigningDefault}"\n                       ng-repeat="brand in brands.list"\n                       class="card">\n                <span class="badge badge-top-left"\n                      ng-if="brand.isSigningDefault"\n                      translate="Default"></span>\n                <div class="card_viewable">\n                  <button ng-click="brands.edit(brand)"\n                          type="button"\n                          class="card_view btn btn-inverse-secondary" translate="Edit"></button>\n                  <div class="ratio ratio-3-2 ratio-letterbox">\n                    <div class="ratio_content">\n                      <img ng-if="brand.logos.primary"\n                           class="ratio_src"\n                           ng-src="{{ brand.logos.primary }}&{{ brand.logos.lastLogoUpdate }}">\n                      <img ng-if="!brand.logos.primary"\n                           class="ratio_src"\n                           src="/images/logo-docusign.svg#docusign">\n                    </div>\n                  </div>\n                </div>\n                <div class="card_content l-flex-between">\n                  <div>\n                    <div class="card_title"\n                         title="{{ brand.brandName }}">\n                      {{ brand.brandName }}\n                    </div>\n                  </div>\n                  <div>\n                    <button type="button"\n                            class="btn btn-icon btn-minor card_menu"\n                            ng-click="return;"\n                            olive-menu="brandBlockActions-{{brand.brandId}}"\n                            olive-menu-position="below right"\n                            olive-tooltip\n                            data-qa="brands_blocks_actions_btn">\n                      <i class="icon icon-menu-overflow-vertical" translate translate-attr-title="Actions"></i>\n                      <span class="sr-text" translate="Actions"></span>\n                    </button>\n                    <div id="brandBlockActions-{{brand.brandId}}"\n                         class="menu invisible"\n                         ng-click="return;">\n                      <ul>\n                        <li>\n                          <button type="button"\n                                  name="edit-brand"\n                                  class="item"\n                                  ng-click="brands.edit(brand)"\n                                  data-qa="brands_blocks_actions_edit_li"\n                                  translate="Edit">\n                          </button>\n                        </li>\n                        <li>\n                          <button type="button"\n                                  name="delete-brand"\n                                  class="item"\n                                  ng-click="brands.confirmRemove(brand)"\n                                  data-qa="brands_blocks_actions_delete_li"\n                                  translate="DS_CONTEXT=(brand) Delete">\n                          </button>\n                        </li>\n                        <li>\n                          <a name="export-brand"\n                             class="item"\n                             ng-href="{{brands.export(brand.brandId)}}"\n                             target="_blank"\n                             data-qa="brands_blocks_actions_export_li"\n                             translate="Export">\n                          </a>\n                        </li>\n                        <li>\n                          <button type="button"\n                                  name="set-sign-default-brand"\n                                  class="item"\n                                  ng-if="!brand.isSigningDefault"\n                                  ng-click="brands.setToSignDefault(brand)"\n                                  data-qa="brands_blocks_actions_set_sign_default_li"\n                                  translate="Set as Default">\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </article>\n            </section>\n          </div>\n        </div>\n        <table class="table m-top-60" olive-table-select ng-show="brands.viewPreference === \'table\'">\n          <thead>\n          <tr>\n            <th translate="Logo"></th>\n            <th translate="Brand Name"></th>\n            <th>&nbsp;</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr ng-class="{\'table_row-info\': brand.isSigningDefault}" class="table_row-clickable"\n              ng-repeat="brand in brands.list" data-qa="brands_list_view_row">\n            <td ng-click="brands.edit(brand)" data-qa="brands_list_view_logo_cell">\n              <img ng-if="brand.logos.primary"\n                   class="brand-logo"\n                   ng-src="{{ brand.logos.primary }}&{{ brand.logos.lastLogoUpdate }}">\n              <img ng-if="!brand.logos.primary"\n                   class="brand-logo" src="/images/logo-docusign.svg">\n            </td>\n            <td ng-click="brands.edit(brand)" data-qa="brands_list_view_brand_name_cell">\n              <span class="truncate u-ellipsis">{{ brand.brandName }}</span>\n            </td>\n            <td>\n              <button type="button" class="btn btn-secondary btn-trigger u-float-right"\n                olive-menu="brandActions-{{brand.brandId}}" olive-menu-position="below right"\n                data-qa="brands_actions_btn"\n                translate="Actions">\n              </button>\n\n              <div id="brandActions-{{brand.brandId}}" class="menu invisible">\n                <ul>\n                  <li>\n                    <button type="button"\n                            name="edit-brand"\n                            class="item"\n                            ng-click="brands.edit(brand)"\n                            data-qa="brands_actions_edit_li"\n                            translate="Edit">\n                    </button>\n                  </li>\n                  <li>\n                    <button type="button" name="delete-brand" class="item"\n                      ng-click="brands.confirmRemove(brand)"\n                      data-qa="brands_actions_delete_li"\n                      translate="DS_CONTEXT=(brand) Delete">\n                    </button>\n                  </li>\n\n                  <li>\n                    <a name="export-brand" class="item"\n                      ng-href="{{brands.export(brand.brandId)}}" target="_blank"\n                      data-qa="brands_actions_export_li"\n                      translate="Export">\n                    </a>\n                  </li>\n\n                  <li>\n                    <button type="button" name="set-sign-default-brand" class="item"\n                      ng-if="!brand.isSigningDefault"\n                      ng-click="brands.setToSignDefault(brand)"\n                      data-qa="brands_actions_set_sign_default_li"\n                      translate="Set as Default">\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class="section paging-footer">\n          <div class="grid action-row">\n            <ds-page-controls pageable="brands" ng-if="brands.list.length > 0"></ds-page-controls>\n          </div>\n        </div>\n      </div>\n      <div class="emptyState" ng-if="brands.loaded && !brands.list.length && brands.submittedSearch">\n        <i class="icon icon-search emptyState_icon"></i>\n        <div class="emptyState_text">\n          <p ng-if="brands.submittedSearch" translate="The search query \'[[searchQuery]]\' produced no results."\n             translate-interpolation="bracket" translate-values="{searchQuery: brands.submittedSearch}"></p>\n        </div>\n      </div>\n      <div class="emptyState" ng-if="brands.loaded && !brands.originalList.length">\n        <i class="icon icon-voided emptyState_icon"></i>\n        <div class="emptyState_text">\n          <h3 translate="No Brands"></h3>\n          <p ng-if="brands.originalList.length === 0" translate="You currently do not have any brands."></p>\n          <button type="button" class="btn btn-primary" translate="Add Brand" ng-click="brands.add(false)"\n                  ng-if="brands.canAddBrand()" data-qa="brands_empty_add_brand_btn"></button>\n          <button type="button" class="btn btn-primary" translate="Upload Brand" ng-click="brands.add(true)"\n                  ng-if="brands.canManageMultipleBrands" data-qa="brands_empty_upload_brand_btn"></button>\n        </div>\n      </div>\n    </div>\n    <div olive-tabset-parent="brandingTabs" olive-tab-id="sending">\n      <h2 class="header-title" translate="Customize What Your Users See"></h2><br>\n      <div ng-include="\'branding/templates/sending/sending-brand-list.html\'"></div>\n    </div>\n  </div>\n  <div ds-loading="brands.loading" class="text-center" ds-loading-succeeded="brands.loaded"\n       ds-loading-error="{{\'We had trouble loading your brands. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(52),s=n(53),o=n(30);t.REMOVE_GROUP_BRAND_SUCCESS="The brand {{brandName}} was removed from the group.",t.REMOVE_GROUP_BRAND_ERROR="Brand removal failed. Please try again.";var r="Brands",l="brandDeleted",c="sendBrandLogoDeleted",d="upload-error",u="upload-success",p="Sending Logo uploaded successfully.",m="We had trouble deleting the brand. Go ahead and try that again",g="The file size exceeds the 300KB limit. Please upload a smaller file.",h="The file format is not supported. Please upload a file that is a supported format - JPG, GIF, PNG.",f="The file is corrupt. Please upload a different version of this file.",v=307200,_=/\.(jpg|jpeg|gif|png)/i,b=1500,y=function(){function e(e,n,a,i,o,y,A,S,w,C,P,E,T,M,k,I,D,N){var x=this;this._$scope=e,this._$state=n,this._$stateParams=a,this._$translate=i,this._$filter=o,this._$timeout=y,this._$q=A,this._brandConstants=S,this._brandService=w,this._configuration=C,this._dsGroups=P,this._dateTimeService=E,this._userPermissions=T,this._oliveMessage=M,this._oliveModal=k,this._FileUploader=I,this._appUser=D,this._=N,this.hasError=!1,this.sendingBrand={logos:{primary:""}},this.sendingBrandColorProperties=["headerBackground","buttonPrimaryBackground","buttonSecondaryBackground"],this.brandOption={search_text:"",exclude_distributor_brand:!0,include_logos:!0},this.searchPhrase="",this.submittedSearch="",this.pageItemType="",this.viewPreference="block",this.assignBrandToGroup=!1,this.showSendingAdvancedSetting=!1,this._getGroupBrands=!1,this._isSelectAll=!1,this.canManageMultipleBrands=!1,this._createUploader=function(){var e=new x._FileUploader({filters:[{name:"File Extension",fn:function(e){return _.test(e.name)}},{name:"File Size",fn:function(e){return e.size<=v}}]});return e.onAfterAddingFile=x._onAfterAddingFile,e.onWhenAddingFileFailed=x._onWhenAddingFileFailed,e.onErrorItem=x._onErrorItem,e},this._onAfterAddingFile=function(e){x._oliveMessage.closeAll(),x.hasError=!1,x._setSelectedFile(e),x._confirmSendLogoUpload()},this._setSelectedFile=function(e){x._setFileItemProperties(e),x.selectedFile=e},this._onWhenAddingFileFailed=function(e,t){switch(t.name){case"File Extension":x._showLogoFormatError();break;case"File Size":x._showLogoSizeError()}},this._onErrorItem=function(){x._showLogoCorruptError()},this._setFileItemProperties=function(e){var t=x._asciiFilename(e.file.name);e.headers={"Content-Disposition":'file; filename="'+t+'"'},e.url=x._brandService.generateLogoUploadUri(x.sendingBrand.brandId,"primary"),e.name=e.file.name===t?e.file.name:e.file.name+" ("+t+")"},this._uploadFile=function(e){var t=x._$q.defer();return e.onSuccess=t.resolve,e.onError=t.reject,x.sendingLogoUploader.uploadItem(e),x._$timeout(function(){return t.promise},b)},this._uploadSuccess=function(){x._brandService.getBrandById(x.sendingBrand.brandId,!0).then(function(e){x.sendingBrand=e,x._oliveModal.closeAllModals(),x._oliveMessage.show(x._$translate.instant(p),u,"success")})},this._uploadFailure=function(e){x.uploading=null},this._confirmSendLogoUpload=function(){var e={title:x._$translate.instant("Confirm Uploading Logo"),text:x._$translate.instant("Logo will be automatically saved upon uploading. Would you like to continue?"),completeLabel:x._$translate.instant("Continue"),escapeLabel:x._$translate.instant("Cancel"),completeFunction:x._uploadBrandLogo};x._oliveModal.confirmationModal(e)},this._uploadBrandLogo=function(){x.uploading=x._uploadFile(x.selectedFile),x.uploading.then(x._uploadSuccess,x._uploadFailure)},this._showError=function(e){x.hasError=!0,x._oliveMessage.show(x._$translate.instant(e),d,"error")},this._showLogoFormatError=function(){x._showError(h)},this._showLogoCorruptError=function(){x._showError(f)},this._showLogoSizeError=function(){x._showError(g)},this._remove=function(e){x._brandService.remove(e.brandId).then(function(){var t=x._$translate.instant("Your brand has been deleted.");x._oliveMessage.show(t,l,"success"),x.originalList.splice(x._.findIndex(x.originalList,{brandId:e.brandId}),1),x._reBindingBrandList()},function(e){var t=x._$translate.instant(m);x._oliveMessage.show(t,l,"error")})},this._filterSearch=function(){var e=x._.cloneDeep(x.originalList),t="";return x._.isEmpty(x.searchPhrase)||(t=x.searchPhrase.toLowerCase(),e=x._$filter("filter")(x.originalList,function(e){if(this._.includes(this._.trim(e.brandName).toLowerCase(),t))return e}.bind(x)),x._updateSearchOption(e)),x._$filter("orderBy")(e,["-isSigningDefault","brandName"])},this._search=function(){var e=x._filterSearch();x.currentPage.totalCount=e.length,x._getFirstPage(),x.submittedSearch=x.searchPhrase},this._reBindingBrandList=function(){x.searchPhrase?x._search():x._initBrands()},this.deleteSendingLogo=function(){x._brandService.removeLogo(x.sendingBrand.brandId,"primary").then(function(){x.sendingBrand.logos.primary=null;var e=x._$translate.instant("Send brand logo has been deleted.");x._oliveMessage.show(e,c,"success")})},this.editSendingBrand=function(){x._brandConstants.brandInformation.sendingBrand=x.sendingBrand,x._brandConstants.brandInformation.accountId=x._appUser.getCurrentAccountId(),x._$scope.brandInformation=x._brandConstants.brandInformation,x._brandConstants.preview.brand=x._.defaults(x._.cloneDeep(x.sendingBrand),x._brandConstants.getBrandDefaultsForSendingVersion()),x._brandConstants.preview.allowCustomization=!0},this.displaySendingBrandColor=function(e){return x.sendingBrandColorProperties.indexOf(e)>-1},this.setToSignDefault=function(e){var t=x._.find(x.originalList,{isSigningDefault:!0});function n(e){e.isSigningDefault=!0,this._brandService.updateBrand(e).then(this._reBindingBrandList)}x._.isEmpty(t)?n.call(x,e):(t.isSigningDefault=!1,x._brandService.updateBrand(t).then(function(){n.call(x,e)}))},this.confirmRemove=function(e){x._$scope.deleteBrandName=e.brandName;var t={scope:x._$scope,templateUrl:"branding/delete-brand-confirmation.html",showClose:!1,onComplete:x._remove.bind(x,e)};x._oliveModal.openModal(t)},this.goToAssign=function(){x._dsGroups.assignAction=s.GROUP_ASSIGN_OPTIONS.BRAND,x._$state.go("authenticated.group-assign-users-brands")},this.removeFromGroup=function(e){x._dsGroups.removeBrands(x._appUser.getCurrentAccountId(),x.group.groupId,[{brandId:e.brandId}]).then(function(){var n=x._$translate.instant(t.REMOVE_GROUP_BRAND_SUCCESS,{brandName:e.brandName});x._oliveMessage.show(n,"removeBrandFromGroupSuccess","success"),1===x.list.length&&x.resetSearch(),x.loading=x._initBrands()}).catch(function(n){var a=x._$translate.instant(t.REMOVE_GROUP_BRAND_ERROR,{brandName:e.brandName});x._oliveMessage.show(a,"removeBrandFromGroupError","error")})},this.disableSelect=function(e){return!x.isBrandSelected(e)&&!x._.isEmpty(x._$scope.selectedList)&&x._$scope.selectedList.length>=x._$scope.maxSelected},this.disableSelectAll=function(){var e=x._getUnselected().length+x._$scope.selectedList.length;return!!x._.isEmpty(x.list)||!x._isSelectAll&&(x._selectedMaxBrands()||e>x._$scope.maxSelected)},this.isBrandSelected=function(e){return x._.find(x._$scope.selectedList,{brandId:e.brandId})},this.isSelectAll=function(){return x._isSelectAll=!x._.isEmpty(x._$scope.selectedList)&&!x._.isEmpty(x.list),x._isSelectAll&&x.list.forEach(function(e){x.isBrandSelected(e)||(x._isSelectAll=!1)}),x._isSelectAll},this.toggleBrand=function(e){var t=x.isBrandSelected(e),n=x._$scope.selectedList.length<x._$scope.maxSelected;t?x._.remove(x._$scope.selectedList,function(t){return t.brandId===e.brandId}):n&&x._$scope.selectedList.push(e),x._$scope.$emit("selectedBrandsChanged")},this.toggleSelectAll=function(){x._isSelectAll?x.list.forEach(function(e){x._.remove(x._$scope.selectedList,function(t){return e.brandId===t.brandId})}):x._selectedMaxBrands()||x._getUnselected().forEach(function(e){x._$scope.selectedList.push(e)}),x._$scope.$emit("selectedBrandsChanged")},this._initDateTimeProperties(E),this._initGroup(),this.canManageMultipleBrands=this._userPermissions.canManageMultipleBrands(),this.loading=this._initBrands(),this.sendingLogoUploader=this._createUploader(),this.viewPreference=this._brandService.viewPreference,this.pageItemType=this._$translate.instant(r),this.showSendingAdvancedSetting=this._appUser.currentAccountInfo.settings.allowExtendedSendingResourceFile}return e.prototype._initDateTimeProperties=function(e){this.dateTimeFormat=e.getDateTimeFormat(),this.timeZone=e.getTimeZone()},e.prototype._initBrands=function(){var e={brands:this._brandService.getBrands(this.brandOption),groupBrands:this._getGroupBrands?this._brandService.getBrandsByGroupId(this.group.groupId):this._$q.when(null)};return this._$q.all(e).then(function(e){var t=e.groupBrands,n=t?function(e,t){var n=[];return t.brands.forEach(function(t){var a=this._.find(e.brands,{brandId:t.brandId});a&&n.push(a)}.bind(this)),e.brands=n,e.page={totalCount:e.brands.length,startIndex:0,endIndex:e.brands.length-1,hasPreviousPage:!1,hasNextPage:!1},e}.call(this,e.brands,t):e.brands;(function(e){this.originalList=this._.orderBy(e.brands,["isSigningDefault","brandName"],["desc","asc"]),this.currentPage=e.page,this.sendingBrand=e.sendingBrand,!this._getGroupBrands&&this.ensureDefaults(),this._getFirstPage()}).call(this,n)}.bind(this))},e.prototype._createSendDefaultBrand=function(){var e={brandName:"Sending_"+(new Date).getTime(),isSendingDefault:!0};return this._brandService.create(e)},e.prototype._getFirstPage=function(){var e=new o.FirstPageOptions(this.currentPage,12);this._getPage(e)},e.prototype._getPage=function(e){this.currentPage=e;var t=this._filterSearch();this.list=t.slice(e.startIndex,e.endIndex+1)},e.prototype._updateSearchOption=function(e){this.currentPage.totalCount=e.length||0},e.prototype._asciiFilename=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e)?a(Date.now()).format("HH_mm")+".csv":e},e.prototype._initGroup=function(){this.assignBrandToGroup="authenticated.group-assign-users-brands"===this._$state.current.name,this._getGroupBrands="authenticated.group-details"===this._$state.current.name,this._.isUndefined(this._dsGroups.activeGroup)||(this.group=this.assignBrandToGroup||this._getGroupBrands?this._dsGroups.activeGroup:void 0)},e.prototype._isNewBrandSignDefault=function(){return!this.canManageMultipleBrands&&this.canAddBrand()},e.prototype._getUnselected=function(){var e=this,t=[];return this._.isEmpty(this.list)||this.list.forEach(function(n){!e.isBrandSelected(n)&&t.push(n)}),t},e.prototype._selectedMaxBrands=function(){return(this._$scope.selectedList&&this._$scope.selectedList.length||0)>=this._$scope.maxSelected},e.prototype.ensureDefaults=function(){var e=this,t=this._brandConstants.getBrandDefaultsForSendingVersion(),n=this._.find(this.originalList,{isSigningDefault:!0,isSendingDefault:!0});if(this._.keys(t.colors),this.sendingBrand.previewHome=!0,n){var a={brandId:n.brandId,brandName:n.brandName,isSendingDefault:!1,isSigningDefault:!0};this._brandService.updateBrand(a).then(function(t){var a=e._.findIndex(e.originalList,{brandId:t.brandId});e.originalList[a]=t;var i={brandId:n.brandId,brandName:"Sending_"+(new Date).getTime(),isSendingDefault:!0,isSigningDefault:!1};e._brandService.create(i).then(function(t){e.sendingBrand=e._.defaults(t,e._brandConstants.getBrandDefaultsForSendingVersion()),e._.defaults(e.sendingBrand.colors,e._brandConstants.getBrandDefaultsForSendingVersion().colors)})})}else this._.isEmpty(this.sendingBrand.brandId)?this._createSendDefaultBrand().then(function(t){return e._brandService.getBrandById(t.brandId)}).then(function(t){e.sendingBrand=e._.defaults(t,e._brandConstants.getBrandDefaultsForSendingVersion()),e.sendingBrand.colors=e._.defaults(e.sendingBrand.colors||{},e._brandConstants.getBrandDefaultsForSendingVersion().colors)}):(this.sendingBrand.colors=this._.defaults(this.sendingBrand.colors||{},this._brandConstants.getBrandDefaultsForSendingVersion().colors),this.sendingBrand.logos=this.sendingBrand.logos||{},this._.defaults(this.sendingBrand.logos,this._brandConstants.getBrandDefaultsForSendingVersion().logos))},e.prototype.jumpToFirstPage=function(){var e=new o.FirstPageOptions(this.currentPage,12);this._getPage(e)},e.prototype.pageBackward=function(){var e=new o.PreviousPageOptions(this.currentPage,12);this._getPage(e)},e.prototype.pageForward=function(){var e=new o.NextPageOptions(this.currentPage,12);this._getPage(e)},e.prototype.jumpToLastPage=function(){var e=new o.LastPageOptions(this.currentPage,12);this._getPage(e)},e.prototype.switchView=function(){"block"===this.viewPreference?this.viewPreference=this._brandService.viewPreference="table":this.viewPreference=this._brandService.viewPreference="block"},e.prototype.submitSearch=function(e){13===e.keyCode&&this._search()},e.prototype.resetSearch=function(){this.searchPhrase="",this.submittedSearch="",this.currentPage.totalCount=this.originalList.length,this._getFirstPage(),this._updateSearchOption(this.originalList)},e.prototype.add=function(e){void 0===e&&(e=!1);var t=this._$scope.$new();t.isUpload=e,t.originalList=this._.cloneDeep(this.originalList),t.isSignDefault=this._isNewBrandSignDefault(),this._oliveModal.openModal({scope:t,templateUrl:"branding/add-brand.html",showClose:!1,onComplete:this._initBrands.bind(this)})},e.prototype.export=function(e){return this._brandService.exportFileUrl(e)},e.prototype.edit=function(e){this._$state.go("authenticated.brand-details",{brandId:e.brandId})},e.prototype.hasSendingLogo=function(){return this.sendingBrand&&this.sendingBrand.logos&&!this._.isEmpty(this.sendingBrand.logos.primary)},e.prototype.hasSendingThemeColors=function(){return this.sendingBrand&&this.sendingBrand.colors&&!this._.isEmpty(this.sendingBrand.colors)},e.prototype.hasSendingBrand=function(){return this.hasSendingLogo()||this.hasSendingThemeColors()},e.prototype.canAddBrand=function(){return this.loaded&&(this.canManageMultipleBrands||!this.list.length)},e}();t.BrandListController=y,i.BrandsModule.controller("BrandListController",["$scope","$state","$stateParams","$translate","$filter","$timeout","$q","BrandConstants","BrandService","configuration","dsGroups","DateTimeService","userPermissions","oliveMessage","oliveModal","FileUploader","appUser","lodash",y])},function(e,t){var n="branding/brand-links.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="brands" ng-controller="BrandLinksController as brandLinks" ds-form>\n  <div class="crumbs"\n      ng-if="brandLinks.loaded">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item" ng-click="brandLinks.goToBrandMain()">\n          <span translate="{{ brandLinks.brandMainTitle }}"></span>\n        </a>\n      </li>\n\n      <li class="crumbs_listItem" ng-if="!brandLinks.brand.isSendingDefault">\n        <a class="crumbs_item truncate u-ellipsis" ng-click="brandLinks.goToBrand()">{{ brandLinks.brand.brandName }}</a>\n      </li>\n\n      <li class="crumbs_listItem">\n        <span class="crumbs_item" translate="Links"> </span>\n      </li>\n    </ul>\n  </div>\n\n  <div class="section-header">\n    <h1 class="modal_title" translate="Customize Links"></h1>\n    <div class="header-actions" ds-ackbar="brandLinks.linkForm" ds-ackbar-save="brandLinks.save()"\n      ds-ackbar-cancel="brandLinks.cancel()">\n    </div>\n  </div>\n\n  <form name="brandLinks.linkForm" class="section">\n\n    <div class="fgrid" ng-if="!brandLinks.isSendingBrand">\n      <h4 translate="About DocuSign Link" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="aboutDocuSignLink_showLink" type="checkbox" class="cb_input"\n                 ng-model="brandLinks.brand.links.aboutDocusign.showLink">\n\n          <label for="aboutDocuSignLink_showLink" class="cb_label"\n                 translate="Hide link" data-qa="brands_about_docusign_hide_link">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.aboutDocusign.showLink" ng-if="!brandLinks.isSendingBrand">\n      <i class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <br ng-if="!brandLinks.isSendingBrand">\n\n    <div class="fgrid" ng-if="!brandLinks.isSendingBrand">\n      <h4 translate="Document Close Button" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="documentCloseButton_showButton" type="checkbox" class="cb_input"\n                 ng-model="brandLinks.brand.links.closeButton.showLink">\n\n          <label for="documentCloseButton_showButton" class="cb_label"\n                 translate="Hide Button" data-qa="brands_close_button_hide_button">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.closeButton.showLink" ng-if="!brandLinks.isSendingBrand">\n      <i class="icon icon-eye-closed"></i>\n      <span translate="This button is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <br ng-if="!brandLinks.isSendingBrand">\n\n    <div class="fgrid">\n      <h4 translate="Header Help" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="headerLinkSystemOverview_showlink" type="checkbox" class="cb_input"\n            ng-model="brandLinks.brand.links.headerLinkSystemOverview.showLink">\n\n          <label for="headerLinkSystemOverview_showlink" class="cb_label"\n            data-qa="brands_header_hide_url"\n            translate="Hide link" data-qa="brands_header_hide_url">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.headerLinkSystemOverview.showLink">\n      <i class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-sm" maxlength="100" ds-valid\n        ng-model="brandLinks.brand.links.headerLinkSystemOverview.linkText" id="headerLinkSystemOverview_linkText"\n        translate translate-attr-placeholder="Link Text" data-qa="brand_header_text">\n    </div>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-md"\n        ng-class="{\'has-error\': brandLinks.brand.links.headerLinkSystemOverview.hasError}"\n        ng-model="brandLinks.brand.links.headerLinkSystemOverview.urlOrMailTo"\n        ds-valid="function"\n        ds-valid-function="brandLinks.validate(brandLinks.brand.links.headerLinkSystemOverview)"\n        translate\n        translate-attr-placeholder="URL or Email Address"\n        data-qa="brand_header_url">\n\n      <p class="helper-text error-msg"\n        ng-show="brandLinks.brand.links.headerLinkSystemOverview.hasError"\n        translate="Invalid URL or Email — http://, https://, mailto:">\n      </p>\n    </div>\n\n    <br>\n\n    <div class="fgrid">\n      <h4 translate="Footer Support/Help & Support" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="headerLinkSupport_showlink" type="checkbox" class="cb_input"\n            ng-model="brandLinks.brand.links.headerLinkSupport.showLink">\n          <label for="headerLinkSupport_showlink" class="cb_label" translate="Hide link"\n            data-qa="brands_footer_support_hide_link_lbl">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.headerLinkSupport.showLink">\n      <i class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-sm" maxlength="100" ds-valid\n        ng-model="brandLinks.brand.links.headerLinkSupport.linkText" id="headerLinkSupport_linkText" translate\n        translate-attr-placeholder="Link Text" data-qa="brands_footer_support_text">\n    </div>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-md"\n        ng-class="{\'has-error\': brandLinks.brand.links.headerLinkSupport.hasError}"\n        ng-model="brandLinks.brand.links.headerLinkSupport.urlOrMailTo" ds-valid="function"\n        ds-valid-function="brandLinks.validate(brandLinks.brand.links.headerLinkSupport)" translate\n        translate-attr-placeholder="URL or Email Address" data-qa="brands_footer_support_url">\n      <p class="helper-text error-msg" ng-show="brandLinks.brand.links.headerLinkSupport.hasError"\n        translate="Invalid URL or Email — http://, https://, mailto:">\n      </p>\n    </div>\n\n    <br>\n\n    <div class="fgrid">\n      <h4 translate="Footer Link 1" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="headerLinkCustom1_showlink" type="checkbox" class="cb_input"\n            ng-model="brandLinks.brand.links.headerLinkCustom1.showLink">\n          <label for="headerLinkCustom1_showlink" class="cb_label"\n            translate="Hide link" data-qa="brands_footer1_hide_lbl">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.headerLinkCustom1.showLink"><i\n      class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-sm" maxlength="100" ds-valid\n        ng-model="brandLinks.brand.links.headerLinkCustom1.linkText" translate\n        translate-attr-placeholder="Link Text" data-qa="brands_footer1_text">\n    </div>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-md"\n        ng-class="{\'has-error\': brandLinks.brand.links.headerLinkCustom1.hasError}"\n        ng-model="brandLinks.brand.links.headerLinkCustom1.urlOrMailTo" ds-valid="function"\n        ds-valid-function="brandLinks.validate(brandLinks.brand.links.headerLinkCustom1)" translate\n        translate-attr-placeholder="URL or Email Address" data-qa="brands_footer1_url">\n      <p class="helper-text error-msg" ng-show="brandLinks.brand.links.headerLinkCustom1.hasError"\n        translate="Invalid URL or Email — http://, https://, mailto:">\n      </p>\n    </div>\n\n    <br>\n\n    <div class="fgrid">\n      <h4 translate="Footer Link 2" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="headerLinkCustom2_showlink" type="checkbox" class="cb_input"\n                 ng-model="brandLinks.brand.links.headerLinkCustom2.showLink">\n          <label for="headerLinkCustom2_showlink" class="cb_label" translate="Hide link" data-qa="brands_footer2_lbl"></label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.headerLinkCustom2.showLink"><i\n      class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-sm" maxlength="100" ds-valid\n        ng-model="brandLinks.brand.links.headerLinkCustom2.linkText" translate\n        translate-attr-placeholder="Link Text" data-qa="brands_footer2_text">\n    </div>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-md"\n        ng-class="{\'has-error\': brandLinks.brand.links.headerLinkCustom2.hasError}"\n        ng-model="brandLinks.brand.links.headerLinkCustom2.urlOrMailTo" ds-valid="function"\n        ds-valid-function="brandLinks.validate(brandLinks.brand.links.headerLinkCustom2)" translate\n        translate-attr-placeholder="URL or Email Address" data-qa="brands_footer2_url">\n      <p class="helper-text error-msg" ng-show="brandLinks.brand.links.headerLinkCustom2.hasError"\n        translate="Invalid URL or Email — http://, https://, mailto:">\n      </p>\n    </div>\n\n    <br>\n\n    <div class="fgrid">\n      <h4 translate="Footer Link 3" class="fgrid_cell fgrid_cell-1-4"></h4>\n      <div class="fgrid_cell">\n        <div class="cb">\n          <input id="headerLinkOrientation_showlink" type="checkbox" class="cb_input"\n            ng-model="brandLinks.brand.links.headerLinkOrientation.showLink">\n          <label for="headerLinkOrientation_showlink" class="cb_label"\n            translate="Hide link" data-qa="brands_footer3_hide_lbl">\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <p class="text-muted" ng-show="brandLinks.brand.links.headerLinkOrientation.showLink">\n      <i class="icon icon-eye-closed"></i>\n      <span translate="This link is hidden and will not be visible to the viewer"></span>\n    </p>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-sm" maxlength="100" ds-valid\n        ng-model="brandLinks.brand.links.headerLinkOrientation.linkText" translate\n        translate-attr-placeholder="Link Text" data-qa="brands_footer3_text">\n    </div>\n\n    <div class="form_unit">\n      <input type="text" class="input-text input-md"\n        ng-class="{\'has-error\': brandLinks.brand.links.headerLinkOrientation.hasError}"\n        ng-model="brandLinks.brand.links.headerLinkOrientation.urlOrMailTo" ds-valid="function"\n        ds-valid-function="brandLinks.validate(brandLinks.brand.links.headerLinkOrientation)" translate\n        translate-attr-placeholder="URL or Email Address" data-qa="brands_footer3_url">\n\n      <p class="helper-text error-msg"\n        ng-show="brandLinks.brand.links.headerLinkOrientation.hasError"\n        translate="Invalid URL or Email — http://, https://, mailto:">\n      </p>\n    </div>\n  </form>\n\n  <div ds-loading="brandLinks.loading"\n    ds-loading-succeeded="brandLinks.loaded"\n    ds-loading-error="{{\'We had trouble loading your brand. Go ahead and try that again.\' | translate}}">\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),i=n(361),s=function(){function e(e,t,n,i,s,o,r){this._$state=e,this._$stateParams=t,this._$translate=n,this._brandService=i,this._oliveMessage=s,this._=o,this._util=r,this.brandMainTitle=a.BRANDS_MAIN_TITLE,this._brandId=this._$stateParams.brandId,this.isSendingBrand=this._$stateParams.isSendingBrand||!1,this._.isEmpty(this._brandId)?this.goToBrand():this._initialize()}return e.prototype._initialize=function(){var e=this;this.loading=this._brandService.getBrandById(this._brandId,!1,!0).then(function(t){e._.defaults(t.links,new i.DefaultBrandLinks),e.brand=t,e._original=e._.cloneDeep(t)})},e.prototype.validate=function(e){var t=this;return function(n){if(n=e.urlOrMailTo||null,!t._.isEmpty(e.linkText)&&t._.isEmpty(n))e.hasError=!0;else{var a=t._util.generateHttpUriPattern(),i=t._util.generateMailtoUriPattern();e.hasError=n&&!a.test(n)&&!i.test(n)}return!e.hasError}},e.prototype.save=function(){var e=this;this.loading=this._brandService.updateBrand(this.brand).then(function(t){var n=e._$translate.instant("You have successfully customized branding links.");e._oliveMessage.show(n,"brandLinksSuccess","success"),e.linkForm.$setPristine(),e._original=e._.cloneDeep(t)},function(t){var n=e._$translate.instant("We had trouble customized branding links. Please try again later.");e._oliveMessage.show(n,"brandLinkError","error")})},e.prototype.cancel=function(){this.brand=this._.cloneDeep(this._original),this.linkForm.$setPristine()},e.prototype.goToBrandMain=function(){this._$state.go("authenticated.brands")},e.prototype.goToBrand=function(){var e=this._brandId||this.brand&&this.brand.brandId;this._$state.go("authenticated.brand-details",{brandId:e})},e}();a.BrandsModule.controller("BrandLinksController",["$state","$stateParams","$translate","BrandService","oliveMessage","lodash","RADminUtil",s])},function(e,t){var n="branding/brand-advanced-settings.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="brands"\n     ds-form\n     ng-controller="BrandAdvancedSettingsController as advanced">\n  <div class="crumbs"\n       ng-if="advanced.loaded">\n    <ul class="crumbs_list">\n      <li class="crumbs_listItem">\n        <a class="crumbs_item"\n           ng-click="advanced.goToBrandMain()">\n          <span translate="{{ advanced.brandMainTitle }}"></span>\n        </a>\n      </li>\n      <li class="crumbs_listItem" ng-if="!advanced.brand.isSendingDefault">\n        <a class="crumbs_item truncate u-ellipsis"\n           ng-click="advanced.goToBrand()"> {{ advanced.brand.brandName }}</a>\n      </li>\n      <li class="crumbs_listItem">\n        <span class="crumbs_item"\n              translate="Resource Files"> </span>\n      </li>\n    </ul>\n  </div>\n  <div class="section-header">\n    <h1 class="header-title"\n        translate="Resource Files"></h1>\n    <div class="header-description"\n         translate="[[styleStart]]Important:[[styleEnd]] Customizing resource files is an advanced branding configuration option which can significantly impact your account, and should be done only by someone with expertise in XML and HTML. The master resource files are subject to change without notice. If you customize your resource files, after each release, DocuSign recommends you review any changes and update your custom files as needed."\n         translate-interpolation="bracket"\n         translate-values="{styleStart: \'<strong>\', styleEnd: \'</strong>\'}"></div>\n\n    <div ng-if="advanced.brand.isSendingDefault">\n      <div class="header-description"\n           translate="NOTE: Only certain attributes of the Sending and Email resource files are supported. Changes made to attributes outside of what is supported will be ignored. Supported attributes are the following:"></div>\n      <div class="grid p-left-large">\n        <div class="col-1-4">\n          <dl class="def-list">\n            <dt>Email</dt>\n            <dd class="p-left-small">Activation email</dd>\n          </dl>\n          <dl class="def-list">\n            <dt>Sending</dt>\n            <dd class="p-left-small">\n              Message_EnvelopeSubjectDefault <br>\n              Message_EnvelopeSubjectDefaultPlural <br>\n              EnvelopeSetupPrev_RecipientsIncomplete\n            </dd>\n          </dl>\n        </div>\n      </div>\n    </div>\n\n    <div class=" header-actions">\n      <button type="button"\n              class="btn btn-secondary"\n              ng-click="advanced.goToBrand()"\n              translate="Done"></button>\n    </div>\n  </div>\n  <form name="advancedForm"\n        class="section"\n        ng-if="advanced.loaded">\n    <h2 class="header-title"\n        translate="Download Master Resource Files"></h2>\n    <p translate="Master resource files are applied to a brand unless you upload customized versions. To use a customized resource file for this brand, download the appropriate master resource file, modify the resource file, and then upload your modified file to the matching file type below."></p>\n    <p translate="An account can upload only one of each type of custom resource file, so all changes for all languages that you want to customize must be included in the uploaded file."></p>\n    <p translate="Master resource files are updated as part of DocuSign releases. These Master files are always the latest versions. Check and update your custom files after each release."></p>\n\n    <div class="form_unit">\n      <label class="label"\n             for="resourceFileLanguage"\n             translate="Select Resource File Language"></label>\n      <div class="form_group">\n        <span class="form_item">\n          <div class="select-wrap input-sm">\n            <select ng-model="advanced.resourceLocale"\n                    ng-options="locale.key as locale.englishLanguageName | translate for locale in advanced.locales"\n                    id="resourceFileLanguage"\n                    data-qa="resource_download_file_language">\n              <option translate="- Default -"></option>\n            </select>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div class="form_unit">\n      <label class="label"\n             translate="Select Resource File Type"></label>\n      <div class="form_group">\n        <span class="form_item">\n          <div class="select-wrap input-sm" ng-if="!advanced.isSendingBrand">\n            <select ng-model="advanced.resourceFileType" id="signingResourceFileType"\n                    data-qa="singing_resource_download_file_type"\n                    ng-options="type.value as type.label | translate for type in advanced.signingResourceTypes"> </select>\n          </div>\n          <div class="select-wrap input-sm" ng-if="advanced.isSendingBrand">\n            <select ng-model="advanced.resourceFileType" id="sendingResourceFileType"\n                    data-qa="senging_resource_download_file_type"\n                    ng-options="type.value as type.label | translate for type in advanced.sendingResourceTypes"> </select>\n          </div>\n        </span>\n      </div>\n    </div>\n    <a type="button"\n       class="btn btn-secondary"\n       translate="Download Master"\n       target="_blank"\n       ng-href="{{advanced.generateDownloadMasterUri(advanced.resourceFileType)}}"></a>\n  </form>\n  <div class="section">\n    <h2 class="header-title"\n        translate="Upload Custom Resource Files"></h2>\n    <p translate="When you upload a custom resource file, only the differences between your version and the master file are saved. All languages you want to customize must be included in your custom version."></p>\n    <p translate="To make changes to a custom resource file, download your version, edit the content, and then upload the new version."></p>\n    <p translate="To restore the default master resource file for all languages, download the default language master and upload it to the matching custom file type."></p>\n    <section class="cards-fixed cards-brand">\n      <div ng-repeat="resource in advanced.resources | orderBy: \'resourcesContentType\'" class="cards-brand-container"\n           ng-if="advanced.filterResourceFileType(resource)">\n        <article class="card">\n\n          <div class="ratio ratio-3-2 ratio-letterbox">\n            <div class="ratio_content">\n              <span ng-if="resource.resourcesContentUri"\n                    class="resource-block ratio_src"\n                    translate="XML"></span>\n              <button ng-if="!resource.resourcesContentUri"\n                      type="button"\n                      class="card_view-brand card_view btn btn-secondary"\n                      ng-click="advanced.confirmUpload(resource)"\n                      data-qa="{{resource.resourcesContentType}}_resource_upload"\n                      translate="Upload">Upload\n              </button>\n            </div>\n          </div>\n\n          <div class="card_content l-flex-between">\n            <div>\n              <div class="card_title">\n                <span class="label">{{advanced.fileTitle(resource)}}</span>\n              </div>\n            </div>\n\n            <div ng-if="resource.resourcesContentUri">\n              <button type="button"\n                      class="btn btn-icon btn-minor card_menu"\n                      title="Actions"\n                      ng-if="resource.resourcesContentUri"\n                      olive-menu="resourceBlockActions-{{resource.resourcesContentType}}"\n                      olive-menu-position="below right"\n                      data-qa="{{resource.resourcesContentType}}_resource_blocks_actions_btn">\n                <i class="icon icon-menu-overflow-vertical"></i>\n                <span class="sr-text"\n                      translate="actions">Actions</span>\n              </button>\n            </div>\n          </div>\n\n        </article>\n        <div ng-style="{\'visibility\': resource.modifiedDate ? \'visible\' : \'hidden\'}"\n             class="resource-info text-muted"\n             translate="Uploaded on [[modified]] by [[userName]]"\n             translate-interpolation="bracket"\n             translate-values="{\n                    modified: resource.modifiedDate,\n                    userName: resource.modifiedByUserInfo.userName\n                  }">\n        </div>\n        <div id="resourceBlockActions-{{resource.resourcesContentType}}"\n             class="menu invisible">\n          <ul>\n            <li>\n              <a class="item"\n                 target="_blank"\n                 ng-href="{{resource.resourcesContentUri}}"\n                 data-qa="{{resource.resourcesContentType}}_resource_actions_download_li"\n                 translate="Download"></a>\n            </li>\n            <li>\n              <button type="button"\n                      class="item"\n                      ng-click="advanced.confirmUpload(resource)"\n                      data-qa="{{resource.resourcesContentType}}_resource_actions_replace_li"\n                      translate="Replace"></button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </section>\n  </div>\n  <div ds-loading="advanced.loading"\n       ds-loading-succeeded="advanced.loaded"\n       ds-loading-error="{{\'We had trouble loading your brand. Go ahead and try that again.\' | translate}}"></div>\n</div>\n')}]),e.exports=n},function(e,t){var n="branding/add-brand.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddBrandController as addBrand" ds-form>\n\n  <div class="modal_header" translate>{{ addBrand.header }}</div>\n\n  <div class="modal_content" data-qa="add_brand_modal_content">\n    <div class="select-file" ng-hide="addBrand.uploading" ng-if="addBrand.isUpload">\n      <p>\n        <span translate="You can upload a brand using a .xml file."></span>\n      </p>\n\n      <div class="form_unit" ng-show="!addBrand.selectedFile.name">\n        <label for="uploadBrand1" class="btn btn-secondary btn-file" data-qa="upload_brand_btn">\n          <span translate="{{addBrand.selectFileAction}}"></span>\n          <input id="uploadBrand1" type="file" type="file" accept=".xml,.zip" nv-file-select\n                 uploader="addBrand.uploader">\n        </label>\n      </div>\n      <div ng-show="addBrand.selectedFile.name" class="form_unit">\n        <div class="form_group form_group-unified uploaded">\n          <div class="form_item">\n            <input type="text" class="input-text" id="selectedFile" disabled="disabled"\n                   ng-model="addBrand.selectedFile.name">\n          </div>\n          <label for="uploadBrand2" class="btn btn-secondary btn-file" data-qa="transfer_now_add_csv_btn">\n            <span translate="{{addBrand.selectFileAction}}"></span>\n            <input id="uploadBrand2" type="file" type="file" accept=".xml,.zip" nv-file-select\n                   uploader="addBrand.uploader">\n          </label>\n        </div>\n      </div>\n      <div class="text-center">\n        <div ds-loading="addBrand.uploading" ds-progress-message="{{\'Uploading...\' | translate}}"></div>\n      </div>\n    </div>\n    <div ng-if="!addBrand.isUpload" >\n      <div class="form_unit">\n        <label class="label" for="brandName" translate="Brand Name" label-required="*"></label>\n        <div class="form_group form_group-unified">\n          <span class="form_item">\n            <input id="brandName" type="text" class="input-text" ds-valid="function" maxlength="100"\n                   ds-valid-function="validateBrandName" required\n                   ng-model="addBrand.newBrandName">\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal_footer">\n    <button class="btn btn-lg btn-primary" data-qa="add_brand_submit_btn" ng-if="addBrand.isUpload"\n            ng-disabled="!addBrand.selectedFile || addBrand.uploading || addBrand.hasError"\n            ng-click="addBrand.uploadBrand()" translate="Submit"></button>\n    <button class="btn btn-lg btn-primary" data-qa="add_brand_save_btn" ng-if="!addBrand.isUpload"\n            ng-disabled="!addBrand.newBrandName"\n            ds-form-submit="addBrand.saveBrand()" translate="Save"></button>\n    <button class="btn btn-lg btn-minor" data-qa="add_brand_cancel_btn" olive-modal-escape\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(52),s="Upload File",o="Change",r="Upload Brand",l="Add Brand",c="Invalid file type. Only .xml or .zip is allowed",d=1500,u="upload-error",p=/xml/i,m=/zip/i,g=/The '(\w+)' start tag on line (\d+) position (\d+) does not match the end tag of '(\w+)'. Line (\d+), position (\d+).$/i,h=/Brands could not be created. Unable to upload brand, error: Unexpected end of file has occurred. The following elements are not closed: (.+). Line (\d+), position (\d+)/i,f="BRAND_CREATE_FAILED",v="INVALID_CONTENT_TYPE",_="Brand could not be created. Unable to upload brand, error: A brand with the same ID already exists for this account.",b="XML syntax error. The '{{startTag}}' start tag on line {{startLine}} position {{startPos}} does not match the end tag of '{{endTag}}'. Line {{endLine}}, position {{endPos}}.",y="Brands could not be created. Unable to upload brand, error: Unexpected end of file has occurred. The following elements are not closed: {{elements}}. Line {{line}}, position {{position}}.",A="Your file could not be uploaded. Please try again later.",S="You successfully created a brand.";t.BRAND_NAME_EXISTS="A brand already exists with that brand name, please provide a unique brand name.";var w="File format specified is not supported. Expecting zip or xml.",C="ACCOUNT_LACKS_PERMISSIONS",P="This Account lacks sufficient permissions. 'Multiple Brand Profiles' are not enabled for this account.",E="Brand could not be created. Please contact your administrator.",T=function(){function e(e,n,i,T,M,k,I,D,N,x,O){var U=this;this._$scope=e,this._$translate=n,this._$q=i,this._$timeout=T,this._$state=M,this._$stateParams=k,this._=I,this._oliveMessage=D,this._oliveModal=N,this._FileUploader=x,this._brandService=O,this.isUpload=!1,this.hasError=!1,this.selectFileAction=s,this.header=l,this.newBrandName="",this.originalListNames=[],this.isSignDefault=!1,this._createUploader=function(){var e=new U._FileUploader;return e.onAfterAddingFile=U._onAfterAddingFile,e},this._onAfterAddingFile=function(e){U._addBrandModal().removeMessage(u),U.hasError=!1,U._getFileExtension(e.file.type)&&(U._setSelectedFile(e),U.selectFileAction=o)},this._setSelectedFile=function(e){U._removePreviousFileFromQueue(),U._setFileItemProperties(e),U.selectedFile=e},this._removePreviousFileFromQueue=function(){U.selectedFile&&U.uploader.removeFromQueue(U.selectedFile)},this._setFileItemProperties=function(e){var t=U._asciiFilename(e.file);e.headers={"Content-Disposition":'file; filename="'+t+'"',accept:"application/json"},e.url=U._brandService.uploadFileUrl(),e.name=e.file.name===t?e.file.name:e.file.name+" ("+t+")"},this._asciiFilename=function(e){return function(e){return!/^[\x00-\x7F]*$/.test(e)}(e.name)?U._alternateAsciiFilename(e.type):e.name},this._alternateAsciiFilename=function(e){return a(Date.now()).format("HH_mm")+U._getFileExtension(e)},this._getFileExtension=function(e){return p.test(e)?".xml":m.test(e)?".zip":void U._showError(U._$translate.instant(c))},this._uploadFile=function(e){var t=U._$q.defer();return e.onSuccess=t.resolve,e.onError=t.reject,U.uploader.uploadItem(e),U._$timeout(function(){return t.promise},d)},this._uploadSuccess=function(){U._addBrandModal().allowClose(),U._addBrandModal().complete(),U._oliveMessage.show(U._$translate.instant(S),"add-brand-success","success")},this._uploadFailure=function(e){U.uploading=null,U._showError(U._errorMessage(e)),U._addBrandModal().allowClose()},this._addBrandModal=function(){return U._oliveModal.getTopModal()},this._errorMessage=function(e){switch(e&&e.errorCode&&e.errorCode.toUpperCase()){case f:var t="",n=e&&e.message||"";if(g.test(n)){var a=n.match(g),i=U._.slice(a,1);t=U._$translate.instant(b,{startTag:i[0],startLine:i[1],startPos:i[2],endTag:i[3],endLine:i[4],endPos:i[5]})}else if(h.test(n)){a=n.match(h),i=U._.slice(a,1);t=U._$translate.instant(y,{elements:i[0],line:i[1],position:i[2]})}else t=U._$translate.instant(_);return t;case v:return U._$translate.instant(w);case C:U._$translate.instant(P);default:return U.isUpload?U._$translate.instant(A):U._$translate.instant(E)}},this._showError=function(e){U.hasError||(U.hasError=!0,U._addBrandModal().addMessage(e,u,"error",{allowUnsafeHtml:!1}))},this._validateBrandName=function(e){return!U._.isEmpty(e)&&(U._.indexOf(U.originalListNames,e.toLowerCase())>-1?(U._showError(U._$translate.instant(t.BRAND_NAME_EXISTS)),!1):(U.hasError=!1,!0))},this.uploadBrand=function(){U._addBrandModal().removeMessage(u),U._addBrandModal().preventClose(),U.uploading=U._uploadFile(U.selectedFile),U.uploading.then(U._uploadSuccess,U._uploadFailure)},this.saveBrand=function(){if(!U._.isEmpty(U.newBrandName)){var e={brandName:U.newBrandName,isSigningDefault:U._$scope.isSignDefault};U._brandService.create(e).then(function(e){U._addBrandModal().close(),U._$state.go("authenticated.brand-details",{brandId:e.brandId})}).catch(function(e){var t=U._errorMessage(e);U._showError(t)})}},this._$scope.isUpload?(this.isUpload=this._$scope.isUpload,this.isSignDefault=this._$scope.isSignDefault,this.uploader=this._createUploader(),this.header=r):(this._.isArray(this._$scope.originalList)&&(this.originalListNames=this._$scope.originalList?this._$scope.originalList.reduce(this._collectLowercaseBrandNames,[]):[]),this._$scope.validateBrandName=this._validateBrandName)}return e.prototype._collectLowercaseBrandNames=function(e,t){return t.brandName?e.concat(t.brandName.toLowerCase()):e},e}();i.BrandsModule.controller("AddBrandController",["$scope","$translate","$q","$timeout","$state","$stateParams","lodash","oliveMessage","oliveModal","FileUploader","BrandService",T])},function(e,t){var n="billing-and-usage/usage-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,"<div ng-controller='UsageDetailsController as details'>\n  <button class=\"icon icon-times close-x\" data-qa=\"modal-close-x\" ds-close-modal></button>\n  <div class='header'>\n    <h1 translate='Usage Details'></h1>\n  </div>\n\n  <div class='content fluid'>\n    <table class='tbl mtbl'>\n      <thead>\n        <tr>\n          <th name='feature' translate='Feature'></th>\n          <th name='included' translate='Included'></th>\n          <th name='current-usage' translate='Current Usage'></th>\n          <th name='overage' translate='Overage'></th>\n          <th name='extra-this-period' translate='Extra This Period'></th>\n        </tr>\n      </thead>\n      <tbody ng-show='details.loadSucceeded'>\n        <tr ng-repeat='service in details.model'>\n          <td data-title='feature' translate=\"{{ details.prettifyServiceName(service.name) }}\"></td>\n          <td data-title='included'>\n            <div ng-switch=\"service.isUnlimited() && service.name === 'envelopes'\">\n              <span ng-switch-when=\"true\" translate=\"Unlimited\"></span>\n              <span ng-switch-when=\"false\">{{ service.included }}</span>\n            </div>\n          </td>\n          <td ng-class=\"{\n            alert: 'cell-status cell-editable cell-alert',\n            warn: 'cell-status cell-editable cell-warn'\n        }[service.usageStatus()]\" data-title='current-usage'>{{ service.used }}</td>\n          <td data-title='overage'>\n            <div ng-switch=\"details.shouldOmitServiceForDeveloper(service.name)\">\n              <span ng-switch-when=\"true\">*</span>\n              <span ng-switch-when=\"false\">{{ service.overage() }}</span>\n            </div>\n          </td>\n          <td data-title='extra-this-period'>{{ service.extraThisPeriod() }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p ng-if=\"details.isDeveloper\" class=\"text-center\">\n      *<span translate=\"In the event you go over your monthly allowance, you can upgrade your API plan to a larger envelope allowance. You will also receive a call from our Sales Department regarding overage fees, as well as upgrade options.\"></span>\n    </p>\n\n    <div class='text-center'\n         ds-loading=\"details.loaded\"\n         ds-loading-succeeded=\"details.loadSucceeded\"\n         ds-loading-error=\"{{'It looks like we couldn\\'t load your usage details. Please reload or try again later.' | translate}}\"></div>\n  </div>\n\n  <div class='footer'>\n    <button class='btn btn-lg btn-secondary' ds-close-modal translate='DS_CONTEXT=(modal) Close'></button>\n  </div>\n</div>\n")}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65).BillingAndUsageModule.factory("ServiceUsageSummaryModel",["appUser","lodash","accounting",function(e,t,n){return function(a){return{name:a.chargeName,isUnlimited:function(){return 0===a.includedQuantity&&"unlimited"===a.allowedQuantity},included:a.includedQuantity,used:a.usedQuantity,usageStatus:function(){var e=a.usedQuantity/a.includedQuantity;return 1===a.includedQuantity&&1===a.usedQuantity?"":e>=.75?"alert":e>=.5?"warn":""},overage:function(){return t.last(a.prices).unitPrice},extraThisPeriod:function(){var t=n.unformat(this.overage()),i={USD:"$",AUD:"$",CAD:"$",GBP:"£",EUR:"€"}[e.currentAccountInfo.information.currencyCode],s=a.usedQuantity-a.includedQuantity;return s<=0?n.formatMoney(0,i):n.formatMoney(t*s,i)}}}}])},function(e,t,n){"use strict";function a(e,t){var n=this;function a(e,t){return"seats"===e.name&&"seats"!==t.name||"envelopes"===e.name&&"envelopes"!==t.name?-1:"seats"!==e.name&&"seats"===t.name||"envelopes"!==e.name&&"envelopes"===t.name?1:!e.isUnlimited()&&t.isUnlimited()?-1:e.isUnlimited()&&!t.isUnlimited()?1:e.used/e.included<t.used/t.included?1:0}function i(e){return n.isDeveloper&&t.includes(["envelopes"],e)}n.loaded=e.usageSummary().then(function(t){t.sort(a),n.model=t,n.isDeveloper="Developer"===e.planType,n.shouldOmitServiceForDeveloper=i,n.prettifyServiceName=e.prettifyServiceName})}Object.defineProperty(t,"__esModule",{value:!0}),n(65).BillingAndUsageModule.controller("UsageDetailsController",["BillingAndUsageService","lodash",a]),t.default=a},function(e,t){var n="billing-and-usage/dashboard.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="billing-and-usage-dashboard section" ng-controller=\'DashboardController as dashboard\'>\n\n  <div class="fgrid fgrid-lines fgrid-lg fgrid-eq" ng-show="dashboardLoadingComplete">\n\n    <div class="fgrid_cell" ng-if="dashboard.showUsageSection(dashboard.summary.type)">\n      <h2 translate="Usage"></h2>\n      <div>\n        <div ng-repeat="singleBillingItem in dashboard.summary.usageSummary track by $index" class="progress-bar-wrap">\n          <div class="progress-bar-label">\n            <span translate="{{dashboard.prettifyServiceName(singleBillingItem.chargeName)}}"></span>\n            <div class="u-float-right">\n              {{singleBillingItem.usedQuantity}}/\n              <div class="u-float-right" ng-switch="singleBillingItem.allowedQuantity === \'unlimited\' && singleBillingItem.includedQuantity === 0">\n                <span ng-switch-when="true" translate=\'Unlimited\'></span>\n                <span ng-switch-when="false">{{singleBillingItem.includedQuantity}}</span>\n              </div>\n            </div>\n          </div>\n          <span class="progress-bar" ng-class="{ \'progress-bar-error\' : dashboard.summary.computePercentage(singleBillingItem.usedQuantity,singleBillingItem.includedQuantity) >= 100 }">\n            <span class="fill" style="width:{{dashboard.summary.computePercentage(singleBillingItem.usedQuantity,singleBillingItem.includedQuantity)}}%;"></span>\n          </span>\n        </div>\n      </div>\n\n      <div>\n        <p class="text-center">\n          <a ds-modal=\'billing-and-usage/usage-details.html\' ds-size=\'xl\' translate=\'View Usage Details\'></a>\n        </p>\n      </div>\n    </div>\n\n    <div class="fgrid_cell">\n      <h2 translate="Plan"></h2>\n\n      <div ng-if="dashboard.summary.planClassificationObj === null">\n        <div class="text-center badge-icon" ng-class="dashboard.summary.planIcon"\n            ng-controller="CurrentAccountInformationController as currentAccount">\n          <h4 translate="{{ dashboard.summary.name }}"></h4>\n          \n          <span translate="Account ID: [[accountId]]"\n            translate-interpolation=\'bracket\'\n            translate-values="{accountId: currentAccount.getId()}">\n          </span>\n          \n          <div ng-if="dashboard.summary.isWebPlan() && currentAccount.information.userInformation.userSettings.locale == \'en\'"\n              class="block_content">\n            <a ng-click="redirectToDotComBilling(\'closeAccount\', \'tgr=m-closeaccount\')"\n              target="_blank"\n              translate="Edit Plan">\n            </a>\n          </div>    \n        </div>    \n      </div>\n\n      <div ng-if="dashboard.summary.planClassificationObj !== null">\n        <div ng-controller="CurrentAccountInformationController as currentAccount"\n            class="text-center badge-icon"\n            ng-class="{\n              \'badge-plan-developer\': dashboard.summary.planClassificationObj.isDeveloperPlan(),\n              \'badge-plan-standard\': dashboard.summary.planClassificationObj.isStandardPlan(),\n              \'badge-plan-business-pro\': dashboard.summary.planClassificationObj.isBusinessPlan(),\n              \'badge-plan-real-estate\': dashboard.summary.planClassificationObj.isRealEstatePlan() || dashboard.summary.planClassificationObj.isRESimpleSigning(),\n              \'badge-plan-enterprise-pro\': dashboard.summary.planClassificationObj.isEnterprisePlan(),\n              \'badge-plan-free\': dashboard.summary.planClassificationObj.isFreePlan(),\n              \'badge-plan-personal\': dashboard.summary.planClassificationObj.isIndividualPlan() || dashboard.summary.planClassificationObj.isSimpleSigning()\n            }">\n          <h4 translate="{{ dashboard.summary.planClassificationObj.planGroup }}"></h4>\n\n          <span translate="Account ID: [[accountId]]"\n            translate-interpolation=\'bracket\'\n            translate-values="{accountId: currentAccount.getId()}">\n          </span>\n\n          <div ng-if="dashboard.summary.isWebPlan()  && currentAccount.information.userInformation.userSettings.locale == \'en\'" class="block_content">\n            <a ng-click="redirectToDotComBilling(\'closeAccount\', \'tgr=m-closeaccount\')"\n              translate="Edit Plan" target="_blank">\n            </a>\n          </div>    \n        </div>\n      </div>\n    </div>\n\n    <div class="fgrid_cell">\n\n      <div ng-switch="dashboard.summary.type">\n\n        <div ng-switch-when="Developer">\n          <div ng-if="dashboard.summary.canUpgrade">\n            <h2 translate="Get More"></h2>\n            <p translate="Upgrade now for more advanced features."></p>\n            <div class="text-center">\n              <a class="btn btn-main btn-lg"\n                 ng-click="redirectToDotComBilling(\'upgrade\', \'tgr=m-billing\')"\n                 translate="Upgrade">\n              </a>\n            </div>\n          </div>\n          <div ng-if="!dashboard.summary.canUpgrade">\n            <h2 translate="Support"></h2>\n            <div class="badge-icon badge-support"></div>\n            <p>\n              <span translate="Need Developer Support?"></span>\n              <a translate="Visit Developer Center" target="_blank" href="https://www.docusign.com/developer-center"></a>\n            </p>\n          </div>\n        </div>\n\n        <div ng-switch-when="Enterprise">\n          <h2 translate="Support"></h2>\n          <div class="text-center">\n            <div class="badge-icon badge-support"></div>\n            <span translate="Questions or Problems?"></span>\n            <a translate="Visit Our Support Center" target="_blank" href="https://support.docusign.com/en/contactSupport"></a>\n          </div>\n        </div>\n\n        <div ng-switch-default>\n\n            <div ng-if="dashboard.summary.canUpgrade">\n              <h2 translate="Get More"></h2>\n\n              <div ng-if="dashboard.summary.isTrial">\n                <p ng-if=\'dashboard.summary.type === "Business Pro"\'\n                   translate="Your trial ends [[date]]. Upgrade now to keep using your account."\n                   translate-interpolation="bracket"\n                   translate-values="{ date: dashboard.summary.trialExpiration.format(\'LL\') }">\n                </p>\n                <p ng-if=\'dashboard.summary.type !== "Business Pro"\'\n                   translate="Your trial ends [[date]]. Get all of DocuSign\'s features and unlimited sends."\n                   translate-interpolation="bracket"\n                   translate-values="{ date: dashboard.summary.trialExpiration.format(\'LL\') }">\n                </p>\n              </div>\n\n              <div ng-if="!dashboard.summary.isTrial">\n                <p translate="Upgrade now to add more users and advanced features."></p>\n              </div>\n\n              <p class="text-center">\n                <a class="btn btn-main btn-lg"\n                   ng-if=\'dashboard.summary.isTrial\'\n                   ng-click="redirectToDotComBilling(\'upgrade\', \'tgr=m-billing\')"\n                   translate="Upgrade">\n                </a>\n                <a class="btn btn-main btn-lg"\n                   ng-if=\'!dashboard.summary.isTrial\'\n                   ng-click="redirectToDotComBilling(\'upgrade\')"\n                   translate="Upgrade">\n                </a>\n              </p>\n            </div>\n\n            <div ng-if="!dashboard.summary.canUpgrade">\n                <h2 translate="Get More"></h2>\n                <div class="text-center">\n                  <div class="badge-icon badge-phone"></div>\n                  <div>\n                    <span translate="Interested in expanding your account\'s capabilities?"></span>\n                    <span translate="Contact Sales"></span> <a target="_top" href="mailto:sales@docusign.com">sales@docusign.com</a>\n                  </div>\n                </div>\n            </div>\n\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n\n<div ds-loading="dashboardLoaded"\n     ds-loading-completed="dashboardLoadingComplete"\n     ds-loading-error="{{\'It looks like we couldn\\\'t load your Plan Information. Please reload or try again later.\' | translate}}"></div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65).BillingAndUsageModule.factory("DashboardModel",["moment","lodash",function(e,t){var n={Freemium:"Freemium",Professional:"Professional",Developer:"Developer",Business:"Business",BusinessPremium:"BusinessPremium",RealEstate:"RealEstate",RealEstatePlus:"RealEstatePlus",RealtorsPlus:"RealtorsPlus",Realtors:"Realtors",Enterprise:"Enterprise",Mobile:"Mobile",RealEstateSimple:"RealEstateSimple",SimpleSigning:"SimpleSigning"},a={Freemium:"Freemium",Professional:"Professional",Developer:"Developer",Business:"Business",BusinessPremium:"Business Premium",RealEstate:"Real Estate",RealEstatePlus:"Real Estate Plus",RealtorsPlus:"Realtors&reg; Plus",Realtors:"Realtors&reg; ",Enterprise:"Enterprise",EnterprisePro:"Enterprise Pro",BusinessPro:"Business Pro",Standard:"Standard",AdvancedApiPlan:"Advanced API Plan",IntermediateApiPlan:"Intermediate API Plan",BasicApiPlan:"Basic API Plan",RealEstateSimple:"Real Estate for Simple Signing",SimpleSigning:"Simple Signing"},i={Professional:"badge-briefcase",Freemium:"badge-user",Developer:"badge-user",Business:"badge-briefcase",BusinessPremium:"badge-briefcase",RealEstate:"badge-house",RealEstatePlus:"badge-house",RealtorsPlus:"badge-house",Realtors:"badge-house ",Enterprise:"badge-office",RealEstateSimple:"badge-house",SimpleSigning:"badge-user"};function s(e,t){var n=100*e/t;return isFinite(n)?n:0}return function(o,r,l){var c=function(e){var t;return"credit_card"===e.paymentMethod||"purchase_order"===e.paymentMethod||"app_store"===e.paymentMethod?new RegExp("dev","i").test(e.planName)?t=n.Developer:new RegExp("business","i").test(e.planName)?(t=n.Business,new RegExp("premium","i").test(e.planName)&&(t=n.BusinessPremium)):t=new RegExp("real","i").test(e.planName)?new RegExp("plus","i").test(e.planName)?new RegExp("estate","i").test(e.planName)?n.RealEstatePlus:n.RealtorsPlus:new RegExp("realtor","i").test(e.planName)?n.Realtors:n.RealEstate:new RegExp("simple","i").test(e.planName)?new RegExp("real","i").test(e.planName)?n.RealEstateSimple:n.SimpleSigning:new RegExp("enterprise|platform|system automated","i").test(e.planName)?n.Enterprise:n.Professional:t=n.Freemium,t}(r),d=function(e){var n=e.planName&&e.planName.toLowerCase().split(/\s*[-+]\s*/gi),a=i(n,["real estate","free","freemium","business pro","business","enterprise pro","enterprise","personal","standard","developer","advanced api plan","intermediate api plan","basic api plan","simple signing","real estate for simple signing"],!0)||"";function i(e,n,a){return t.find(e,function(e){return t.find(n,function(t){return a?-1!==e.search(t):e===t})})}return e.distributorCode&&i([e.distributorCode],["2016-DocuSign-Direct","2016-DocuSign-MasterPlanSet","2016-DocuSign-Mobile","2016-DocuSign-Mobile-NoActivation","2016-DocuSign-Web"],!0)||e.planClassification?{planClassification:e.planClassification,billingPlanLength:i(n,["annual","month"],!0)||null,paymentMethod:e.paymentMethod||i(n,["free","itunes","google play","po","cc","credit card","purchase order","app store"],!1),planGroup:a,isDeveloperPlan:function(){return"developer"===a||a.match("api")},isStandardPlan:function(){return"standard"===a},isBusinessPlan:function(){return a.match("business")},isRealEstatePlan:function(){return a.match("estate")},isEnterprisePlan:function(){return a.match("enterprise")},isFreePlan:function(){return a.match("free")},isIndividualPlan:function(){return a.match("individual")||a.match("personal")},isRESimpleSigning:function(){return a.match("simple")&&a.match("real")},isSimpleSigning:function(){return a.match("simple")&&!a.match("real")}}:null}(r),u=function(n,a){var i=[];function s(e,n,a){return!0===a&&n.indexOf(e.chargeName)>-1&&t.some(i,{chargeName:e.chargeName})?i.length<3:(t.isArray(n)?-1!==n.indexOf(e.chargeName)&&i.push(e):e.includedQuantity>0&&(1!==e.includedQuantity||e.usedQuantity!==e.includedQuantity)&&i.push(e),i.length<3)}return"free_trial"===a.paymentMethod?i.push({usedQuantity:function(){var t=a.billingPeriodEndDate.diff(new e,"days");return t>=0?t:0}(),allowedQuantity:a.billingPeriodEndDate.diff(a.billingPeriodStartDate,"days"),chargeName:"Days Left"}):(t.each(n.sort(function(e,t){var n;return"seats"!==e.chargeName&&"seats"!==t.chargeName||(n="seats"===e.chargeName?e:t).alreadyAddedIncremental||(n.includedQuantity+=n.incrementalQuantity?n.incrementalQuantity:0,n.alreadyAddedIncremental=!0),"seats"===e.chargeName&&"seats"!==t.chargeName?0===e.includedQuantity?1:-1:"seats"!==e.chargeName&&"seats"===t.chargeName?0===t.includedQuantity?-1:1:0===e.includedQuantity?-1:0}),s),i.length<3&&function(e){t.each(n,function(t){return s(t,e,!0),i.length<3})}(["envelopes"])),i}(l,r);return{id:o,type:c,name:a[c],planClassificationObj:d,isTrial:"free_trial"===r.paymentMethod,planIcon:i[c],isWebPlan:function(){return["2016-DocuSign-Web","DSX2013WEBPACKAGING","DocuSignIt","NAR2013WEBPACKAGING"].some(e(r.distributorCode))&&!["api","developer","prime","employees","mobile"].some(e(r.planName));function e(e){return function(t){return e&&-1!==e.toLowerCase().indexOf(t.toLowerCase())}}},hasMetUserLimit:function(){return"unlimited"!==r.seatsAllowed&&r.seatsInUse>=r.seatsAllowed},usersInUse:r.seatsInUse,usersLimit:r.seatsAllowed,daysLeftInTrial:function(){var t=r.billingPeriodEndDate.diff(new e,"days");return t>=0?t:0},trialExpiration:r.billingPeriodEndDate,hasExpired:"freetrialexpired"===r.suspensionStatus,canUpgrade:r.canUpgrade,isPurchaseOrderAccount:"purchase_order"===r.paymentMethod,usageSummary:u,computePercentage:s}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65).BillingAndUsageModule.controller("DashboardController",["BillingAndUsageService","lodash",function(e,t){var n=this;function a(e){if(!e)return!1;return t.includes(["Freemium","Personal","Individual","Developer"],e)}e.dashboard().then(function(t){n.summary=t,n.showUsageSection=a,n.prettifyServiceName=e.prettifyServiceName})}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);!function(){a.module("radmin.BillingAndUsage").constant("BillingServiceChargeTypes",{id_check:"ID Check",in_person_signing:"In-Person Signing",age_verify:"Age verification check",ofac:"OFAC Check",id_confirm:"ID confirmation check",student_authentication:"STAN PIN authentication check",wet_sign_fax:"Sign by Fax",attachment_fax:"Attachment Fax",phone_authentication:"Phone Authentication",powerforms:"PowerForm",signer_payments:"Payment Processing",bulk_recipient_envelopes:"Bulk Recipient Envelopes",sms_authentications:"SMS Authentication",saml_authentications:"SAML Authentication",express_signer_certificate:"DocuSign Express Certificate",personal_signer_certificate:"Personal Signer Certificate",safe_certificate:"SAFE BioPharma Signer Certificate",open_trust_certificate:"OpenTrust Signer Certificate",seats:"Users",outbound_fax:"Fax",sms:"SMS",envelopes:"Envelopes",saml_authentication:"SAML Authentication",safe_authentication:"SAFE Certificate",opentrust_certificate:"OpenTrust Certificate"})}()},function(e,t){var n="billing-and-usage/billing-information/billing-information.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="billing-information section">\n  <h2 class="header-title" translate="Billing Information">\n  </h2>\n\n  <div class="grid" ng-show="billingInformationLoadingComplete">\n    <div class="col-1-2">\n      <dl class="def-list">\n\n        <dt translate="Billing Terms"></dt>\n        <dd>\n          <div ng-if="!isPurchaseOrderAccount">\n            <span ng-if="isPriceValid">\n              <span ng-if="isBillingAnnually" translate="[[price]]/year" translate-interpolation="bracket" translate-values="{ price: perSeatPrice }"></span>\n              <span ng-if="!isBillingAnnually" translate="[[price]]/month" translate-interpolation="bracket" translate-values="{ price: perSeatPrice }"></span>\n            </span>\n            <span ng-if="isBillingAnnually" translate="Billed Annually"></span>\n            <span ng-if="!isBillingAnnually" translate="Billed Monthly"></span>\n          </div>\n          <div ng-if="isPurchaseOrderAccount">\n            <span translate="Purchase Order"></span>\n          </div>\n\n          <div ng-if="showAnnualBillingLink">\n            <a ng-click="redirectToDotComBilling(\'upgrade\', \'monthlytoannual=true\')"\n               translate="Save up to 33% with Annual Billing"></a>\n          </div>\n        </dd>\n\n        <dt translate="Current Billing Period"></dt>\n        <dd>{{ billingPeriodStartDate | moment:\'LL\' }} - {{ billingPeriodEndDate | moment:\'LL\' }}</dd>\n\n        <dt translate="Next Payment Due"></dt>\n        <dd ng-switch on="accountPastDue">\n          <span ng-switch-when="true">\n            <span class="text-alert" translate="Your account is past due!"></span>\n            <a ng-click="redirectToDotComBilling(\'updateCard\')" translate="Pay Now"></a>\n          </span>\n          <span ng-switch-when="false"> {{ billingDueDate | moment:\'LL\' }}</span>\n        </dd>\n      </dl>\n    </div>\n    <div class="col-1-2 bg-contrast" ng-class="expiredCC ? \'has-error\' : \'\'">\n        <dl class="def-list">\n            <dt >\n                <span  translate="Payment Method"></span> &nbsp;&nbsp;&nbsp;\n                <a ng-if="!isPurchaseOrderAccount && !isPaypal" ng-click="redirectToDotComBilling(\'updateCard\')" translate="Edit Billing"></a>\n                <a ng-if="!isPurchaseOrderAccount && isPaypal" ng-click="redirectToDotComBilling(\'updateCard\')" translate="Edit"></a>\n            </dt>\n\n            <dd ng-if="ccLine !== \'\'">\n                <p>\n                    {{ ccLine }}\n                    <span ng-if="ccExpiryDate !== undefined"\n                          ng-class="expiredCC ? \'text-alert\' : \'\'">\n                        <span ng-if="expiredCC" translate="( expired [[date]] )" translate-interpolation="bracket" translate-values="{ date: ccExpiryDate }"></span>\n                        <span ng-if="!expiredCC" translate="( expires [[date]] )" translate-interpolation="bracket" translate-values="{ date: ccExpiryDate }"></span>\n                    </span>\n                </p>\n\n                <p ng-if="ccAddressLine1 !== \'\'">{{ ccAddressLine1 }}</p>\n                <p ng-if="ccAddressLine2 !== \'\'">{{ ccAddressLine2 }}</p>\n                <p ng-if="ccAddressLine3 !== \'\'">{{ ccAddressLine3 }}</p>\n\n            </dd>\n            <dd ng-if="ccLine === \'\'">\n                <div  ng-switch on="isPaypal">\n                    <div ng-switch-when="true">\n                        <p>\n                            <span translate="Paypal"></span>\n                        </p>\n                        <p ng-if="paypalAccount!==\'\'">\n                            <span translate="Account"></span>: {{paypalAccount}}\n                        </p>\n                        <br />\n                        <br />\n                    </div>\n                    <div ng-switch-when="false">\n                        <div ng-switch on="isPurchaseOrderAccount">\n                            <div ng-switch-when="true">\n                                <p>\n                                    <span translate="Purchase Order"></span>\n                                </p>\n\n                                <p>\n                                    {{ ccAddressLine1 }}<br />\n                                    {{ ccAddressLine2 }}<br />\n                                    {{ ccAddressLine3 }}\n                                </p>\n\n                            </div>\n                            <p ng-switch-when="false">\n                                <span translate="No card on file"></span>\n                        <span>\n                            <br />\n                            <a ng-if="!accountInfo.isDev" ng-click="redirectToDotComBilling(\'updateCard\')" translate="Please add one to avoid service disruptions."></a>\n                        </span>\n                            </p>\n                        </div>\n                    </div>\n\n                </div>\n\n            </dd>\n        </dl>\n    </div>\n  </div>\n\n  <div ds-loading="billingInformationLoaded" ds-loading-completed="billingInformationLoadingComplete" ds-loading-error="{{\'It looks like we couldn\\\'t load your Billing Information. Please reload or try again later.\' | translate}}"></div>\n\n</div>\n\n')}]),e.exports=n},function(e,t){var n="billing-and-usage/billing-history/billing-history.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="section">\n  <div class="grid history-filter-bar">\n    <div class="col-1-2">\n      <h2 class="header-title" translate="Billing History">\n      </h2>\n    </div>\n    <div class="col-1-2">\n      <div class="u-float-right">\n        <button type="button" class="btn btn-secondary btn-trigger btn-select-list"\n                olive-menu="menuSort" translate="{{ currentFilter }}">\n        </button>\n        <div id="menuSort" class="menu select-menu invisible">\n          <ul>\n            <li class="item" ng-repeat="year in filterYears"\n                ng-click="selectFilter(year)"\n                ng-class="{true: \'on\'}[currentFilter === year]" translate="{{ year }}">\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <table class="data-tbl mtbl">\n      <thead>\n        <tr>\n          <th ng-repeat="header in tableHeaders" translate="{{ header.name }}"></th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="activity in billingActivity | filter: filterTransactions">\n          <td data-title="Date:">\n            <span>{{ activity.paymentDate.format(\'L\') || activity.dueDate.format(\'L\') }}</span>\n          </td>\n\n          <td data-title="Action:">\n            <span ng-if="activity.paymentId !== undefined" translate="Payment"></span>\n            <span ng-if="activity.invoiceId !== undefined" translate="Invoice"></span>\n          </td>\n\n          <td data-title="Transaction #:">\n            <span ng-if="activity.paymentId !== undefined">{{ activity.paymentNumber }}</span>\n            <span ng-if="activity.invoiceId !== undefined && activity.pdfAvailable === false">\n              {{ activity.invoiceNumber }}\n            </span>\n            <a ng-if="activity.invoiceId !== undefined && activity.pdfAvailable"\n                type="application/pdf"\n                target="_blank" download\n                ng-href="{{generateInvoiceUri(activity.invoiceId)}}">\n              {{ activity.invoiceNumber }}\n            </a>\n          </td>\n\n          <td data-title="Amount:">\n            <span>\n              <span ng-show="activity.paymentId !== undefined">-</span>{{ activity.amount }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div ds-loading="invoicePaymentsLoaded" ds-loading-error="{{\'It looks like we couldn\\\'t load your Billing History. Please reload or try again later.\' | translate}}"></div>\n\n    <a class="u-float-right"\n       ng-if="hasMoreBillingActivity"\n       ng-click="showMoreBillingActivity()" translate="Show More"></a>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(0),s=n(65),o=n(106);s.BillingAndUsageModule.controller("BillingUsageController",["$scope","$q","$filter","BillingUsageInformation","RADminApiClient","$window","appUser","$translate","lodash",function(e,t,n,s,r,l,c,d,u){e.getBillingActivities=function(){var t=a.isArray(e.payments.billingPayments)?e.invoices.billingInvoices.concat(e.payments.billingPayments):e.invoices.billingInvoices;e.billingActivity=u.sortBy(t,function(e){return e.paymentDate||e.dueDate}).reverse();var i=[];a.forEach(e.billingActivity,function(e){e.paymentDate?(i.push(e.paymentDate.year()),e.date=e.paymentDate):e.dueDate&&(i.push(e.dueDate.year()),e.date=e.dueDate)}),e.filterYears=n("orderBy")(u.uniq(i),function(e){return e},!0),e.filterYears.unshift("All Transactions"),e.hasMoreBillingActivity=e.billingActivity.length>6&&(e.payments.hasPreviousPage||e.invoices.hasPreviousPage)},e.tableHeaders=[{name:"Date"},{name:"Action"},{name:"Transaction #"},{name:"Amount"}],e.currentFilter="All Transactions",e.accountId=c.getCurrentAccountId(),e.redirectToDotComBilling=function(e,t){var n;switch(e){case"upgrade":n=o.MagentoBillingAction.upgrade;break;case"updateCard":n=o.MagentoBillingAction.updateCard;break;case"closeAccount":n=o.MagentoBillingAction.closeAccount}u.isUndefined(n)||r.createMagentoUri(c.getCurrentAccountId(),n,l.location.href,t).then(function(e){l.location.href=e})},e.generateInvoiceUri=function(e){return s.generateInvoiceUri(c.getCurrentAccountId(),e)},e.filterTransactions=function(t){return"All Transactions"===e.currentFilter||(t.dueDate?t.dueDate.year()===e.currentFilter:t.paymentDate?t.paymentDate.year()===e.currentFilter:void 0)},e.selectFilter=function(t){e.currentFilter=t},e.showMoreBillingActivity=function(){var n=e.invoices.hasPreviousPage?e.invoices.getPreviousPage():null,a=e.payments.hasPreviousPage?e.payments.getPreviousPage():null;t.all([n,a]).then(function(t){var n=t[0],a=e.invoices,i=t[1],s=e.payments;u.isEmpty(n)||(e.invoices=n,e.invoices.billingInvoices=a.billingInvoices.concat(n.billingInvoices||[])),u.isEmpty(i)||(e.payments=i,e.payments.billingPayments=s.billingPayments.concat(i.billingPayments||[])),e.getBillingActivities()})};var p=s.getAccountInformation(c.getCurrentAccountId()),m=s.getAccountPlan(c.getCurrentAccountId()),g=s.getAccountInvoices(c.getCurrentAccountId()),h=s.getAccountPayments(c.getCurrentAccountId());e.dashboardLoaded=p.then(function(t){e.accountInfo=t}),e.billingInformationLoaded=t.all({accountInfo:p,plan:m}),e.billingInformationLoaded.then(function(t){var n=t.plan,s=t.accountInfo,o="purchase_order"===s.paymentMethod,r=n.billingPlan.paymentCycle.toLowerCase(),l=n.billingPlan.perSeatPrice,c=n.creditCardInformation,p=!u.isUndefined(n.paymentProcessorInformation);if(e.showAnnualBillingLink="monthly"===a.lowercase(n.billingPlan.paymentCycle),e.isPurchaseOrderAccount=o,e.isPaypal=p,p&&(e.paypalAccount=n.paymentProcessorInformation.email),e.isBillingAnnually="annually"===r,e.isPriceValid=/[1-9]/.test(l),""!==r&&"credit_card"===s.paymentMethod&&(e.perSeatPrice=n.billingPlan.perSeatPrice),e.billingPeriodStartDate="",a.isDefined(s.billingPeriodStartDate)&&(s.planName.search(/annual/gi)>-1?e.billingPeriodStartDate=s.planStartDate:e.billingPeriodStartDate=s.billingPeriodStartDate),e.billingPeriodEndDate="",e.billingDueDate="",u.isEmpty(s.billingPeriodEndDate)||(s.planName.search(/annual/gi)>-1?e.billingPeriodEndDate=e.billingDueDate=s.planEndDate:e.billingPeriodEndDate=e.billingDueDate=s.billingPeriodEndDate),e.accountPastDue=!1,s.suspensionStatus&&""!==s.suspensionStatus&&(e.accountPastDue=new RegExp("outstandinginvoice","i").test(s.suspensionStatus)),e.ccLine="",e.ccAddressLine1="",e.ccAddressLine2="",e.ccAddressLine3="",!u.isUndefined(c)||!u.isEmpty(c)){c.address=n.billingAddress||n.creditCardInformation&&n.creditCardInformation.address||"",c.nameOnCard=function(e){return[e.firstName||"",e.lastName||""].join(" ").trim()}(n.billingAddress)||n.creditCardInformation&&n.creditCardInformation.nameOnCard||"";var m=a.isDefined(c.cardType)?a.uppercase(c.cardType):"",g=c.cardNumber,h=a.isDefined(g)&&g.length>12?g.substr(g.length-4,4):null;if(e.ccLine=m.length>0?d.instant("{{cardType}} ending in {{lastFour}}",{cardType:m,lastFour:h}):"",e.ccAddressLine1=c.nameOnCard||"",c.address){e.ccAddressLine2=c.address.address1||"";var f=c.address.city?c.address.city+", ":"",v=c.address.stateOrProvince||c.address.state||"",_=c.address.postalCode||"";e.ccAddressLine3=f+v+" "+_}if(c.expirationMonth&&c.expirationYear){var b=i().day(1).month(c.expirationMonth-1).year(c.expirationYear).endOf("month");e.expiredCC=!1,e.ccExpiryDate="",i()>b&&(e.expiredCC=!0),e.ccExpiryDate=c.expirationMonth+"/"+c.expirationYear}}}),e.invoicePaymentsLoaded=t.all({invoices:g,payments:h,accountInfo:p}),e.invoicePaymentsLoaded.then(function(t){e.invoices=t.invoices,e.payments=t.payments,e.hasMoreBillingActivity=!1;var n=[];e.invoices.hasPreviousPage&&(e.invoicesPreviousPage=e.invoices.getPreviousPage(),n.push(e.invoicesPreviousPage)),e.payments.hasPreviousPage&&(e.paymentsPreviousPage=e.payments.getPreviousPage(),n.push(e.paymentsPreviousPage)),e.getBillingActivities()})}]).factory("BillingUsageInformation",["dsBilling","dsAccount","appUser","lodash",function(e,t,n,a){var i={isPaidPlan:!1,isDev:!1,isFree:!1,isTrial:!1,isIndividual:!1,isBusiness:!1,isRealEstate:!1,isEnterprise:!1,isProfessional:!1,accountTypeName:null};return{getAccountPlan:function(t){return e.getAccountPlan(t)},getAccountInformation:function(){return n.currentAccountInfo.informationRetrieved.then(function(){var e=a.defaults({},i,n.currentAccountInfo.information);if(e){e.isPaidPlan="credit_card"===e.paymentMethod||"purchase_order"===e.paymentMethod,e.isDev=new RegExp("dev","i").test(e.planName),e.isFree="freemium"===e.paymentMethod,e.isTrial="free_trial"===e.paymentMethod,e.isIndividual=e.isPaidPlan&&1===e.seatsAllowed,e.isBusiness=e.isPaidPlan&&new RegExp("business","i").test(e.planName),e.isRealEstate=e.isPaidPlan&&new RegExp("real","i").test(e.planName),e.isEnterprise=e.isPaidPlan&&new RegExp("enterprise","i").test(e.planName);var t=!(e.isBusiness||e.isRealEstate||e.isEnterprise);e.isProfessional=e.isPaidPlan&&t&&(e.seatsAllowed>1||"unlimited"===e.seatsAllowed)}return e})},getAccountPayments:function(t){return e.getAccountPayments(t)},getAccountInvoices:function(t){return e.getAccountInvoices(t)},getAccountCharges:function(t){return e.getAccountCharges(t)},generateInvoiceUri:function(t,n){return e.generateInvoiceUri(t,n)}}}])},function(e,t){var n="billing-and-usage/billing-and-usage.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="billing-and-usage site main" ng-controller="BillingUsageController">\n  <div class="section">\n    <h1 class="header-title" translate="Billing and Usage"></h1>\n  </div>\n\n  <div class="section"\n       include-replace\n       ng-include="\'billing-and-usage/dashboard.html\'"></div>\n  <div ng-if=\'!accountInfo.isTrial && !accountInfo.isFree\'>\n    <div class="section"\n         include-replace\n         ng-include="\'billing-and-usage/billing-information/billing-information.html\'"></div>\n    <div class="section"\n         include-replace\n         ng-include="\'billing-and-usage/billing-history/billing-history.html\'"></div>\n  </div>\n\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65).BillingAndUsageModule.factory("BillingAndUsageService",["DashboardModel","appUser","dsApiClient","ServiceUsageSummaryModel","lodash","BillingServiceChargeTypes",function(e,t,n,a,i,s){var o,r=t.getCurrentAccountId(),l=n.endpoint().accounts(r).billingCharges().uri();return o=n.get(l).then(function(e){return e}),{prettifyServiceName:function(e){return s[e]||e.replace(/_/g," ").split(" ").map(function(e){switch(e){case"id":return"ID";case"sms":return"SMS";default:return i.capitalize(e)}}).join(" ")},planType:null,dashboard:function(){var n=this;return t.currentAccountInfo.informationRetrieved.then(function(){return o.then(function(a){var i=e(r,t.currentAccountInfo.information,a.data.billingChargeItems);return n.planType=i.type,i})})},usageSummary:function(){return o.then(function(e){return i.map(e.data.billingChargeItems,a)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(274).AuditLogModule.factory("AuditLogService",["dsAuditLog","lodash","moment","AuditLogDescriptions","AuditLogFields",function(e,t,n,a,i){var s=100,o=new n("6/1/2015").startOf("day").utc(),r=!1;function l(e){return{auditLogDate:e.auditLogDate,userId:e.userId,userName:e.userName,userEmail:e.userEmail,auditLogDescription:function(e){return a[e.auditLogType]||e.auditLogDescription}(e),auditLogRecordName:e.auditLogRecordName,auditLogType:e.auditLogType,auditLogId:e.id,fieldName:function(e){var n=t.find(i,{fieldName:e.field,auditEventType:e.auditLogType.toUpperCase()});return n?n.displayName:e.fieldName}(e),oldValue:e.oldValue,newValue:e.newValue,isLongDescriptionType:function(e){return"account_envelope_unsharing_changed"===e.auditLogType||"account_envelope_sharing_changed"===e.auditLogType}(e)}}return{getLogs:function(n,a,i){i.diff(o)<0&&(i=o);a.diff(o)<0?(a=o,r=!0):r=!1;return e.getAuditLogForAccount(n,a,i).then(function(e){if(0===e.TotalRows)return{changeCount:0,changeLimitReached:!1,changeLimitByMinDate:r,changeLimitMinDate:o,changeLimit:s,changes:[]};var n=t.map(e.accountAuditLogs.accountAuditLog,function(e){return t.map(e.auditLogChanges.accountAuditLogChange,function(n){var a=t.assign(n,t.pick(e,["auditLogDate","auditLogDescription","auditLogRecordName","auditLogType","id"]));return a.userId=e.auditLogResponsibleUser.userId,a.userName=e.auditLogResponsibleUser.userName,a.userEmail=e.auditLogResponsibleUser.email,a})}),a=t.flatten(n),i=t.map(t.take(a,s),l);return{changeCount:a.length,changeLimitReached:a.length>s,changeLimitByMinDate:r,changeLimitMinDate:o,changeLimit:s,changes:i}})},createCsvExportUri:function(t,n,a){a.diff(o)<0&&(a=o);n.diff(o)<0&&(n=o,r=!0);return e.generateAuditLogCsvDownloadUri(t,n,a)}}}])},function(e,t){var n="audit-log/audit-log-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AuditLogListController as list" class="audit-log-list">\n  <div class="section-header">\n    <div>\n      <h1 class=\'header-title side-by-side\' translate="Audit Logs"></h1>&nbsp;&nbsp;\n      <div class="side-by-side" ng-if="itemsDoneLoading" id="audit-log-event-count-div">\n        <span class="listCount text-muted">(</span>\n        <h1 class="side-by-side text-muted" translate="[[eventCount]] Events" translate-interpolation="bracket"\n            translate-values="{eventCount: list.itemCount}"></h1>\n        <span class="listCount text-muted">)</span>\n      </div>\n      <div class="header-meta" ng-if="itemsDoneLoading && list.itemLimitByMinDate" id="audit-log-early-start-date-div">\n        <span translate="Audit log data is no older than [[minLogDate]]." translate-interpolation="bracket"\n              translate-values="{minLogDate: list.itemLimitMinDate}"></span>\n      </div>\n      <div class="header-description">\n        <p\n          translate="Audit logs provide a record of the changes made to account settings, users, user settings, billing information, and plan details. This view can display up to 100 audit events. Use the Export to CSV option to export the complete audit log and view all events."></p>\n      </div>\n    </div>\n    <div class="fgrid fgrid--gutters">\n      <div class="fgrid_cell">\n        <button type="button" class="btn btn-secondary btn-trigger btn-select-list btn-align-top"\n                data-qa="audit_logs_select_date_range_filter_btn"\n                olive-menu="audit-log-date-range-filter" translate="{{list.selectedDateRangeText}}"\n                id="audit-log-date-range-filter-btn"></button>\n        <div class="menu select-menu invisible" id="audit-log-date-range-filter">\n          <ul id="audit-log-date-range-filter-custom-item">\n            <li>\n              <a class="item" ng-class="{\'on\': list.customDateRange == true}" ng-click="list.setCustomDateRange()"\n                 data-qa="audit_logs_filter_date_range_custom_item">\n                <span translate="Custom"></span>\n              </a>\n            </li>\n          </ul>\n          <ul>\n            <li ng-repeat="range in list.dateRanges" class="item"\n                ng-class="{\'on\': range.text == list.selectedDateRangeText && list.customDateRange == false}"\n                ng-click="list.searchDateRange(range)" translate="{{range.text}}">\n            </li>\n          </ul>\n        </div>\n        <div ng-if="list.customDateRange" class="column-date-picker side-by-side" style="padding-left:10px"\n             id="audit-log-custom-date-range-picker">\n          <div ds-cal ds-type="range" class="side-by-side">\n            <div class="cal-input">\n              <span class="input-group">\n                <span class="addon icon icon-field-date" ds-cal-start-date-icon></span>\n                <input translate translate-attr-placeholder=\'start date\' type=\'text\'\n                  class="input-text ds-range-start" readonly\n                  ng-model="list.dateRangeStartDate"\n                  data-qa="audit_logs_start_date_txtb"\n                  id="audit-log-custom-search-start-date-textbox" />\n              </span>\n            </div>\n            <div class="cal-input">\n              <span class="input-group">\n                <span class="addon icon icon-field-date" ds-cal-end-date-icon></span>\n                <input translate translate-attr-placeholder=\'end date\' type=\'text\'\n                  class="input-text ds-range-end ds-valid" readonly\n                  ng-model="list.dateRangeEndDate"\n                  data-qa="audit_logs_end_date_txtb"\n                  id="audit-log-custom-search-end-date-textbox" />\n              </span>\n            </div>\n          </div>\n          <button id="audit-log-custom-search-apply-button" class=\'btn btn-secondary btn-md btn-align-top\' ds-size=\'lg\'\n                  ng-click="list.validateAndRunDatePicker()" ng-if="list.customDateRange"\n                  data-qa="audit_logs_apply_date_range_btn">\n            <span translate="Apply"></span>\n          </button>\n        </div>\n      </div>\n      <div class="fgrid_cell fgrid_cell-1-4">\n        <a id="audit-log-export-csv-button" class=\'btn btn-secondary btn-md u-float-right\' ds-size=\'lg\'\n            ng-if="list.hasItems()"\n            data-qa="audit_logs_export_to_csv_link"\n            target="_self" ng-href="{{list.createExportLinkUri()}}">\n          <span translate="Export To CSV"></span>\n        </a>\n      </div>\n    </div>\n  </div>\n  <table class="tbl tbl-striped"\n         ds-sortable="sortProperty"\n         ds-sortable-initial-property="auditLogDate"\n         ds-sortable-reverse="reverseSort"\n         ds-sortable-initially-reversed>\n    <thead>\n    <tr>\n      <th ds-sort="auditLogDate"><span translate="Event Date"></span></th>\n      <th ds-sort="userName"><span translate="User"></span></th>\n      <th ds-sort="auditLogDescription"><span translate="Description"></span></th>\n      <th ds-sort="fieldName"><span translate="Field"></span></th>\n      <th ds-sort="oldValue"><span translate="Old Value"></span></th>\n      <th ds-sort="newValue"><span translate="New Value"></span></th>\n    </tr>\n    </thead>\n    <tbody ng-if="itemsDoneLoading && list.hasItems()">\n    <tr class="row" ng-repeat="item in list.items | orderBy:sortProperty:reverseSort">\n      <td class="column-name u-nowrap">{{item.auditLogDate | moment:list.dateTimeFormat:list.timeZone}}</td>\n      <td class="column-name">{{list.formatResponsibleUser(item.userId, item.userName, item.userEmail)}}</td>\n      <td class="column-name" colspan="4" ng-if="item.isLongDescriptionType" translate="{{item.fieldName}}"\n          translate-interpolation="bracket" translate-values="{to: item.newValue, from: item.oldValue}"></td>\n      <td class="column-name" ng-if="!item.isLongDescriptionType">\n        <span translate="{{item.auditLogDescription}}"></span>\n        <span ng-if="item.auditLogRecordName.toString().length"> - {{item.auditLogRecordName}}</span>\n      </td>\n      <td class="column-name" ng-if="!item.isLongDescriptionType" translate="{{item.fieldName}}"></td>\n      <td class="column-name" ng-if="!item.isLongDescriptionType">{{item.oldValue}}</td>\n      <td class="column-name" ng-if="!item.isLongDescriptionType">{{item.newValue}}</td>\n    </tr>\n    </tbody>\n  </table>\n  <div class="emptyState" ng-if="itemsDoneLoading && !list.hasItems()" id="audit-log-no-items-div">\n    <i class="icon icon-voided emptyState_icon"></i>\n    <div class="emptyState_text">\n      <h3 translate="No Audit Logs"></h3>\n      <p translate="There are no audit logs to display based on the search filter."></p>\n    </div>\n  </div>\n  <div class="section-footer"\n      ng-if="itemsDoneLoading && list.itemLimitReached"\n      id="audit-log-limit-reached-div">\n    <div class="limitReached">\n      <span translate-interpolation="bracket" translate-compile\n        translate="Displaying first [[maxRows]] results. Need to see more? [[linkStart]]Export All[[linkEnd]] or filter the results above."\n        translate-values="{\n          maxRows: list.itemLimit,\n          linkStart: \'<a target=\\\'_blank\\\' ng-href=\\\'{{list.createExportLinkUri()}}\\\'>\',\n          linkEnd: \'</a>\'\n        }">\n      </span>\n    </div>\n  </div>\n  <div class="text-center grid pad" ds-loading="list.itemsLoaded" ds-loading-succeeded="itemsDoneLoading"\n       ds-loading-error="{{\'Oops! We had trouble loading your audit logs. Go ahead and try that again.\' | translate}}"></div>\n</div>\n\n')}]),e.exports=n},function(e,t,n){"use strict";function a(e,t,n,a,i,s,o,r){var l=this;function c(){var e,t,r,c;if(r=new o(l.dateRangeStartDate,"L").utc(),c=new o(l.dateRangeEndDate,"L").utc(),r.isValid()?c.isValid()?c.diff(r,"months")>=24?e=s.instant("The maximum date range is {{max}} months.",{max:24}):c.diff(r)<0&&(e=s.instant("The start date cannot be after the end date.")):e=s.instant("The end date is invalid."):e=s.instant("The start date is invalid."),!i.isEmpty(e))return t="alert",n.closeModal(),void a.show({msg:e,type:t});l.searchDateRange({type:"custom"})}function d(i){var s,r,c,d;"preset"===i.type?(l.selectedDateRangeText=i.text,d=o().utc(),c=o().utc().subtract(i.units,i.unitOfMeasure),l.customDateRange=!1,l.dateRangeStartDate=c,l.dateRangeEndDate=d):"custom"===i.type&&(c=o(l.dateRangeStartDate,"L").startOf("day").utc(),d=o(l.dateRangeEndDate,"L").endOf("day").utc()),l.itemsLoaded=t.getLogs(e.getCurrentAccountId(),c,d).then(function(e){l.items=e.changes,l.itemCount=e.changeCount,l.itemLimitReached=e.changeLimitReached,l.itemLimitByMinDate=e.changeLimitByMinDate,l.itemLimitMinDate=e.changeLimitMinDate.format("L"),l.itemLimit=e.changeLimit},function(e){s=e.data.message,r="alert",n.closeModal(),a.show({msg:s,type:r})})}function u(){var n,a,i=o(l.dateRangeStartDate,"L"),s=o(l.dateRangeEndDate,"L");return l.customDateRange?(n=i.startOf("day").utc(),a=s.endOf("day").utc()):(n=i.utc(),a=s.utc()),t.createCsvExportUri(e.getCurrentAccountId(),n,a)}function p(){"Custom"!==l.selectedDateRangeText&&(l.dateRangeStartDate="",l.dateRangeEndDate="",l.items=[],l.customDateRange=!0,l.selectedDateRangeText="Custom",l.itemLimitReached=!1,l.itemLimitByMinDate=!1)}function m(){return!i.isEmpty(l.items)}function g(e,t,n){if("SYSTEM_USER"===t){var a="DocuSign System";return"00000000-0000-0000-0000-000000000000"!==e&&(a="DocuSign System User"),s.instant(a)}return t+(n?" | "+n:"")}l.dateRanges=[{type:"preset",units:7,unitOfMeasure:"days",text:"Last 7 days"},{type:"preset",units:30,unitOfMeasure:"days",text:"Last 30 days"},{type:"preset",units:6,unitOfMeasure:"months",text:"Last 6 Months"},{type:"preset",units:1,unitOfMeasure:"years",text:"Last Year"}],l.dateRangeEndDate="",l.dateRangeStartDate="",l.customDateRange=!1,l.itemsLoaded=!1,l.items=null,l.itemCount=0,l.itemLimitReached=!1,l.itemLimit=100,l.csvRange="",l.itemLimitByMinDate=!1,l.itemLimitMinDate="",l.hasItems=m,l.searchDateRange=d,l.setCustomDateRange=p,l.validateAndRunDatePicker=c,l.createExportLinkUri=u,l.formatResponsibleUser=g,l.dateTimeFormat=r.getDateTimeFormat(),l.timeZone=r.getTimeZone(),d({type:"preset",units:7,unitOfMeasure:"days",text:"Last 7 days"})}Object.defineProperty(t,"__esModule",{value:!0}),n(274).AuditLogModule.controller("AuditLogListController",["appUser","AuditLogService","dsModals","dsNotification","lodash","$translate","moment","DateTimeService",a]),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i="ACCOUNTSETTINGCHANGED",s="MEMBERSHIPSETTINGSCHANGED",o="SETTINGSTEMPLATECHANGED";t.AuditLogDescriptions={account_audit_log_billingaddresschanged:"Billing Address Change",account_audit_log_creditcardchanged:"Credit Card Change",account_audit_log_planchanged:"Billing Plan Change",accountsettingchanged:"Account Setting Change",membershipsettingschanged:"User Setting Change",usersettingschanged:"User Setting Change",settingstemplatechanged:"Permission Set Change",account_envelope_sharing_changed:"Envelope Sharing Added",account_envelope_unsharing_changed:"Envelope Sharing Removed"},t.AuditLogFields=[{fieldName:"AccessCodeFormatNumberRequired",displayName:"Access Code has at Least One Digit",auditEventType:i},{fieldName:"AccessCodeFormatRequired",displayName:"Access Code Format Required",auditEventType:i},{fieldName:"AccessCodeFormatRequiredLength",displayName:"Minimum Access Code Length",auditEventType:i},{fieldName:"AccessCodeFormatSpecialRequired",displayName:"Access Code has at Least One Special Character",auditEventType:i},{fieldName:"AccessCodeFormatTextRequired",displayName:"Access Code has at Least One Letter",auditEventType:i},{fieldName:"AccountName",displayName:"Account Name",auditEventType:i},{fieldName:"AccountName",displayName:"Account Name",auditEventType:s},{fieldName:"AccountNotificationSettings.ExpireAfter",displayName:"Number of days before request expires",auditEventType:i},{fieldName:"AccountNotificationSettings.ExpireWarnBuffer",displayName:"Number of days to warn signers before expiration",auditEventType:i},{fieldName:"AccountNotificationSettings.ReminderDelay",displayName:"Number of days between reminders",auditEventType:i},{fieldName:"AccountNotificationSettings.ReminderEnabled",displayName:"Send automatic reminders",auditEventType:i},{fieldName:"AccountNotificationSettings.ReminderFrequency",displayName:"Number of days between reminders",auditEventType:i},{fieldName:"AccountNotificationSettings.UserOverrideEnabled",displayName:"Allow users to override these settings",auditEventType:i},{fieldName:"AccountSigningSettings.AccountLoginRequired",displayName:"Recipients must log in",auditEventType:i},{fieldName:"AccountSigningSettings.AttachCertToEnvPDF",displayName:"Attach Certificate of Completion to the Envelope PDF",auditEventType:i},{fieldName:"AccountSigningSettings.BurnDefaultTabData",displayName:"Display SecureField initial value to all recipients",auditEventType:i},{fieldName:"AccountSigningSettings.CanCreateAccount",displayName:"Allow recipients to create an account",auditEventType:i},{fieldName:"AccountSigningSettings.CanSignOnMobile",displayName:"Allow recipients to sign on a mobile device",auditEventType:i},{fieldName:"AccountSigningSettings.InSessionUseEnvelopeCompleteEmail",displayName:"Use Envelope Complete Email for Embedded Signers",auditEventType:i},{fieldName:"AccountSigningSettings.MustHaveAccount",displayName:"Recipients must have an account",auditEventType:i},{fieldName:"Address1",displayName:"Address Line 1",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"Address2",displayName:"Address Line 2",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"AdoptInitMinPixels",displayName:"Minimum Pixels Required to Adopt Initials",auditEventType:i},{fieldName:"AdoptLandingDefault",displayName:"Signature Adopt Mode",auditEventType:i},{fieldName:"AdoptLockName",displayName:"Lock the Recipient Name",auditEventType:i},{fieldName:"AdoptMobLandingDefault",displayName:"Mobile Signature Adopt Mode",auditEventType:i},{fieldName:"AdoptSigConfigEnabled",displayName:"Signature Adoption Configuration",auditEventType:i},{fieldName:"AdoptSigDisableDraw",displayName:"Disable Draw Signature",auditEventType:i},{fieldName:"AdoptSigMinPixels",displayName:"Minimum Pixels Required to Adopt a Signature",auditEventType:i},{fieldName:"AdoptSigStyles",displayName:"Choose the Signature Styles Available ",auditEventType:i},{fieldName:"AdvancedCorrect",displayName:"Enable Advanced Correct",auditEventType:i},{fieldName:"AllowCDWithdraw",displayName:"Allow Signer to Withdraw their Consent",auditEventType:i},{fieldName:"AllowConsumerDisclosureOverride",displayName:"Allow recipients to withdraw their Consent ",auditEventType:i},{fieldName:"AllowDataDownload",displayName:"Allow Form Data Download",auditEventType:i},{fieldName:"AllowDocumentVisibility",displayName:"Allow Document Visibility",auditEventType:i},{fieldName:"AllowEnvelopeCustodyTransfer",displayName:"Allow Envelope Custody Transfer",auditEventType:i},{fieldName:"AllowEnvelopeTransferTo",displayName:"Allow Envelope Transfer",auditEventType:s},{fieldName:"AllowExpression",displayName:"Allow Calculated Fields",auditEventType:i},{fieldName:"AllowInPerson",displayName:"Allow In Person Signing",auditEventType:i},{fieldName:"AllowMemberSetSendViaSecureLink",displayName:"Self-signed Email Notifications are Delivered by",auditEventType:i},{fieldName:"AllowMemberSetTimeZone",displayName:"Allow Users to Set Their Own Unique Time Zone",auditEventType:i},{fieldName:"AllowMultipleSignerAttachments",displayName:"Allow Multiple Signer Attachments",auditEventType:i},{fieldName:"AllowOfflineSigning",displayName:"Allow Offline Signing on a Mobile Device",auditEventType:i},{fieldName:"AllowRequireSignerCertificate",displayName:"Require Signer Digital Certificate",auditEventType:i},{fieldName:"AllowResourceFileBranding",displayName:"Allow Resource File Branding",auditEventType:i},{fieldName:"AllowSecurityAppliance",displayName:"Configure DocuSign Security Appliance",auditEventType:i},{fieldName:"AllowSendOnBehalfOf",displayName:"Send On Behalf Of Rights (API)",auditEventType:s},{fieldName:"AllowSharedTabs",displayName:"Allow Shared Custom Fields",auditEventType:i},{fieldName:"AllowSignerReassign",displayName:"Allow Signer Reassign",auditEventType:i},{fieldName:"AllowSignerReassignOverride",displayName:"Allow Override of Reassign by Sender",auditEventType:i},{fieldName:"AllowSignNow",displayName:"Allow Sign An Envelope from Home Page",auditEventType:i},{fieldName:"AllowSocialRecipAuth",displayName:"Allow Social ID Recipient Authentication",auditEventType:i},{fieldName:"AllowStorageAppliance",displayName:"Configure DocuSign Storage Appliance",auditEventType:i},{fieldName:"AllowWorkspaceComments",displayName:"Allow Room Comments",auditEventType:i},{fieldName:"APIAccountWideAccess",displayName:"Account-Wide Rights (API)",auditEventType:s},{fieldName:"AttachCompletedEnvelope",displayName:"Attach Envelope to Completed Email",auditEventType:i},{fieldName:"AuthenticationCheck",displayName:"Authenticate on Return Access to Envelope",auditEventType:i},{fieldName:"AutoNavRule",displayName:"Guided Signing (Auto-Navigation)",auditEventType:i},{fieldName:"BCCEmailArchive",displayName:"BCC for Email Archive",auditEventType:i},{fieldName:"BulkSend",displayName:"Enable Bulk Recipients",auditEventType:i},{fieldName:"BulkSend",displayName:"Enable Bulk Recipients",auditEventType:s},{fieldName:"CanCreateWorkspaces",displayName:"Can Create Rooms",auditEventType:s},{fieldName:"CanEditSharedAddressBook",displayName:"Address Book (Contacts)",auditEventType:s},{fieldName:"CanManageAccount",displayName:"Can Manage Account",auditEventType:s},{fieldName:"CanManageTemplates",displayName:"Manage Templates",auditEventType:s},{fieldName:"CanSelfBrandSign",displayName:"Enable Signer Self Branding",auditEventType:i},{fieldName:"CanSendAPIRequests",displayName:"Submit DocuSign API Requests",auditEventType:s},{fieldName:"CanSendEnvelope",displayName:"Can Send Envelopes",auditEventType:s},{fieldName:"City",displayName:"City",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"CompanyName",displayName:"Company Name",auditEventType:s},{fieldName:"ConditionalFieldsEnabled",displayName:"Allow Conditional Fields",auditEventType:i},{fieldName:"ConsumerDisclosureFrequency",displayName:"Electronic Record and Signature Disclosure Frequency",auditEventType:i},{fieldName:"Country",displayName:"Country",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"CreditCardCardNumber",displayName:"Credit Card Number",auditEventType:"ACCOUNT_AUDIT_LOG_CREDITCARDCHANGED"},{fieldName:"CreditCardExpirationMonth",displayName:"Credit Card Exp Month",auditEventType:"ACCOUNT_AUDIT_LOG_CREDITCARDCHANGED"},{fieldName:"CreditCardExpirationYear",displayName:"Credit Card Exp Year",auditEventType:"ACCOUNT_AUDIT_LOG_CREDITCARDCHANGED"},{fieldName:"CurrencyType",displayName:"Currency Type",auditEventType:i},{fieldName:"DataPopulationScope",displayName:"Data Population Scope",auditEventType:i},{fieldName:"Department",displayName:"Department",auditEventType:s},{fieldName:"DisableMobilePushNotifications",displayName:"Disable Mobile Push Notifications",auditEventType:i},{fieldName:"DisableMultipleSessions",displayName:"Disable Multiple User Sessions",auditEventType:i},{fieldName:"DocumentRetention",displayName:"Envelope Retention",auditEventType:i},{fieldName:"DocumentRetentionPurgeMetaData",displayName:"Envelope Retention Remove Meta Data",auditEventType:i},{fieldName:"Email",displayName:"Email Address",auditEventType:s},{fieldName:"EnableAPIRequestLogging",displayName:"Enable API Request Logging",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"EnableAutoAC",displayName:"Enable Auto Authoritative Copy",auditEventType:i},{fieldName:"EnableAutoNavByAccountAdmin",displayName:"Allow Senders to Override",auditEventType:i},{fieldName:"EnableCalculatedFields",displayName:"Enable Calculated Fields",auditEventType:i},{fieldName:"EnableChromeSignature",displayName:"Enable DocuSign Signature Frame",auditEventType:i},{fieldName:"EnableDataFieldRegex",displayName:"Enable Data Field Regex",auditEventType:i},{fieldName:"EnableDataFieldSize",displayName:"Enable Data Field Size",auditEventType:i},{fieldName:"EnableInPersonSigning",displayName:"Enable In Person Signing",auditEventType:i},{fieldName:"EnableMarkup",displayName:"Allow Recipients to Edit Envelopes",auditEventType:i},{fieldName:"EnableOutboundFax",displayName:"Enable Fax Delivery to Recipients",auditEventType:i},{fieldName:"EnablePaymentProcessing",displayName:"Enable Payment Processing",auditEventType:i},{fieldName:"EnablePowerForm",displayName:"Enable PowerForms",auditEventType:i},{fieldName:"EnableReservedDomain",displayName:"Enable Reserve Domains",auditEventType:i},{fieldName:"EnableSavingCustomTags",displayName:"Enable Saving Custom Tags",auditEventType:i},{fieldName:"EnableSenderToChangeTagAssignment",displayName:"Enable Sender To Change Tag Assignment",auditEventType:i},{fieldName:"EnableSendToAgent",displayName:"Enable Send To Address Recipients (Agent recipient type)",auditEventType:i},{fieldName:"EnableSendToCertifiedDelivery",displayName:"Enable Send To Certified Delivery",auditEventType:i},{fieldName:"EnableSendToManage",displayName:"Enable Send To Address Recipients (Editor recipient type)",auditEventType:i},{fieldName:"EnableSequentialSigningAPI",displayName:"Enable Sequential Signing (API)",auditEventType:s},{fieldName:"EnableSequentialSigningUI",displayName:"Enable Sequential Signing (UI)",auditEventType:s},{fieldName:"EnableSharedCustomTags",displayName:"Enable Shared Custom Tags",auditEventType:i},{fieldName:"EnableSignerAttachments",displayName:"Enable Signer Attachments",auditEventType:i},{fieldName:"EnableSignerAttachments",displayName:"Enable Signer Attachments",auditEventType:s},{fieldName:"EnableSTANIDCheck",displayName:"Enable Student Auth Network ID Check",auditEventType:i},{fieldName:"EnableTagDataLabel",displayName:"Enable Tag Data Label",auditEventType:i},{fieldName:"EnableTagLocation",displayName:"Enable Tag Location",auditEventType:i},{fieldName:"EnableTagLocking",displayName:"Enable Tag Locking",auditEventType:i},{fieldName:"EnableTagScale",displayName:"Enable Tag Scale",auditEventType:i},{fieldName:"EnableTagTextFormatting",displayName:"Enable Tag Text Formatting",auditEventType:i},{fieldName:"EnableTagTypeApproveDecline",displayName:"Enable Tag Type Approve Decline",auditEventType:i},{fieldName:"EnableTagTypeCheckbox",displayName:"Enable Tag Type Checkbox",auditEventType:i},{fieldName:"EnableTagTypeDataField",displayName:"Enable Tag Type DataField",auditEventType:i},{fieldName:"EnableTagTypeDropDown",displayName:"Enable Tag Type DropDown",auditEventType:i},{fieldName:"EnableTagTypeNote",displayName:"Enable Tag Type Note",auditEventType:i},{fieldName:"EnableTagTypeRadioButton",displayName:"Enable Tag Type RadioButton",auditEventType:i},{fieldName:"EnableTransactionPoint",displayName:"Enable TransactionPoint",auditEventType:i},{fieldName:"EnableTransactionPoint",displayName:"Enable TransactionPoint",auditEventType:s},{fieldName:"EnableVaulting",displayName:"Enable eVault",auditEventType:i},{fieldName:"EnableVaulting",displayName:"Enable eVault",auditEventType:s},{fieldName:"EnableWetSign",displayName:"Enable Sign on Paper",auditEventType:i},{fieldName:"EnableWetSignOverride",displayName:"Enable Signing on Paper Override",auditEventType:i},{fieldName:"EnableWetSignOverride",displayName:"Enable Signing on Paper Override",auditEventType:s},{fieldName:"EnableWorkspaces",displayName:"Enable Rooms",auditEventType:i},{fieldName:"EnvelopeDataChanged",displayName:"Enable a Sender to Highlight Changes Made by a Signer",auditEventType:i},{fieldName:"EnvelopeIntegrationEnabled",displayName:"Enable DocuSign Connect",auditEventType:i},{fieldName:"EnvelopeStampingDefaultValue",displayName:"Envelope ID Stamping Default Value",auditEventType:i},{fieldName:"EODDocumentProfileTemplateID",displayName:"DocuSign Profile Template ID",auditEventType:i},{fieldName:"EODOrganization",displayName:"Organization",auditEventType:i},{fieldName:"EODPassword",displayName:"Password",auditEventType:i},{fieldName:"EODUserName",displayName:"User Name",auditEventType:i},{fieldName:"ExpressSignerCertificate",displayName:"Require DocuSign Express Digital Signature",auditEventType:i},{fieldName:"ExternalSignaturePadAllowed",displayName:"Signature Pad Allowed",auditEventType:i},{fieldName:"ExternalSignaturePadType",displayName:"Signature Pad Type",auditEventType:i},{fieldName:"FirstLastEmailTags",displayName:"First Last Email Tags",auditEventType:i},{fieldName:"FirstName",displayName:"First Name",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"ICPBrazilSignerCertificate",displayName:"Enable ICP Brazil Signer Certificate",auditEventType:i},{fieldName:"IDCheckExpire",displayName:"Authentication Requirements Should Expire",auditEventType:i},{fieldName:"IDCheckExpireDays",displayName:"Authentication Requirements Expire In XX Days",auditEventType:i},{fieldName:"IDCheckExpireMinutes",displayName:"Authentication Requirements Expire In XX Minutes",auditEventType:i},{fieldName:"IDCheckNewQuestionAttempts",displayName:"Number of ID Check Question Attempts Allowed",auditEventType:i},{fieldName:"IDCheckRequired",displayName:"Authentication Required",auditEventType:i},{fieldName:"InPersonIDCheckQuestion",displayName:"In Person Signer ID Question",auditEventType:i},{fieldName:"InSessionSuppressEmails",displayName:"Suppress Emails to Embedded Signers",auditEventType:i},{fieldName:"JobTitle",displayName:"Job Title",auditEventType:s},{fieldName:"LanguageSelected",displayName:"Selected Language",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"LastName",displayName:"Last Name",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"MaskAccessCode",displayName:"Mask Access Code",auditEventType:i},{fieldName:"MembersCanSetSendViaSecureLink",displayName:"Account Members Can Set Send by Secure Link",auditEventType:i},{fieldName:"MiddleName",displayName:"Middle Name",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"MobileSessionTimeout",displayName:"Mobile Application Session Timeout ",auditEventType:i},{fieldName:"NovartisSignerCertificate",displayName:"Enable Novartis Signer Certificate",auditEventType:i},{fieldName:"OneSignAllSign",displayName:"Enable Document Visibility",auditEventType:i},{fieldName:"OpenTrustSignerCertificate",displayName:"Require OpenTrust Digital Signature",auditEventType:i},{fieldName:"PaymentMethod",displayName:"Payment Method",auditEventType:"ACCOUNT_AUDIT_LOG_PLANCHANGED"},{fieldName:"PaymentMethod",displayName:"Payment Method",auditEventType:i},{fieldName:"PlanName",displayName:"Plan Name",auditEventType:"ACCOUNT_AUDIT_LOG_PLANCHANGED"},{fieldName:"PostalCode",displayName:"Postal Code",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"PowerFormRoleId",displayName:"PowerForm Role",auditEventType:s},{fieldName:"RecipientsCanSignOffline",displayName:"Enable Offline Signing",auditEventType:i},{fieldName:"RecipientViewedNotification",displayName:"Allow Recipient Viewed Notifications",auditEventType:s},{fieldName:"RequireDeclineReason",displayName:"Require Decline Reason",auditEventType:i},{fieldName:"SAFEBioPharmaSignerCertificate",displayName:"Require SAFE-BioPharma Digital Signature",auditEventType:i},{fieldName:"SenderMustAuthenticateSigning",displayName:"Sender as Signer Must Authenticate When Requested",auditEventType:i},{fieldName:"SendViaSecureLink",displayName:"Self-signed Email Notifications are Delivered by",auditEventType:s},{fieldName:"SendViaSecureLink",displayName:"Self-signed Recipient Emails",auditEventType:i},{fieldName:"SessionTimeout",displayName:"Session Timeout",auditEventType:i},{fieldName:"SetRecipSignLang",displayName:"Set Recipient Signing Language",auditEventType:i},{fieldName:"SettingsTemplateId",displayName:"Permission Set",auditEventType:s},{fieldName:"SharedTemplateFolders",displayName:"Enable Shared Template Folders",auditEventType:i},{fieldName:"SignDateFormat",displayName:"Format of Date Signed",auditEventType:i},{fieldName:"SignerLoginRequirements",displayName:"Signer Login Requirements",auditEventType:i},{fieldName:"SignInEachLocation",displayName:"Sender Can Set Sign in Each Location",auditEventType:i},{fieldName:"SigningSessionTimeoutMinutes",displayName:"Recipient Session Timeout",auditEventType:i},{fieldName:"SpecifyDocumentVisibility",displayName:"Enable a User to Specify Document Visibility",auditEventType:i},{fieldName:"StartInAdvancedCorrect",displayName:"Start In Advanced Correct",auditEventType:i},{fieldName:"State",displayName:"State or Province",auditEventType:"ACCOUNT_AUDIT_LOG_BILLINGADDRESSCHANGED"},{fieldName:"Status",displayName:"Status",auditEventType:s},{fieldName:"Status",displayName:"Status",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"Suffix",displayName:"Suffix",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"TemplateActiveCreation",displayName:"Turn on Active Template Creation ",auditEventType:s},{fieldName:"TemplateApplyNotify",displayName:"Notify Before Applying a Matching Template",auditEventType:s},{fieldName:"TemplateAutoMatching",displayName:"Turn on Automatic Template Matching ",auditEventType:s},{fieldName:"TemplateMatchingSensitivity",displayName:"Template Matching Percentage",auditEventType:s},{fieldName:"TemplatePageLevelMatching",displayName:"Turn on Page Level Auto Template Matching ",auditEventType:s},{fieldName:"TimezoneMask",displayName:"Format Local Date and Time ",auditEventType:s},{fieldName:"TimezoneOffset",displayName:"My Local Time Zone",auditEventType:s},{fieldName:"TimeZoneOffsetUI",displayName:"Default Account Time Zone",auditEventType:i},{fieldName:"Title",displayName:"Title",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"TransactionPointPassword",displayName:"TransactionPoint Password",auditEventType:s},{fieldName:"TransactionPointSiteNameURL",displayName:"TransactionPoint SiteName URL",auditEventType:s},{fieldName:"TransactionPointUserName",displayName:"TransactionPoint Username",auditEventType:s},{fieldName:"UserName",displayName:"User Name",auditEventType:"USERSETTINGSCHANGED"},{fieldName:"VaultingMode",displayName:"Vaulting Information",auditEventType:s},{fieldName:"Watermark.DisplayAngle",displayName:"Watermark Display Angle",auditEventType:i},{fieldName:"Watermark.Enabled",displayName:"Enable Watermark",auditEventType:i},{fieldName:"Watermark.FontColor",displayName:"Watermark Color",auditEventType:i},{fieldName:"Watermark.FontFace",displayName:"Watermark Font Face",auditEventType:i},{fieldName:"Watermark.FontSize",displayName:"Watermark Font Size",auditEventType:i},{fieldName:"Watermark.Occurrence",displayName:"Watermark Occurrence",auditEventType:i},{fieldName:"Watermark.Transparency",displayName:"Watermark Transparency",auditEventType:i},{fieldName:"Watermark.WaterMarkText",displayName:"Watermark Text",auditEventType:i},{fieldName:"SuppressCertificateEnforcement",displayName:"Suppress In Session Certificate Enforcement",auditEventType:i},{fieldName:"SkipAuthCompletedEnvelopes",displayName:"Skip Authentication for Completed Envelopes",auditEventType:i},{fieldName:"AutoProvisionSignerAccount",displayName:"Auto Provision Recipient Account",auditEventType:i},{fieldName:"AllowSupplementalDocuments",displayName:"Allow supplemental documents",auditEventType:i},{fieldName:"SettingsName",displayName:"Name",auditEventType:o},{fieldName:"CanManageAccount",displayName:"All Administration Capabilities",auditEventType:o},{fieldName:"CanSendEnvelope",displayName:"Can send envelope",auditEventType:o},{fieldName:"EnableSequentialSigningUI",displayName:"Allow sequential signing",auditEventType:o},{fieldName:"EnableSignerAttachments",displayName:"Allow signer attachments",auditEventType:o},{fieldName:"RecipientViewedNotification",displayName:"Allow recipient viewed notifications",auditEventType:o},{fieldName:"BulkSend",displayName:"Allow sending to bulk list",auditEventType:o},{fieldName:"DisableDocumentUpload",displayName:"Disable document upload",auditEventType:o},{fieldName:"DisableOtherActions",displayName:"Hide Actions menu",auditEventType:o},{fieldName:"PowerformRoleId",displayName:"PowerForm Role",auditEventType:o},{fieldName:"CanManageTemplates",displayName:"Templates",auditEventType:o},{fieldName:"CanEditSharedAddressBook",displayName:"Address Book",auditEventType:o},{fieldName:"SendViaSecureLink",displayName:"Self-Signed email notifications are delivered by link",auditEventType:o},{fieldName:"AllowEnvelopeTransferTo",displayName:"Allow receipt of transferred envelopes",auditEventType:o},{fieldName:"APIAccountWideAccess",displayName:"Allow view and manage envelope rights through API",auditEventType:o},{fieldName:"AllowSendOnBehalfOf",displayName:"Allow send on behalf of other users through API",auditEventType:o},{fieldName:"CanManageAccountGranularUsers",displayName:"Delegated Administration: Users and Groups",auditEventType:o},{fieldName:"CanManageAccountGranularAdmins",displayName:"Delegated Administration: Administrators",auditEventType:o},{fieldName:"CanManageAccountGranularSharing",displayName:"Delegated Administration: Sharing",auditEventType:o},{fieldName:"CanManageAccountGranularAccountSettings",displayName:"Delegated Administration: Account Settings",auditEventType:o},{fieldName:"CanManageAccountGranularReporting",displayName:"Delegated Administration: Reporting",auditEventType:o},{fieldName:"AllowRecipLangSelection",displayName:"Allow language selection",auditEventType:o},{fieldName:"AllowSupplementalDocuments",displayName:"Allow supplemental documents",auditEventType:o},{fieldName:"SupplementalDocumentsMustView",displayName:"Senders can override must view supplemental documents setting",auditEventType:o},{fieldName:"SupplementalDocumentsMustAccept",displayName:"Senders can override must accept supplemental documents setting",auditEventType:o},{fieldName:"SupplementalDocumentsMustRead",displayName:"Senders can override must read supplemental documents setting",auditEventType:o},{fieldName:"StampDeleted",displayName:"Deleted account stamp",auditEventType:i},{fieldName:"StampAdded",displayName:"Added account stamp",auditEventType:i},{fieldName:"StampUpdated",displayName:"Updated account stamp",auditEventType:i},{fieldName:"StampName",displayName:"Account stamp name",auditEventType:i},{fieldName:"StampAssigned",displayName:"Assigned account stamp",auditEventType:i},{fieldName:"ShareFromTo",displayName:"Envelopes for {{from}} shared with {{to}}",auditEventType:"ACCOUNT_ENVELOPE_SHARING_CHANGED"},{fieldName:"ShareFromTo",displayName:"Envelopes for {{from}} no longer shared with {{to}}",auditEventType:"ACCOUNT_ENVELOPE_UNSHARING_CHANGED"}],a.RADminControllers.constant("AuditLogDescriptions",t.AuditLogDescriptions).constant("AuditLogFields",t.AuditLogFields)},function(e,t){var n="appliance-pools/move-accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="MoveAccountsController as moveAccounts">\n    <div class="modal_header">\n      <h1 class="modal_title" translate="Move To Another Pool"></h1>\n    </div>\n    <div class="modal_toolbar">\n      <div class="modal_description"\n           translate="Here are the DocuSign Appliance pools for which you are an account administrator. Select the pool to move this account to.">\n      </div>\n    </div>\n    <div class="modal_content appliance-pool-link-account-error-message" ng-if="moveAccounts.moveAccountErrorMessages.length > 0">\n      <div class="inlineMessage inlineMessage-danger">\n        <strong translate="Failed to move account because of the following errors: "></strong>\n          <ul>\n            <li ng-repeat="errorMessage in moveAccounts.moveAccountErrorMessages">\n              {{ errorMessage }}\n            </li>\n          </ul>\n          <button class="inlineMessage_close icon icon-close" ng-click="moveAccounts.clearMoveAccountErrorMessages()"><span class="vh" translate="Close Notification"></span></button>\n      </div>\n    </div>\n    <div class="modal_content modal_content-list">\n        <table class="table">\n          <thead>\n            <tr>\n              <th translate="Pool Name"></th>\n              <th translate="Appliances"></th>\n              <th translate="Accounts"></th>\n              <th translate="Action"></th>\n            </tr>\n          </thead>\n    \n          <tbody>\n            <tr ng-repeat="appliancePool in moveAccounts.getAvailablePools()">\n              <td>{{ ::appliancePool.name }}</td>\n              <td>{{ ::appliancePool.appliances.length }} </td>\n              <td>{{ ::appliancePool.accounts.length }} </td>\n              <td>\n                  <button ng-disabled="moveAccounts.isMovingAccount"  translate=\'Move\'\n                          class="btn btn-secondary" ng-click="moveAccounts.moveAccount(appliancePool.id)">\n                  </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n  \n      <div class="emptyState" ng-if="moveAccounts.getAvailablePools().length === 0">\n        <i class="icon icon-search emptyState_icon"></i>\n        <div class="emptyState_text">\n          <p translate="No other pool to move"></p>\n        </div>\n      </div>\n  \n    </div>\n    <div class=\'modal_footer\'>\n        <button class=\'btn btn-lg btn-secondary\' olive-modal-complete translate=\'Close\'></button>\n    </div>\n  </div>\n  ')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(366),s="Account successfully moved to another pool.",o=function(){function e(e,t,n,a,o,r,l,c,d){var u=this;this._appliancePoolService=e,this._applianceUtilService=t,this._$scope=n,this._oliveModal=a,this._=o,this._oliveMessage=r,this._organizationService=l,this._$translate=c,this._$q=d,this.isMovingAccount=!1,this.moveAccountErrorMessages=[],this.moveAccount=function(e){u.isMovingAccount=!0;u._appliancePoolService.sendLinkAccountRequest_v2(e,u.accountId).then(function(t){var n=i.AppliancePoolAccountCompatibilityV2.create(t);n.isCompatible?function(){var t=u._appliancePoolService.items,n=u._appliancePoolService.accounts,a=u._.find(t,{id:u.currentPool.id}),i=u._.find(t,{id:e});u._.remove(a.accounts,function(e){return e===u.accountId}),u._.remove(n,function(e){return e.account_id===u.accountId}),i.accounts.push(u.accountId),u._oliveMessage.show({content:u._$translate.instant(s,{poolName:u.currentPool.name}),type:"success",name:"moveAccountSuccess",autoClose:!0}),u._oliveModal.escapeTopModal()}():function(e){u.moveAccountErrorMessages=u._applianceUtilService.createMoveAccountErrorMessage(e)}(n)}).catch(function(e){!function(e){u.moveAccountErrorMessages=[u._applianceUtilService.buildServerError(e)]}(e)}).finally(function(){u.isMovingAccount=!1})},this.getAvailablePools=function(){return u._appliancePoolService.items.filter(function(e){return e.appliances.filter(function(e){return"Disabled"!==e.settings.status}).length>0&&e.id!==u.currentPool.id})},this.organizationId=this._$scope.organizationId,this.accountId=this._$scope.accountId,this.currentPool=this._$scope.appliancePool,this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.clearMoveAccountErrorMessages=function(){this.moveAccountErrorMessages=[]},e}();a.AppliancePoolModule.controller("MoveAccountsController",["AppliancePoolsService","ApplianceUtilService","$scope","oliveModal","lodash","oliveMessage","OrganizationService","$translate","$q",o])},function(e,t){var n="appliance-pools/edit-appliance-pool.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditAppliancePoolController as pool\' ds-form>\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: pool.organizationId})"> {{ pool.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: pool.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="{{ pool.applianceType }}"\n                    ui-sref="authenticated.organization-appliance-pools({organization_id: pool.organizationId, appliance_type: pool.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="Edit"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="modal_header">\n        <h1 class="modal_title" translate="Appliance Pool Settings"></h1>\n    </div>\n\n    <div class=\'section\' ng-switch="pool.applianceType">\n            <div ng-switch-when="Security">\n                <div ng-include="\'appliance-pools/add-edit-Security-appliance-pool.html\'"></div>\n            </div>\n            <div ng-switch-when="Display">\n                <div ng-include="\'appliance-pools/add-edit-Display-appliance-pool.html\'"></div>\n            </div>\n            <div ng-switch-when="Signing">\n                <div ng-include="\'appliance-pools/add-edit-Signing-appliance-pool.html\'"></div>\n            </div>\n    </div>\n\n    <div class="modal_footer">\n        <button id="page-add-bottom" class="btn btn-primary" ds-form-submit=\'pool.save()\' data-qa=\'submit\' ng-disabled="pool.saving">\n                <span ng-if="!pool.saving" translate="Save"></span>\n                <span ng-if="pool.saving"><span translate="Saving"></span>&hellip;</span>\n        </button>\n        <button id="page-cancel-bottom" class="btn btn-secondary" ng-click="pool.navigateToList()" translate="Cancel"></button>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),i=n(24),s=n(276),o=n(13),r=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u,p){var m=this;this._appliancePools=e,this._appliance=t,this._$scope=n,this._oliveModal=a,this._$state=i,this._oliveMessage=s,this._$translate=o,this._$timeout=r,this._$stateParams=l,this._organizationService=c,this._=d,this.model=u,this.loading=p,this.saving=!1,this.testAllResults={},this.allTestsPass=!0,this.testNames={UrlTest:"Url Test",StatusTest:"Status Test",ProtocolTest:"Protocol Test",ThumbprintTest:"Thumbprint Test",KeyTest:"Key Test",HsmTest:"Hsm Test",ClientCertTest:"Client Certificate Test"},this.showDisabledFields=!0,this.organizationId=this._$stateParams.organization_id,this.appliancePoolId=this._$stateParams.appliance_pool_id,this.applianceType=this._$stateParams.appliance_type,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this.loading=this._appliancePools.all(),this.loading.then(function(e){m._appliancePools.items=e.filter(function(e){return e.applianceType===m.applianceType});var t=m._.findIndex(m._appliancePools.items,function(e){return e.id===m.appliancePoolId});-1===t&&m.navigateToList(),m.model=m._appliancePools.items[t],m._appliancePools.activeSelection=m.model,c.getOrganizationAccounts(m.organizationId).then(function(e){m._appliancePools.allOrgAccounts=e,m._appliancePools.accounts=m._appliancePools.allOrgAccounts.filter(function(e){return m._.includes(m.model.accounts,e.account_id)})}),"Security"===m.model.applianceType&&m.model.settings.hsm_keys_in_use&&m.getHsmKeys().then(function(e){m.hsmKeysToList(m.model.settings.hsm_keys_in_use)})}),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-appliance-pools",{organization_id:this.organizationId,appliance_type:this.applianceType})},e.prototype.editAppliance=function(e,t){this._$state.go("authenticated.organization-edit-appliance",{organization_id:this.organizationId,appliance_pool_id:this.appliancePoolId,appliance_id:t.id,appliance_type:this.applianceType})},e.prototype.addAppliance=function(e){this._$state.go("authenticated.organization-add-appliance",{organization_id:this.organizationId,appliance_pool_id:this.appliancePoolId,appliance_type:this.applianceType})},e.prototype.hsmKeysToList=function(e){e=e.toString();var t=document.getElementById("appliance-pool-hsm-keys-in-use");t&&(t.value=e.replace(/,/g,"\r\n"))},e.prototype.save=function(){var e=this;this.saving=!0,"Security"===this.applianceType&&this.model.settings.use_derived_keys&&this.setHsmKey();var t=this;t._appliancePools.save(t.model).then(function(){t._oliveMessage.show({msg:t._$translate.instant("Your save was successful"),type:"success"}),setTimeout(function(){t.navigateToList()},1e3)},function(t){var n=e._$translate.instant("An error occurred while trying to save the pool settings, please contact our customer support");t.reference_id&&(n=e._$translate.instant("An error occurred while trying to save the pool settings, please contact our customer support with reference id: {{refernceId}}",{referenceId:t.reference_id})),e._oliveMessage.show({msg:e._$translate.instant(n),type:"error"})}).finally(function(){e.saving=!1})},e.prototype.canDelete=function(e){return"Security"!==e},e.prototype.updateList=function(){var e=this._.findIndex(this._appliancePools.items,{id:this.model.id});this._appliancePools.items.splice(e,1,this.model)},e.prototype.showApplianceDeleteModal=function(e){var t={title:this._$translate.instant("Delete Appliance"),text:this._$translate.instant("Deleting this appliance cannot be undone. Click 'confirm' to delete the appliance."),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this.deleteAppliance.bind(this,e)};this._oliveModal.confirmationModal(t)},e.prototype.showLinkAccountModal=function(){var e=this._$scope.$new();e.organizationId=this.organizationId,this._oliveModal.openModal({scope:e,templateUrl:"appliance-pools/add-accounts.html",showClose:!0,size:"lg"})},e.prototype.showMoveAccountModal=function(e){var t=this._$scope.$new();t.organizationId=this.organizationId,t.accountId=e,t.appliancePool=this.model,this._oliveModal.openModal({scope:t,templateUrl:"appliance-pools/move-accounts.html",showClose:!0,size:"lg"})},e.prototype.deleteAppliance=function(e){var t=this,n=e.poolId,a=e.id;return this._appliance.deleteAppliance(n,a).then(function(){t._oliveMessage.show({msg:t._$translate.instant("Appliance deleted."),type:"success"}),t.removeApplianceFromList(a),t.updateList()},function(e){t._oliveMessage.show({msg:t._$translate.instant(e),type:"alert"})})},e.prototype.removeApplianceFromList=function(e){var t=this._.findIndex(this._appliancePools.items,{id:this.model.id});this._.remove(this._appliancePools.items[t].appliances,function(t){return t.id===e}),o._.pull(this.model.appliances,this._appliance.activeSelection)},e.prototype.getHsmKeys=function(){var e=this,t=this.appliancePoolId;return this._appliancePools.getHsmKeys(t).then(function(t){e.hsmKeys=t,e.setCurrentKeyForDropdown()})},e.prototype.setHsmKey=function(){var e=this,t=this.model.id,n=new s.HsmKey;n.key=this.currentHsmKey,this._appliancePools.setHsmKey(t,n).then(function(t){e.model.settings.current_hsm_key=e.currentHsmKey,e.updateList()})},e.prototype.setCurrentKeyForDropdown=function(){var e=this;this.hsmKeys.forEach(function(t){e.model.settings.current_hsm_key===t&&(e.currentHsmKey=t)})},e.prototype.verifyAllChecksums=function(e){var t=e.settings.numbered_checksum_for_pool===e.settings.numbered_checksum_for_all,n=e.settings.hsm_checksum_for_pool===e.settings.hsm_checksum_for_all;return t&&n},e.prototype.healthCheckAll=function(){this.testAllResults=[];for(var e=0,t=this.model.appliances;e<t.length;e++){var n=t[e];this.setLoading(n.id,"")}a("#page-health-check-top").prop("disabled",!0).addClass("btn-loading").text("Running Health Check");for(var i=0,s=this.model.appliances;i<s.length;i++){n=s[i];this.healthCheckOne(0,n)}},e.prototype.healthCheckOne=function(e,t){var n=this,a=e;this._appliance.healthCheck(t,["url","status","protocol","thumbprint","public_key","hsm","client_cert"][a]).then(function(e){a++,n.setTestStatus(t.id,e.data),a<Object.keys(n.testNames).length&&n.healthCheckOne(a,t),a===Object.keys(n.testNames).length&&n.processTestResults(t.id)},function(e){n._oliveMessage.show({msg:n._$translate.instant(e),type:"alert"})})},e.prototype.setTestStatus=function(e,t){e in this.testAllResults||(this.testAllResults[e]=[]),this.testAllResults[e].push(t)},e.prototype.processTestResults=function(e){this.allTestsPass=!0;for(var t=0,n=this.testAllResults[e];t<n.length;t++){var i=n[t],s=i.name,o=this.testNames[s];if(this.setLoading(e,o),!0===i.status&&this.successDiv(e,o),!1===i.status){this.allTestsPass=!1,this.failureDiv(e);break}}this.allTestsPass&&this.passDiv(e),a("#page-health-check-top").prop("disabled",!1).removeClass("btn-loading").text("Health Check All")},e.prototype.unlinkAccount=function(e){var t=this,n=this._.clone(this._appliancePools.activeSelection.accounts);this._appliancePools.activeSelection.accounts=this._appliancePools.activeSelection.accounts.filter(function(t){return t!==e});var a=this._.findIndex(this._appliancePools.items,{id:this._appliancePools.activeSelection.id});this._appliancePools.items[a]=this._appliancePools.activeSelection,this._appliancePools.save(this._appliancePools.activeSelection).then(function(n){n&&-1===n.data.accounts.indexOf(e)&&(t.saving=!1,t._oliveMessage.show({msg:t._$translate.instant("Account unlinked successfully."),type:"success"}),t._appliancePools.accounts=t._appliancePools.accounts.filter(function(t){return t.account_id!==e}))}).catch(function(e){!function(e){t._appliancePools.activeSelection.accounts=n;var a=t._$translate.instant("An error occurred while trying to unlink this account, please check your internet connection and try again.");"APPLIANCE_POOL_CANNOT_UNLINK_ACOUNT"===e.service_error_code?a=t._$translate.instant("Cannot unlink this account because it does not have appliances configured in Classic Docusign."):e.reference_id&&(a=t._$translate.instant("An error occurred while trying to unlink this account, please contact our customer support with reference id: {{refernceId}}",{referenceId:e.reference_id})),t._oliveMessage.show({msg:a,type:"alert"})}(e)})},e.prototype.setLoading=function(e,t){var n="#hc-result-"+e,i=document.createElement("div");i.id="hc-result-"+e;var s=document.createElement("div");s.className="spinner-circle spinner-sm",i.appendChild(s);var o=document.createElement("span");o.className="spinner-text",o.innerHTML=t,i.appendChild(o),a(n).replaceWith(i)},e.prototype.successDiv=function(e,t){var n="#hc-result-"+e,i=document.createElement("div");i.id="hc-result-"+e,i.className="icon icon-completed",i.innerText="  "+t,i.style.fontSize="14px",i.style.color="#008938",a(n).replaceWith(i)},e.prototype.failureDiv=function(e){var t="#hc-result-"+e,n=document.createElement("div");n.id="hc-result-"+e,n.className="icon icon-alert";var i=document.createElement("a"),s=document.createTextNode("  Failed");i.appendChild(s),i.setAttribute("onclick","document.getElementById('"+e+"-editButton').click()"),n.appendChild(i),n.style.fontSize="15px",n.style.color="#d03238",n.style.cssFloat="left",a(t).replaceWith(n)},e.prototype.passDiv=function(e){var t="#hc-result-"+e,n=document.createElement("div");n.id="hc-result-"+e,n.className="icon icon-completed",n.innerText="  Pass",n.style.fontSize="14px",n.style.color="#008938",a(t).replaceWith(n)},e}();i.AppliancePoolModule.controller("EditAppliancePoolController",["AppliancePoolsService","ApplianceService","$scope","oliveModal","$state","oliveMessage","$translate","$timeout","$stateParams","OrganizationService","lodash",r])},function(e,t){var n="appliance-pools/appliances/view-details.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'\n<div ng-controller=\'ViewDetailsController as controller\' ds-form>\n    <div class="modal_header">\n        <h1 class="modal_title test-details" translate="Error Details"></h1>\n    </div>\n\n    <div class="modal_content">\n        <p id="details_content" translate=" {{controller.detailsMsg}} "></p>\n    </div>\n\n    <div class="modal_footer">\n        <button class="btn btn-primary btn-lg" id="view_raw_btn" style="display:inline;" ng-click="controller.viewRawDetails()" translate="View Raw"></button>\n        <button class="btn btn-primary btn-lg" id="view_btn" style="display: inline" ng-click="controller.viewDetails()" translate="View Details"></button>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=function(){function e(e){this._$scope=e,this.detailsMsg=this._$scope.detailsMsg}return e.prototype.viewDetails=function(){var e=document.createElement("html");e.id="details_content",e.innerHTML=this.detailsMsg,$("#details_content").replaceWith(e)},e.prototype.viewRawDetails=function(){var e=document.createElement("div");e.id="details_content",e.innerText=this.detailsMsg,$("#details_content").replaceWith(e)},e}();t.ViewDetailsController=i,a.AppliancePoolModule.controller("ViewDetailsController",["$scope",i])},function(e,t){var n="appliance-pools/appliances/edit-appliance.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditApplianceController as appliance\' ds-form>\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: appliance.organizationId})"> {{ appliance.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: appliance.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="{{ appliance.applianceType }}"\n                    ui-sref="authenticated.organization-appliance-pools({organization_id: appliance.organizationId, appliance_type: appliance.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliances"\n                    ui-sref="authenticated.organization-appliances({organization_id: appliance.organizationId, appliance_pool_id: appliance.appliancePoolId, appliance_type: appliance.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="Edit"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="section">\n        <h1 class="m-top-medium" data-qa="edit_appliance_title" translate="Appliance Settings"></h1>\n    </div>\n\n    <div class=\'section\' ng-switch="appliance.model.applianceType">\n        <div ng-switch-when="Security">\n            <div ng-include="\'appliance-pools/appliances/add-edit-Security-appliance.html\'"></div>\n        </div>\n        <div ng-switch-when="Display">\n            <div ng-include="\'appliance-pools/appliances/add-edit-Display-appliance.html\'"></div>\n        </div>\n        <div ng-switch-when="Signing">\n            <div ng-include="\'appliance-pools/appliances/add-edit-Signing-appliance.html\'"></div>\n        </div>\n    </div>\n\n    <div class="section">\n        <div class="action-btns">\n            <button class="btn btn-primary"\n                    olive-button="btnSaveAppliance"\n                    olive-ng-button-is-loading="appliance.isSaving"\n                    ng-if="appliance.health_check_security.allTestsPass || appliance.statusDisabled()"\n                    ng-click="appliance.save()">\n                <span ng-if="!appliance.isSaving" translate="Save"></span>\n                <span ng-if="appliance.isSaving"><span translate="Saving"></span>&hellip;</span>\n            </button>\n\n            \x3c!--For security appliance health check--\x3e\n            <button class="btn btn-primary"\n                    olive-button="btnTestAppliance"\n                    olive-ng-button-is-loading="appliance.isTesting"\n                    ng-if="!appliance.health_check_security.allTestsPass && !appliance.statusDisabled()"\n                    ng-click="appliance.testConnection()">\n                <span ng-if="!appliance.isTesting" translate="Test Connection"></span>\n                <span ng-if="appliance.isTesting" translate="Testing Connection"></span>\n            </button>\n\n            <button id="page-cancel-bottom" class="btn btn-minor" ng-click="appliance.navigateToList()" translate="Cancel"></button>\n        </div>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(275),s=function(){function e(e,t,n,a,s,o,r,l,c,d,u,p,m){var g=this;this._appliancePools=e,this._appliance=t,this._oliveModal=n,this._$state=a,this._$scope=s,this._oliveMessage=o,this._$translate=r,this._$timeout=l,this._$stateParams=c,this._organizationService=d,this._=u,this.model=p,this.loading=m,this.tests=i.HealthCheckSecurity.createTests(),this.organizationId=this._$stateParams.organization_id,this.appliancePoolId=this._$stateParams.appliance_pool_id,this._applianceId=this._$stateParams.appliance_id,this.applianceType=this._$stateParams.appliance_type,this.loading=this._appliancePools.all(),this.loading.then(function(e){g._appliancePools.items=e.filter(function(e){return e.applianceType===g.applianceType});var a=g._appliancePools.items.filter(function(e){return e.id===g.appliancePoolId})[0];g.model=a.appliances.filter(function(e){return e.id===g._applianceId})[0],g._.isUndefined(g.model)?g.navigateToList():g.health_check_security=new i.HealthCheckSecurity(g.model,t,s,r,n,o,u)}),this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-appliances",{organization_id:this.organizationId,appliance_pool_id:this.appliancePoolId,appliance_type:this.applianceType})},e.prototype.statusDisabled=function(){return this.model&&"Disabled"===this.model.settings.status},e.prototype.save=function(){this.isSaving=!0,this._appliance.save(this.model).then(function(e){this.isSaving=!1,this.updateList(),this._oliveMessage.show({msg:this._$translate.instant("Your save was successful"),type:"success"}),this.navigateToList()}.bind(this),function(e){this.isSaving=!1,this._oliveMessage.show({msg:this._$translate.instant(e),type:"alert"})}.bind(this))},e.prototype.updateList=function(){var e=this._.findIndex(this._appliancePools.items,{id:this.model.poolId}),t=this._.findIndex(this._appliancePools.items[e].appliances,{id:this.model.id});this._appliancePools.items[e].appliances.splice(t,1,this.model)},e.prototype.testConnection=function(){this.isTesting=!0,this.health_check_security.runAllTests(this.tests).then(function(){this.isTesting=!1}.bind(this))},e.prototype.requireTest=function(){this.health_check_security.allTestsPass=!1},e.prototype.showDetails=function(e){this._.set(this._$scope,"detailsMsg",e),this._oliveModal.openModal({scope:this._$scope,templateUrl:"appliance-pools/appliances/view-details.html",showClose:!0,size:"xl"})},e}();t.EditApplianceController=s,a.AppliancePoolModule.controller("EditApplianceController",["AppliancePoolsService","ApplianceService","oliveModal","$state","$scope","oliveMessage","$translate","$timeout","$stateParams","OrganizationService","lodash",s])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=function(){function e(e,t,n,a,i,s,o){this._api=e,this._dsApi=t,this._organizationService=n,this._$q=a,this._appUser=i,this.activeSelection=s,this.appliances=o}return e.prototype.add=function(e){var t=this,n=this._organizationService.currentOrg.organization.id,a=e.poolId,i=e.applianceType,s="/organizationapi/management/v1/organizations/"+n+"/"+i+"_appliance_pools/"+a+"/"+i+"_appliances";return this._api.post(s,e.toApiJson()).catch(function(e){return t._$q.reject(e.data.error_description)})},e.prototype.save=function(e){var t=this,n=this._organizationService.currentOrg.organization.id,a=e.poolId,i=e.id,s=e.applianceType,o="/organizationapi/management/v1/organizations/"+n+"/"+s+"_appliance_pools/"+a+"/"+s+"_appliances/"+i;return this._api.post(o,e.toApiJson()).catch(function(e){return t._$q.reject(e.data.error_description)})},e.prototype.deleteAppliance=function(e,t){var n=this,a="/organizationapi/management/v1/organizations/"+this._organizationService.currentOrg.organization.id+"/appliance_pools/"+e+"/appliances/"+t;return this._api.delete(a).catch(function(e){return n._$q.reject(e.data.error_description)})},e.prototype.healthCheck=function(e,t){var n,a=this;return n="/organizationapi/management/v1/organizations/"+this._organizationService.currentOrg.organization.id+"/appliance_pools/"+e.poolId+"/appliances/"+e.id+"/health_check/"+t,"url"===t&&""===e.url?this._$q.reject("The URL field is required."):this._dsApi.post(n,e.toApiJson()).catch(function(e){return a._$q.reject(e.data.error_description)})},e}();t.ApplianceService=i,a.AppliancePoolModule.service("ApplianceService",["DocuSignAccountServerApiClient","dsApiClient","OrganizationService","$q","appUser",i])},function(e,t){var n="appliance-pools/appliances/add-edit-Signing-appliance.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n    <div class="form_unit">\n        <label class="label" for="appliance-name" label-required=\'*\' translate="Name"></label>\n        <input id=\'appliance-name\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.name\'\n            maxlength=\'64\'\n            required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-url" label-required=\'*\' translate="URL"></label>\n        <input id=\'appliance-url\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.url\'\n            maxlength=\'2048\'\n            required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-pen-id" translate="Pen Id"></label>\n        <input id=\'appliance-pen-id\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.pen_id\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-serialized-text" translate="Serialized Text"></label>\n        <input id=\'appliance-serialized-text\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.serialized_text\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-audit-log" translate="Audit Log"></label>\n        <input id=\'appliance-audit-log\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.audit_log\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-scope" translate="Scope"></label>\n        <input id=\'appliance-scope\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.scope\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-tsp-group" translate="TSP Group"></label>\n        <input id=\'appliance-tsp-group\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.tsp_group\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-logo" translate="Logo"></label>\n        <input id=\'appliance-logo\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.logo\' />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-shield" translate="Shield"></label>\n        <input id=\'appliance-shield\' type="text" class="input-text input-md"\n            ng-model=\'appliance.model.settings.shield\' />\n    </div>\n</form>')}]),e.exports=n},function(e,t){var n="appliance-pools/appliances/add-edit-Security-appliance.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n    <script type="text/ng-template" id="test-status.html">\n        <div>\n            <div ng-show="test.loadingTest">\n                <div class="spinner-circle spinner-sm"></div>\n                <span class="spinner-text" translate="Testing..."></span>\n            </div>\n            <div ng-show="test.passedMessage">\n                <span class="icon icon-completed test-success"></span>\n                <span class="test-success"> {{test.passedMessage}}</span>\n            </div>\n            <div ng-show="test.errorMessage">\n                <span class="icon icon-alert test-failure"></span>\n                <span class="test-failure"> {{test.errorMessage}}</span>\n                <button ng-show="test.errorDetails" class="btn btn-secondary"\n                        translate="View Details"\n                        ng-click="appliance.showDetails(test.errorDetails)" />\n            </div>\n        </div>\n    <\/script>\n    <div class="fgrid m-left-none">\n        <table>\n            <tr>\n                <td class="p-bottom-small">\n                    <div>\n                        <div>\n                            <label class="label p-top-medium" for="appliance-url" label-required=\'*\' translate="URL"></label>\n                            <input id=\'appliance-url\' type="text" class="input-text"\n                                   ng-model=\'appliance.model.url\' \n                                   ng-change=\'appliance.requireTest()\'\n                                   required />\n                        </div>\n                    </div>\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.url]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n            <tr>\n                <td class="p-bottom-small">\n                    <div>\n                        <label for="appliance-status" class="label p-top-medium" translate="Status"></label>\n                        <div class="select-wrap">\n                            <select id="appliance-status" ng-model=\'appliance.model.settings.status\'>\n                                <option value="Primary" translate="Primary"></option>\n                                <option value="Secondary" translate="Secondary"></option>\n                                <option value="Disabled" translate="Disabled"></option>\n                            </select>\n                        </div>\n                    </div>\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.status]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n\n            <tr>\n                <td class="p-bottom-small">\n                    <div>\n                        <label class="label p-top-medium" for="appliance-cert-thumbprint" translate="Certificate Thumbprint"></label>\n                        <input id=\'appliance-cert-thumbprint\' type="text" class="input-text"\n                               ng-model=\'appliance.model.settings.certificate_thumbprint\'\n                               ng-change=\'appliance.requireTest()\'\n                               ds-valid />\n                    </div>\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.thumbprint]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n\n            <tr>\n                <td class="p-bottom-small">\n                    <div>\n                        <label for="appliance-protocol-version" class="label p-top-medium" translate="Protocol Version"></label>\n                        <div class="select-wrap">\n                            <select id="appliance-protocol-version"\n                                    ng-model=\'appliance.model.settings.protocol_version\'\n                                    ng-change=\'appliance.requireTest()\' >\n                                <option value="0" translate="Encrypted Payloads"></option>\n                                <option value="1" translate="Encrypted Payloads & Signed Responses" selected></option>\n                                <option value="2" translate="Encrypted & Signed Payloads"></option>\n                            </select>\n                        </div>\n                    </div>\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.protocol]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n\n            <tr>\n                <td class="p-bottom-small">\n                    <div>\n                        <label class="label p-top-medium" for="appliance-public-key" label-required=\'*\' translate="Public Key"></label>\n                        <textarea id=\'appliance-public-key\' type="text" class="input-text"\n                                  ng-model=\'appliance.model.settings.public_key\'\n                                  ng-change=\'appliance.requireTest()\'\n                                  rows="8" \n                                  required></textarea>\n                    </div>\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.public_key]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <label class="label" id="HsmLabel" ng-show="appliance.health_check_security.allTestsPass" translate="Hsm Version" />  \n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.hsm]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <label class="label" id="CertLabel" ng-show="appliance.health_check_security.allTestsPass" translate="Client Certificate" />\n                </td>\n                <td class="security-health-check-middle">\n                    <div ng-repeat="test in [appliance.tests.client_cert]" ng-include="\'test-status.html\'"></div>\n                </td>\n            </tr>\n        </table>\n    </div>\n</form>\n\n<div class="fgrid_cell-2-5 u-float-left" id="health-check"></div>')}]),e.exports=n},function(e,t){var n="appliance-pools/appliances/add-edit-Display-appliance.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n    <div class="form_unit">\n        <label class="label" for="appliance-name" label-required=\'*\' translate="Name"></label>\n        <input id=\'appliance-name\' type="text" class="input-text input-md"\n                ng-model=\'appliance.model.name\'\n                maxlength=\'64\'\n                required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-url" label-required=\'*\' translate="URL"></label>\n        <input id=\'appliance-url\' type="text" class="input-text input-md"\n                ng-model=\'appliance.model.url\'\n                maxlength=\'2048\'\n                required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-api-proxy-url" label-required=\'*\' translate="DocuSign API Proxy URL"></label>\n        <input id=\'appliance-api-proxy-url\' type="text" class="input-text input-md"\n                ng-model=\'appliance.model.settings.docusign_api_proxy_url\'\n                maxlength=\'2048\'\n                required />\n    </div>\n</form>')}]),e.exports=n},function(e,t){var n="appliance-pools/appliances/add-appliance.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddApplianceController as appliance\' ds-form>\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: appliance.organizationId})"> {{ appliance.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: appliance.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="{{ appliance.applianceType }}"\n                    ui-sref="authenticated.organization-appliance-pools({organization_id: appliance.organizationId, appliance_type: appliance.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliances"\n                    ui-sref="authenticated.organization-appliances({organization_id: appliance.organizationId, appliance_pool_id: appliance.appliancePoolId, appliance_type: appliance.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="Add"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="modal_header">\n        <h1 class="modal_title" translate="Add [[type]] Appliance" \n            translate-interpolation="bracket" \n            translate-values="{type: appliance.model.applianceType}">\n        </h1>\n    </div>\n\n    <div class=\'section\' ng-switch="appliance.model.applianceType">\n            <div ng-switch-when="Security">\n                <div ng-include="\'appliance-pools/appliances/add-edit-Security-appliance.html\'"></div>\n            </div>\n            <div ng-switch-when="Display">\n                <div ng-include="\'appliance-pools/appliances/add-edit-Display-appliance.html\'"></div>\n            </div>\n            <div ng-switch-when="Signing">\n                <div ng-include="\'appliance-pools/appliances/add-edit-Signing-appliance.html\'"></div>\n            </div>\n    </div>\n\n    <div class="modal_footer">\n        <div class="action-btns">\n            <button class="btn btn-primary"\n                    olive-button="btnAddAppliance"\n                    olive-ng-button-is-loading="appliance.isAdding"\n                    ng-if="appliance.health_check_security.allTestsPass"\n                    ng-click="appliance.add()">\n                <span ng-if="!appliance.isAdding" translate="Add"></span>\n                <span ng-if="appliance.isAdding"><span translate="Adding"></span>&hellip;</span>\n            </button>\n\n            \x3c!--For security appliance health check--\x3e\n            <button class="btn btn-primary"\n                    olive-button="btnTestAppliance"\n                    olive-ng-button-is-loading="appliance.isTesting"\n                    ng-if="!appliance.health_check_security.allTestsPass"\n                    ng-click="appliance.testConnection()">\n                <span ng-if="!appliance.isTesting" translate="Test Connection"></span>\n                <span ng-if="appliance.isTesting" translate="Testing Connection"></span>\n            </button>\n\n            <button id="page-cancel-bottom" class="btn btn-minor" ng-click="appliance.navigateToList()" translate="Cancel"></button>\n        </div>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(107),s=n(275),o=n(3),r=function(){function e(e,t,n,a,r,l,c,d,u,p,m,g,h){this._appliancePools=e,this._appliance=t,this._$scope=n,this._oliveModal=a,this._$state=r,this._oliveMessage=l,this._$translate=c,this._$timeout=d,this._$stateParams=u,this._$window=p,this._=m,this._organizationService=g,this.model=h,this.tests=s.HealthCheckSecurity.createTests(),this.organizationId=this._$stateParams.organization_id,this.appliancePoolId=this._$stateParams.appliance_pool_id,this.applianceType=this._$stateParams.appliance_type,this.model=new i.ApplianceModel,this.model.id=o.GUID_EMPTY,this.model.applianceType=this.applianceType,this.model.poolId=this.appliancePoolId,this.model.settings.protocol_version="1",this.model.settings.status="Primary",this.health_check_security=new s.HealthCheckSecurity(this.model,t,n,c,a,l,m),this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization)}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-appliances",{organization_id:this.organizationId,appliance_pool_id:this.appliancePoolId,appliance_type:this.applianceType})},e.prototype.add=function(){"Security"===this.model.applianceType&&(this.model.name=this.GetHostFromUrl(this.model.url),this.getURI()),this.isAdding=!0,this._appliance.add(this.model).then(function(e){this.isAdding=!1,this.model.id=e.data.id,this.model.settings=e.data.settings,this._oliveMessage.show({msg:this._$translate.instant("You have successfully added an appliance."),type:"success"}),this.updateList(),this.navigateToList()}.bind(this),function(e){this.isAdding=!1,this._oliveMessage.show({msg:this._$translate.instant(e),type:"alert"})}.bind(this))},e.prototype.GetHostFromUrl=function(e){var t=this._$window.document.createElement("a");return t.href=e,t.host},e.prototype.updateList=function(){var e=this._.findIndex(this._appliancePools.items,{id:this.model.poolId});this._appliancePools.items[e].appliances.push(this.model)},e.prototype.getURI=function(){var e=this.model.url;e&&""!==e&&(-1===e.toLowerCase().indexOf("/")&&(e+="/keymanager"),"https://"!==e.substring(0,8)&&(e="https://"+e),this.model.url=e)},e.prototype.testConnection=function(){"Security"===this.model.applianceType&&this.getURI(),this.isTesting=!0,this.health_check_security.runAllTests(this.tests).then(function(){this.isTesting=!1}.bind(this))},e.prototype.showDetails=function(e){this._.set(this._$scope,"detailsMsg",e),this._oliveModal.openModal({scope:this._$scope,templateUrl:"appliance-pools/appliances/view-details.html",showClose:!0,size:"xl"})},e}();a.AppliancePoolModule.controller("AddApplianceController",["AppliancePoolsService","ApplianceService","$scope","oliveModal","$state","oliveMessage","$translate","$timeout","$stateParams","$window","lodash","OrganizationService",r])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=function(){function e(e,t){this._=e,this._$translate=t}return e.prototype.createMoveAccountErrorMessage=function(e){if(e.isCompatible)return[];var t=[];return(t=[{isConsistent:e.oldHsmChecksumForPoolConsisteny.isConsistent,errorMessage:this._$translate.instant("The current pool's appliances do not all have the same HSM keys.")},{isConsistent:e.oldNumberedChecksumForPoolConsistency.isConsistent,errorMessage:this._$translate.instant("The current pool's appliances do not all have the same numbered keys.")},{isConsistent:e.newHsmChecksumForPoolConsistency.isConsistent,errorMessage:this._$translate.instant("This new pool has appliances that do not all have the same HSM keys.")},{isConsistent:e.newNumberedChecksumForPoolConsistency.isConsistent,errorMessage:this._$translate.instant("This new pool has appliances that do not all have the same numbered keys.")}].filter(function(e){return!e.isConsistent}).map(function(e){return e.errorMessage})).length>0?t:(!1===e.hsmChecksumMatch.isMatch?t.push(this._$translate.instant("The new pool has different HSM keys than the current pool")):!1===e.hsmKeysInUseMatch.isMatch&&t.push(this._$translate.instant("The new pool has a different history of HSM keys than the current pool")),!1===e.numberedChecksumMatch.isMatch?t.push(this._$translate.instant("The new pool has different numbered keys than the current pool")):!1===e.maxKeyMatch.isMatch&&t.push(this._$translate.instant("The new pool has a different number of keys than the current pool.")),t)},e.prototype.buildServerError=function(e){return this._.isNil(e)||this._.isNil(e.reference_id)?this._$translate.instant("An error occurred"):this._$translate.instant("Unexpected error, please contact our customer service with referenceId {{referenceId}}")},e}();t.ApplianceUtilService=i,a.AppliancePoolModule.service("ApplianceUtilService",["lodash","$translate",i])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(365),s=n(108),o="security_appliance_legacy_pools",r=function(){function e(e,t,n,a,i,s,o){void 0===s&&(s=[]),void 0===o&&(o=[]),this._api=e,this._organizationService=t,this._$q=n,this.activeSelection=a,this.items=i,this.accounts=s,this.allOrgAccounts=o}return e.prototype.appliancePoolApiPrefix=function(e,t){var n=this._organizationService.currentOrg.organization.id,a=this._api.organizationEndPoint().organizations(n),i={};i.security=a.securityAppliancePools,i.display=a.displayAppliancePools,i.storage=a.storageAppliancePools,i.signing=a.signingAppliancePools,i[o]=a.securityApplianceLegacyPools,i.all=a.appliancePools;var s=e.toLowerCase();if(i.hasOwnProperty(s)){var r=i[s];return t?r(t):r()}throw new Error('"'+e+'" is not an Appliance Pool type, cannot send out request')},e.prototype.all=function(){var e=this.appliancePoolApiPrefix("all").uri();return this._api.get(e).then(function(e){var t,n=e.data.display_appliance_pool_list,a=e.data.security_appliance_pool_list,i=e.data.signing_appliance_pool_list;return t=n.concat(a).concat(i),_.map(t,s.AppliancePoolModel.create)})},e.prototype.add=function(e){var t=this,n=e.applianceType,a=this.appliancePoolApiPrefix(n).uri();return this._api.post(a,e.toApiJson()).catch(function(e){return t._$q.reject(e.data.error_description)})},e.prototype.save=function(e){var t=this,n=e.id,a=e.applianceType,i=this.appliancePoolApiPrefix(a,n).uri();return this._api.post(i,e.toApiJson()).catch(function(e){return t._$q.reject(e.data)})},e.prototype.delete=function(e){var t=this,n=this.appliancePoolApiPrefix("all",e).uri();return this._api.delete(n).catch(function(e){return t._$q.reject(e.data.error_description)})},e.prototype.getHsmKeys=function(e){var t=this,n=this.appliancePoolApiPrefix("all",e).hsmKeys().uri();return this._api.get(n).then(function(e){return e.data.hsm_keys}).catch(function(e){return t._$q.reject(e.data.error_description)})},e.prototype.setHsmKey=function(e,t){var n=this,a=this.appliancePoolApiPrefix("all",e).hsmKeys().uri();return this._api.post(a,t.toApiJson()).catch(function(e){return n._$q.reject(e.data.error_description)})},e.prototype.migrateAppliances=function(){var e=this,t=this.appliancePoolApiPrefix(o).uri();return this._api.get(t).then(function(e){return _.map(e.data.pools,i.LegacyPoolModel.create)}).catch(function(t){return e._$q.reject(t.data.error_description)})},e.prototype.sendLinkAccountRequest=function(e,t){var n=this,a={accountId:t},i=this.appliancePoolApiPrefix("security",e).linkedAccounts().uri();return this._api.post(i,a).then(function(e){return e.data.compatibility}).catch(function(e){return n._$q.reject(e.data)})},e.prototype.sendLinkAccountRequest_v2=function(e,t){var n=this,a={accountId:t},i=this.appliancePoolApiPrefix("security",e).linkedAccountsV2().uri();return this._api.post(i,a).then(function(e){return e.data.compatibility}).catch(function(e){return n._$q.reject(e.data)})},e.prototype.getUnlinkedAccountsInOrg=function(){var e=this;return this.allOrgAccounts.filter(function(t){return!function(t){return e.items.some(function(n){return n.applianceType===e.activeSelection.applianceType&&n.accounts.some(function(e){return e===t})})}(t.account_id)})},e}();t.AppliancePoolService=r,a.AppliancePoolModule.service("AppliancePoolsService",["dsApiClient","OrganizationService","$q",r])},function(e,t){var n="appliance-pools/appliance-pool-manage-appliances.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditAppliancePoolController as pool\'>\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: pool.organizationId})"> {{ pool.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: pool.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="{{ pool.applianceType }}"\n                    ui-sref="authenticated.organization-appliance-pools({organization_id: pool.organizationId, appliance_type: pool.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="Appliances"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="section">\n        <div class="fgrid_cell-1-2">\n            <h1 translate="Manage [[name]] Appliances" translate-interpolation="bracket" translate-values="{name: pool.model.name}"></h1>\n            <div class="header-actions">\n                <button id="page-add-top" class="btn btn-secondary" \n                        ng-click="pool.addAppliance(pool.model.applianceType)" \n                        translate="Add [[type]] Appliance"\n                        translate-interpolation="bracket" translate-values="{type: pool.model.applianceType}"></button>\n                <button id="page-health-check-top" class="btn btn-secondary" ng-if="pool.applianceType === \'Security\'" ng-click="pool.healthCheckAll()" translate="Health Check All"></button>\n            </div>\n        </div>\n    </div>\n    <div ng-if="pool.applianceType === \'Security\'">\n        <table class="table"\n        ds-sortable="sortProperty"\n        ds-sortable-initial-property="name"\n        ds-sortable-reverse="sortReverse">\n            <thead>\n                <tr>\n                    <th name="url" class="column-url" ds-sort="url"><span translate="URL"></span> </th>\n                    <th name="status" class="column-appliancestatus"><span translate="Appliance Status"></span> </th>\n                    <th name="protocol_version" class="column-applianceprotocol"><span translate="Protocol Version"></span> </th>\n                    <th name="key_count" class="column-keycount"><span translate="Numbered Key Count"></span> </th>\n                    <th name="hsm_key_count" class="column-hsmkeycount"><span translate="Hsm Key Count"></span> </th>\n                    <th name="hsm_key_chksum" class="column-hsmkeychksum"><span translate="Checksums match"></span> </th>\n                    <th name="key_mgr_version" class="column-kmversion"><span translate="Appliance Version"></span> </th>\n                    <th name="hc" class="column-healthcheck"><span translate="Health Check"></span> </th>\n                    <th name="actions" class="column-actions"><span translate="Actions"></span> </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat=\'item in pool.model.appliances | orderBy:sortProperty:sortReverse\'>\n                    <td>\n                        {{ item.url }}\n                    </td>\n                    <td>\n                        {{ item.settings.status | translate }}\n                    </td>\n                    <td>\n                        {{ item.settings.protocol_version }}\n                    </td>\n                    <td>\n                        {{ item.settings.numbered_key_count }}\n                    </td>\n                    <td>\n                        {{ item.settings.hsm_keys.length }}\n                    </td>\n                    <td>\n                        <div ng-if="pool.verifyAllChecksums(item)" class="icon icon-completed" style="color:#008938"/>\n                        <div ng-if="!pool.verifyAllChecksums(item)" class="icon icon-alert" style="color:#d03238"/>\n                    </td>\n                    <td>\n                        {{ item.settings.key_manager_version }}\n                    </td>\n                    <td>\n                        <div id="{{\'hc-result-\' + item.id }}">\n                            -\n                        </div>\n                    </td>\n                    <td class="column-action">\n                        <button type="button" class="btn btn-minor btn-icon" olive-menu="poolMenu-{{ ::item.id }}">\n                            <span class="icon icon-menu-overflow-vertical"></span>\n                        </button>\n                        <div class="menu invisible" id="poolMenu-{{ ::item.id }}">\n                            <ul>\n                                <li id="{{ ::item.id }}-editButton" class="item" translate="Edit" ng-click="pool.editAppliance($event, item)"></li>\n                                <li ng-if="pool.model.appliances.length > 1 || !pool.model.accounts.length"\n                                    id="{{ ::item.id }}-deleteButton" class="item" translate="Delete" ng-click="pool.deleteAppliance(item)"></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div ng-if="pool.applianceType !== \'Security\'">\n        <table class="table"\n        ds-sortable="sortProperty"\n        ds-sortable-initial-property="name"\n        ds-sortable-reverse="sortReverse">\n            <thead>\n                <tr>\n                    <th name="name" class="column-name" ds-sort="name"><span translate="Name"></span> </th>\n                    <th name="type" class="column-type" ds-sort="url"><span translate="URL"></span> </th>\n                    <th name="actions" class="column-actions"><span translate="Actions"></span> </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat=\'item in pool.model.appliances | orderBy:sortProperty:sortReverse\'>\n                    <td>\n                        {{ item.name }}\n                    </td>\n\n                    <td>\n                        {{ item.url }}\n                    </td>\n                    <td class="column-action">\n                        <button type="button" class="btn btn-trigger btn-secondary" olive-menu="poolMenu-{{ ::item.id }}" translate="Actions"></button>\n                        <div class="menu invisible" id="poolMenu-{{ ::item.id }}">\n                            <ul>\n                                <li class="item" translate="Edit" ng-click="pool.editAppliance($event, item)"></li>\n                                <li class="item" translate="Delete" ng-show="pool.canDelete(pool.model.applianceType)" ng-click="pool.showApplianceDeleteModal(item)"></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n</div>')}]),e.exports=n},function(e,t){var n="appliance-pools/appliance-pool-manage-accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'EditAppliancePoolController as pool\'>\n        <div class="crumbs">\n            <ul class="crumbs_list">\n                <li class="crumbs_listItem">\n                    <a class="crumbs_item" ui-sref="authenticated.organization-dashboard({organization_id: pool.organizationId})"> {{ pool.organization.name }}</a>\n                </li>\n                <li class="crumbs_listItem">\n                    <a class="crumbs_item" translate="Appliance Pools" ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: pool.organizationId})"></a>\n                </li>\n                <li class="crumbs_listItem">\n                    <a class="crumbs_item" translate="{{ pool.applianceType }}" ui-sref="authenticated.organization-appliance-pools({organization_id: pool.organizationId, appliance_type: pool.applianceType})"></a>\n                </li>\n                <li class="crumbs_listItem">\n                    <span class="crumbs_item" translate="Accounts"></span>\n                </li>\n            </ul>\n        </div>\n        <div class="section">\n            <div class="fgrid_cell-1-2">\n                <h1 translate="Manage [[name]] Accounts" translate-interpolation="bracket" translate-values="{name: pool.model.name}"></h1>\n                <div class="header-actions">\n                    <button id="page-add-top" class="btn btn-secondary" \n                            ng-click="pool.showLinkAccountModal()" \n                            translate="Link Accounts">\n                    </button>\n                </div>\n            </div>\n        </div>\n    \n        <table class="table">\n            <thead>\n                <tr>\n                    <th translate="Account Name"></th>\n                    <th translate="Account ID"></th>\n                    <th translate="Site"></th>\n                    <th translate="Actions"></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat=\'item in pool._appliancePools.accounts | orderBy:sortProperty:sortReverse\'>\n                    <td>\n                        {{ ::item.account_name }}\n                    </td>\n                    <td>\n                        {{ item.account_id }}\n                    </td>\n                    <td>\n                        {{ item.site_name }}\n                    </td>\n                    <td>\n                        <button olive-menu="unlinkMenu{{item.account_id}}" class="btn btn-minor btn-icon" data-qa="unlink_accounts_actions_btn">\n                            <span class="icon icon-menu-overflow-vertical" aria-hidden="true"></span>\n                            <span class="sr-text" translate="Actions">Actions</span>                        \n                        </button>\n       \n                        <div class="menu invisible" id="unlinkMenu{{item.account_id}}">\n                            <ul>\n                                <li><a class="item" data-qa="unlink_accounts_unlink_acc" translate="Unlink Account" ng-click="pool.unlinkAccount(item.account_id)"></a></li>\n                                <li><a class="item" data-qa="move_account" translate="Move To Another Pool" ng-click="pool.showMoveAccountModal(item.account_id)"></a></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n\n        </table>\n\n        <div class=\'section\'>\n            <div class="col-center" ng-hide="pool._appliancePools.accounts.length > 0">\n                    <i class="icon icon-search emptyState_icon"></i>\n                    <div class="emptyState_text">\n                        <p translate="No accounts linked."></p>\n                    </div>\n            </div>\n            <button class=\'btn btn-lg btn-secondary\' ng-click="pool.navigateToList()" translate=\'Go Back\'></button>\n        </div>\n    </div>')}]),e.exports=n},function(e,t){var n="appliance-pools/appliance-pool-list.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="site main appliance-pools" ng-controller="AppliancePoolListController as appliancePools">\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: appliancePools.organizationId})"> {{ appliancePools.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: appliancePools.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="{{ appliancePools.applianceType }}"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="section">\n        <div class="grid">\n            <div class="fgrid_cell-1-2">\n                <h1 class="header-title" translate="{{ appliancePools._applianceType}} Appliance Pools"></h1>\n                <div translate="Manage this organization\'s Appliance Pools."></div><br>\n            </div>\n        </div>\n        <div class="grid action-row">\n            <div class="fgrid_cell-1-5">\n                <div class="u-float-left">\n                    <button class="btn btn-secondary"\n                            type="button"\n                            olive-menu-position="below left"\n                            ng-click="appliancePools.add($event)"\n                            translate="Add Appliance Pool">\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="appliancePools.applianceType === \'Security\'">\n        <table class="rad-list  list-tbl"\n            ds-sortable="sortProperty"\n            ds-sortable-initial-property="applianceType"\n            ds-sortable-reverse="sortReverse">\n            <thead>\n                <tr>\n                    <th ds-sort="name"><span translate="Name"></span></th>\n                    <th><span translate="Appliances"></span></th>\n                    <th><span translate="Current Key"></span></th>\n                    <th><span translate="Max Keys"></span></th>\n                    <th><span translate="Accounts Linked"></span></th>\n                    <th><span translate="Actions"></span></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat=\'item in appliancePools._appliancePools.items | orderBy:sortProperty:sortReverse\'>\n                    <td id="{{ \'pool-\' + item.id}}">\n                        {{ item.name }}\n                    </td>\n                    <td>\n                        {{ item.appliances.length }}\n                    </td>\n                    <td ng-if="item.settings.use_derived_keys">\n                        <span ng-if="!item.settings.max_key">-</span>\n                        <span ng-if="item.settings.max_key">{{ ::item.settings.current_hsm_key }}</span>\n                    </td>\n                    <td ng-if="!item.settings.use_derived_keys && item.settings.new_key_per_envelope">\n                        <span ng-if="!item.settings.max_key">-</span>\n                        <span ng-if="item.settings.max_key">{{ ::item.settings.used_key_count }}</span>\n                    </td>\n                    <td ng-if="!item.settings.use_derived_keys && !item.settings.new_key_per_envelope">\n                        <span ng-if="!item.settings.max_key">-</span>\n                        <span ng-if="item.settings.max_key" translate="N/A"></span>\n                    </td>\n                    <td ng-if="item.settings.use_derived_keys">\n                        <span ng-if="!item.settings.max_key">-</span>\n                        <span ng-if="item.settings.max_key">{{ ::item.settings.hsm_keys_in_use.length }}</span>\n                    </td>\n                    <td ng-if="!item.settings.use_derived_keys" >\n                        <span ng-if="!item.settings.max_key">-</span>\n                        <span ng-if="item.settings.max_key">{{ ::item.settings.max_key }}</span>\n                    </td>\n                    <td>\n                        {{ item.accounts.length }}\n                    </td>\n                    <td>\n                        <button olive-menu="poolMenu-{{ ::item.id }}" class="btn btn-minor btn-icon" >\n                            <span class="icon icon-menu-overflow-vertical"></span>\n                        </button>\n                        <div class="menu invisible" id="poolMenu-{{ ::item.id }}">\n                            <ul class="menu_list">\n                                <li class="menu_listItem"><a ng-click="appliancePools.edit($event, item)" class="menu_item" translate="Edit Pool Settings"></a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showManageAppliances($event, item)" class="menu_item" translate="Manage Appliances"></a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showManageAccounts($event, item)" class="menu_item" translate="Manage Accounts"></a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showDeleteModal(item)" class="menu_item" translate="Delete"></a></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n    <div ng-if="appliancePools.applianceType != \'Security\'">\n        <table class="rad-list list-tbl mtbl"\n            ds-sortable="sortProperty"\n            ds-sortable-initial-property="applianceType"\n            ds-sortable-reverse="sortReverse">\n            <thead>\n                <tr>\n                    <th ds-sort="name"><span translate="Name"></span></th>\n                    <th><span translate="Appliances"></span></th>\n                    <th><span translate="Accounts Linked"></span></th>\n                    <th ><span translate="Actions"></span></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat=\'item in appliancePools._appliancePools.items | orderBy:sortProperty:sortReverse\'>\n                    <td id="{{ \'pool-\' + item.id}}">\n                        {{ item.name }}\n                    </td>\n                    <td>\n                        {{ item.appliances.length }}\n                    </td>\n                    <td>\n                        {{ item.accounts.length }}\n                    </td>\n                    <td>\n                        <button olive-menu="poolMenu-{{ ::item.id }}" class="btn btn-minor btn-icon">\n                            <span class="icon icon-menu-overflow-vertical" aria-hidden="true"></span>\n                        </button>\n\n                        <div class="menu invisible" id="poolMenu-{{ ::item.id }}">\n                            <ul class="menu_list">\n                                <li class="menu_listItem"><a ng-click="appliancePools.edit($event, item)" class="menu_item">Edit Pool Settings</a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showManageAppliances($event, item)" class="menu_item">Manage Appliances</a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showManageAccounts($event, item)" class="menu_item">Manage Accounts</a></li>\n                                <li class="menu_listItem"><a ng-click="appliancePools.showDeleteModal(item)" class="menu_item">Delete</a></li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(108),s=n(276),o=function(){function e(e,t,n,a,i,s,o,r,l,c,d,u){var p=this;this._appliancePools=e,this._appliances=t,this._$scope=n,this._oliveModal=a,this._oliveMessage=i,this._$translate=s,this._$state=o,this._$stateParams=r,this._organizationService=l,this._$window=c,this._=d,this.loading=u,this.organizationId=this._$stateParams.organization_id,this.applianceType=this._$stateParams.appliance_type,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.loading=this._appliancePools.all().then(function(e){0===e.length?p.migrateAppliances():p._appliancePools.items=e.filter(function(e){return e.applianceType===p.applianceType})}),this.organizationAccounts=l.getOrganizationAccounts(this.organizationId),this.organizationAccounts.then(function(e){p._appliancePools.allOrgAccounts=e})}return e.prototype.edit=function(e,t){this._$state.go("authenticated.organization-edit-appliance-pool",{organization_id:this.organizationId,appliance_pool_id:t.id,appliance_type:this.applianceType})},e.prototype.add=function(e){this._$state.go("authenticated.organization-add-appliance-pool",{organization_id:this.organizationId,appliance_type:this.applianceType})},e.prototype.showManageAppliances=function(e,t){this._$state.go("authenticated.organization-appliances",{organization_id:this.organizationId,appliance_pool_id:t.id,appliance_type:this.applianceType})},e.prototype.showManageAccounts=function(e,t){this._appliancePools.activeSelection=t;var n=this._appliancePools.activeSelection.accounts;this._appliancePools.accounts=this._appliancePools.allOrgAccounts.filter(function(e){return-1!==n.indexOf(e.account_id)}),this._$state.go("authenticated.organization-appliance-pool-manage-accounts",{organization_id:this.organizationId,appliance_pool_id:t.id,appliance_type:this.applianceType})},e.prototype.showDeleteModal=function(e){this._appliancePools.activeSelection=e;var t={title:this._$translate.instant("Delete Appliance Pool"),text:this._$translate.instant("Deleting this appliance pool cannot be undone. Click 'Confirm' to delete this appliance pool."),completeLabel:this._$translate.instant("Confirm"),escapeLabel:this._$translate.instant("Cancel"),completeFunction:this.deleteAppliancePool.bind(this)};this._oliveModal.confirmationModal(t)},e.prototype.deleteAppliancePool=function(){var e=this,t=this._appliancePools.activeSelection.id;return this._appliancePools.delete(t).then(function(){e._oliveMessage.show({msg:e._$translate.instant("Appliance Pool deleted."),type:"success"}),e._.pull(e._appliancePools.items,e._appliancePools.activeSelection)},function(t){e._oliveMessage.show({msg:e._$translate.instant(t),type:"alert"})})},e.prototype.migrateAppliances=function(){var e=this,t=this;return this._appliancePools.migrateAppliances().then(function(n){n.forEach(function(n){n.settings=t.removeDuplicateSettings(n.settings),n.settings.forEach(function(a){var o=i.AppliancePoolModel.convertFromLegacy(a,n.appliances,t.organizationId);o.name=""!==a.name?a.name:e._$translate.instant("Security Pool"),t.addPool(o,a.hsm_keys_in_use).then(function(e){o.appliances.forEach(function(n,i){n.poolId=e,n.name=t.ExtractHostFromUrl(n.url),t.addAppliance(n).then(function(n){i===o.appliances.length-1&&(a.hsm_keys_in_use.length>0&&a.hsm_keys_in_use.forEach(function(n,a){setTimeout(function(){var a=new s.HsmKey;a.key=n,t._appliancePools.setHsmKey(e,a)},1500*a)}),t.populatePoolList())})})})})})},function(t){e._oliveMessage.show({msg:e._$translate.instant(t),type:"alert"})})},e.prototype.removeDuplicateSettings=function(e){return e.reduce(function(e,t){return function(t){return e.some(function(e){var n=e.current_hsm_key===t.current_hsm_key&&JSON.stringify(e.hsm_keys_in_use)===JSON.stringify(t.hsm_keys_in_use)&&e.use_derived_keys===t.use_derived_keys&&e.new_key_per_envelope===t.new_key_per_envelope;return n&&(e.used_key_count=Math.max(e.used_key_count,t.used_key_count)),n})}(t)?e:e.concat([t])},[])},e.prototype.addPool=function(e,t){var n=this;return this._appliancePools.add(e).then(function(e){return e.data.id},function(e){n._oliveMessage.show({msg:n._$translate.instant(e),type:"alert"})})},e.prototype.addAppliance=function(e){var t=this;return this._appliances.add(e).then(function(e){return e},function(e){t._oliveMessage.show({msg:t._$translate.instant(e),type:"alert"})})},e.prototype.ExtractHostFromUrl=function(e){var t=this._$window.document.createElement("a");return t.href=e,t.host},e.prototype.populatePoolList=function(){var e=this;this.loading=this._appliancePools.all().then(function(t){e._appliancePools.items=t.filter(function(t){return t.applianceType===e.applianceType})})},e}();t.AppliancePoolListController=o,a.AppliancePoolModule.controller("AppliancePoolListController",["AppliancePoolsService","ApplianceService","$scope","oliveModal","oliveMessage","$translate","$state","$stateParams","OrganizationService","$window","lodash",o])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=function(){function e(e,t,n,a,i,s,o,r){this._appliancePools=e,this._$scope=t,this._$translate=n,this._$state=a,this._$stateParams=i,this._organizationService=s,this._=o,this.items=r,this.organizationId=this._$stateParams.organization_id,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.organizationEntitlements=this._organizationService.currentOrg.entitlements,this.loadTiles()}return e.prototype._goToAppliancePools=function(e){this._$state.go("authenticated.organization-appliance-pools",{organization_id:this.organizationId,appliance_type:e})},e.prototype.allowSecurityAppliances=function(){return this.organizationEntitlements.allow_security_appliance},e.prototype.allowDisplayAppliances=function(){return this.organizationEntitlements.allow_display_appliance},e.prototype.allowSigningAppliances=function(){return this.organizationEntitlements.allow_signing_appliance},e.prototype.loadTiles=function(){this.tiles=[{allowed:this.allowSecurityAppliances(),title:"Security",icon:"../images/security_1x.png",goTo:this._goToAppliancePools.bind(this,"Security"),dataqa:"orgAdmin_security_appliance_pool_tile"}]},e}();t.AppliancePoolDashboardController=i,a.AppliancePoolModule.controller("AppliancePoolDashboardController",["AppliancePoolsService","$scope","$translate","$state","$stateParams","OrganizationService","lodash",i])},function(e,t){var n="appliance-pools/appliance-pool-dashboard.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AppliancePoolDashboardController as ctrler">\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n            <a class="crumbs_item"\n                ui-sref="authenticated.organization-dashboard({organization_id: ctrler.organizationId})"> {{ ctrler.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n            <span class="crumbs_item" translate="Appliance Pools"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="section">\n        <h1 class="header-title" translate="Appliance Pools"></h1>\n    </div>\n    <div class="section">\n        <div class="tiles">\n            <div class="tile" ng-repeat="x in ctrler.tiles" ng-click="x.goTo()" ng-if="x.allowed" data-qa="{{::x.dataqa}}">\n                <div class="tile_icon">\n                    <img ng-src="{{x.icon}}" />\n                </div>\n                <div class="tile_title">\n                    {{x.title | translate}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="appliance-pools/add-edit-Signing-appliance-pool.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n    <div class="form_unit">\n        <label class="label" for="appliance-pool-name" label-required=\'*\' translate="Name"></label>\n        <input id=\'appliance-pool-name\' type="text" class="input-text input-md"\n                ng-model=\'pool.model.name\'\n                maxlength=\'128\'\n                required />\n    </div>\n</form>')}]),e.exports=n},function(e,t){var n="appliance-pools/add-edit-Security-appliance-pool.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form ds-form>\n    <div class="form_unit m-top-none">\n        <label class="label" for="appliance-pool-name" label-required=\'*\' translate="Name"></label>\n        <input id=\'appliance-pool-name\' type="text" class="input-text input-md"\n                ng-model=\'pool.model.name\'\n                maxlength=\'64\'\n                required />\n    </div>\n    <div class="form_unit">\n        <div>\n            <label class="label" for="appliance-pool-cache-timeout" label-required=\'*\' translate="Key Cache Timeout"></label><br>\n            <small translate="If 0 then keys are cached in thread-local storage, otherwise keys are cached in session-local storage for this many seconds."></small>\n        </div>\n        <div>\n            <input id=\'appliance-pool-cache-timeout\' type="text" class="input-text input-sm"\n            ng-model=\'pool.model.settings.cache_timeout\'\n            ds-valid="integer"\n            ds-valid-min="0"\n            required />\n        </div>\n    </div>\n    <div class="form_unit">\n        <div>\n            <label class="label" for="appliance-pool-request-timeout" label-required=\'*\' translate="Request Timeout"></label><br>\n            <small translate="Fail the request and try the next appliance after this long. Append \'s\' for seconds or \'ms\' for milliseconds."></small>\n        </div>\n        <div>\n            <input id=\'appliance-pool-request-timeout\' type="text" class="input-text input-sm"\n            ng-model=\'pool.model.settings.request_timeout\'\n            ds-valid=\'regex\' ds-valid-regex="\'^[0-9]+(ms|s{1})|^[0-9]+$\'"\n            required />\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="inline-input cb">\n            <input type="checkbox" id="appliance-pool-new-key-per-envelope" class="cb_input" ng-model=\'pool.model.settings.new_key_per_envelope\' />\n            <label class="cb_label" for="appliance-pool-new-key-per-envelope" translate=\'New Key Per Envelope\'></label>\n        </div>\n        <div class="form-group" ng-show="pool.showDisabledFields && pool.model.settings.new_key_per_envelope">\n            <span class="m-left-x-large" ng-bind=\'pool.model.settings.used_key_count\' translate=\'{{ pool.model.settings.used_key_count || 0 }} keys used\' ></span>\n        </div>\n        <div class="inline-input cb">\n            <input id="appliance-pool-use-derived-keys" class="cb_input" type="checkbox" ng-model=\'pool.model.settings.use_derived_keys\' ng-change="pool.getHsmKeys()"/>\n            <label class="cb_label" for="appliance-pool-use-derived-keys" translate=\'Use Derived Keys\'></label>\n        </div>\n        <div class="form-group">\n            <div class="select-wrap m-left-x-large" ng-show="pool.showDisabledFields && pool.model.settings.use_derived_keys" style="max-width:25%;">\n                    <select id="hsmKeySelect" ng-model="pool.currentHsmKey" ng-options="item as item for item in pool.hsmKeys"></select>\n            </div>\n        </div>\n    </div>\n    <div ng-show="pool.showDisabledFields">\n        <div class="form-group">\n            <label class="label" for="appliance-pool-max-key" translate="Max Key"></label>\n            <span class="m-left-x-large" ng-bind=\'pool.model.settings.max_key\' />\n        </div>\n        <div class="form-group" ng-show="pool.model.settings.use_derived_keys">\n            <label class="label" for="appliance-pool-hsm-keys-in-use" translate="HSM Keys Previously Used"></label><br>\n            <textarea class="m-left-x-large hsm-key-list" id=\'appliance-pool-hsm-keys-in-use\'\n                        ng-model=\'pool.model.settings.hsm_keys_in_use\' rows="5" cols="40"\n                        disabled></textarea>\n        </div>\n    </div>\n</form>')}]),e.exports=n},function(e,t){var n="appliance-pools/add-edit-Display-appliance-pool.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<form>\n    <div class="form_unit">\n        <label class="label" for="appliance-pool-name" label-required=\'*\' translate="Name"></label>\n        <input id=\'appliance-pool-name\' type="text" class="input-text input-md"\n                ng-model=\'pool.model.name\'\n                maxlength=\'64\' required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-pool-api-proxy-url" label-required=\'*\' translate="DocuSign API Proxy URL"></label>\n        <input id=\'appliance-pool-api-proxy-url\' type="text" class="input-text input-md"\n                ng-model=\'pool.model.settings.docusign_api_proxy_url\'\n                ds-valid required />\n    </div>\n\n    <div class="form_unit">\n        <label class="label" for="appliance-pool-api-url" label-required=\'*\' translate="API URL"></label>\n        <input id=\'appliance-pool-api-url\' type="text" class="input-text input-md"\n                ng-model=\'pool.model.settings.api_url\'\n                ds-valid required />\n    </div>\n</form>')}]),e.exports=n},function(e,t){var n="appliance-pools/add-appliance-pool.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller=\'AddAppliancePoolController as pool\' ds-form>\n    <div class="crumbs">\n        <ul class="crumbs_list">\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    ui-sref="authenticated.organization-dashboard({organization_id: pool.organizationId})"> {{ pool.organization.name }}</a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="Appliance Pools"\n                    ui-sref="authenticated.organization-appliance-pools-dashboard({organization_id: pool.organizationId})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <a class="crumbs_item"\n                    translate="{{ pool.applianceType }}"\n                    ui-sref="authenticated.organization-appliance-pools({organization_id: pool.organizationId, appliance_type: pool.applianceType})"></a>\n            </li>\n            <li class="crumbs_listItem">\n                <span class="crumbs_item" translate="Add"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="section">\n        <h1 class="m-top-medium" data-qa="add_appliance_pool_title" \n            translate="Add [[type]] Appliance Pool"\n            translate-interpolation="bracket" \n            translate-values="{type: pool.model.applianceType}"></button>></h1>\n    </div>\n    <div class=\'section\' ng-switch="pool.applianceType">\n            <div ng-switch-when="Security">\n                <div ng-include="\'appliance-pools/add-edit-Security-appliance-pool.html\'"></div>\n            </div>\n            <div ng-switch-when="Display">\n                <div ng-include="\'appliance-pools/add-edit-Display-appliance-pool.html\'"></div>\n            </div>\n            <div ng-switch-when="Signing">\n                <div ng-include="\'appliance-pools/add-edit-Signing-appliance-pool.html\'"></div>\n            </div>\n    </div>\n    <div class="section">\n        <div class="action-btns">\n            <button id="page-add-bottom" class="btn btn-primary" ng-click="pool.add()" translate="Save"></button>\n            <button id="page-cancel-bottom" class="btn btn-minor" ng-click="pool.navigateToList()" translate="Cancel"></button>\n        </div>\n    </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(108),i=n(24),s=function(){function e(e,t,n,i,s,o,r,l,c,d){this._appliancePools=e,this._$scope=t,this._$state=n,this._oliveMessage=i,this._$translate=s,this._$timeout=o,this._$stateParams=r,this._organizationService=l,this._=c,this.model=d,this.showDisabledFields=!1,this.organizationId=this._$stateParams.organization_id,this.applianceType=this._$stateParams.appliance_type,this._.isEmpty(this.organizationId)&&this._$state.go("authenticated"),this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.model=new a.AppliancePoolModel,this.model.organizationId=this.organizationId,this.model.applianceType=this.applianceType}return e.prototype.navigateToList=function(){this._$state.go("authenticated.organization-appliance-pools",{organization_id:this.organizationId,appliance_type:this.applianceType})},e.prototype.add=function(){var e=this,t=this;t._appliancePools.add(t.model).then(function(e){t.model.id=e.data.id,t._oliveMessage.show({msg:t._$translate.instant("You have successfully added an appliance pool."),type:"success"}),t.navigateToList()},function(t){e._oliveMessage.show({msg:e._$translate.instant(t),type:"alert"})})},e}();i.AppliancePoolModule.controller("AddAppliancePoolController",["AppliancePoolsService","$scope","$state","oliveMessage","$translate","$timeout","$stateParams","OrganizationService","lodash",s])},function(e,t){var n="appliance-pools/add-accounts.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ng-controller="AddAccountsToPoolController as addAccounts">\n  <div class="modal_header">\n    <h1 class="modal_title" translate="Link Accounts"></h1>\n  </div>\n  <div class="modal_content modal_content-list">\n    <div class="modal_toolbar">\n      <div class="modal_description"\n        translate="Here are the DocuSign accounts for which you are an account administrator. Select which accounts you would like to give permissions to access this appliance pool."></div>\n    </div>\n    <table class="table" olive-table-select>\n      <thead>\n        <tr>\n          <th translate="Name"></th>\n          <th translate="Account ID"></th>\n          <th translate="Site"></th>\n          <th translate="Action"></th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="account in addAccounts._appliancePools.getUnlinkedAccountsInOrg()">\n          <td>{{ ::account.account_name }}</td>\n          <td>{{ ::account.account_id }}</td>\n          <td>{{ ::account.site_name }}</td>\n          <td>\n              <button ng-disabled="addAccounts.isLinkingAccount"  translate=\'Link\'\n                      class="btn btn-secondary" ng-click="addAccounts.linkAccount(account)">\n              </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class="emptyState" ng-if="addAccounts._appliancePools.getUnlinkedAccountsInOrg().length === 0">\n      <i class="icon icon-search emptyState_icon"></i>\n      <div class="emptyState_text">\n        <p translate="No accounts to link."></p>\n      </div>\n    </div>\n\n  </div>\n  <div class=\'modal_footer\'>\n      <button class=\'btn btn-lg btn-secondary\' olive-modal-complete translate=\'Close\'></button>\n  </div>\n</div>')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(367),s=function(){function e(e,t,n,a,i,s,o,r){var l=this;this._appliancePools=e,this._$scope=t,this._oliveModal=n,this._=a,this._oliveMessage=i,this._organizationService=s,this._$translate=o,this._$q=r,this.saving=!1,this.isLinkingAccount=!1,this.accountBeingLinked=null,this.linkAccountErrors=[],this.organizationId=this._$scope.organizationId,this._.isEmpty(this._organizationService.currentOrg)||this._organizationService.currentOrg.id!==this.organizationId||(this.organization=this._organizationService.currentOrg.organization),this.unlinkedAccountsInOrg=this._appliancePools.getUnlinkedAccountsInOrg(),this.accountIdToAccountObjMap={},this._appliancePools.allOrgAccounts.forEach(function(e){l.accountIdToAccountObjMap[e.account_id]=e})}return e.prototype.linkAccount=function(e){var t=this;this.accountBeingLinked=e.account_id,this.isLinkingAccount=!0;var n=this._appliancePools.activeSelection.id,a=e.account_id,s=function(e){var n=t._$translate.instant("Server Error, please contact our customer support");e&&(n=t._$translate.instant("Server Error, please contact our customer support with reference id: {{referenceId}}",{referenceId:e})),function(e){t._oliveMessage.show({content:e,type:"error",name:"linkAccountError"}),t.isLinkingAccount=!1,t.accountBeingLinked=null}(n)},o=function(e){var n=i.AppliancePoolAccountCompatibility.create(e);n.isCompatible?(t._oliveMessage.show({content:t._$translate.instant("Account: {{accountName}} linked successfully.",{accountName:t.accountIdToAccountObjMap[n.accountId].account_name}),type:"success",name:"linkAccountSuccess",autoClose:!0}),t.addToPoolLinkedAccountList(n.accountId),t._appliancePools.accounts.push(t.accountIdToAccountObjMap[n.accountId]),0===t._appliancePools.getUnlinkedAccountsInOrg().length&&t._oliveModal.escapeTopModal()):function(e){t._oliveModal.getTopModal().clearMessages(),t._oliveModal.hasError=!0;var n=[{name:"SqlNumbered",isConsistent:e.sqlNumberedChecksumForPoolConsistency.isConsistent,errorMessage:"This account is using a classic pool and the appliances in that pool do not all have the same numbered keys."},{name:"SqlHsm",isConsistent:e.sqlHsmChecksumForPoolConsisteny.isConsistent,errorMessage:"This account is using a classic pool and the appliances in that pool do not all have the same HSM keys."},{name:"SauceNumbered",isConsistent:e.sauceNumberedChecksumForPoolConsistency.isConsistent,errorMessage:"This pool has appliances that do not all have the same numbered keys."},{name:"SauceHsm",isConsistent:e.sauceHsmChecksumForPoolConsistency.isConsistent,errorMessage:"This pool has appliances that do not all have the same HSM keys."}].filter(function(e){return!e.isConsistent});n.map(function(e){return t._oliveModal.getTopModal().addMessage(t._$translate.instant(e.errorMessage),e.name,"error")}),n.length>0||e.isCompatible||(!1===e.hsmChecksumMatch.isMatch?t._oliveModal.getTopModal().addMessage(t._$translate.instant("This account is currently using a classic pool that has different HSM keys."),"HsmChecksum","error"):!1===e.hsmKeysInUseMatch.isMatch&&t._oliveModal.getTopModal().addMessage(t._$translate.instant("This account is currrently using a classic pool that has a different history of HSM keys."),"HsmKeysInUse","error"),!1===e.maxKeyMatch.isMatch?t._oliveModal.getTopModal().addMessage(t._$translate.instant("This account is using a classic pool that has {{ sqlData }} numbered keys.",{sqlData:e.maxKeyMatch.sqlData}),"MaxKeyMatch","error"):!1===e.numberedChecksumMatch.isMatch&&t._oliveModal.getTopModal().addMessage(t._$translate.instant("This account is currently using a classic pool that has different numbered keys."),"NumberedChecksum","error"))}(n),t.isLinkingAccount=!1,t.accountBeingLinked=null};this._appliancePools.sendLinkAccountRequest(n,a).then(function(e){return o(e)}).catch(function(e){s(e)})},e.prototype.addToPoolLinkedAccountList=function(e){var t=this._.findIndex(this._appliancePools.items,{id:this._appliancePools.activeSelection.id});this._appliancePools.items[t].accounts.push(e)},e.prototype.clearErrors=function(){this.linkAccountErrors=[]},e}();t.AddAccountToPoolController=s,a.AppliancePoolModule.controller("AddAccountsToPoolController",["AppliancePoolsService","$scope","oliveModal","lodash","oliveMessage","OrganizationService","$translate","$q",s])},function(e,t){var n="account-profile/edit-name.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div ds-form>\n  <div class="header">\n    <h1 translate="Change Account Name"></h1>\n  </div>\n\n  <div class="change-name content" ng-show="nameSaved">\n    <p translate="The account name appears in your account action menu and in any listing of accounts. This name may also appear in the signing view along with the sender\'s name, depending on your branding and legal disclosure configuration.">\n    </p>\n    <div class="form-group">\n      <label class="label"\n             label-required="*"\n             for="accountProfile.local_accountName"\n             translate="Account Name"></label>\n      <input type="text" class="input-text" id="accountProfile.local_accountName"\n             data-qa="account_profile_edit_name_txb"\n             ng-model="accountProfile.local_accountName" ds-valid required />\n    </div>\n  </div>\n  <div class="text-center grid pad" ds-loading="nameSaving" ds-loading-succeeded="nameSaved"></div>\n  <div class="footer">\n    <button class="btn btn-primary btn-lg" id="changeNameBtn" ng-disabled="!nameSaved" ds-form-submit="changeName()"\n            data-qa="account_profile_edit_change_name_btn"\n            translate="Change Name"></button>\n    <button class="btn btn-minor btn-lg" id="cancelNameBtn" ds-close-modal ng-click="cancelEdit()"\n            data-qa="account_profile_edit_cancel_btn"\n            translate="Cancel"></button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7).RADminControllers.controller("AccountProfileController",["dsModals","dsNotification","dsAccount","countryStatePicker","appUser","$translate","$q","$scope","I18nLayer","OrganizationService","lodash",function(e,t,n,a,i,s,o,r,l,c,d){function u(){i.currentAccountInfo.settingsRetrieved.then(function(){d.merge(r.accountProfile,d.pick(i.currentAccountInfo.settings,d.keys(r.accountProfile))),r.accountProfile.local_accountName=r.accountProfile.accountName,p(!0),r.changeCountry(!1)}),i.currentAccountInfo.informationRetrieved.then(function(){var e=i.currentAccountInfo.information.status21CFRPart11;r.isCFREnabled="enabled"===e||"modified"===e})}function p(e){e?(r.accountProfile.local_stateValue=r.accountProfile.billingAddress.stateOrProvince,r.accountProfile.local_stateListValue=r.accountProfile.billingAddress.stateOrProvince):r.accountProfile.billingAddress.stateOrProvince=r.showStateList?r.accountProfile.local_stateListValue:r.accountProfile.local_stateValue}r.accountProfile={accountName:null,billingAddress:{address1:null,address2:null,city:null,stateOrProvince:null,postalCode:null,country:null},local_accountName:null,local_stateValue:null,local_stateListValue:null},r.showStateList=!0,r.stateLabel="Select State",r.countries=[],r.states={},r.isCFREnabled=!1,r.changeName=function(){r.accountProfile.accountName=r.accountProfile.local_accountName,r.save(),r.nameSaving.then(function(){c.currentAccount.account_name=r.accountProfile.accountName,d.isEmpty(c.organizations)||c.initialize()})},r.cancelEdit=function(){r.accountProfile.local_accountName=r.accountProfile.accountName},r.nameSaving=o.when(),r.cancel=function(e){u(),e&&e.$setPristine()},r.changeCountry=function(e){r.states=a.getStateList(r.accountProfile.billingAddress.country),r.stateLabel=a.getStateLabel(r.accountProfile.billingAddress.country),r.stateSelectLabel=a.getStateSelectLabel(r.accountProfile.billingAddress.country),r.showStateList=a.countryHasEnumeratedRegions(r.accountProfile.billingAddress.country),e&&(r.accountProfile.local_stateValue="");r.showStateList?r.accountProfile.local_stateValue="HIDDEN_NO_SELECT":r.accountProfile.local_stateListValue="HIDDEN_NO_SELECT"},r.save=function(a){var o,l;p(!1),r.nameSaving=n.updateSettings(i.getCurrentAccountId(),r.accountProfile).then(function(){o=s.instant("Saved Successfully!"),l="success",i.refreshAccountSettings(),a&&a.$setPristine()},function(){o=s.instant("An error occurred!"),l="alert"}).finally(function(){e.closeModal(),t.show({msg:o,type:l})})},r.addressFormat=l.getAddressFormat(),r.countries=a.getCountries(),u()}])},function(e,t){var n="account-profile/account-profile.html";window.angular.module("templates").run(["$templateCache",function(e){e.put(n,'<div class="name-address" ds-form ng-controller="AccountProfileController as account">\n  <div class="section">\n    <h1 class="header-title" translate="Account Profile"></h1>\n\n    <div class="header-actions" ds-ackbar="accountProfileForm" ds-ackbar-save="save(accountProfileForm)"\n         ds-ackbar-cancel="cancel(accountProfileForm)"></div>\n  </div>\n\n  <div class="section">\n    <form name="accountProfileForm">\n      <h2 class="header-title" translate="Account Name"></h2>\n      <div class="grid">\n        <div class="col-1-3">\n          <div class="form-group">\n            <strong>{{ accountProfile.accountName }}</strong> <a class="anchor" id="accountName"\n               ds-modal="account-profile/edit-name.html"\n               ds-add-close="true" translate="Edit"></a>\n              <span ng-if="isCFREnabled">\n                  <div class="form-group">\n                      <i class="v-align-middle icon icon-shield-check"></i>\n                      {{ \'Part 11 Module Enabled\' | translate }}\n                  </div>\n              </span>\n          </div>\n        </div>\n      </div>\n\n      <h2 class="header-title" translate="Account Address"></h2>\n      <div class="grid">\n        <div class="name-address col-1-3">\n\n          <div ng-switch on="addressFormat">\n          <div ng-switch-when="ja_jp">\n            <div ng-include="\'billingAddress.postalCode\'"></div>\n            <div ng-include="\'billingAddress.regionProvince\'"></div>\n            <div ng-include="\'billingAddress.city\'"></div>\n            <div ng-include="\'billingAddress.address\'"></div>\n            <div ng-include="\'billingAddress.country\'"></div>\n          </div>  \x3c!-- ng-switch-when=ja_jp --\x3e\n          <div ng-switch-default>\n            <div ng-include="\'billingAddress.address\'"></div>\n            <div ng-include="\'billingAddress.city\'"></div>\n            <div ng-include="\'billingAddress.country\'"></div>\n            <div ng-include="\'billingAddress.regionProvince\'"></div>\n            <div ng-include="\'billingAddress.postalCode\'"></div>\n          </div> \x3c!-- ng-switch-default --\x3e\n          </div> \x3c!-- ng-switch --\x3e\n\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="section">\n    <div class="header-actions" ds-ackbar="accountProfileForm" ds-ackbar-save="save(accountProfileForm)"\n         ds-ackbar-cancel="cancel(accountProfileForm)"></div>\n  </div>\n</div>\n\n<script type="text/ng-template" id="billingAddress.address">\n          <div class="form-group">\n            <label class="label" label-required="*" for="address1" translate="Street 1"></label>\n            <input type="text" class="input-text" id="address1" data-qa="account_profile_address1_txb"\n                   ng-model="accountProfile.billingAddress.address1" ds-valid required />\n          </div>\n          <div class="form-group">\n            <label class="label" for="address2" translate="Street 2"></label>\n            <input type="text" class="input-text" id="address2" data-qa="account_profile_address2_txb"\n                   ng-model="accountProfile.billingAddress.address2" />\n          </div>\n<\/script>\n<script type="text/ng-template" id="billingAddress.city">\n          <div class="form-group">\n            <label class="label" label-required="*" for="city" translate="City"></label>\n            <input type="text" class="input-text" id="city" data-qa="account_profile_city_txb"\n                   ng-model="accountProfile.billingAddress.city" ds-valid required />\n          </div>\n<\/script>\n<script type="text/ng-template" id="billingAddress.regionProvince">\n          <div class="form-group">\n            <label class="label" label-required="*" for="state" translate="{{stateLabel}}"></label>\n            <input type="text" class="input-text" id="state" ng-show="!showStateList"\n              data-qa="account_profile_state_txb"\n              ng-model="accountProfile.local_stateValue" ds-valid required />\n\n            <div class="select-wrap" ng-show="showStateList">\n      <select id="stateList"\n        ng-options=\'k as v | translate for (k, v) in states\'\n        data-qa="account_profile_state_option"\n        ng-model=\'accountProfile.local_stateListValue\' ds-valid required>\n        <option value=\'\' translate="{{stateSelectLabel}}"></option>\n              </select>\n            </div>\n          </div>\n<\/script>\n<script type="text/ng-template" id="billingAddress.postalCode">\n          <div class="form-group">\n            <label class="label" label-required="*" for="postal-code" translate="Postal Code"></label>\n            <input type="text" class="input-text" id="postal-code" data-qa="account_profile_postal_code_txb"\n              ng-model="accountProfile.billingAddress.postalCode" ds-valid required />\n          </div>\n<\/script>\n<script type="text/ng-template" id="billingAddress.country">\n  <div class="form-group">\n    <label class="label" for="accountProfile.billingAddress.country" label-required="*" translate="Country"></label>\n    <div class="select-wrap">\n      <select id="accountProfile.billingAddress.country"\n        ng-options=\'country.value as country.name for country in countries\'\n        ng-model="accountProfile.billingAddress.country"\n        data-qa="account_profile_country_option"\n        ng-change="changeCountry(true)" ds-valid required>\n        <option value=\'\' translate="Select Country"></option>\n      </select>\n        </div>\n      </div>\n<\/script>\n')}]),e.exports=n},function(e,t,n){var a={"./account-profile/account-profile.html":1203,"./account-profile/account-profile.ts":1202,"./account-profile/edit-name.html":1201,"./app.ts":7,"./appliance-pools/add-accounts-controller.ts":1200,"./appliance-pools/add-accounts.html":1199,"./appliance-pools/add-appliance-pool-controller.ts":1198,"./appliance-pools/add-appliance-pool.html":1197,"./appliance-pools/add-edit-Display-appliance-pool.html":1196,"./appliance-pools/add-edit-Security-appliance-pool.html":1195,"./appliance-pools/add-edit-Signing-appliance-pool.html":1194,"./appliance-pools/appliance-pool-account-compatibility-model-v2.ts":366,"./appliance-pools/appliance-pool-account-compatibility-model.ts":367,"./appliance-pools/appliance-pool-dashboard.html":1193,"./appliance-pools/appliance-pool-dashboard.ts":1192,"./appliance-pools/appliance-pool-list-controller.ts":1191,"./appliance-pools/appliance-pool-list.html":1190,"./appliance-pools/appliance-pool-manage-accounts.html":1189,"./appliance-pools/appliance-pool-manage-appliances.html":1188,"./appliance-pools/appliance-pool-model.ts":108,"./appliance-pools/appliance-pool-module.ts":24,"./appliance-pools/appliance-pool-service.ts":1187,"./appliance-pools/appliance-util-service.ts":1186,"./appliance-pools/appliances/add-appliance-controller.ts":1185,"./appliance-pools/appliances/add-appliance.html":1184,"./appliance-pools/appliances/add-edit-Display-appliance.html":1183,"./appliance-pools/appliances/add-edit-Security-appliance.html":1182,"./appliance-pools/appliances/add-edit-Signing-appliance.html":1181,"./appliance-pools/appliances/appliance-model.ts":107,"./appliance-pools/appliances/appliance-service.ts":1180,"./appliance-pools/appliances/edit-appliance-controller.ts":1179,"./appliance-pools/appliances/edit-appliance.html":1178,"./appliance-pools/appliances/health-check-security.ts":275,"./appliance-pools/appliances/view-details-controller.ts":1177,"./appliance-pools/appliances/view-details.html":1176,"./appliance-pools/edit-appliance-pool-controller.ts":1175,"./appliance-pools/edit-appliance-pool.html":1174,"./appliance-pools/hsm-key-model.ts":276,"./appliance-pools/legacy-pool-model.ts":365,"./appliance-pools/legacy-pool-settings-model.ts":364,"./appliance-pools/move-accounts-controller.ts":1173,"./appliance-pools/move-accounts.html":1172,"./audit-log/_audit-log-module.ts":274,"./audit-log/audit-log-constants.ts":1171,"./audit-log/audit-log-list-controller.ts":1170,"./audit-log/audit-log-list.html":1169,"./audit-log/audit-log-service.ts":1168,"./billing-and-usage/_billing-and-usage-module.ts":65,"./billing-and-usage/billing-and-usage-service.ts":1167,"./billing-and-usage/billing-and-usage.html":1166,"./billing-and-usage/billing-and-usage.ts":1165,"./billing-and-usage/billing-history/billing-history.html":1164,"./billing-and-usage/billing-information/billing-information.html":1163,"./billing-and-usage/billing-service-charge-types.ts":1162,"./billing-and-usage/dashboard-controller.ts":1161,"./billing-and-usage/dashboard-model.ts":1160,"./billing-and-usage/dashboard.html":1159,"./billing-and-usage/usage-details-controller.ts":1158,"./billing-and-usage/usage-details-model.ts":1157,"./billing-and-usage/usage-details.html":1156,"./branding/add-brand-controller.ts":1155,"./branding/add-brand.html":1154,"./branding/brand-advanced-settings-controller.ts":362,"./branding/brand-advanced-settings.html":1153,"./branding/brand-links-controller.ts":1152,"./branding/brand-links.html":1151,"./branding/brand-list-controller.ts":1150,"./branding/brand-list.html":1149,"./branding/brand-service.ts":361,"./branding/branding-feature-wall-video-open-modal.html":1148,"./branding/brands-module.ts":52,"./branding/controllers/BrandingController.ts":1147,"./branding/controllers/CustomizeThemeModalController.ts":1146,"./branding/controllers/PostSigningDestinations.ts":1144,"./branding/delete-brand-confirmation.html":1143,"./branding/directives/text-color-picker.ts":1142,"./branding/group-brand-list.html":1141,"./branding/resource-file-upload.html":1140,"./branding/services/BrandConstants.ts":1139,"./branding/templates/brand-left-nav.html":1138,"./branding/templates/brand-logo-requirements.html":1137,"./branding/templates/brand-preview-body.html":1136,"./branding/templates/brand-preview-modal.html":1135,"./branding/templates/branding.html":1134,"./branding/templates/post-signing-destinations.html":1133,"./branding/templates/previews/new-email.html":1132,"./branding/templates/previews/new-signing.html":1131,"./branding/templates/previews/old-email.html":1130,"./branding/templates/previews/old-signing.html":1129,"./branding/templates/previews/powerform.html":1128,"./branding/templates/sending/brand-left-nav.html":1126,"./branding/templates/sending/brand-preview-body.html":1125,"./branding/templates/sending/brand-preview-modal.html":1124,"./branding/templates/sending/previews/home.html":1123,"./branding/templates/sending/previews/manage.html":1122,"./branding/templates/sending/sending-brand-list.html":1121,"./branding/upload-resource-file-controller.ts":1120,"./classic-preferences/classic-preferences-controller.ts":1119,"./classic-preferences/classic-preferences-module.ts":359,"./classic-preferences/classic-preferences.html":1118,"./comments/comments-controller.ts":1117,"./comments/comments-module.ts":358,"./comments/comments.html":1116,"./connect/_connect-module.ts":11,"./connect/add-custom-configuration-controller.ts":1115,"./connect/add-custom-configuration.html":1114,"./connect/add-edit-custom-configuration-controller.ts":1113,"./connect/add-edit-custom-configuration-header.html":1112,"./connect/add-edit-custom-configuration.html":1111,"./connect/add-edit-salesforce-configuration.html":1110,"./connect/add-edit-salesforce-login.html":1109,"./connect/add-salesforce-login-controller.ts":1108,"./connect/add-salesforce-login.html":1107,"./connect/associated-users.html":1106,"./connect/cloud-storage/cloud-redirect.html":1105,"./connect/cloud-storage/cloud-storage-configuration-controller.ts":1104,"./connect/cloud-storage/cloud-storage-configuration.html":1103,"./connect/cloud-storage/e-original-configuration-controller.ts":1102,"./connect/cloud-storage/e-original-configuration.html":1101,"./connect/confirm-disable-connect-modal.html":1100,"./connect/connect-configuration-list-controller.ts":1099,"./connect/connect-configuration-list.html":1098,"./connect/connect-configuration-model.ts":1097,"./connect/connect-configurations-service.ts":1096,"./connect/connect-failures-controller.ts":1095,"./connect/connect-failures.html":1094,"./connect/connect-log-details-controller.ts":1093,"./connect/connect-log-details-modal.html":1092,"./connect/connect-logs-controller.ts":1091,"./connect/connect-logs.html":1090,"./connect/delete-connect-configuration-controller.ts":1089,"./connect/delete-connect-configuration-modal.html":1088,"./connect/edit-custom-configuration-controller.ts":1087,"./connect/edit-custom-configuration.html":1086,"./connect/edit-salesforce-configuration-controller.ts":1085,"./connect/edit-salesforce-configuration.html":1084,"./connect/edit-salesforce-login-controller.ts":1083,"./connect/edit-salesforce-login.html":1082,"./connect/envelope-publish-confirm.html":1081,"./connect/envelope-publish-controller.ts":1080,"./connect/envelope-publish-service.ts":1079,"./connect/envelope-publish.html":1078,"./connect/folder-selector-controller.ts":1077,"./connect/folder-selector-modal.html":1076,"./connect/salesforce-configuration-header.html":1075,"./connect/salesforce-configuration-model.ts":1074,"./connect/salesforce-field-model.ts":1073,"./connect/salesforce-login-model.ts":1072,"./connect/salesforce-object-controller.ts":1071,"./connect/salesforce-object-model.ts":1070,"./connect/salesforce-object-service.ts":1069,"./connect/salesforce-object.html":1068,"./connect/trigger-events.html":1067,"./connect/upload-salesforce-modal.html":1066,"./connected-apps/connected-apps.html":1065,"./connected-apps/connected-apps.ts":1064,"./custody-transfer/add-custody-transfer-rule-controller.ts":1063,"./custody-transfer/add-custody-transfer-rule.html":1062,"./custody-transfer/custody-transfer-constants.ts":273,"./custody-transfer/custody-transfer-controller.ts":1061,"./custody-transfer/custody-transfer-module.ts":73,"./custody-transfer/custody-transfer-rule-details-controller.ts":1060,"./custody-transfer/custody-transfer-rule-details.html":1059,"./custody-transfer/custody-transfer.html":1058,"./custody-transfer/transfer-from-csv-confirm.html":1057,"./custody-transfer/transfer-now-controller.ts":1056,"./custody-transfer/transfer-now-service.ts":1055,"./custody-transfer/transfer-now.html":1054,"./custody-transfer/transfer-select-user.html":1053,"./custom-fields/_custom-fields-module.ts":48,"./custom-fields/custom-field-detail.html":1052,"./custom-fields/custom-field-details-controller.ts":1051,"./custom-fields/custom-field-font-colors.ts":1050,"./custom-fields/custom-field-font-names.ts":1049,"./custom-fields/custom-field-font-sizes.ts":1048,"./custom-fields/custom-field-list-controller.ts":1047,"./custom-fields/custom-field-list.html":1046,"./custom-fields/custom-field-type-options.ts":1045,"./custom-fields/custom-field-validation-types.ts":1044,"./custom-fields/custom-fields-service.ts":1043,"./directory-providers/directory-provider-add-controller.ts":1042,"./directory-providers/directory-provider-add.html":1041,"./directory-providers/directory-provider-available-model.ts":357,"./directory-providers/directory-provider-delete-controller.ts":1040,"./directory-providers/directory-provider-delete.html":1039,"./directory-providers/directory-provider-edit-controller.ts":1038,"./directory-providers/directory-provider-edit.html":1037,"./directory-providers/directory-provider-list-controller.ts":1036,"./directory-providers/directory-provider-list.html":1035,"./directory-providers/directory-provider-model.ts":104,"./directory-providers/directory-provider-waiting-controller.ts":1034,"./directory-providers/directory-provider-waiting.html":1033,"./document labels/document label detail.html":1032,"./document labels/document-labels-list-controller.ts":1031,"./document labels/document-labels-list.html":1030,"./document labels/document-labels-module.ts":356,"./document-sending/document-sending-constants.ts":355,"./document-sending/document-sending-controller.ts":1029,"./document-sending/document-sending-module.ts":354,"./document-sending/document-sending.html":1028,"./document-signing/document-signing-constants.ts":272,"./document-signing/document-signing-module.ts":36,"./document-signing/session-landing-pages-constant.ts":1027,"./document-signing/session-landing-pages-controller.ts":1026,"./document-signing/session-landing-pages-service.ts":1025,"./document-signing/session-landing-pages.html":1024,"./document-signing/signature-adoption-configuration-controller.ts":1023,"./document-signing/signature-adoption-configuration-service.ts":1022,"./document-signing/signature-adoption-configuration.html":1021,"./document-signing/signature-styles.ts":1020,"./document-signing/signing.html":1019,"./document-signing/signing.ts":1016,"./document-signing/watermark-controller.ts":1015,"./document-signing/watermark-preview-controller.ts":1014,"./document-signing/watermark-preview.html":1013,"./document-signing/watermark-service.ts":1012,"./document-signing/watermark.html":1011,"./domains/claim-domain-controller.ts":1010,"./domains/claim-domain.html":1009,"./domains/claim-request-model.ts":353,"./domains/domain-list-controller.ts":1008,"./domains/domain-list.html":1007,"./domains/domain-model.ts":352,"./domains/domains-module.ts":72,"./domains/domains-service.ts":1006,"./domains/edit-domain-controller.ts":1005,"./domains/edit-domain.html":1004,"./domains/get-token-controller.ts":1003,"./domains/get-token.html":1002,"./domains/validate-domain.html":1001,"./domains/withdraw.html":1e3,"./email-archive-configuration/add-bcc-email-controller.ts":999,"./email-archive-configuration/add-bcc-email.html":998,"./email-archive-configuration/bcc-email-history-controller.ts":997,"./email-archive-configuration/bcc-email-history.html":996,"./email-archive-configuration/email-archive-configuration-controller.ts":995,"./email-archive-configuration/email-archive-configuration-module.ts":80,"./email-archive-configuration/email-archive-configuration.html":994,"./email-archive-configuration/email-archive-configuration.ts":993,"./email-archive-configuration/email-limit-reached.html":990,"./enote/add-enote-configuration.html":989,"./enote/add-enote-configuration.ts":988,"./enote/delete-enote-configuration.html":987,"./enote/delete-enote-configuration.ts":986,"./enote/enote-configuration-controller.ts":985,"./enote/enote-configuration-module.ts":79,"./enote/enote-configuration-service.ts":984,"./enote/enote-configuration.html":983,"./envelopes/download-csv-error.html":982,"./envelopes/download-csv.html":981,"./envelopes/envelope-list-controller.ts":82,"./envelopes/envelope-list.html":980,"./envelopes/envelope-service.ts":979,"./envelopes/envelopes-module.ts":110,"./envelopes/purge-envelopes-controller.ts":978,"./envelopes/purge-envelopes.html":977,"./identity-providers/Certificate.ts":976,"./identity-providers/add-edit-identity-provider.html":975,"./identity-providers/add-identity-provider-controller.ts":974,"./identity-providers/add-identity-provider.html":973,"./identity-providers/attribute-model.ts":350,"./identity-providers/attributes-filter.ts":972,"./identity-providers/certificate-upload-model.ts":971,"./identity-providers/custom-attribute-mapping-directive.ts":970,"./identity-providers/custom-attribute-mapping.html":969,"./identity-providers/custom-attribute-model.ts":351,"./identity-providers/edit-identity-provider-controller.ts":968,"./identity-providers/edit-identity-provider.html":967,"./identity-providers/header.html":966,"./identity-providers/identity-provider-certificate-directive.ts":965,"./identity-providers/identity-provider-certificate.html":964,"./identity-providers/identity-provider-endpoints-modal-controller.ts":963,"./identity-providers/identity-provider-endpoints-modal.html":962,"./identity-providers/identity-provider-list-controller.ts":961,"./identity-providers/identity-provider-list.html":960,"./identity-providers/identity-provider-model.ts":271,"./identity-providers/identity-provider-module.ts":47,"./identity-providers/identity-provider-service.ts":959,"./index.html":958,"./integrations/api-integrator-key/add-api-integrator-key-controller.ts":957,"./integrations/api-integrator-key/add-api-integrator-key-modal.html":956,"./integrations/api-integrator-key/api-integrator-key-controller.ts":955,"./integrations/api-integrator-key/api-integrator-key-module.ts":20,"./integrations/api-integrator-key/api-integrator-key-translation-strings-controller.ts":954,"./integrations/api-integrator-key/api-integrator-key.html":953,"./integrations/api-integrator-key/delete-api-integrator-key-modal.html":952,"./integrations/api-integrator-key/display-rsa-keypair.html":951,"./integrations/api-integrator-key/edit-api-integrator-key-controller.ts":950,"./integrations/api-integrator-key/edit-api-integrator-key-modal.html":949,"./integrations/api-integrator-key/integration-information-controller.ts":948,"./integrations/api-integrator-key/integration-information.html":947,"./integrations/api-integrator-key/list.html":946,"./integrations/api-integrator-key/production-loggedin-warning-controller.ts":945,"./integrations/api-integrator-key/production-loggedin-warning-modal.html":944,"./integrations/api-integrator-key/promote-api-integrator-key-controller.ts":943,"./integrations/api-integrator-key/promote-api-integrator-key-modal.html":942,"./integrations/api-integrator-key/resume-app-review-process-controller.ts":941,"./integrations/api-integrator-key/resume-app-review-process-modal.html":940,"./integrations/api-integrator-key/review-api-integrator-key-controller.ts":939,"./integrations/api-integrator-key/review-api-integrator-key-modal.html":938,"./integrations/api-integrator-key/review-results-api-integrator-key-controller.ts":937,"./integrations/api-integrator-key/review-results-api-integrator-key-modal.html":936,"./integrations/api-integrator-key/user-information/authentication.html":935,"./integrations/api-integrator-key/user-information/developer-tools-and-resources.html":934,"./integrations/api-integrator-key/user-information/how-to-manage-integrator-keys.html":933,"./integrations/api-integrator-key/user-information/what-is-an-integrator-key.html":932,"./integrations/payments-module.ts":270,"./integrations/payments/delete-payment-gateway-modal.html":931,"./integrations/payments/disable-payment-gateway-modal.html":930,"./integrations/payments/edit-display-name.html":929,"./integrations/payments/edit-form-account.html":928,"./integrations/payments/payment-gateway-account.ts":349,"./integrations/payments/payment-gateway-required-fields.html":927,"./integrations/payments/payment-gateways-list-modal.html":926,"./integrations/payments/payment-gateways-list.html":925,"./integrations/payments/payment-gateways.html":924,"./integrations/payments/payment-gateways.ts":923,"./integrations/payments/payments-cors-messenger.ts":348,"./legal-disclosure/confirm-custom-controller.ts":922,"./legal-disclosure/confirm-custom.html":921,"./legal-disclosure/consumer-disclosures-service.ts":920,"./legal-disclosure/legal-disclosure-controller.ts":919,"./legal-disclosure/legal-disclosure.html":918,"./legal-disclosure/preview.html":917,"./legal-disclosure/warn-unsaved-controller.ts":916,"./legal-disclosure/warn-unsaved.html":915,"./lib.ts":346,"./limited-canvas/LimitedCanvasController.ts":704,"./limited-canvas/limited-canvas-container.html":703,"./limited-canvas/limited-canvas-module.ts":291,"./login/account-server-token-login-controller.ts":702,"./login/authentication request.ts":701,"./login/loading.html":700,"./login/logout-controller.ts":699,"./login/no-accounts-available.html":698,"./login/production-account-server-token-login-controller.ts":697,"./login/transfer-token-login-controller.ts":696,"./modules/Common/CORSMessenger.ts":347,"./modules/Common/CamelCaps.ts":695,"./modules/Common/ColorPicker.ts":694,"./modules/Common/Common.ts":3,"./modules/Common/CountryStatePicker.ts":693,"./modules/Common/ImageConverter.ts":692,"./modules/Common/ImageLoader.ts":691,"./modules/Common/PromiseExtensions.ts":690,"./modules/Common/RADminUtil.ts":269,"./modules/Common/SearchableClientPagingController.ts":81,"./modules/Common/SearchablePagingController.ts":111,"./modules/Common/accumulator-directive.ts":689,"./modules/Common/copy-to-clipboard.ts":688,"./modules/Common/date-time-service.ts":687,"./modules/Common/downloader.ts":684,"./modules/Common/ds-ackbar.ts":683,"./modules/Common/ds-loading-directive.ts":682,"./modules/Common/ds-modal-close-directive.ts":681,"./modules/Common/ds-sortable-directive.ts":680,"./modules/Common/filter-row-directive.ts":679,"./modules/Common/filtering/Filtering.ts":678,"./modules/Common/filtering/ds-filter-applied-directive.ts":677,"./modules/Common/filtering/ds-filter-applied.html":676,"./modules/Common/filtering/ds-filter-controls-directive.ts":675,"./modules/Common/filtering/ds-filter-controls.html":674,"./modules/Common/i18nlayer.ts":673,"./modules/Common/locales-controller.ts":672,"./modules/Common/locales.ts":278,"./modules/Common/moment-filter.ts":671,"./modules/Common/name-email-filter.ts":670,"./modules/Common/notification-queue-service.ts":669,"./modules/Common/paging-controls-directive.ts":668,"./modules/Common/paging/Paging.ts":30,"./modules/Common/paging/ds-page-controls-directive.ts":667,"./modules/Common/paging/ds-page-controls.html":666,"./modules/Common/radmin-logging.ts":665,"./modules/Common/searching/Searching.ts":664,"./modules/Common/searching/ds-search-controls.html":663,"./modules/Common/searching/ds-search-directive.ts":662,"./modules/Common/ui-cfr-directive.ts":661,"./modules/Common/ui-hint-checker.ts":660,"./modules/Common/ui-hint-directive.ts":659,"./modules/DocuSign/API/Account.ts":658,"./modules/DocuSign/API/AccountBranding.ts":657,"./modules/DocuSign/API/AccountSignature.ts":656,"./modules/DocuSign/API/AccountUser.ts":655,"./modules/DocuSign/API/AccountUsers.ts":654,"./modules/DocuSign/API/AuditLog.ts":653,"./modules/DocuSign/API/Billing.ts":652,"./modules/DocuSign/API/Client.ts":288,"./modules/DocuSign/API/Connect.ts":651,"./modules/DocuSign/API/CustodyTransferService.ts":650,"./modules/DocuSign/API/CustomFieldWrapper.ts":649,"./modules/DocuSign/API/DSS.ts":648,"./modules/DocuSign/API/DocuSign API.ts":12,"./modules/DocuSign/API/DocumentLabel.ts":647,"./modules/DocuSign/API/Folders.ts":646,"./modules/DocuSign/API/Groups.ts":645,"./modules/DocuSign/API/IAddress.ts":644,"./modules/DocuSign/API/IRestError.ts":643,"./modules/DocuSign/API/ISettingMetadata.ts":642,"./modules/DocuSign/API/IntegratorKey.ts":641,"./modules/DocuSign/API/Paging.ts":66,"./modules/DocuSign/API/PasswordRules.ts":640,"./modules/DocuSign/API/Payments.ts":102,"./modules/DocuSign/API/SessionLandingPages.ts":639,"./modules/DocuSign/API/SigningGroups.ts":638,"./modules/DocuSign/API/Watermark.ts":637,"./modules/DocuSign/API/api-uri-builder.ts":636,"./modules/DocuSign/API/api-uri-parts.ts":635,"./modules/DocuSign/API/data-transformation-service.ts":634,"./modules/DocuSign/API/roles.ts":633,"./modules/DocuSign/AccountServer/API/client-application-service.ts":632,"./modules/DocuSign/AccountServer/API/client-service.ts":631,"./modules/DocuSign/AccountServer/API/error-response.ts":103,"./modules/DocuSign/AccountServer/API/module.ts":242,"./modules/ExternalIntegration/external-integration-controller.ts":630,"./modules/ExternalIntegration/external-integration-destinations.ts":629,"./modules/ExternalIntegration/external-integration-service.ts":628,"./modules/ExternalIntegration/external-integration.ts":241,"./modules/RADmin/API/client-service.ts":106,"./modules/RADmin/API/module.ts":363,"./modules/RADmin/Auth/auth.ts":627,"./modules/RADmin/Authentication/account-server-authenticator-service.ts":626,"./modules/RADmin/Authentication/module.ts":86,"./modules/RADmin/Authentication/transfer-token-authenticator-service.ts":625,"./modules/RADmin/Authentication/username-and-password-authenticator.ts":624,"./modules/RADmin/Authorization/ManagedClient.ts":105,"./modules/RADmin/Authorization/authorization-manager-service.ts":623,"./modules/RADmin/Authorization/module.ts":240,"./modules/RADmin/Authorization/token-renewal-service.ts":622,"./modules/RADmin/network-offline-interceptor.ts":621,"./modules/RADmin/radmin-browser-window-api-logger.ts":619,"./modules/RADmin/radmin-error-logger.ts":618,"./modules/RADmin/session-id-interceptor.ts":617,"./modules/accounting.ts":616,"./modules/angular-translate-customizations/_angular-translate-customizations-module.ts":239,"./modules/angular-translate-customizations/bracket-interpolation-service.ts":614,"./modules/angular-translate-customizations/html-escape-translation-id.ts":613,"./modules/api-conversion/_api-conversion-module.ts":85,"./modules/api-conversion/api-conversion-interceptor.ts":612,"./modules/api-conversion/api-converter.ts":611,"./modules/api-conversion/conversion-exclusions.ts":610,"./modules/configuration/application-configuration-constant.ts":287,"./modules/configuration/feature-flag-controller.ts":609,"./modules/i18nlayer.ts":608,"./modules/lodash.ts":607,"./modules/moment.ts":606,"./organization/accounts.html":605,"./organization/add-accounts-controller.ts":604,"./organization/add-accounts.html":603,"./organization/add-edit-connected-application.html":602,"./organization/admin-landing.html":601,"./organization/audit-log-constant.ts":286,"./organization/audit-log-controller.ts":600,"./organization/audit-log-detail-controller.ts":599,"./organization/audit-log-detail-modal.html":598,"./organization/audit-log-list.html":597,"./organization/bulk-actions/activity-details-controller.ts":596,"./organization/bulk-actions/activity-details.html":595,"./organization/bulk-actions/export-account-settings-modal.html":594,"./organization/bulk-actions/export-users-modal.html":593,"./organization/bulk-actions/organization-bulk-actions-controller.ts":592,"./organization/bulk-actions/organization-bulk-actions-service.ts":591,"./organization/bulk-actions/organization-bulk-actions.html":590,"./organization/change-defaults.html":589,"./organization/change-email-controller.ts":588,"./organization/change-organization-defaults-controller.ts":587,"./organization/clear-identity-modal.html":586,"./organization/close-organization-user-controller.ts":585,"./organization/close-user-modal.html":584,"./organization/confirm-change-email.html":583,"./organization/connected-applications.html":582,"./organization/create-organization-controller.ts":581,"./organization/create-organization.html":580,"./organization/dashboard.html":579,"./organization/envelope-transfer-controller.ts":578,"./organization/envelope-transfer.html":577,"./organization/existing-organization-user-controller.ts":576,"./organization/existing-user.html":575,"./organization/invite-admin-controller.ts":574,"./organization/invite-admin.html":573,"./organization/join-organization-controller.ts":572,"./organization/join-organization.html":571,"./organization/main.html":570,"./organization/manage-organization-users-controller.ts":109,"./organization/manage-users.html":569,"./organization/organization-accounts-controller.ts":568,"./organization/organization-add-user-controller.ts":285,"./organization/organization-add-user.html":567,"./organization/organization-admin-landing-controller.ts":566,"./organization/organization-admins-controller.ts":238,"./organization/organization-admins.html":565,"./organization/organization-connected-applications-controller.ts":564,"./organization/organization-controller.ts":563,"./organization/organization-dashboard-controller.ts":562,"./organization/organization-details-controller.ts":561,"./organization/organization-details.html":560,"./organization/organization-error-handler-service.ts":559,"./organization/organization-feature-notification-service.ts":558,"./organization/organization-module.ts":4,"./organization/organization-resend-invitation.html":557,"./organization/organization-service.ts":556,"./organization/organization-summary.html":555,"./organization/organization-usage-message-constant.ts":554,"./organization/organization-user-application-controller.ts":553,"./organization/organization-user-membership-controller.ts":552,"./organization/organization-user-new-application.html":551,"./organization/organization-user-new-membership.html":550,"./organization/organization-user-profile-controller.ts":283,"./organization/organization-users-controller.ts":549,"./organization/resend-invitation-controller.ts":548,"./organization/review-invitation-controller.ts":547,"./organization/review-invitation.html":546,"./organization/unlink-account-controller.ts":544,"./organization/unlink-organization.html":543,"./organization/user-activity.html":542,"./organization/user-application.html":541,"./organization/user-detail.html":540,"./organization/user-membership.html":538,"./organization/user-organization.html":537,"./organization/user-profile.html":536,"./organization/user-security.html":535,"./organization/users.html":534,"./organization/welcome.html":533,"./regional-settings/regional-settings.html":532,"./regional-settings/regional-settings.ts":531,"./reminders and expirations/reminders.html":530,"./reminders and expirations/reminders.ts":529,"./security-settings/document-retention-modal-controller.ts":528,"./security-settings/document-retention-modal.html":527,"./security-settings/password-rule-constants.ts":282,"./security-settings/password-rules-modal-controller.ts":526,"./security-settings/password-rules-modal.html":525,"./security-settings/security-settings-controller.ts":524,"./security-settings/security-settings-defaults.ts":281,"./security-settings/security-settings-module.ts":75,"./security-settings/security-settings.html":523,"./site/controllers/ClassicRedirection.ts":522,"./site/controllers/ConfirmModalController.ts":521,"./site/controllers/MemberConsoleRedirection.ts":520,"./site/controllers/account-selection-modal-controller.ts":519,"./site/controllers/accumulator-controller.ts":518,"./site/controllers/current-account-controller.ts":517,"./site/controllers/feedback.ts":516,"./site/controllers/header-controller.ts":515,"./site/controllers/user-locale-controller.ts":514,"./site/directives/dsCal.ts":513,"./site/directives/dsForm.ts":512,"./site/directives/dsFormSubmit.ts":511,"./site/directives/dsValid.ts":510,"./site/directives/includeReplace.ts":509,"./site/navigation/navigation-service-and-controller.ts":508,"./site/services/appUser.ts":290,"./site/services/current-account-information-controller.ts":507,"./site/services/dsUtilities.ts":506,"./site/services/session-idle-timer.ts":505,"./site/services/user-permissions-controller.ts":504,"./site/services/user-permissions-service.ts":503,"./site/site.ts":502,"./site/templates/account-selection-modal.html":499,"./site/templates/accounts.html":498,"./site/templates/accumulator.html":497,"./site/templates/avatar.html":496,"./site/templates/confirmation-modal.html":495,"./site/templates/crumbs.html":494,"./site/templates/empty-parent.html":493,"./site/templates/feedback.html":492,"./site/templates/footer.html":491,"./site/templates/header.html":490,"./site/templates/home.html":489,"./site/templates/id-card.html":488,"./site/templates/loading modal.html":487,"./site/templates/new-header.html":486,"./site/templates/sidebar.html":485,"./site/templates/timeout-warning-modal.html":484,"./site/under-construction/under-construction.html":483,"./stamps/image-cropper.ts":482,"./stamps/stamp-assign-group-list-controller.ts":481,"./stamps/stamp-assign-group-list.html":480,"./stamps/stamp-assign-selected-controller.ts":479,"./stamps/stamp-assign-selected.html":478,"./stamps/stamp-assign-users-groups-controller.ts":477,"./stamps/stamp-assign-users-groups.html":476,"./stamps/stamp-assigned-group-list.html":475,"./stamps/stamp-assigned-user-and-group-list-controller.ts":474,"./stamps/stamp-assigned-user-list.html":473,"./stamps/stamp-assignment-controller.ts":237,"./stamps/stamp-assignment.html":472,"./stamps/stamp-choose-controller.ts":471,"./stamps/stamp-choose.html":470,"./stamps/stamp-delete-modal.html":469,"./stamps/stamp-list-controller.ts":468,"./stamps/stamp-list.html":467,"./stamps/stamp-modal-controller.ts":466,"./stamps/stamp-modal.html":465,"./stamps/stamp-upload-ipx-confirm-modal.html":464,"./stamps/stamp-upload-validation.ts":463,"./stamps/stamps-filter.ts":462,"./stamps/stamps-module.ts":38,"./stamps/stamps.ts":461,"./system-updates/system-update-list-controller.ts":460,"./system-updates/system-update-list.html":459,"./system-updates/system-updates-module.ts":235,"./system-updates/system-updates-service.ts":458,"./templates/template-list-controller.ts":83,"./templates/template-list.html":457,"./templates/template-service.ts":456,"./templates/templates-module.ts":277,"./user management/bulk-actions/bulk-action-factory.ts":455,"./user management/bulk-actions/bulk-action-row-error-types.ts":454,"./user management/bulk-actions/bulk-actions-controller.ts":453,"./user management/bulk-actions/bulk-actions-module.ts":67,"./user management/bulk-actions/bulk-actions.html":452,"./user management/bulk-actions/bulk-actions.ts":451,"./user management/bulk-actions/bulk-add-users.html":450,"./user management/bulk-actions/bulk-update-users.html":449,"./user management/bulk-actions/details-completed.html":448,"./user management/bulk-actions/details-download.html":447,"./user management/bulk-actions/details-errors.html":446,"./user management/bulk-actions/details-failed.html":445,"./user management/bulk-actions/details-message.html":444,"./user management/bulk-actions/details-summary.html":443,"./user management/bulk-actions/details.html":442,"./user management/bulk-actions/upload-users-controller.ts":369,"./user management/bulk-actions/upload-users.ts":441,"./user management/email-preferences-module.ts":280,"./user management/email-preferences/email-preferences-controller.ts":440,"./user management/email-preferences/email-preferences.html":439,"./user management/groups/delete-group-controller.ts":438,"./user management/groups/delete-group-modal.html":437,"./user management/groups/group-add-rename-controller.ts":436,"./user management/groups/group-add-rename.html":435,"./user management/groups/group-assign-selected-controller.ts":434,"./user management/groups/group-assign-selected.html":433,"./user management/groups/group-assign-users-brands-controller.ts":432,"./user management/groups/group-assign-users-brands.html":431,"./user management/groups/group-details-controller.ts":53,"./user management/groups/group-details.html":430,"./user management/groups/group-list.html":429,"./user management/groups/group-list.ts":368,"./user management/groups/group-user-list.html":428,"./user management/groups/groups-module.ts":44,"./user management/groups/groups.ts":427,"./user management/roles-module.ts":31,"./user management/roles/add-edit-role-controller.ts":426,"./user management/roles/add-edit-role.html":425,"./user management/roles/add-role-controller.ts":424,"./user management/roles/add-role-modal.html":423,"./user management/roles/copy-role-controller.ts":422,"./user management/roles/copy-role-modal.html":421,"./user management/roles/delete-role-controller.ts":420,"./user management/roles/delete-role-modal.html":419,"./user management/roles/edit-role-controller.ts":418,"./user management/roles/edit-role-modal.html":417,"./user management/roles/role-list-controller.ts":416,"./user management/roles/role-list.html":415,"./user management/roles/role-model.ts":414,"./user management/roles/role-settings-model.ts":413,"./user management/roles/rolesService.ts":412,"./user management/roles/system-roles-name-mapper.ts":411,"./user management/signing-groups-module.ts":74,"./user management/signing-groups/add-edit-signing-group-controller.ts":410,"./user management/signing-groups/add-edit-signing-group.html":409,"./user management/signing-groups/add-user-manually-modal.html":408,"./user management/signing-groups/delete-signing-group-controller.ts":407,"./user management/signing-groups/delete-signing-group-modal.html":406,"./user management/signing-groups/signing-group-list-controller.ts":405,"./user management/signing-groups/signing-group-list.html":404,"./user management/signing-groups/signing-groups.ts":403,"./user management/users-module.ts":14,"./user management/users/accounts-service.ts":402,"./user management/users/add-user-controller.ts":284,"./user management/users/add-user-groups-controller.ts":401,"./user management/users/add-user-groups.html":400,"./user management/users/add-user.html":399,"./user management/users/billing-service.ts":398,"./user management/users/close-user-controller.ts":397,"./user management/users/confirm-access-code.html":396,"./user management/users/confirm-close.html":395,"./user management/users/download-csv-error.html":394,"./user management/users/download-csv.html":393,"./user management/users/edit-user-cache-service.ts":392,"./user management/users/edit-user-controller.ts":391,"./user management/users/edit-user.html":390,"./user management/users/existing-active-user-modal.html":389,"./user management/users/existing-user-controller.ts":388,"./user management/users/existing-user.html":387,"./user management/users/resend-invitation-controller.ts":386,"./user management/users/resend-invitation.html":385,"./user management/users/share-access-service.ts":384,"./user management/users/shared-documents-controller.ts":383,"./user management/users/shared-documents.html":382,"./user management/users/shared-envelope-selected-users-controller.ts":381,"./user management/users/shared-envelope-selected-users.html":380,"./user management/users/shared-envelopes-add-users-controller.ts":236,"./user management/users/shared-envelopes-add-users.html":379,"./user management/users/upgrade-button-directive.ts":378,"./user management/users/upgrade-plan.html":377,"./user management/users/user-limit-reached.html":376,"./user management/users/user-list-controller.ts":84,"./user management/users/user-list.html":375,"./user management/users/user-pricing-plan-model.ts":374,"./user management/users/user-usage-notifier-directive.ts":373,"./user management/users/users.ts":372};function i(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id=1204}]);