var LoginAppNext;(function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Fixture",[])})(t=n.Fixture||(n.Fixture={}))})(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.constant("errorMessages",{bad_request:"We were unable to process this request, please contact support to resolve this issue.",certificate_cannot_contain_private_key:"Certificate cannot contain a private key",certificate_is_invalid:"Certificate is invalid",challenge_expired:"This authorization request to DocuSign timed out due to inactivity. Please return to the original action you were trying to perform, and start again.",challenge_federatedconsent_description:"Confirm your company credentials as your DocuSign login. From now on, use your company login to access DocuSign.",challenge_federatedconsent_mismatch_name_id:"The federated identifier for single sign-on does not match what has been enabled for this user. Please contact your DocuSign administrator.",challenge_phone_locked_out:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",challenge_phone_maxattempts_reached:"You have reached the maximum number of verification attempts allowed. You can contact the sender to resend the document.",challenge_tsv_locked_out:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",challenge_tsv_locked_out_user:"Your account has been locked out due to too many failed attempts. Please try again later.",challenge_tsv_locked_out_proof:"Your account has been locked out due to too many attempts to send a security code.  Please try again later.",challenge_tsv_code_mismatch:"The code entered is invalid. Please try again.",challenge_tsv_service_unavailable:"We were unable to process this request. Please return to the original action you were trying to perform, and start again.",client_id_not_found:"The client id provided is not registered with DocuSign.",company_email:"Company Email",configuration_not_found:"Configuration not found",confirm_company_login:"Confirm Company Login",default_account_is_not_active:"The default account is not active.",docusign:"DocuSign",domain_verification_code_does_not_match:"Domain verification code didn't match",email_required:"An email address is required.",expired_request_state:"The authorization request timed out due to inactivity. Please try again.",expired_id_verification_request_state:"This authentication session has expired. Please start from the beginning again.",hostname_specified_not_match_hostname_for_domain:"The host_name specified does not match the host_name for the specified domain id",identity_provider_is_not_configured:"Identity Provider is not configured",identity_provider_is_not_valid:"Identity Provider is not valid",identity_provider_not_found:"Identity Provider not found",internal_server_error:"DocuSign is temporarily unavailable. Please try again momentarily.",invalid_client:"The client identifier provided is not registered with DocuSign.",invalid_client_id_format:"Invalid Client Id format",invalid_email:"Invalid email address",invalid_forgot_password_challenge:"Invalid email and / or security code",invalid_hostname:"Invalid host name",invalid_password_attempt:"Invalid email and / or password",invalid_session_token:"DocuSign is unable to validate the received OAuth token",missing_assertion:"Response contained a missing or malformed assertion",missing_required_attribute:"The response assertion is missing a required attribute",no_recovery_info_found:"There was an unexpected problem during two-step verification.  Please try again.",oauth_invalid_redirect_uri:"The redirect URI supplied in the request is not in the list of valid URIs configured with this client application",organization_not_found:"Organization not found",organization_not_valid:"Organization not valid",privacy_policy:"Privacy Policy",proof_locked:"Your account has been locked out due to too many attempts to send a security code.  Please try again later.",redirect_uri_no_redirect_uris_registered:"There are no redirect URIs registered with DocuSign",redirect_uri_not_provided:"The redirect or return URI was not provided",redirect_uri_not_registered:"The redirect URI is not registered properly with DocuSign",reserved_domain_is_not_found:"Reserved Domain is not found",reserved_domain_is_not_valid:"Reserved Domain is not valid",response_signature_verification_failed:"The response signature failed cryptographic validation",saml2_assertion_signature_verification_failed:"The response assertion signature failed cryptographic validation",saml2_response_deserialization_failed:"The SAML Response is invalid",saml2_domain_not_found_in_organization:"The email address provided is not registered to your organization.  Please contact your DocuSign Administrator.",saml2_no_domains_registered_in_organization:"The email address provided is not registered to your organization.  Please contact your DocuSign Administrator.",saml2_domain_not_verified:"The ownership of the URI domain has not been verified",saml2_expired_assertion:"The SAML response has expired.",saml2_expired_signing_certificate:"Signing certificate is expired",saml2_idp_mismatch:"The received name identifier does not match the configured name for your Identity Provider",saml2_idp_not_trusted:"The issuing Identity Provider is not registered with DocuSign",saml2_invalid_attribute_value:"The SAML response contained an invalid attribute",saml2_invalid_login:"Invalid Login",saml2_missing_accountid:"The Account ID is missing. Please contact your DocuSign Administrator.",saml2_missing_permissionprofileid:"The Permission Profile ID is missing. Please contact your DocuSign Administrator",saml2_default_account_not_found:"The specified Account is not registered to your organization. Please contact your DocuSign Administrator.",saml2_accountid_claim_empty:"The Account ID attribute value is invalid. Please contact your DocuSign Administrator.",saml2_permissionprofileid_claim_empty:"The Permission Profile ID attribute value is invalid. Please contact your DocuSign Administrator.",saml2_no_users_found:"Invalid Login",saml2_unable_to_add_membership:"Invalid Login",saml2_unable_to_add_user:"Invalid Login",saml2_missing_certificate:"Certificate missing from response",saml2_missing_name_id:"The SAML response is missing a unique name identifier in the assertion. Please contact your DocuSign Administrator.",saml2_nameid_claim_empty:"The SAML response is missing a unique name identifier in the assertion. Please contact your DocuSign Administrator.",saml2_multiple_signing_certificates:"Multiple signing certificates received in response",saml2_no_assertions:"There is a problem with response from your identity provider. Please contact your administrator for help.",saml2_no_protected_assertions_and_message_isnt_signed:"The SAML response is not cryptographically signed",saml2_org_idp_mismatch:"The received Organization Id does not match the configured organization for your Identity Provider ",saml2_original_sso_account:"There is no configured DocuSign account corresponding to this SAML response.",security_code_template_add_recovery_info_sms:"New security information has been added to your account. Use this code to confirm: {0}",security_code_template_add_recovery_info_voice:"New security information has been added to your account. Use this code to confirm: {0}",security_code_template_sms:"Your DocuSign security code is {0}",security_code_template_voice:"Your DocuSign security code is {0}",server_error:"DocuSign is temporarily unavailable. Please try again momentarily.",specified_certificate_does_not_belong_to_idp:"The specified Certificate does not belong to the specified Identity Provider",specified_reserved_domain_does_not_belong_to_org:"The specified Reserved Domain does not belong to the specified Organization",sqsa_invalid_answers:"The following answers are not correct: [[questionList]]",sqsa_user_locked:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",the_specified_identity_provider_does_not_belong_to_the_specified_domain:"The specified Identity Provider does not belong to the specified Domain",the_specified_identity_provider_does_not_belong_to_the_specified_organization:"The specified Identity Provider does not belong to the specified Organization",unexpected_settings_object_found:"Unexpected settings object found",unsupported_response_type:"Invalid authentication request: The response type is not supported.",idp_unexpected_settings_object_found:"Unexpected settings object found",user_is_not_active:"The user is not active.",user_locked:"Your account has been locked out due to too many failed attempts. Please try again later.",user_not_found:"The user is not found in DocuSign",signup_missing_distributor_code:"The distributor code is missing.",signup_unauthorized_distributor_code:"The distributor is not authorized for this plan.",signup_missing_plan_id:"The plan ID is missing.",signup_missing_region:"The region is missing.",signup_invalid_region:"The region is invalid.",signup_invalid_referrer:"The referrer is invalid.",signup_invalid_invite_token:"Invitation not valid.",signup_forename_required:"First name required.",signup_surname_required:"Last name required.",signup_activation_password_required:"Password required.",signup_activation_password_match_required:"Passwords must match."})})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.constant("fixture",fixture)})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Challenges",["ui.router","LoginAppNext.Fixture","LoginAppNext.Layout","LoginAppNext.PhoneNumber"])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.constant("challengeSupportedStates",{appconsent:{name:"authenticate.challenge.appconsent",url:"/appconsent"},challenge:{name:"authenticate.challenge",url:"/challenge"},federalapplicationpolicy:{name:"authenticate.challenge.federalapplicationpolicy",url:"/federalapplicationpolicy"},federateduserchangeemailpolicy:{name:"authenticate.challenge.federateduserchangeemailpolicy",url:"/federateduserchangeemailpolicy"},federationconsentpolicy:{name:"authenticate.challenge.federationconsentpolicy",url:"/federationconsentpolicy"},forcepassword:{name:"authenticate.challenge.forcepassword",url:"/forcepassword"},"forgot-password-first-proof":{name:"authenticate.challenge.two-step-verification.forgotpassword",url:"/forgot-password"},"phone-verification":{name:"authenticate.challenge.phone-verification",url:"/phone-verification"},"secret-questions-secret-answer":{name:"authenticate.challenge.secret-questions-secret-answer",url:"/secret-questions"},temppolicy:{name:"authenticate.challenge.temp policy",url:"/temppolicy"},"two-step-verification":{name:"authenticate.challenge.two-step-verification",url:"/two-step-verification"},"two-step-verification-select-phone-option":{name:"authenticate.challenge.two-step-verification.select-phone-option",url:"/select-phone-option"},"two-step-verification-authenticator-app-verify-code":{name:"authenticate.challenge.two-step-verification.authenticator-app-verify-code",url:"/authenticator-app-verify-code"},"two-step-verification-select-proof":{name:"authenticate.challenge.two-step-verification.select-proof",url:"/select-proof"},"two-step-verification-verify-code":{name:"authenticate.challenge.two-step-verification.verify-code",url:"/verify-code"},"two-step-verification-error-view":{name:"authenticate.challenge.two-step-verification.error-view",url:"/error-view"},"two-step-verification-bootstrap":{name:"authenticate.challenge.two-step-verification.bootstrap",url:"/bootstrap"},userselection:{name:"authenticate.challenge.user selection",url:"/user-selection"}})})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.fixture=n;this.isPresent=angular.isObject(n.state_data);angular.isObject(n.state_data)&&(this.flowToken=n.state_data.flow_token,this.name=n.state_data.action,this.data=n.state_data.data,this.state=n.state_data.state,this.submissionUri=n.state_data.submission_uri)}return n.prototype.updateStateData=function(n,t){angular.isObject(this.fixture.state_data)&&angular.isObject(this.fixture.state_data.data)&&(angular.isDefined(t)?this.fixture.state_data.data[n]=t:delete this.fixture.state_data.data[n]);this.data=this.fixture.state_data.data},n}();n.module.service("challenge",["fixture",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i,u,r;if(this.challengeState=n,this.errorMessages=t,this.sqsaData=n.data,this.sqsaData.is_locked_out)this.error={message:t.sqsa_user_locked,data:null};else if(angular.isArray(this.sqsaData.failed_answer_indices)&&this.sqsaData.failed_answer_indices.length>0){for(this.sqsaData.failed_answer_indices.sort(),i="",u=this.sqsaData.failed_answer_indices.length-1,r=0;r<u;++r)i+="#"+this.sqsaData.failed_answer_indices[r]+", ";i+="#"+this.sqsaData.failed_answer_indices[u];this.error={message:t.sqsa_invalid_answers,data:{questionList:i}}}}return n}();n.module.controller("SecretQuestionsController",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(t,i){this.$rootScope=t;this.twoFactorAuthService=i;this.isSending=!1;this.canSubmitCode=!0;(this.twoFactorAuthService.proofData.proof_list.length!==1||this.twoFactorAuthService.proofData.proof_list[0].type!==n.RecoveryInfoTypes.email)&&(this.twoFactorAuthService.proofError={message:"We are unable to confirm an email address, and cannot continue configuration of two factor authentication.",data:this.twoFactorAuthService.proofData.proof_list},this.canSubmitCode=!1);this.twoFactorAuthService.setCurrentFactor(this.twoFactorAuthService.proofData.proof_list[0].id)}return t.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={isForgotPassword:!0,successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSentEmail"})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},t}();n.module.controller("ForgotPassword",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.challengeService=n;this.$state=t;this.challengeSupportedStates=i;this.twoFactorAuthService=r;this.userHasOnlyOneProof=this.twoFactorAuthService.proofData.proof_list.length===1}return n.prototype.changeSendOptions=function(){this.challengeService.updateStateData("error",null);this.challengeService.updateStateData("selected_channel_type",null);this.challengeService.updateStateData("selected_proof_id",null);this.$state.go(this.challengeSupportedStates["two-step-verification-select-proof"].name)},n}();n.module.controller("ChangeSendOptions",["challenge","$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$state=n;this.challengeSupportedStates=t;this.twoFactorAuthService=i;this.isSending=!1;this.isVoiceEnabled=!1;angular.isObject(this.twoFactorAuthService.selectedFactor)&&angular.isDefined(this.twoFactorAuthService.selectedFactor.is_voice_enabled)&&(this.isVoiceEnabled=this.twoFactorAuthService.selectedFactor.is_voice_enabled)}return n.prototype.sendPhoneCode=function(){var n=this,t;this.isSending=!0;t={successCallback:function(){n.$state.go(n.challengeSupportedStates["two-step-verification-verify-code"].name,{factorId:n.twoFactorAuthService.selectedFactor.id})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},n}();n.module.controller("PhoneOptions",["$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n}return n}();n.module.controller("AuthAppVerifyCode",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(t,i){this.$rootScope=t;this.twoFactorAuthService=i;this.isSending=!1;this.canSubmitCode=!0;(this.twoFactorAuthService.proofData.proof_list.length!==1||this.twoFactorAuthService.proofData.proof_list[0].type!==n.RecoveryInfoTypes.email)&&(this.twoFactorAuthService.proofError={message:"We are unable to confirm an email address, and cannot continue configuration of two factor authentication.",data:this.twoFactorAuthService.proofData.proof_list},this.canSubmitCode=!1);this.twoFactorAuthService.setCurrentFactor(this.twoFactorAuthService.proofData.proof_list[0].id)}return t.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={isBootstrapProof:!0,successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSentEmail"})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},t}();n.module.controller("BootstrapTwoFactorAuth",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n;this.localError=n.proofError}return n}();n.module.controller("TwoFactorAuthError",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n}return n}();n.module.controller("VerifyCodeForm",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$rootScope=n;this.twoFactorAuthService=t;this.isSending=!1}return n.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSent"+n.twoFactorAuthService.getCurrentChannelType()})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},n}();n.module.controller("VerifyCode",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(n,t,i){this.$state=n;this.challengeSupportedStates=t;this.twoFactorAuthService=i;this.isSending=!1}return t.prototype.selectOption=function(t){var i=this,r;this.twoFactorAuthService.setCurrentFactor(t.id);t.type===n.RecoveryInfoTypes.phone?this.$state.go(this.challengeSupportedStates["two-step-verification-select-phone-option"].name):t.type===n.RecoveryInfoTypes.authenticatorApp?this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name):(this.isSending=!0,r={successCallback:function(){i.$state.go(i.challengeSupportedStates["two-step-verification-verify-code"].name)},finallyCallback:function(){i.isSending=!1}},this.twoFactorAuthService.sendCode(r))},t}();n.module.controller("SelectProof",["$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Locale",[])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){"use strict";var t=function(){function n(){this.sending={en:{englishLanguageName:"English",languageName:"English"},zh_CN:{englishLanguageName:"Chinese Simplified",languageName:"中文(简体)"},zh_TW:{englishLanguageName:"Chinese Traditional",languageName:"中文(繁体)"},nl:{englishLanguageName:"Dutch",languageName:"Nederlands"},fr:{englishLanguageName:"French",languageName:"Français"},de:{englishLanguageName:"German",languageName:"Deutsch"},it:{englishLanguageName:"Italian",languageName:"Italiano"},ja:{englishLanguageName:"Japanese",languageName:"日本語"},ko:{englishLanguageName:"Korean",languageName:"한국어"},pt_BR:{englishLanguageName:"Portugese (Brazil)",languageName:"Português (Brasil)"},pt:{englishLanguageName:"Portugese (Portugese)",languageName:"Português (Portugal)"},ru:{englishLanguageName:"Russian",languageName:"Русский"},es:{englishLanguageName:"Spanish",languageName:"Español"}};this.signing={ar:{languageName:"العربية‏",englishLanguageName:"Arabic",isRightToLeft:!0},bg:{languageName:"Български",englishLanguageName:"Bulgarian"},cs:{languageName:"Čeština",englishLanguageName:"Czech"},zh_CN:{languageName:"中文 (简体)",englishLanguageName:"Simplified Chinese"},zh_TW:{languageName:"中文 (繁体)",englishLanguageName:"Traditional Chinese"},hr:{languageName:"Hrvatski",englishLanguageName:"Croatian"},da:{languageName:"Dansk",englishLanguageName:"Danish"},nl:{languageName:"Nederlandse",englishLanguageName:"Dutch"},en:{languageName:"English (US)",englishLanguageName:"English (US)"},en_GB:{languageName:"English (UK)",englishLanguageName:"English (UK)"},et:{languageName:"Eesti",englishLanguageName:"Estonian"},fa:{languageName:"فارسی",englishLanguageName:"Farsi",isRightToLeft:!0},fi:{languageName:"Suomi",englishLanguageName:"Finnish"},fr:{languageName:"Français (France)",englishLanguageName:"French (France)"},fr_CA:{languageName:"Français (Canada)",englishLanguageName:"French (Canada)"},de:{languageName:"Deutsch",englishLanguageName:"German"},el:{languageName:"Ελληνικά",englishLanguageName:"Greek"},he:{languageName:"עברית‏",englishLanguageName:"Hebrew",isRightToLeft:!0},hi:{languageName:"हिन्दी",englishLanguageName:"Hindi"},hu:{languageName:"Magyar",englishLanguageName:"Hungarian"},id:{languageName:"Bahasa Indonesia",englishLanguageName:"Bahasa Indonesia"},it:{languageName:"Italiano",englishLanguageName:"Italian"},ja:{languageName:"日本語",englishLanguageName:"Japanese"},ko:{languageName:"한국어",englishLanguageName:"Korean"},lv:{languageName:"Latviešu",englishLanguageName:"Latvian"},lt:{languageName:"Lietuvių",englishLanguageName:"Lithuanian"},ms:{languageName:"Bahasa Melayu",englishLanguageName:"Bahasa Malay"},no:{languageName:"Norsk",englishLanguageName:"Norwegian"},pl:{languageName:"Polski",englishLanguageName:"Polish"},pt:{languageName:"Português (Portugal)",englishLanguageName:"Portuguese (Portugal)"},pt_BR:{languageName:"Português (Brasil)",englishLanguageName:"Portuguese (Brasil)"},ro:{languageName:"Română",englishLanguageName:"Romanian"},ru:{languageName:"Русский",englishLanguageName:"Russian"},sr:{languageName:"Српски",englishLanguageName:"Serbian"},sk:{languageName:"Slovenčina",englishLanguageName:"Slovak"},sl:{languageName:"Slovenščina",englishLanguageName:"Slovenian"},es:{languageName:"Español",englishLanguageName:"Spanish"},es_MX:{languageName:"Español (América Latina)",englishLanguageName:"Spanish (Latin America)"},sv:{languageName:"Svenska",englishLanguageName:"Swedish"},th:{languageName:"ภาษาไทย",englishLanguageName:"Thai"},tr:{languageName:"Türkçe",englishLanguageName:"Turkish"},uk:{languageName:"Українська",englishLanguageName:"Ukranian"},vi:{languageName:"Việt",englishLanguageName:"Vietnamese"}}}return n}();n.module.constant("Locales",new t)})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(n){this.$location=n}return n.extractQueryStringValue=function(n,t){var r,u,i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=u.exec(n),i!==null&&(r=decodeURIComponent(i[1].replace(/\+/g," "))),r},n.prototype.getValue=function(t,i){return n.extractQueryStringValue(t,i)},n.prototype.getValueFromCurrentLocation=function(n){return this.getValue(this.$location.absUrl(),n)},n}();angular.module("LoginAppNext.QueryString",[]).service("queryString",["$location",n])})(t=n.QueryString||(n.QueryString={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(n){this.storageGenerator=n}return n.prototype.getStorage=function(n){var t=this.storageGenerator.getNamespacedStore(n,"sessionStorage");try{t.set("testKey","testVal");t.remove("testKey")}catch(i){t=this.storageGenerator.getNamespacedStore(n,"cookieStorage")}return t},n}();angular.module("LoginAppNext.Storage",[]).service("storageService",["store",n])})(t=n.Storage||(n.Storage={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.UiFlavor",["angular-storage","LoginAppNext.QueryString","LoginAppNext.Storage"])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){(function(n){n[n.no_header=0]="no_header";n[n.no_footer=1]="no_footer";n[n.no_sign_up=2]="no_sign_up";n[n.no_cancellation=3]="no_cancellation";n[n.no_title=4]="no_title";n[n.no_password_reset=5]="no_password_reset";n[n.no_different_user_sign_in=6]="no_different_user_sign_in";n[n.no_auth_alternative=7]="no_auth_alternative"})(n.Options||(n.Options={}));var t=n.Options,i=function(){function n(n,t,i){var r=this;this.$location=t;this.queryString=i;this.ui={allowCancellation:!0,allowPasswordReset:!0,showFooter:!0,showHeader:!0,showSignUpOptions:!0,showTitle:!0,showDifferentUserSignIn:!0,showAuthAlternative:!0};n.$on("$locationChangeSuccess",function(){r.setOptionsFromQueryString()});this.setOptionsFromQueryString()}return n.prototype.setOptions=function(n){this.ui.showHeader=n.indexOf(t.no_header)===-1;this.ui.showFooter=n.indexOf(t.no_footer)===-1;this.ui.showSignUpOptions=n.indexOf(t.no_sign_up)===-1;this.ui.allowCancellation=n.indexOf(t.no_cancellation)===-1;this.ui.showTitle=n.indexOf(t.no_title)===-1;this.ui.allowPasswordReset=n.indexOf(t.no_password_reset)===-1;this.ui.showDifferentUserSignIn=n.indexOf(t.no_different_user_sign_in)===-1;this.ui.showAuthAlternative=n.indexOf(t.no_auth_alternative)===-1},n.prototype.setOptionsFromQueryString=function(){var r=this.queryString.getValueFromCurrentLocation(n.queryStringKey),u,i;angular.isString(r)&&(u=r.split(n.queryStringSeparator),i=[],angular.forEach(u,function(n){angular.isDefined(t[n])&&i.push(t[n])}),this.setOptions(i))},n.queryStringKey="ui_flavors",n.queryStringSeparator=" ",n}();n.module.service("flavor",["$rootScope","$location","queryString",i])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Layout",["ui.router","LoginAppNext.templates","LoginAppNext.UiFlavor","LoginAppNext.Locale","LoginAppNext.QueryString"]);n.module.config(["$stateProvider",function(n){n.state("authenticate",{abstract:!0,templateUrl:"LoginAppNext/layout/layout.html"})}])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(i,r){function e(t,i){angular.forEach(n,function(n){n.name===i.name&&f(n)})}function f(n){angular.isObject(n)&&(angular.isString(n.metaDescription)?r.attr("content",n.metaDescription):angular.isString(n.pageTitle)&&r.attr("content",n.pageTitle))}var o=i.$root.$on("$stateChangeSuccess",e),u;i.$on("$destroy",o);u=n[t.state];angular.isObject(u)&&f(u)}}}n.module.directive("metaDescription",["loginSupportedStates","fixture",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Login",["ui.router","LoginAppNext.Layout","LoginAppNext.Fixture","LoginAppNext.Security"])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.usernamePostAction=n.username_next_step_in_flow}return n}();n.module.controller("UserName",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Signup",["ui.router","LoginAppNext.Fixture","LoginAppNext.Layout"])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(i){function r(){i.currentCultureKey=t.use()}r();var u=n.$on("$translateChangeSuccess",r);i.$on("$destroy",u)}}}n.module.directive("currentCultureKey",["$rootScope","$translate",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.constant("loginSupportedStates",{password:{name:"authenticate.password",url:"/password",pageTitle:"DocuSign Login - Enter your password to sign in"},username:{name:"authenticate.username",url:"/username",pageTitle:"DocuSign Login - Enter email to start sign in",metaDescription:"Sign in to your DocuSign account to electronically sign documents, request signatures, check document status, send reminders, and view audit trails."},social:{name:"authenticate.social",url:"/social",pageTitle:"DocuSign Login - Select service"}})})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.constant("signupSupportedStates",{root:{name:"authenticate.signup",url:"/sign-up"},signup:{name:"authenticate.signup.signup",url:""},complete:{name:"authenticate.signup.complete",url:"/complete"},externallyManaged:{name:"authenticate.signup.externally-managed",url:"/externally-managed"},activation:{name:"authenticate.signup.activation",url:"/activation"}})})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;this.isPresent=angular.isObject(t);this.isPresent&&(this.loginUri=t.login_uri,this.signUpParameters=t.sign_up_parameters,this.submissionUri=t.submission_uri)}return n}();n.module.service("signup",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=t.state_data;t.state==="signup"&&angular.isObject(i)&&angular.isString(i.state)&&!angular.isUndefined(n[i.state])&&(this.current=n[i.state])}return n}();n.module.service("signupState",["signupSupportedStates","fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){function t(n,t){var i=[];return angular.forEach(t,function(t){var u=t.replace("-","_").split(";")[0],r;angular.isUndefined(n[u])||i.push(u);r=u.split("_");r.length>1&&!angular.isUndefined(n[r[0]])&&i.push(r[0])}),i}var n=angular.module("LoginAppNext.App",["ui.router","pascalprecht.translate","ngCookies","ngSanitize","LoginAppNext.Fixture","LoginAppNext.Login","LoginAppNext.Locale","LoginAppNext.QueryString","LoginAppNext.Challenges","LoginAppNext.Polyfills","LoginAppNext.Signup","LoginAppNext.ClientErrorService","LoginAppNext.TextFlavor"]);n.config(["$compileProvider","fixture",function(n,t){angular.isFunction(n.debugInfoEnabled)&&n.debugInfoEnabled(t.enable_debug_output);var i=new RegExp("^("+t.site_root+"|data:image/png;base64)");n.imgSrcSanitizationWhitelist(i)}]);n.factory("$exceptionHandler",["$injector","$log",function(n,t){return function(i,r){var u=n.get("clientErrorService");u.reportClientScriptError(i,r);t.error(i,r)}}]);n.config(["$translateProvider","fixture","Locales",function(n,i,r){n.addInterpolation("bracketInterpolation");n.storageKey("_culture");n.useLocalStorage();n.useStaticFilesLoader({prefix:i.site_root+(i.site_root[i.site_root.length-1]!=="/"?"/":"")+"LoginAppNext/languages/",suffix:".json"});n.translations(i.fallback_language.key,i.fallback_language.strings);n.fallbackLanguage(i.fallback_language.key);var u=[];angular.isArray(i.browserLanguagePreferences)&&(u=t(r.signing,i.browserLanguagePreferences));u.push(i.fallback_language.key);n.preferredLanguage(u[0]);n.useSanitizeValueStrategy("escapeParameters")}]);n.config(["$urlRouterProvider","$locationProvider","loginSupportedStates",function(n,t,i){t.html5Mode({enabled:!1});t.hashPrefix("");n.otherwise(i.username.url)}]);n.run(["$state","fixture","loginSupportedStates","challengeSupportedStates","challenge","signupState",function(n,t,i,r,u,f){var e,o;angular.isString(t.state)&&(e=i[t.state],angular.isUndefined(e)?angular.isUndefined(f.current)?t.state==="challenge"&&(o=r[u.name],angular.isUndefined(o)||n.go(o.name)):n.go(f.current.name):n.go(e.name))}]);n.run(["queryString","$translate","Locales",function(n,i,r){var o=n.getValueFromCurrentLocation("ui_locales"),u,e;if(!angular.isUndefined(o)){u=t(r.signing,o.split(" "));function f(){if(u.length>0){var n=u.shift();i.use(n).then(null,f)}}e=i.proposedLanguage();angular.isUndefined(e)?f():i.use(e).then(f)}}])})(t=n.App||(n.App={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var i=function(){function n(n,t){this.hasPrivacyPolicy=!1;this.hasTermsPolicy=!1;var i=t.data;this.hasPrivacyPolicy=!angular.isUndefined(i.privacy_policy)&&angular.isString(i.privacy_policy)&&i.privacy_policy.length>0;this.hasTermsPolicy=!angular.isUndefined(i.terms_of_use)&&angular.isString(i.terms_of_use)&&i.terms_of_use.length>0;this.hasPrivacyPolicy&&(this.privacyPolicyUri=i.privacy_policy);this.hasTermsPolicy&&(this.termsPolicyUri=i.terms_of_use);this.createUIModel(i)}return n.prototype.createUIModel=function(n){var i={},f,t,e;angular.forEach(r,function(n){i[n.id]=n});f=n.requested_scopes;t=[];angular.forEach(f,function(n){var r=i[n.Value];angular.isUndefined(r)||t.push(r)});t.length===0&&t.push(i[5]);e=new u(n.app_name,t,n.privacy_policy,n.terms_of_use);this.data=e},n}(),f=function(){function n(){}return n}(),t=function(){function n(n,t,i,r){this.id=n;this.displayOrder=t;this.short=i;this.long=r}return n}(),r=[new t(-1,4,"Rooms","Create and read DocuSign Rooms. Upload and download new content from a room."),new t(1,1,"Signature","Create and send envelopes. Obtain links for starting signing sessions."),new t(2,3,"User Information","Obtain user information (e.g. email address)."),new t(4,5,"Digital Signatures","Read and apply digital signatures to documents during signing."),new t(5,2,"Signature","Create and send envelopes. Obtain links for starting signing sessions."),new t(8,6,"Digital Signatures","Read document content during digital signing."),new t(6,7,"DocuSign for Real Estate","Create and read documents in DocuSign for Real Estate."),new t(7,8,"DocuSign for Real Estate","Sign in to DocuSign for Real Estate on the web."),new t(9,9,"DocuSign for Real Estate","Sign in to DocuSign for Real Estate on the web."),new t(10,10,"Offline access","This application will be permitted to request access to your account for an extended period of time."),new t(11,11,"View Documents","Read documents from DocuSign Transaction Rooms."),new t(12,12,"Add Documents","Write documents to DocuSign Transaction Rooms."),new t(13,13,"View Transaction Rooms","Read room information from DocuSign Transaction Rooms."),new t(14,14,"Manage Transaction Rooms","Manage transaction rooms, approvals and associated data DocuSign Transaction Rooms."),new t(15,15,"View Company Settings","Read company level settings and information from DocuSign Transaction Rooms."),new t(16,16,"Update Company Settings","Update company level settings and information from DocuSign Transaction Rooms."),new t(17,17,"View Profile Data","Read user information from DocuSign Transaction Rooms."),new t(18,18,"Update Profile Data","Write user information to DocuSign Transaction Rooms."),new t(29,19,"Offline access","This application will be permitted to request access to your account without you being present.")],u=function(){function n(n,t,i,r){this.app_name=n;this.requested_scopes=t;this.privacy_policy=i;this.terms_of_use=r}return n}();n.module.controller("AppConsent",["fixture","challenge","errorMessages",i])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.emailFormatStart="<b>";this.emailFormatEnd="<\/b>";var t=n.data;this.oldEmailAddress=t.OldEmail;this.newEmailAddress=t.NewEmail}return n}();n.module.controller("FederatedUserChangeEmail",["challenge",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;angular.isString(i.ClientMessageError)&&(this.errorMessageKey=t[i.ClientMessageError])}return n}();n.module.controller("FederationConsent",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;this.uri=t.trustAsUrl(i.PasswordResetLink)}return n}();n.module.controller("ForcePasswordReset",["challenge","$sce",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.config(["$stateProvider","challengeSupportedStates",function(n,t){n.state(t.challenge.name,{url:t.challenge.url,abstract:!0}).state(t.userselection.name,{title:"Select a user",url:t.userselection.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/user-selection/user-selection.html"}}}).state(t.temppolicy.name,{title:"User Model Error",url:t.temppolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/temppolicy/temppolicy.html"}}}).state(t.forcepassword.name,{title:"You are required to change your password",url:t.forcepassword.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/forcepassword/forcepassword.html"}}}).state(t["phone-verification"].name,{url:t["phone-verification"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/phone-verification/phone-verification.html"}}}).state(t.federalapplicationpolicy.name,{title:"Consent Required",url:t.federalapplicationpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federalapplicationpolicy/federalapplicationpolicy.html"}}}).state(t.federationconsentpolicy.name,{title:"Single Sign-On Error",url:t.federationconsentpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federationconsentpolicy/federationconsentpolicy.html"}}}).state(t.federateduserchangeemailpolicy.name,{title:"E-mail Change Confirmation",url:t.federateduserchangeemailpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federateduserchangeemailpolicy/federateduserchangeemailpolicy.html"}}}).state(t.appconsent.name,{url:t.appconsent.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/appconsent/appconsent.html"}}}).state(t["two-step-verification"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/phone-options.html"}}}).state(t["forgot-password-first-proof"].name,{title:"Reset your password",url:t["forgot-password-first-proof"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/forgot-password.html"}}}).state(t["two-step-verification-select-phone-option"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-select-phone-option"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/phone-options.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}}).state(t["secret-questions-secret-answer"].name,{title:"Security Questions",url:t["secret-questions-secret-answer"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/secret-questions-secret-answer/secret-questions-secret-answer.html"}}}).state(t["two-step-verification-select-proof"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-select-proof"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/select-proof.html"}}}).state(t["two-step-verification-authenticator-app-verify-code"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-authenticator-app-verify-code"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/auth-app-verify-code.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}}).state(t["two-step-verification-error-view"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-error-view"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/tfa-error.html"}}}).state(t["two-step-verification-bootstrap"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-bootstrap"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/bootstrap.html"}}}).state(t["two-step-verification-verify-code"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-verify-code"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/verify-code.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}})}])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(t){function r(n,t,r,u){function e(e,o,s){function a(){o.removeClass("fade");o.children().removeClass("notification").addClass("notification-show");n(function(){return o.addClass("fade")},f)}var h={message:s.message,values:s.values,icon_name:"icon-alert-triangle",class_name:"message-error"},v=parseInt(i[s.type],10),c,l;switch(v){case i.warn:h.class_name="message-warning";break;case i.info:h.icon_name="icon-info";h.class_name="message-info";break;case i.success:h.icon_name="icon-check";h.class_name="message-success"}e.notification=h;c=t[0].getElementsByClassName("message_content")[0];s.showOnload&&a();r.$on("showNotification",function(n,t){if(angular.isString(t.id)&&t.id.toString().toLowerCase()===o.attr("id").toLowerCase()){if(angular.isString(t.message)&&angular.isElement(c)){var i=u.instant(t.message);l=angular.isObject(l)?l.text(i):angular.element(c).text(i)}a()}})}var f=5e3;return{restrict:"E",replace:!0,scope:{notification:"=id"},templateUrl:"LoginAppNext/layout/notification-bar.html",link:e}}(function(n){n[n.info=0]="info";n[n.warn=1]="warn";n[n.error=2]="error";n[n.success=3]="success"})(t.NotificationTypes||(t.NotificationTypes={}));var i=t.NotificationTypes;n.Challenges.module.directive("notification",["$timeout","$document","$rootScope","$translate",r])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t,i;(function(n){n[n.sms=0]="sms";n[n.voice=1]="voice"})(t||(t={}));i=function(){function n(n,t,i){this.codeSent=!1;this.challengeAction=t.name;this.proofData=t.data;this.attemptsRemaining=this.proofData.MaxAttemptsAllowed-this.proofData.CurrentAttempt;angular.isDefined(this.proofData.SelectedPhoneNumber)&&this.proofData.SelectedPhoneNumber!==""?(this.codeSent=!0,this.selectedDestination=this.proofData.SelectedPhoneNumber):this.selectedDestination=this.proofData.PhoneNumbers[0];angular.isObject(this.proofData.Error)&&(this.error={message:i[this.proofData.Error.ResourceKey],data:this.proofData.Error.Data})}return n.prototype.resendCode=function(){var n=document.getElementById("validateForm"),t=document.getElementById("security_code"),i=document.getElementById("resendCode");t.value="";i.value="true";n.submit()},n}();n.module.controller("PhoneVerification",["fixture","challenge","errorMessages","phoneNumber",i])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;angular.isString(i.ResourceKey)&&(this.errorMessageKey=t[i.ResourceKey])}return n}();n.module.controller("TempPolicy",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t,i;(function(n){n[n.phone=0]="phone";n[n.email=1]="email";n[n.authenticatorApp=2]="authenticatorApp"})(n.RecoveryInfoTypes||(n.RecoveryInfoTypes={}));t=n.RecoveryInfoTypes,function(n){n[n.sms=0]="sms";n[n.voice=1]="voice";n[n.email=2]="email"}(n.ChannelTypes||(n.ChannelTypes={}));i=n.ChannelTypes})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t="/challenges/v1/tsv/{recoveryId}/send/{channelType}/{isBootstrapProof}",i="/challenges/v1/tsv/{recoveryId}/send/{language}",r="Bearer {0}",u=function(){function u(n,t,i,u,f,e,o,s,h,c,l){this.challengeService=t;this.errorMessages=i;this.$http=u;this.$document=f;this.$rootScope=e;this.$state=o;this.challengeSupportedStates=s;this.loginSupportedStates=h;this.$stateParams=c;this.$translate=l;this.selectedFactorType=null;this.bearerToken=angular.isString(this.challengeService.flowToken)?r.replace("{0}",this.challengeService.flowToken):null;this.proofData=t.data;this.requestState=t.state;this.allowTrustedDevices=!this.proofData.is_forgot_password_flow&&!this.proofData.is_fcp_state&&n.allow_trusted_devices;this.displayInitialView();this.handleServerErrors()}return u.prototype.displayInitialView=function(){var u=this,t,i,r;if(this.$state.current.name===this.challengeSupportedStates["two-step-verification"].name)if(this.proofData.is_bootstrap_proof)this.proofData.is_forgot_password_flow?this.$state.go(this.challengeSupportedStates["forgot-password-first-proof"].name):this.$state.go(this.challengeSupportedStates["two-step-verification-bootstrap"].name);else if(t=this.proofData.proof_list.filter(function(n){if(n.id===u.proofData.selected_proof_id)return!0}),angular.isArray(t)&&t.length>0)this.setCurrentFactor(t[0].id),t[0].type===n.RecoveryInfoTypes.authenticatorApp?this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name):this.$state.go(this.challengeSupportedStates["two-step-verification-verify-code"].name);else{if(i=this.proofData.proof_list.filter(function(t){if(t.type===n.RecoveryInfoTypes.authenticatorApp)return!0}),angular.isArray(i)&&i.length>0){this.setCurrentFactor(i[0].id);this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name);return}r=this.proofData.proof_list.filter(function(t){if(t.type===n.RecoveryInfoTypes.phone)return!0});angular.isArray(r)&&r.length>0?(this.setCurrentFactor(r[0].id),this.$state.go(this.challengeSupportedStates["two-step-verification-select-phone-option"].name)):this.$state.go(this.challengeSupportedStates["two-step-verification-select-proof"].name)}},u.prototype.handleServerErrors=function(){angular.isObject(this.proofData.error)&&(this.proofError={message:angular.isString(this.errorMessages[this.proofData.error.ResourceKey])?this.errorMessages[this.proofData.error.ResourceKey]:this.proofData.error.ResourceKey,data:this.proofData.error.Data,resourceKey:this.proofData.error.ResourceKey},this.isTerminalError(this.proofError.resourceKey)&&this.$state.go(this.challengeSupportedStates["two-step-verification-error-view"].name))},u.prototype.getRecoveryType=function(t){return angular.isDefined(t)?n.RecoveryInfoTypes[t.type]:n.RecoveryInfoTypes[this.selectedFactorType]},u.prototype.getCurrentChannelType=function(){return n.ChannelTypes[this.selectedChannel]},u.prototype.setCurrentChannel=function(t){this.selectedChannel=n.ChannelTypes[t];this.selectedChannelType=t},u.prototype.setCurrentFactor=function(t){var i,r=0;i=this.proofData.proof_list.filter(function(n,i){if(t===n.id)return r=i,!0});angular.isArray(i)&&i.length>0&&(this.selectedFactor=i[0],this.selectedFactorType=this.selectedFactor.type,this.selectedFactorIndex=r,this.challengeService.updateStateData("selected_channel_type",this.selectedFactorType),this.challengeService.updateStateData("selected_proof_id",this.selectedFactor.id),this.setCurrentChannel(this.selectedFactor.type===n.RecoveryInfoTypes.phone?n.ChannelTypes[n.ChannelTypes.sms]:n.RecoveryInfoTypes[this.selectedFactor.type]))},u.prototype.sendCode=function(r){var o=this,u,f,e;if(angular.isDefined(r.recoveryInfoId)&&this.setCurrentFactor(r.recoveryInfoId),!angular.isString(this.bearerToken)){this.$rootScope.$emit("showNotification",{id:"sendCodeError",message:this.errorMessages.challenge_tsv_service_unavailable});return}f={Authorization:this.bearerToken,"X-Requested-With":"XMLHttpRequest"};r.isForgotPassword?(u=i.replace("{language}",this.$translate.use()),f["Content-Type"]="application/x-www-form-urlencoded",e="protectedState="+encodeURIComponent(this.requestState)):(u=t.replace("{channelType}",n.ChannelTypes[this.selectedChannelType]),u=r.isBootstrapProof?u.replace("{isBootstrapProof}","true"):u.replace("{isBootstrapProof}","false"));u=u.replace("{recoveryId}",this.selectedFactor.id);this.$http({method:"POST",url:u,headers:f,data:e}).then(function(n){r.successCallback(n)},function(n){o.sendCodeErrorHandler(n);angular.isFunction(r.failureCallback)&&r.failureCallback(n)}).then(function(){angular.isFunction(r.finallyCallback)&&r.finallyCallback()})},u.prototype.sendCodeErrorHandler=function(n){var t,i;n.status===401?this.$state.go(this.loginSupportedStates.username.name):(angular.isString(n.data.error)&&angular.isString(this.errorMessages[n.data.error])&&(t=this.errorMessages[n.data.error]),this.isTerminalError(n.data.error)?(i={message:angular.isString(this.errorMessages[n.data.error])?this.errorMessages[n.data.error]:n.data.error,data:angular.isString(n.data.error_description)?n.data.error_description:"no description",resourceKey:n.data.error},this.proofError=i,this.$state.go(this.challengeSupportedStates["two-step-verification-error-view"].name)):this.$rootScope.$emit("showNotification",{id:"sendCodeError",message:t}))},u.prototype.isTerminalError=function(n){var t=!1;switch(n){case"proof_locked":case"user_locked":case"user_not_found":case"no_recovery_info_found":case"challenge_tsv_locked_out_proof":case"challenge_tsv_locked_out_user":t=!0}return t},u}();n.module.service("TwoFactorAuthService",["fixture","challenge","errorMessages","$http","$document","$rootScope","$state","challengeSupportedStates","loginSupportedStates","$stateParams","$translate",u])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.available=t.data.Users;this.selectedUser=null}return n}();n.module.controller("UserSelection",["fixture","challenge",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.hasError=angular.isArray(n.errors)&&n.errors.length>0;this.hasError&&(this.errors=angular.copy(n.errors),angular.forEach(this.errors,function(n){n.displayMessage=angular.isString(n.code)&&!angular.isUndefined(t[n.code])?t[n.code]:angular.isUndefined(t[n.message])?n.message:t[n.message]}))}return n}();n.module.controller("FixtureError",["fixture","errorMessages",t])})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(){return{restrict:"A",scope:!1,link:function(n,t,i){n[i.currentDate]=new Date}}}n.module.directive("currentDate",[t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){n.Login.module.constant("customCallToAction",{cta_ecom_1:"Log in to continue your purchase",cta_ecom_2:"cta_ecom_2 string",cta_ecom_3:"cta_ecom_3 string",cta_fake_1:"Here's a fake call to action"})})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){"use strict";var t=function(){function n(n){this.fixture=n;this.useDocuSignLogo=!0;this.useCustomLogo=!1;angular.isString(n.logo_bytes)?(this.useDocuSignLogo=!1,this.useCustomLogo=!0,this.logoByteSrc="data:image/png;base64,"+n.logo_bytes):this.useDocuSignLogo=!0}return n}();n.module.controller("LogoController",["fixture",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u){var e=this,f;this.$translate=n;this.locales=t;this.languageMenuVisible=!1;this.languageNameLookup={};this.available=t.signing;this.scope=r;this.$timeout=u;this.languageMenu=document.getElementById("languageMenu");this.htmlRoot=document.getElementsByTagName("html")[0];this.languageMenuButton=this.languageMenu.getElementsByTagName("button").item(0);this.languageList=document.getElementById("languageList");this.languageButtons=this.languageList.getElementsByTagName("button");this.handleLocaleChange();f=i.$on("$translateChangeSuccess",function(){return e.handleLocaleChange()});r.$on("$destroy",f)}return n.prototype.keyboardHandler=function(n){var i=this.languageList.clientWidth,r=this.focusTarget.clientWidth,u=Math.floor(i/r),f=this.currentLanguageIndex%u,t=0;switch(n.which){case 9:t=n.shiftKey?this.currentLanguageIndex-1:this.currentLanguageIndex+1;this.focusTarget=this.languageButtons.item(t);this.currentLanguageIndex=t;(t<0||t>=this.languageButtons.length)&&(this.showLanguageMenu(),this.scope.$apply());return;case 27:this.showLanguageMenu(!0);this.scope.$apply();return;case 38:t=this.currentLanguageIndex-1>=0?this.currentLanguageIndex-1:this.languageButtons.length-1;break;case 40:t=this.currentLanguageIndex+1<this.languageButtons.length&&f+1<this.languageButtons.length?this.currentLanguageIndex+1:0;break;default:return}this.focusTarget=this.languageButtons.item(t);this.currentLanguageIndex=t;this.focusTarget.focus()},n.prototype.resizeHandler=function(){this.showLanguageMenu(!0);this.scope.$apply()},n.prototype.mouseHandler=function(n){for(var t=n.target,i=!1;angular.isElement(t);)if(t!==this.languageMenu)t=t.parentElement;else{i=!0;break}i||(this.showLanguageMenu(),this.scope.$apply())},n.prototype.setCurrentCulture=function(n){this.$translate.use(n);this.showLanguageMenu(!0)},n.prototype.showLanguageMenu=function(n){var t=this;if(n===void 0&&(n=!1),this.languageMenuVisible)this.languageMenuVisible=!1,this.focusTarget=null,this.currentLanguageIndex=null,angular.element(document).off("keydown",this.activeKeyHandler),angular.element(document).off("mousedown",this.activeMouseHandler),angular.element(window).off("resize",this.activeResizeHandler),n&&this.languageMenuButton.focus();else{this.languageMenuVisible=!0;this.currentLanguageIndex=0;this.focusTarget=this.languageButtons.item(0);this.activeKeyHandler=function(n){t.keyboardHandler(n)};this.activeMouseHandler=function(n){t.mouseHandler(n)};this.activeResizeHandler=function(n){t.resizeHandler(n)};angular.element(document).on("keydown",this.activeKeyHandler);angular.element(document).on("mousedown",this.activeMouseHandler);angular.element(window).on("resize",this.activeResizeHandler);this.$timeout(function(){t.focusTarget.focus()})}},n.prototype.handleLocaleChange=function(){this.currentCultureKey=this.$translate.use();angular.isUndefined(this.available[this.currentCultureKey])?this.currentCultureName=null:(this.currentCultureName=this.available[this.currentCultureKey].languageName,this.htmlRoot.lang=this.currentCultureKey,this.htmlRoot.dir=angular.isDefined(this.available[this.currentCultureKey].isRightToLeft)?"rtl":"ltr")},n}();n.module.controller("LanguageSelection",["$translate","Locales","$rootScope","$scope","$timeout",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(n,i,r){r.autoFocus!=="false"&&(i.attr("autofocus","true"),t(function(){i[0].focus()}))}}}n.module.directive("autoFocus",["fixture","$timeout",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t,i,r){var u="call_to_action";return{restrict:"A",scope:!1,link:function(f,e,o){function s(){var e=t.getValueFromCurrentLocation(u);f[o.callToAction]=angular.isString(i[e])?i[e]:r.getTitle(n.current)}var h=f.$root.$on("$stateChangeSuccess",s);f.$on("$destroy",h);s()}}}n.module.directive("callToAction",["$state","queryString","customCallToAction","textFlavor",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=/\[\[/g,i=/\]\]/g,r=function(){function n(n,t){this.$interpolate=n;this.$sanitize=t}return n.prototype.setLocale=function(){},n.prototype.getInterpolationIdentifier=function(){return"bracket"},n.prototype.interpolate=function(n,r){var f=n.replace(t,this.$interpolate.startSymbol()).replace(i,this.$interpolate.endSymbol()),u;if(angular.isObject(r))for(u in r)r.hasOwnProperty(u)&&(r[u]=this.$sanitize(r[u]));return this.$interpolate(f)(r)},n}();n.module.service("bracketInterpolation",["$interpolate","$sanitize",r])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){function t(n,t){return{restrict:"A",template:'<span translate="{{text}}"><\/span><span class="error-msg" translate="{{error}}"><\/span>',scope:!0,link:function(i,r,u){var e,h,f,o;if(i.text=u.translateAttrLabelText,e=50,h=1e4,angular.isDefined(r.attr("for"))){t(function(){if(f=document.getElementById(r.attr("for")),r.addClass("placeholder"),!angular.isUndefined(f)&&f!=null){o=angular.element(f);o.on("keyup",function(){s()});i.$watch(function(){return o.val()},function(n,t){n!==t&&s()});n.$on("validationMessageChange",function(n,t){r.attr("for")===t.id&&i.error!==t.message&&(i.error=t.message,i.$apply())});t(function(){return c()})}});function c(){s();!r.hasClass("hide")&&e<h&&t(function(){return c()},e);e=e*2}function s(){o.val()||angular.isObject(f.validity)&&f.validity.badInput?r.addClass("hide"):r.removeClass("hide")}}}}}n.Login.module.directive("labelAlert",["$rootScope","$timeout",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){(function(n){n[n.googleplus=0]="googleplus";n[n.facebook=1]="facebook";n[n.office365=2]="office365";n[n.salesforce=3]="salesforce";n[n.twitter=4]="twitter";n[n.yahoo=5]="yahoo"})(t.SocialAuthProvider||(t.SocialAuthProvider={}));var i=t.SocialAuthProvider;n.module.constant("SocialAuthProviders",[{id:i.googleplus,name:"Google+",imageUri:"/LoginAppNext/images/social auth/google_plus@2x.png"},{id:i.facebook,name:"Facebook",imageUri:"/LoginAppNext/images/social auth/facebook@2x.png"},{id:i.office365,name:"Office 365",imageUri:"/LoginAppNext/images/social auth/office_365@2x.png"},{id:i.salesforce,name:"Salesforce",imageUri:"/LoginAppNext/images/social auth/salesforce@2x.png"},{id:i.twitter,name:"Twitter",imageUri:"/LoginAppNext/images/social auth/twitter@2x.png"},{id:i.yahoo,name:"Yahoo!",imageUri:"/LoginAppNext/images/social auth/yahoo@2x.png"}])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n){this.providerIds=t.SocialAuthProvider;this.provider=n.defaultProvider}return n}();n.module.controller("DefaultSocialAuthProvider",["AvailableSocialAuthProviders",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){function i(n){function i(i){var r;for(var u in t)if(i.validity[u]&&i.attributes[t[u]]){r=i.attributes[t[u]].value;i.setCustomValidity(r);n.$emit("validationMessageChange",{id:i.id,message:r});break}}function r(i){var r=!1;for(var u in t)if(u!=="customError"&&i.validity[u]){r=!0;break}return!r&&angular.isString(i.validationMessage)&&(i.setCustomValidity(""),n.$emit("validationMessageChange",{id:i.id,message:""})),r}return{restrict:"A",scope:!1,link:function(n,t){var u=t[0];if(u.setCustomValidity)t.on("invalid input",function(){r(u)&&i(u)})}}}var t={badInput:"bad-input-message",customError:"custom-error-message",patternMismatch:"pattern-mismatch-message",rangeOverflow:"range-overflow-message",rangeUnderflow:"range-underflow-message",stepMismatch:"step-mismatch-message",tooLong:"too-long-message",tooShort:"too-short-message",typeMismatch:"type-mismatch-message",valueMissing:"value-missing-message"};n.Login.module.directive("customValidationMessage",["$rootScope",i])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t,i){return{restrict:"E",scope:!1,link:function(r){function f(t,r){angular.forEach(n,function(n){n.name===r.name&&angular.isString(n.pageTitle)&&(i.document.title=n.pageTitle)})}var e=r.$root.$on("$stateChangeSuccess",f),u;r.$on("$destroy",e);u=n[t.state];angular.isObject(u)&&angular.isString(u.pageTitle)&&(i.document.title=u.pageTitle)}}}n.module.directive("pageTitle",["loginSupportedStates","fixture","$window",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"ngModel",scope:!1,link:function(t,i,r){var u,f=angular.isObject(n.oauth)&&(u=n.oauth.login_hint)&&angular.isString(u)&&u.length>0,e,o;f||(f=(u=n.login_hint)&&angular.isString(u)&&u.length>0);e=t[r.ngModel];o=angular.isString(e)&&e.length>0;f&&!o&&(t[r.ngModel]=u)}}}n.module.directive("loginHint",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i,r){var u=n.flow_submission_uris[r.flowSubmission];i.attr("action",u)}}}n.module.directive("flowSubmission",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.config(["$stateProvider","loginSupportedStates",function(n,t){n.state(t.username.name,{title:"Please log in to your account",url:t.username.url,views:{auth:{templateUrl:"LoginAppNext/login/username/username.html"},authAlternative:{templateUrl:"LoginAppNext/login/username/authAlternatives.html"},alternative:{templateUrl:"LoginAppNext/login/username/alternatives.html"}}}).state(t.password.name,{title:"Please log in to your account",url:t.password.url,views:{auth:{templateUrl:"LoginAppNext/login/password/password.html"},authAlternative:{templateUrl:"LoginAppNext/login/password/authAlternatives.html"},alternative:{templateUrl:"LoginAppNext/login/password/alternatives.html"}}}).state(t.social.name,{title:"More log in options",url:t.social.url,views:{auth:{templateUrl:"LoginAppNext/login/external/social/additionalProviders.html"},authAlternative:{templateUrl:"LoginAppNext/login/external/social/back.html"}}})}])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.isEnabled=t.ui.allowCancellation&&angular.isString(n.flow_submission_uris.oauth_cancellation)&&n.flow_submission_uris.oauth_cancellation.length>0;this.isEnabled&&(this.uri=i.trustAsUrl(n.flow_submission_uris.oauth_cancellation))}return n}();n.module.controller("Cancellation",["fixture","flavor","$sce",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.factory("passwordStateData",["fixture",function(n){return n.state_data||{}}])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u){this.textFlavor=u;n!=null&&angular.isString(n.username)?(this.username=n.username,this.showSsoProvider=n.can_login_via_sso,this.usernameField=document.getElementById("username")):t.go(i.username.name);this.translator=r}return n.prototype.setUsername=function(n){this.usernameField.value=n},n.prototype.getClientLocale=function(){return this.translator.use()},n}();n.module.controller("Password",["passwordStateData","$state","loginSupportedStates","$translate","textFlavor",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){if(this.show=t.ui.allowPasswordReset,this.show){var u=n.password_reset_uri;r!=null&&angular.isString(r.username)&&(u=u.indexOf("?")>0?u+"&email="+encodeURIComponent(r.username):u+"?email="+encodeURIComponent(r.username));this.uri=i.trustAsUrl(u)}}return n}();n.module.controller("PasswordReset",["fixture","flavor","$sce","passwordStateData",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){var t=function(){function n(n,t){this.showSocialProviders=t.enabledProviders.length>0;this.showJanrainOptions=!this.showSocialProviders&&!n.is_oauth_flow;this.isAvailable=this.showJanrainOptions||this.showSocialProviders;this.hasMultipleSocialProviders=t.enabledProviders.length>1}return n}();n.module.controller("ExternalAuthentication",["fixture","AvailableSocialAuthProviders",t])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){var t=function(){function n(n,t){this.uri=t.trustAsUrl(n.janrain_auth_uri)}return n}();n.module.controller("Janrain",["fixture","$sce",t])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n,i,r){var u=this;this.enabledProviders=[];this.nonDefaultEnabledProviders=[];angular.isObject(i.social_auth)&&angular.isArray(i.social_auth.enabled_providers)&&i.social_auth.enabled_providers.length>0&&(angular.forEach(i.social_auth.enabled_providers,function(i){angular.forEach(n,function(n){if(n.id===t.SocialAuthProvider[i.id]){var f=angular.copy(n);f.submissionUri=r.trustAsResourceUrl(i.submission_uri);u.enabledProviders.push(f)}})}),angular.forEach(this.enabledProviders,function(n){n.id===t.SocialAuthProvider[i.social_auth.default_provider]?u.defaultProvider=n:u.nonDefaultEnabledProviders.push(n)}))}return n}();n.module.service("AvailableSocialAuthProviders",["SocialAuthProviders","fixture","$sce",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.isEnabled=t.ui.showSignUpOptions&&angular.isString(n.flow_submission_uris.sign_up)&&n.flow_submission_uris.sign_up.length>0;this.isEnabled&&(this.uri=i.trustAsUrl(n.flow_submission_uris.sign_up))}return n}();n.module.controller("SignUp",["fixture","flavor","$sce",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Polyfills",[])})(t=n.Polyfills||(n.Polyfills={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){"use strict";var t="placeholder",i="input";n.module.directive("placeholderFallback",["$document",function(n){var r=!angular.isUndefined(n[0].createElement(i)[t]);return{restrict:"A",scope:!1,link:function(n,t){r&&t.addClass("sr-text")}}}])})(t=n.Placeholder||(n.Placeholder={}))})(t=n.Polyfills||(n.Polyfills={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=250,t="/client-errors",i=function(){function i(t,i){this.$http=t;this.$window=i;this.previousError=null;this.dupeErrorCount=0;this.reportDupeErrorTimeout=n}return i.prototype.reportClientScriptError=function(i,r){var h=this,u={name:angular.isString(i.name)?i.name:"Unknown name",exception:"Cause: "+(angular.isString(r)?r:"Unknown cause")},e,o,f,s;angular.isString(i.message)&&(u.name+=" - "+i.message);angular.isString(i.stack)&&(u.exception+="; Stack trace: "+i.stack);e=!0;o=new Date;angular.equals(u,this.previousError)?(this.dupeErrorCount++,f=0,angular.isDefined(this.reportedErrorAt)&&(f=o.valueOf()-this.reportedErrorAt.valueOf()),f<this.reportDupeErrorTimeout?e=!1:(s=this.reportDupeErrorTimeout*2,f>s?(this.reportDupeErrorTimeout=n,this.dupeErrorCount=0):this.reportDupeErrorTimeout=s)):this.reportDupeErrorTimeout=n;e&&(this.previousError=angular.copy(u),this.dupeErrorCount>0&&(u.exception+="; Dupe error count: "+this.dupeErrorCount+", Dupe timespan: "+this.reportDupeErrorTimeout+"ms"),this.$http({method:"POST",url:t,data:angular.toJson(u),headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(){h.reportedErrorAt=o;h.dupeErrorCount=0},function(){}))},i}();angular.module("LoginAppNext.ClientErrorService",[]).service("clientErrorService",["$http","$window",i])})(t=n.ClientErrorService||(n.ClientErrorService={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n,t;(function(n){n[n.login=0]="login";n[n.invite=1]="invite"})(n||(n={}));t=function(){function t(n,t,i,r){this.queryString=n;this.fixture=i;this.challengeService=r;this.alternateTitleLookup={};this.initializeAlternateTitles(t);this.updateTextFlavor()}return t.prototype.getTitle=function(t){var r=n[this.name],i,u;return angular.isDefined(this.alternateTitleLookup[r])&&angular.isDefined(this.alternateTitleLookup[r][t.name])?this.alternateTitleLookup[r][t.name]:(i=t.title,angular.isFunction(t.getAlternativeTitle)&&(u=t.getAlternativeTitle(this.fixture,this.challengeService),i=angular.isString(u)?u:i),i)},t.prototype.initializeAlternateTitles=function(t){var i={};i[t.password.name]="Accept account invite";this.alternateTitleLookup[n.invite]=i},t.prototype.updateTextFlavor=function(){var r=n.login,i=this.queryString.getValueFromCurrentLocation(t.textFlavorQueryStringKey);angular.isString(i)&&angular.isDefined(n[i.toLowerCase()])&&(r=n[i.toLowerCase()]);this.name=n[r]},t.textFlavorQueryStringKey="text_flavor",t}();angular.module("LoginAppNext.TextFlavor",[]).service("textFlavor",["queryString","loginSupportedStates","fixture","challenge",t])})(t=n.TextFlavor||(n.TextFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;angular.isObject(t)&&(this.login_uri=t.login_uri,this.submission_uri=t.submission_uri,this.activation_parameters=t.activation_parameters)}return n}();n.module.service("activationStateService",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){angular.isDefined(t.activation_parameters)&&(n.email=t.activation_parameters.email,n.forename=t.activation_parameters.forename,n.surname=t.activation_parameters.surname,n.token_id=t.activation_parameters.token_id,n.token_secret=t.activation_parameters.token_secret,n.lang=i.use())}return n}();n.module.controller("Activation",["$scope","activationStateService","$translate",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var r,i,u;this.linkStart='<a class="link" href="/">';this.linkEnd="<\/a>";r=n[0];i=r.createElement("a");i.href=t.loginUri;this.rawUri=t.loginUri;u=angular.element(i);u.addClass("link");this.linkStart=i.outerHTML.substr(0,i.outerHTML.length-4)}return n}();n.module.controller("LoginLink",["$document","signup",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.emailAddress=n.emailAddress}return n}();n.module.controller("SignupCompletion",["signupCompletion",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;angular.isObject(t)&&(this.emailAddress=t.emailAddress)}return n}();n.module.service("signupCompletion",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){function i(n){return{restrict:"A",require:"form",scope:!1,link:function(i,r){var u=n.submissionUri;r.attr("action",u);t(r,n.signUpParameters)}}}function t(n,i,r){r===void 0&&(r="");angular.forEach(i,function(i,u){if(angular.isObject(i))t(n,i,r+u+".");else{var f=document.createElement("input");f.type="hidden";f.name=r+u;angular.isUndefined(i)||i==null||(f.value=i);n.append(f)}})}n.Login.module.directive("signupSubmission",["signup",i])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module.config(["$stateProvider","signupSupportedStates",function(n,t){n.state(t.root.name,{url:t.root.url,abstract:!0}).state(t.signup.name,{title:"Create your free DocuSign account",url:t.signup.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/basic-user-information.html"}}}).state(t.externallyManaged.name,{title:"Contact Your Company Administrator",url:t.externallyManaged.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/externally-managed.html"}}}).state(t.complete.name,{title:"Confirm Your Email Address",url:t.complete.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/signup-complete.html"}}}).state(t.activation.name,{title:"Activate your account",url:t.activation.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/activation.html"}}})}])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(){this.unknownCountryCode="ZZ";this.defaultCountryCode="US"}return n.prototype.formatPhoneNumber=function(n){if(!this.hasPhoneUtils())return n.CountryCode?n.CountryCode+" "+n.PhoneNumber:n.PhoneNumber;var t=this.utils.getRegionCodeForCountryCode(n.CountryCode);return angular.isString(t)&&t!==this.unknownCountryCode?this.formatNumber(n.PhoneNumber,t):this.formatNumber(n.PhoneNumber,this.defaultCountryCode)},n.prototype.formatNumber=function(n,t){if(this.hasPhoneUtils())try{var i=this.utils.parseAndKeepRawInput(n,t);n=this.utils.format(i,libphonenumber.PhoneNumberFormat.NATIONAL)}catch(r){}return n},n.prototype.hasPhoneUtils=function(){var n=!1;return angular.isObject(this.utils)?n=!0:angular.isObject(window.libphonenumber)&&(this.i18nPhoneService=window.libphonenumber,this.utils=this.i18nPhoneService.PhoneNumberUtil.getInstance(),n=!0),n},n}();angular.module("LoginAppNext.PhoneNumber",[]).service("phoneNumber",[n])})(t=n.PhoneNumber||(n.PhoneNumber={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.module=angular.module("LoginAppNext.Security",["LoginAppNext.Fixture"])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;n.module.constant("xsrfToken",{getElement:function(){return angular.isUndefined(t)&&(t=xsrfFormTokenElement,xsrfFormTokenElement=null),angular.element(t)}})})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i){i.append(n.getElement())}}}n.module.directive("antiForgerySecured",["xsrfToken",t])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",require:"form",scope:!1,link:function(i,r){if(angular.isString(n.state)&&r.append('<input type="hidden" name="requestState" value="'+n.state+'" />'),angular.isString(n.submissionUri)){var u=t.trustAsUrl(n.submissionUri);r.attr("action",angular.isString(u)?u:u.toString())}angular.isString(n.name)&&r.append('<input type="hidden" name="challengeAction" value="'+n.name+'" />')}}}n.module.directive("challengeResponse",["challenge","$sce",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i){if(angular.isDefined(n.oauth)){var r=angular.element('<input type="hidden" name="RelayState" />');r.val(angular.toJson(n.oauth,!1));i.append(r)}}}}n.module.directive("oauthFlow",["fixture",t])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n){this.ids=t.SocialAuthProvider;this.enabled=[];this.nonDefaultEnabled=[];this.enabled=n.enabledProviders;this.nonDefaultEnabled=n.nonDefaultEnabledProviders;this.defaultEnabled=n.defaultProvider}return n}();n.module.controller("SocialAuthProviders",["AvailableSocialAuthProviders",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.ui=n.ui}return n}();n.module.controller("UiFlavor",["flavor",t])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={}))